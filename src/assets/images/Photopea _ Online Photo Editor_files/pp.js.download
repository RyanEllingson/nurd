(function(){function b_(){this.IA={};this.fU={}}b_.nj=[];b_.VP=function(b){var X=b_.nj;if(X.length!=0){var q=new Q(K.E.Wh);
for(var N=0;N<X.length;N++)X[N].X(q)}window.requestAnimationFrame(b_.VP)};window.requestAnimationFrame(b_.VP);
b_.prototype.VM=function(b){var X=this.IA[b];if(X==null)return!1;return X.length>0};b_.prototype.addEventListener=function(b,X){this.l(b,X,null)};
b_.prototype.l=function(b,X,q){if(this.IA[b]==null){this.IA[b]=[];this.fU[b]=[]}this.IA[b].push(X);this.fU[b].push(q);
if(b==K.E.Wh){var N=b_.nj;if(N.indexOf(this)==-1)N.push(this)}};b_.prototype.removeEventListener=function(b,X){var q=this.IA[b];
if(q==null)return;var N=q.indexOf(X);if(N<0)return;var J=this.fU[b];q.splice(N,1);J.splice(N,1);if(b==K.E.Wh&&q.length==0){var _=b_.nj;
_.splice(_.indexOf(this),1)}};b_.prototype.X=function(b){b.currentTarget=this;if(b.target==null)b.target=this;
var X=this.IA[b.type];if(X==null)return;var q=this.fU[b.type];for(var N=0;N<X.length;N++){if(q[N]==null)X[N](b);
else X[N].call(q[N],b)}};function ns(){b_.call(this);this.tu={};this.La={};this.xYe=0;this.xLp={};this.xAm=0;
ns.dv=this}ns.prototype=new b_;ns.xUl=function(b,X){var q=0,N=ns.my;while(q<N.length){if((X>>>q&1)==1)break;
q++}if(X==0||N[q][1]==""){if((X&15)!=0&&ns.VR(b,[33,126])>.7)q=0;else if(X==0)q=0;else{q=0}}return N[q][1]};
ns.nD=120;ns.mo=20;ns.cols=16;ns.HS=function(b){var X=b.name.postScriptName;if(X==null)return null;return X.replace(/ /g,"-")};
ns.Vi=function(b){var X=b.name,q=X.typoFamilyName?X.typoFamilyName:X.fontFamily,N=X.typoSubfamilyName?X.typoSubfamilyName:X.fontSubfamily,J=ns.xbk,_=q.toLowerCase();
for(var p=0;p<J.length;p++){if(J[p]=="roman")continue;if(_.endsWith(" "+J[p])||_.endsWith("-"+J[p])){var z=q.length-J[p].length,g=q.slice(z);
q=q.slice(0,z-1);if(g!=""){if(N=="Regular"||N==q+" Regular")N=g;else N=g+" "+N}break}}var W="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway".split(",");
for(var p=0;p<W.length;p++)if(q.startsWith(W[p])){var g=q.slice(W[p].length);q=W[p];if(g.startsWith(" ")||g.startsWith("-"))g=g.slice(1);
if(g!=""){if(N=="Regular")N=g;else N=g+" "+N}break}var o={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},y=o[ns.HS(b)];
if(y)N=y;return[q,N]};ns.prototype.lK=function(b,X){if(this.tu[b])return this.tu[b];if(this.La[b])return null;
var q=null,N=this.ad();if(N[b]!=null)q=N[b][5];if(q==null){var J=ns.x_S[b];if(J==null){var _="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),p=b.toLowerCase(),z=0;
if(p.indexOf("sans")!=-1)z=0;else if(p.indexOf("serif")!=-1)z=4;var g=p.indexOf("bold")!=-1||p.indexOf("-black")!=-1,W=p.indexOf("italic")!=-1||p.indexOf("oblique")!=-1||p.endsWith("-it");
if(g&&W)z+=3;else if(W)z+=2;else if(g)z+=1;J=_[z]}if(X!=null&&X>128)J=this.Vv(X,J);if(this.xLp[b]==null){this.xLp[b]=1;
var o=Date.now()-this.xYe>2e3?2e3:0;this.xYe=Date.now();alert(b+" \u27A1 "+J,o)}return this.lK(J,X)}this.La[b]="a";
var y=new Q(K.E.T,!0);y.data={V:K.a.Gx,Zy:{url:"rsrc/fonts/"+q}};this.X(y)};ns.prototype.Vv=function(b,X,q){var N=this.tu[X];
if(N&&Typr.U.codeToGlyph(N,b)!=0)return X;var J=this.ad(),_=ns.xUL(b),p=_[0];if(J[X]&&(J[X][3]&p)==0){if(q)for(var z=0;
z<q.length;z++){var g=q[z].Name,W=J[g];if(W&&(W[3]&p)!=0)return g}var g=ns.my[_[1]][4];if(J[g])return g}return X};
ns.xUL=function(b){var X=ns.my,q=[0];for(var N=0;N<X.length;N++){var J=X[N][2];for(var _=0;_<J.length;
_+=2)if(J[_]<=b&&b<=J[_+1]){q[0]+=1<<N;q.push(N)}}if(q.length==1)q.push(0);return q};ns.prototype.xna=function(b,X){if(X!=!0){var q=Date.now()-this.xAm>2e3?2e3:0;
this.xAm=Date.now();alert(xA.get([22,6,0])+" "+b.name.fullName+" "+xA.get([23,0])+".",q)}var N=ns.HS(b),J=this.ad(),_=J[N],p=ns.xnI(b);
if(_==null){var z=document.createElement("canvas"),g=z.getContext("2d");z.width=ns.nD;z.height=ns.mo;
var W=ns.mo*1.2/b.head.unitsPerEm;g.translate(4,ns.mo*.9);g.scale(W,-W);g.fillStyle="#000000";var o=Typr.U.shape(b,ns.xUl(b,p[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(b,o),g);g.fill();p.xgr=z.toDataURL();this.VF(p)}delete this.La[N];
this.tu[N]=b};ns.xKK=function(){var b=ns.my,X=[];for(var q=0;q<b.length;q++)X.push(b[q][0]);return X};
ns.my=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","",[1040,1119],.7,"DejaVuSans"],["Hebrew","",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","\uC608\uACE0\uD3B8",[4352,4607,44032,55203],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","\u9810\u7FD2",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","\u0F50\u0F74\u0F42\u0F66\u0F0B\u0F62\u0F97\u0F7A\u0F0B\u0F46\u0F7A\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","\u092A\u0942\u0930\u094D\u0935\u093E\u0935\u0932\u094B\u0915\u0928",[2304,2431],.7,"Hind-Regular"],["Thai","\u0E20\u0E32\u0E1E\u0E15\u0E31\u0E27\u0E2D\u0E22\u0E48\u0E32\u0E07",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","\u1798\u17BE\u179B\u1787\u17B6\u1798\u17BB\u1793",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem tr\u01B0\u1EDBc",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"]];
ns.xnI=function(b,X,q){var N=b.name,W=0;if(ns.HS(b)==null){console.log(b);throw"No postScriptName!"}var J=ns.my,_=[];
for(var p=0;p<J.length;p++){var z=J[p][2],g=J[p][3];_[p]=ns.VR(b,z)>g?1:0}for(var p=0;p<_.length;p++)W+=_[p]<<p;
var o=ns.Vi(b);return[o[0],o[1],ns.HS(b),W,q,X]};ns.VR=function(b,X){var q=0,N=0;for(var J=0;J<X.length;
J+=2){for(var _=X[J];_<=X[J+1];_++){var p=Typr.U.codeToGlyph(b,_);if(p==0)N++;else q++}}return q/(q+N)};
ns.xKB=function(b,X){if(b[2]<X[2])return-1;if(b[2]>X[2])return 1;return 0};ns.xKE=function(b,X){if(b[5]=="fs/"+b[2]+".otf")b[5]="";
else if(b[5]=="gf/"+b[2]+".otf")b[5]="a";if(b[2]==(b[0]+"-"+b[1]).replace(/\s/g,"")){b[2]=""}else if(b[2]==b[0].replace(/\s/g,"")){b[2]="a"}if(X){if(b[0]==X[0])b[0]="";
if(b[1]==X[1])b[1]="";if(b[3]==X[3])b[3]="";if(b[4]==X[4])b[4]=""}return b.join(",")};ns.xnT=function(b,X){b=b.split(",");
if(b[0]=="")b[0]=X[0];if(b[1]=="")b[1]=X[1];if(b[3]=="")b[3]=X[3];else b[3]=parseInt(b[3]);if(b[4]=="")b[4]=X[4];
else b[4]=parseInt(b[4]);if(b[2]=="")b[2]=(b[0]+"-"+b[1]).replace(/\s/g,"");else if(b[2]=="a")b[2]=b[0].replace(/\s/g,"");
if(b[5]=="")b[5]="fs/"+b[2]+".otf";else if(b[5]=="a")b[5]="gf/"+b[2]+".otf";return b};ns.x_S={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"LiberationMono","CourierNewPS-BoldMT":"LiberationMono-Bold","CourierNewPS-ItalicMT":"LiberationMono-Italic","CourierNewPS-BoldItalicMT":"LiberationMono-BoldItalic",Courier:"CourierPrime",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold","Helvetica-Bold":"LiberationSans-Bold","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"SFProText-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic","":""};
ns.prototype.ad=function(){if(FNTS.map==null){var b=FNTS.list,X=[];for(var q=0;q<b.length;q++){X[q]=ns.xnT(b[q],X[q-1]);
X[q].aP=q;this.VF(X[q])}}return FNTS.map};ns.prototype.VF=function(b){var X=b[0],q=b[1],N=b[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[b[2]]=b;if(FNTS.mapFS==null)FNTS.mapFS={};var J=FNTS.mapFS[X+"---"+q];FNTS.mapFS[X+"---"+q]=b;
if(FNTS.mapSub==null)FNTS.mapSub={};var _=FNTS.mapSub[X];if(_==null)_=FNTS.mapSub[X]=[];var p=_.indexOf(q);
if(p==-1)_.push(q);else _[p]=q};ns.x_P=function(b,X){return ns.lS(b)-ns.lS(X)};ns.lS=function(b){b=b.toLowerCase();
var X=ns.xbN(b)+(ns.xKY(b)<<1);if(b.indexOf("cond")==-1)X+=1<<25;return X};ns.xbN=function(b){return b.indexOf("italic")!=-1||b.indexOf("oblique")!=-1?1:0};
ns.xbk="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
ns.xKW=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold"],"bold","extrabold","heavy","ultra","black","x black"];
ns.xKY=function(b){var X=ns.xKW,q=-1,N=-1;for(var J=0;J<X.length;J++){var _=X[J];if(_ instanceof Array)for(var p=0;
p<_.length;p++){var z=_[p];if(b.indexOf(z)!=-1&&(q==-1||N<z.length)){q=J;N=z.length}}else if(b.indexOf(_)!=-1&&(q==-1||N<_.length)){q=J;
N=_.length}}if(q==-1)q=8;return q};ns.Vd=function(b,X){var q=1e9,N=null,J=ns.lS(X);for(var _=0;_<b.length;
_++){var p=Math.abs(ns.lS(b[_])-J);if(p<q){q=p;N=b[_]}}return N};ns.prototype.nG=function(b,X){this.ad();
return FNTS.mapFS[b+"---"+X]};ns.prototype.Vl=function(b){this.ad();return FNTS.mapSub[b]};ns.prototype.xKk=function(){this.ad();
return FNTS.mapSub};var nd={sg:0,Hr:null,kA:null,VW:null,Vu:null,nm:null,VL:!0,Vz:0,nk:!1},_a=0;nd.HN=function(){return nd.tF()!=null&&nd.tF()[K.eB("!&|'&50")]*200>Date.now()/5};
nd.To=function(){return nd.xrn()!=null};nd.tF=function(){return nd.nm};nd.SF=function(b){window.addEventListener("message",nd.xSs,!1);
setInterval(nd.VX,5e3);if(nd.To()){nd.Hr=b;nd.lB()}else setTimeout(b,1)};nd.VX=function(){if(nd.To()&&nd.nk){nd.VN(nd._K());
nd.nk=!1}};nd.n$=function(b){nd.Hr=b;var X="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);
nd.VW=window.open(X,"_blank")};nd.xSr=function(){localStorage.removeItem(nd.sg+"_uid");localStorage.removeItem(nd.sg+"_provider");
localStorage.removeItem(nd.sg+"_token");nd.nm=null};nd.xSs=function(b){if(b.data instanceof ArrayBuffer||b.data instanceof Object)return;
if(b.data.charAt(0)!="{")return;var X=JSON.parse(b.data);if(X.prms==null)return;var q=X.prms.split(",");
if(q[0]=="papi_logged_in"){localStorage[nd.sg+"_uid"]=q[1];nd.lr(q[2]);localStorage[nd.sg+"_provider"]=q[3];
nd.VW.close();nd.lB()}if(q[0]=="payment_complete"){nd.Vu.close();nd.lB()}};nd.xrn=function(){var b=localStorage[nd.sg+"_token"];
if(b!=null&&Date.now()*.001+10<parseInt(b.split("-")[0]))return b;return null};nd.lr=function(b){var X=localStorage[nd.sg+"_token"];
if(X!=null&&parseInt(b.split("-")[0])<parseInt(X.split("-")[0]))return;localStorage[nd.sg+"_token"]=b;
clearTimeout(nd.Vz);nd.Vz=setTimeout(nd.xrd,Math.min(1e9,parseInt(b.split("-")[0])*1e3-Date.now()-20*1e3))};
nd.xrd=function(){var b=new XMLHttpRequest;b.open("POST","https://www.photopea.com/papi/record_new.php",!0);
b.onload=nd.xrX;var X=nd.ny()+"&read=2";b.setRequestHeader("Content-type","application/x-www-form-urlencoded");
b.send(X)};nd.lB=function(){var b=new XMLHttpRequest;b.open("POST","https://www.photopea.com/papi/record_new.php",!0);
b.onload=nd.xrl;var X=nd.ny()+"&read=1";b.setRequestHeader("Content-type","application/x-www-form-urlencoded");
b.send(X)};nd.VN=function(b){var X=new XMLHttpRequest;X.open("POST","https://www.photopea.com/papi/record_new.php",!0);
X.onload=nd.xhJ;var q=nd.ny()+"&read=0&score=0&spublic="+nd.VL+"&record="+encodeURIComponent(JSON.stringify(b));
X.setRequestHeader("Content-type","application/x-www-form-urlencoded");X.send(q)};nd.xrl=function(b){var X=JSON.parse(b.target.response);
if(X.error){}else{nd.nm=X.user;var q=nd._K(),N=X.record;if(X.record){nd.VL=X.spublic;nd.Vc(N)}else if(q)nd.VN(q)}nd.lr(X.token);
if(nd.Hr){nd.Hr();nd.Hr=null}if(nd.kA){nd.kA();nd.kA=null}};nd.xrX=function(b){var X=JSON.parse(b.target.response);
nd.lr(X.token)};nd.xhJ=function(b){var X=JSON.parse(b.target.response);nd.lr(X.token);if(nd.kA)nd.lB()};
nd.ny=function(){return"app="+nd.sg+"&uid="+localStorage[nd.sg+"_uid"]+"&token="+localStorage[nd.sg+"_token"]};
nd.HB=function(){return nd._K()};nd._n=function(b,X){nd.Vc(b);nd.nk=!0;if(X){nd.kA=X;nd.VX()}};nd._K=function(){var b=localStorage[nd.sg+"_stateLocal"],X;
if(b==null)return null;try{X=JSON.parse(b)}catch(gi){return null}return X};nd.Vc=function(b){var X=JSON.stringify(b);
localStorage[nd.sg+"_stateLocal"]=X};nd.order=function(b,X,q){nd.Hr=q;var N="https://www.photopea.com/papi/order.php?ptype="+X+"&param="+b+"&uid="+localStorage[nd.sg+"_uid"]+"&token="+localStorage[nd.sg+"_token"];
nd.Vu=window.open(N,"_blank")};var xA={};xA.lh=0;xA._P={};xA.Vf=function(b){var X=LNG.tables,q=X[b];
if(typeof q=="string"){q=X[b]=xA.ts(q)}return q};xA.ts=function(b){var X=[],q=0,N=0,J=[],_=b.length;
while(N!=_){var p=b[N];if(p=="["){X.push(J);J=[];N=q=N+1}else if(p=="]"){J.push(q==N?null:b.substring(q,N));
var z=J;J=X.pop();J.push(z);N=q=N+1}else if(p==";"){if(b[N-1]!="]")J.push(q==N?null:b.substring(q,N));
N=q=N+1}else N++}return J};xA.get=function(b){if(typeof b=="string")return b;var X=JSON.stringify(b),_=0;
if(xA._P[X]!=null)return xA._P[X];var q=xA.Vf(0),N=xA.Vf(xA.lh),J=xA.Vm(b,N);if(J==null)J=xA.Vm(b,q);
for(var p=0;p<b.length;p++){var z=b[p];if(typeof z!="number"){var g=xA.get(z),W=J.indexOf("VAR"+_);J=J.slice(0,W)+g+J.slice(W+4);
_++}}return J};xA.Vm=function(b,X){for(var q=0;q<b.length;q++){X=X[b[q]];if(X==null)return null;else if(typeof X=="string")break}return X.split("::")[0]};
xA.xhZ=function(){var b=function(q,N){var J=q.code,_=N.code;if(J=="en")return-1;if(_=="en")return 1;
var p=navigator.languages,z=p.indexOf(J)!=-1,g=p.indexOf(_)!=-1;if(z&&g)return J>_?1:-1;if(z)return-1;
if(g)return 1;return J>_?1:-1},X=LNG.langs.slice(0);X.sort(b);return X};xA.xHR=function(b){xA.lh=b};
xA._C=function(b){for(var X=0;X<LNG.langs.length;X++)if(LNG.langs[X].code==b)xA.lh=X};xA.Vk=function(){return LNG.langs[xA.lh].code};
xA.xEA=function(b){for(var X=0;X<b.length;X+=2)xA._P[JSON.stringify(b[X])]=b[X+1]};xA.VV=function(b){var X=-1,q=LNG.langs;
for(var N=0;N<q.length;N++)if(q[N].code==b)X=N;return X};var go={kh:!1};go.la=function(){return K.TX[K.QE("vrt",2)]!=K.TX[K.QE("xksn",5)]};
go._W=function(){var b=K.eB,X=K.TX[b("u#z/*%1:")],q=X[b("s#{3")],N=b("t&|{1%h2.94@I"),J=b("xy+_)%0+7@qK~<"),_=b("r$'\x7F+$f.283"),p=b("#y$)3%f.283"),z=0,g=b("$y+[145/+AC7"),W=b("rx*\x7F+3("),o=K.GC("Y_5UDDB>&\x7F");
if(K.TX[o]!=!0){z=1}var y=X[N](b("u}-"));y[g](b("zx"),W);y[g](b("$(0&\""),b("(}{.%ZXVY<GmU@@GHL[$\" #fq7"));
q[_](y);y=X[J](W);if(y==null){z=2}else{if(!q[b("t#%.~)19")](y)){z=3}else if(Math.round(y[b("xy+\\,51*2:6uAA@LU6LMa")]()[b("(}{.%")]-500)>5){z=4}q[p](y)}return z};
go.xEH=function(){var b=K.TX[K.eB("t#% &20")],X=K.TX[K.eB("$y+n&-(5>@")],q="FQi[VE];;J6@?18',!'*3$|*niu~hgcWhlOUU`LOIT53A-11/)~$'>-cvys~_]k[RQiYHEJMWH@N--E$++|!|~t*hht,{HaWP_NrcLBNWIDN>049?5(+3qq}3$pp{ZjkoMi6UEJCLAQ/.+47-09>Tspy|ru~(xAaVl2Tcm]|LMZ\\",N=String.fromCharCode(32);
b(K.GC(q)+N+N+go._W());if(!nd.HN())X(go.xEH,Math.round(Math.PI*1e4))};go.xEa=function(b,X,q,N,J){K.Jx(q);
var _=K.eB,p=_("r$'\x7F+$f.283"),z=_("$y+[145/+AC7"),g=_("rx{_3%1:u5BF:F@P"),W=_("#y'&~#("),o=_("$(0&\""),y=_("$&z"),D=_("r'0( "),m=_("%y/.`/1:.:C"),k=_("u}-"),O=K.TX[_("u#z/*%1:")],L=_("t&|{1%h2.94@I"),I=_("$w)#-4"),H=O[L](_("z!~")),Y="lor<%03.62D4=f?LFrX`aY{]okcwoxz7;54;&14/73E5>gAIVVUMhy{\\dt.kw~:qwC*%/759105DEmrtu~pu+rs\"7!.'lt%>{(/J\"(S:5?GEIA@ETU}#%&/{Z,^(p{~y\"}0 )R+82^DLMEgI[WOc[df#'! 'q| z#~1!*S-5BBA9TegHP`yWcj&]c/upz#!%|{!01Y^`ai\\av^_m#lyrX`p*gsz6ms?&!+315-,1@AinpqygFwJs\\gjemi{kt>v$}J0891S5GC;OGPRnrlkr]hkfnj|lu?x!..-%@QS4<LeCOVqIOza\\fnlphgl{|EJNPTHMbJKYnXe^DL\\uS_f\"Y_+qlv~|!xw|,-UZ^`dS2c6_HSVQYUgW`*boi6{$%|?!3/';3<>Z^XW^ITWRZVhXa+dlyyxp,=? (8Q/;B]5;fMHRZX\\TSXgh16:<A49N67EZDQJ08Ha?KRmEKv]XbjhldchwxAFJLQ?}O\"K4?B=EASCLuN[U\"goph+l~zr'~(*FJDCJ5@C>FBTDMvPXeed\\w)+ks$=z'.I!'R94>FDH@?DST|\"&). %:\"#1F0=6{$4M+7>Y17bIDNVTXPOTcd-269>+i;m7 +.)1-?/8a:GAmS[\\TvXjf^rjsu260/6!,/*2.@09b<DQQPHctvW_o)fry5lr>% *204,+0?@hmrorkp&mn|2{)\"go 9v#*E|#N50:B@D<;@OPx}# #vU'Y#kvyt|x+z$M&3-Y?GH@bDVRJ^V_a}\"{z\"lwzu}y,{%N(0==<4O`bCK[tR^e!X^*pku}{ wv{+,TY^[_W\\qYZh}gtmS[k%bnu1hn:!{&.,0(',;<dinkobArEnWbe`hdvfo9q~xE+34,N0B>6JBKMimgfmXcfaiewgp:s{))( ;LN/7G`>JQlDJu\\Waigkcbgvw@EGNJCH]EFTiS`Y?GWpNZa|TZ&lgqyw{srw'(PUW^ZN-0aZjmFXP\"Yj+**5k7h7o{\"+|\"113<X<6HeJRBOO\\TTdh'kfpxvzrqv&'J-,4V6BS`YCRUTZ${~jmp*fqtows&u~.#3:0-2C`9HImVFOyXd#^jq.my+81)v+;&14/73E5>Yy_JUXS[WiYb}}!'&+K3}),'/+=-6_8E?]}cNY\\W_[m]f0huo..17uz[C=+?OC=,HNVw|~ ( gaPlrz<ACDMD,&t17?`egnjw_JUXS[WiYb,dqk8}&'~A#51)=5>@\\`ZY`TN=Y_g).01:%E+u!$~'#5%.W159?GA2NT\\rt ,'328768:AqVFNSUV_Xb0D?IQOSKJyRabWogfv8190nIKLKBE][,]T^?GWpNZa|TZ&lgqyw{srw'(PUWXaSX`7=@2GW^TQV{^ilgok}mv@&.} &8OSVkS>ILGOK]MV em]_ew/3;t|*z~,(n75C;6D'MBHnr(or]hkfnj|lu?y&{ -)y/?F<9>Ofj es)Xcfaiewgp:r yF,45-O1C?7KCLNjnhgnb\\Kgmu7<>?G3S9$/2-51C3<e?CGMUO@\\bj!#.:5A@FEDFHO dT\\acdlfm>RMW_]aYX(`ope}ut%F?G>|U]ZYPifi:kblMUe~\\ho+bh4zu (&*\"!&56^cefnafnEKN@Uelb_d*lwzu}y,{%N4<,.4F]adyaLWZU]Yk[d.s{kms&=AI#+8)-:6|ECQIDR5[PV|!6}!kvyt|x+z$M(4*.;7(=MTJGL]tx.s\"7fqtows&u~H!.(T:BC;]?QMEYQZ\\x|vu|pjYu{$EJLSOAaG2=@;C?QAJsMQU[c]Njpx/1<HCONTSRTV].rbjoqxtt|L`[emkogf6n}~s,$#3TMUL+igpg^a}wHypz[cs-jv}9pvB)$.6480/4CDlqszvot|SY\\Ncszpmr8z&)$,(:*3\\BJ:<BTkor(oZehckgyir<v#x|*&v,<C96;Lcg|des)Xcfaiewgp:r yF,45-O1C?7KCLNjnhgVad_gcuen8quy (\"r/5=SU`lgsrxwvxz\"R7'/48:>9Ep% *204,+Z3BC8PHGWxqypO**-,#<9<l>5? (8Q/;B]5;fMHRZX\\TSXgh16:<@49Aw}!r(8?527\\?JMHPL^NW!fn^`fx047L{'*%-);+4]7;?EMG8TZbxz&2-98>=<>@Gw\\LTY]_d^g6JEOWUYQP Xgh]uml|>7?6tOORQH]ca2cZdEM]vT`g#Z`,rmw }\"yx}-.V[_afY^f=CF8M]dZW\\\"dormuq$s|F,4$&,>UY\\qALOJRN`PY#\\`djrl]y (>@KWR^]cbacel=\"qy~#&+$-[ojt|z~vuE}-.#;32Bc\\d[:ttwvm#)'W) *jr#<y&-H &Q83=ECG?>CRS{!%(-~$,bhk]r#* |\"G*583;7I9BkQYIKQcz~\"7fqtows&u~H\"&*082#?EMcep|w$#)(')+2bG7?DIFIIR!50:B@D<;jCRSH`XWg)\"*!_::=<3HNL|NEO08Ha?KRmEKv]XbjhldchwxAFKHKDIQ(.1#8HOEBGlOZ]X`\\n^g1v~npv)@DG\\,7:5=9K;DmGKOU]WHdjr)+6B=IHNMLNPW(l\\dinkonwFZU_geia`0hwxm&}|-NGOF%__baXmsqBsjtU]m'dpw3jp<#}(0.2*).=>fkpmqinvMSVH]mtjgl2t #}&\"4$-V<D46<Neil\"Q\\_Zb^p`i3myos!|m#3:0-2CZ^s[^abp&oN";
H[z](o,_("t))-,2]685=F:Jv"));H[g](_("t  }("),N,!1);var n=K.Gd(" u.$%\"86<"),w=K.Gd("!#c$,&"),t=K.TX[n][w];
if(!go.la()&&!go._W()&&t){var j=K.TX[_("[gfh")][_("!u)-\"")](K.Gd(Y)),u=!1;if(!go.kh){go.kh=!0;var E=O[_("xy+_)%0+7@BtN,<E/ETO")](_("yyx~"))[0],h=O[L](I);
h[z](y,j[1]);E[p](h);var h=O[L](I);h[z](D,D);h[z](y,j[2]);E[p](h);var h=O[L](I);h[m]=j[3];E[p](h)}var Z=j[0],A=[Z[J]],P=Z[5];
if(J==2){A=[Z[3],Z[4]];if(X>=3*260+20)A=[Z[3],Z[4],Z[5]];if(X>=4*260+20)A=[Z[3],Z[4],Z[5],Z[6]]}for(var T=0;
T<A.length;T++){var U=A[T],r=O[L](k);r[z](_("zx"),U[1]);r[z](o,_("~u)!&.P(8@CABrlnQ\\"));q[p](r);var h=O[L](I);
h[m]=U[0];r[p](h)}if(J!=0){var i=O[L](k);i[z](o,_("~u)!&.]]9DOb"));i[z](_("zx"),_("$$&(0/59"));q[p](i)}if(u){var r=O[L](k);
r[z](_("zx"),P[1]);r[z](o,_("yy !%4]_Y<Gm"));var h=O[L](I);h[m]=P[0];return[r,h,p]}}else{H[z](y,_("z!~I-0\":*8;`EFB"));
q[p](H)}};var _s={td:0,ll:{expires_at:0},_N:[]};_s.kF=function(b){if(b)_s._N.splice(0,0,b);if(_s.td==1)return;
if(_s.ll.expires_at>Date.now()*.001+30){while(_s._N.length>0)_s._N.pop()()}else{if(_s.td==0)_s.td=1;
gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:_s.td==2?!1:!0},_s.xEP)}};
_s.xEP=function(b){if(b&&!b.error){_s.ll=b;_s.td=!1;_s.kF()}else if(_s.td==1){_s.td=2;_s.kF()}else alert("Error: "+b.error)};
_s._s=function(){return"access_token="+_s.ll.access_token+"&token_type="+_s.ll.token_type};function nr(){}nr.Vs={xwX:["PNG","JPG","SVG","GIF","PDF"],xap:"EMF WEBP BMP PPM TIFF ICO DDS TGA RAW".split(" ")};
nr.xw=function(b){if(!(b instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var X=new Uint8Array(b),q=nr.Vy,N,J=0;
while(J<X.length&&(X[J]==9||X[J]==10||X[J]==13||X[J]==32))J++;if(q(X,[56,66,80,83]))N="psd";if(q(X,[120,218,236]))N="pxd";
if(q(X,[120,156,220]))N="pxd";if(q(X,[103,105,109,112,32,120,99,102,32]))N="xcf";if(q(X,[102,105,103,45,107,105,119,105]))N="fig";
if(q(X,[137,80,78,71,13,10,26,10]))N="png";if(q(X,[87,76]))N="cdr";if(q(X,[82,73,70,70])){var _=bI.UU(X),p=_.DC;
if(p=="WEBP")N="webp";else if(p.slice(0,3)=="CDR")N="cdr";else N=p}if(q(X,[70,79,82,77])||q(X,[76,73,83,84])||q(X,[67,65,84,32])){var _=gU.UU(X),p=_.DC;
if(p=="ILBM")N="ilbm";else N=p}if(q(X,[255,216,255]))N="jpg";if(q(X,[0,0,0,12,106,80,32,32]))N="jpg";
if(q(X,[48,0,1,0],4))N="jpg";if(q(X,[71,73,70,56]))N="gif";if(q(X,[0,0,0,2,121,102,113,76]))N="msh";
if(q(X,[0,0,0,3,121,102,113,76]))N="msh";if(q(X,[0,0,0,16]))N="atn";if(q(X,[0,1]))N="aco";if(q(X,[0,2]))N="aco";
if([0,1].indexOf(X[1])!=-1&&[1,2,3,9,10,11].indexOf(X[2])!=-1&&[0,16,24,32].indexOf(X[7])!=-1)N="tga";
if(q(X,[0,2,56,66,83,76]))N="asl";if(q(X,[0,1,0,-1,0,2,0]))N="abr";if(q(X,[0,2,0,-1,0,2,0]))N="abr";
if(q(X,[0,6,0,1]))N="abr";if(q(X,[0,6,0,2]))N="abr";if(q(X,[0,7,0,2]))N="abr";if(q(X,[0,9,0,2]))N="abr";
if(q(X,[0,10,0,2]))N="abr";if(q(X,[56,66,70,83]))N="shc";if(q(X,[56,66,80,84]))N="pat";if(q(X,[56,66,71,82]))N="grd";
if(q(X,[56,66,84,80]))N="tpl";if(q(X,[0,4,0,5]))N="acv";if(q(X,[99,117,115,104]))N="csh";if(q(X,[0,1,0,0,0]))N="otf";
if(q(X,[79,84,84,79]))N="otf";if(q(X,[116,116,99,102]))N="otf";if(q(X,[68,68,83,32]))N="dds";if(q(X,[80,86,82,3]))N="pvr";
if(q(X,[0,0,1,0]))N="ico";if(q(X,[66,77]))N="bmp";if(q(X,[80,49]))N="ppm";if(q(X,[80,50]))N="ppm";if(q(X,[80,51]))N="ppm";
if(q(X,[80,52]))N="ppm";if(q(X,[80,53]))N="ppm";if(q(X,[80,54]))N="ppm";if(q(X,[73,73,42,0]))N="tiff";
if(q(X,[77,77,0,42]))N="tiff";if(q(X,[70,85,74,73,70,73,76,77]))N="raf";if(q(X,[112]))N="lif";if(q(X,[73,73,26,0]))N="ciff";
if(q(X,[83,81,76,105]))N="sketch";if(q(X,[80,75])){var z=UZIP.parse(b,!0);if(z["document.json"])N="sketch";
else if(z.manifest)N="xd";else N="zip"}if(q(X,[123]))N="json";if(e.o(X,0)==X.length)N="icc";if(q(X,[35]))N="icc";
if(q(X,[84,73,84,76]))N="icc";if(q(X,[60,63,120,109],J)){if(e.Bs(X,"<look>")!=-1)N="icc";else N="svg"}if(q(X,[60,115,118,103],J))N="svg";
if(q(X,[60,33,100,111],J))N="html";if(q(X,[60,33,68,79],J))N="html";if(q(X,[37,33])||q(X,[197,208,211,198])){N="eps"}if(q(X,[37,80,68,70],J))N="pdf";
if(q(X,[215,205,198,154]))N="wmf";if(q(X,[1,0,0,0]))N="emf";if(q(X,[239,187,191]))N="jsx";if(q(X,[10,10,10,10]))N="jsx";
if(N==null&&x.raw.rN(X.length)!=null)return"tiff";return N};nr.Vy=function(b,X,q){if(q==null)q=0;for(var N=0;
N<X.length;N++)if(X[N]!=-1&&b[q+N]!=X[N])return!1;return!0};nr.aC=function(b){return nr[b.toUpperCase()]};
nr.tZ=function(b){var X=nr.Vs.xwX,q=nr.Vs.xap,N,J=[];if(b==null)N=X.concat(q);else N=b==0?X:q;for(var b=0;
b<N.length;b++)if(nr[N[b]].Da)J.push(N[b]);return J};nr._$=function(b,X,q,N,J){var _=nr.kQ(b,X,q,N,J),p=nr.Ve(_);
return p.buffer};nr.Ve=function(b){var X=atob(b.split(",").pop()),q=new Uint8Array(X.length);for(var N=0;
N<X.length;N++)q[N]=X.charCodeAt(N);return q};nr.kQ=function(b,X,q,N,J,_){if(!(b instanceof ArrayBuffer))throw"e";
if(N==null)N="png";if(N=="png"&&_==!0){var p=nr.PNG.Da([[b,0]],X,q);return"data:image/png;base64,"+nr.lu(p)}var z=new Uint8Array(b),g=nr.rh;
if(g==null)g=nr.rh=K.m("canvas");if(g.width!=X||g.height!=q){g.width=X;g.height=q}var W=g.getContext("2d"),o=new ImageData(new Uint8ClampedArray(b,0,X*q*4),X,q);
W.putImageData(o,0,0);return g.toDataURL("image/"+N,J)};nr.xaO=function(b,X,q,N,J){if(J==null)J=0;var _="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",p="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+_+"<g transform=\"translate(64 64) scale("+.25*Math.round(K.u())+")\">";
if(b==1)p+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
p+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+J+")\" xlink:href=\""+X+"\" x=\""+80*q+"\" y=\""+80*N+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var z=new Uint8Array(p.length);e.MI(p,z,0);var g="data:image/svg+xml;base64,"+nr.lu(z.buffer);return{uC:g,h:new R(0,0,128,128),gv:new Ue(64,64)}};
nr.lu=function(b){var X=new Uint8Array(b),q="";for(var N=0;N<X.length;N++)q+=String.fromCharCode(X[N]);
return btoa(q)};nr.VZ=function(b){var X=[],q=[];for(var N=0;N<b.F.length;N++){var J=b.F[N];if(J.getName().slice(0,3)=="_a_"){X.push(N);
q.push(J.oF())}}return[X,q]};nr.kz=function(b,X,q,N,J,_){if(q==null)q=b.n;if(N==null)N=b.z;X=X.toUpperCase();
var p=nr[X],z;if(p.ws){b.US();z=p.Da(b,q,N,J,_)}else{var g=nr.VZ(b),W=g[0],o=g[1];if(W.length<2){var y;
if(q==b.n&&N==b.z)y=b.US().buffer;else{var D=c.C.wx([b.US(),new R(0,0,b.n,b.z)],new nQ(q/(b.n+.001),0,0,N/(b.z+.001),0,0));
y=D.buffer.buffer}z=p.Da([[y,0,b.Dg,b.Te]],q,N,J)}else{var m=[];for(var k=0;k<W.length;k++){var O=W[k],y;
for(var L=0;L<W.length;L++)b.F[W[L]].HC(W[L]==O);b.FB();b.Y();b.RL();if(q==b.n&&N==b.z)y=b.US().buffer.slice(0);
else{var D=c.C.wx([b.US(),new R(0,0,b.n,b.z)],new nQ(q/(b.n+.001),0,0,N/(b.z+.001),0,0));y=D.buffer}var I=b.F[O].getName().split(",");
m.push([y,I[1]?parseInt(I[1]):50,b.Dg,b.Te])}for(var k=0;k<W.length;k++)b.F[W[k]].HC(o[k]);b.Y();b.RL();
if(J){var H=J.length,Y=J[H-1],n=J[H-3]/100;if(n!=1)for(var k=0;k<m.length;k++)m[k][1]=Math.round(m[k][1]/n);
if(Y)m.reverse()}z=p.Da(m,q,N,J)}}return z};nr.PNG={};nr.PNG.Da=function(b,X,q,N){if(N==null)N=[100,!1,0,0,0];
var J={sRGB:1,loop:N[3]};if(b[0][2]!=null){var _=Math.round(b[0][2]*(1e4/254));J.pHYs=[_,_,1]}var p=N[0],z=p==100?0:Math.max(2,Math.floor(p*5));
if(z==5)z=4;var g=[],W=[];for(var o=0;o<b.length;o++){g.push(b[o][0]);W.push(b[o][1])}var y=UPNG.encode(g,X,q,z,W,J,N[1]);
return y};nr.PNG.xPg=function(b,X,q){return UPNG.encodeLL([b],X,q,3,1,8)};nr.PNG.vu=function(b){var X=Date.now(),q=UPNG.decode(b),N=UPNG.toRGBA8(q),J=q.width,_=q.height,p=0;
if(q.tabs.pHYs)p=Math.round(q.tabs.pHYs[0]*254/1e4);if(N.length==1)return[{_z:new R(0,0,J,_),data:N[0],Dg:p}];
var z=[];for(var g=0;g<N.length;g++){z.push({cn:"_a_frm"+g+","+q.frames[g].delay,_z:new R(0,0,J,_),data:N[g],Dg:p})}return z};
nr.PPM={};nr.PPM.Da=function(b,X,q,N){var J=new Uint8Array(b[0][0]),_=X*q,p=_*3,z="P6\n"+X+" "+q+"\n255\n",g=z.length,W=x.K(g+p,!0);
for(var o=0;o<g;o++)W[o]=z.charCodeAt(o);for(var o=0;o<_;o++){var y=o*4,D=o*3+g;W[D]=J[y];W[D+1]=J[y+1];
W[D+2]=J[y+2]}return W.buffer};nr.PPM.vu=function(b){b=new Uint8Array(b);var X=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],q=0,N=String.fromCharCode(b[0])+String.fromCharCode(b[1]),J=[],_=0,p=N=="P1"||N=="P4"?2:3;
for(q=2;q<b.length;q++){var z=b[q],g=String.fromCharCode(z);if(z=="#".charCodeAt(0)){while(b[q]!="\n".charCodeAt(0))q++;
continue}var W=X.indexOf(z)!=-1;if(_==0&&!W){J.push(g);_=1;continue}if(_==1&&!W){J[J.length-1]+=g;continue}if(_==1&&W){_=0;
if(J.length==p)break;continue}}var o=parseInt(J[0]),y=parseInt(J[1]),D=o*y*4,m=N=="P1"||N=="P4"?1:255/parseInt(J[2]),k=x.K(D);
if(N=="P1"||N=="P2"||N=="P3"){var O="",L=0,_=0,I="#".charCodeAt(0);for(var H=q;H<b.length;H++){var z=b[H],g=String.fromCharCode(z),W=X.indexOf(z)!=-1;
if(z==I){while(b[H]!="\n".charCodeAt(0))H++}else if(_==0&&!W){O=g;_=1}else if(_==1){if(W){_=0;var Y=parseInt(O);
O="";if(N=="P1"){k[L]=k[L+1]=k[L+2]=(1-Y)*255;k[L+3]=255;L+=4}if(N=="P2"){k[L]=k[L+1]=k[L+2]=Math.round(Y*m);
k[L+3]=255;L+=4}if(N=="P3"){k[L]=Math.round(Y*m);L++;if((L&3)==3){k[L]=255;L++}}}else O+=g}}}var n=o*y;
if(N=="P4")for(var w=0;w<y;w++){var t=w*8*Math.ceil(o/8);for(var j=0;j<o;j++){var H=t+j,E=b[q+1+(H>>3)];
E=E>>7-(H&7)&1;var h=w*o+j<<2;k[h]=k[h+1]=k[h+2]=(1-E)*255;k[h+3]=255}}if(N=="P5")for(var H=0;H<n;H++){var h=4*H;
k[h]=k[h+1]=k[h+2]=Math.round(b[q+1+H]*m);k[h+3]=255}if(N=="P6")for(var H=0;H<n;H++){var h=4*H,u=q+1+3*H;
k[h]=Math.round(b[u]*m);k[h+1]=Math.round(b[u+1]*m);k[h+2]=Math.round(b[u+2]*m);k[h+3]=255}return[{_z:new R(0,0,o,y),data:k.buffer}]};
nr.DDS={};nr.DDS.Da=function(b,X,q,N){var J=new Uint8Array(b[0][0]);if((X&3)!=0||(q&3)!=0){var _=X+(4-(X&3)),p=q+(4-(q&3)),z=new Uint8Array(_*p*4);
x.Ws(z,4278190080);x.iX(J,new R(0,0,X,q),z,new R(0,0,_,p));J=z;X=_;q=p}return UTEX.DDS.encode(J.buffer,X,q)};
nr.DDS.vu=function(b){var X=UTEX.DDS.decode(b)[0];return[{_z:new R(0,0,X.width,X.height),data:X.image}]};
nr.JPG={};nr.JPG.Da=function(b,X,q,N){if(N==null)N=[70];var J=b[0],_=new Uint8Array(J[0]),p=255,z=_.length,g;
for(var W=0;W<z;W+=4)p=p&_[W+3];if(p==255)g=_;else{g=new Uint8Array(_.length);var o=new R(0,0,X,q);x.Ws(g,4294967295);
x.t.TG("norm",_,o,g,o,o,1)}var y=new Uint8Array(nr._$(g.buffer,X,q,"jpeg",N[0]/100));if(J[2]!=null){var D=nr.JPG._e(y)[224][0]+2;
D+=9;y[D]=1;e.Dn(y,D+1,J[2]);e.Dn(y,D+3,J[2])}if(J[3]!=null&&N[1]==!0&&Object.keys(J[3]).length!=0){var m=_l.CS(J[3]),k=new Uint8Array(UTIF.encode([m])),O=4+6+k.length,L="http://ns.adobe.com/xap/1.0/",I=_l.xKm(J[3]),H=e.eJ(I),Y=4+L.length+1+H.length,n=O+Y,w=new Uint8Array(y.length+n),t=20;
for(var W=0;W<20;W++)w[W]=y[W];for(var W=20;W<y.length;W++)w[W+n]=y[W];w[t]=255;w[t+1]=225;e.Dn(w,t+2,O-2);
e.hd(w,t+4,"Exif");for(var W=0;W<k.length;W++)w[t+10+W]=k[W];t+=O;w[t]=255;w[t+1]=225;e.Dn(w,t+2,Y-2);
e.hd(w,t+4,L);for(var W=0;W<H.length;W++)w[t+4+L.length+1+W]=H[W];y=w}return y.buffer};nr.JPG._e=function(b){var X=0,q=[];
while(X<b.length){while(b[X]==255)X++;var N=b[X];X++;if(q[N]==null)q[N]=[];q[N].push(X-2);if(N==216)continue;
if(N==217)break;if(224<=N&&N<=239||N==218||N==219||N==192||N==194||N==196||N==221||N==254){var J=e.Dt(b,X);
X+=J;if(N==218)while(b[X]!=255||(b[X+1]==0||208<=b[X+1]&&b[X+1]<=215))X++;continue}console.log("unknown marker ",N.toString(16),X)}if(q[217]==null){console.log("EOI marker missing");
var _=b.length-2;b[_]=255;b[_+1]=217;q[217]=[_]}return q};nr.JPG.xPF=function(b){b=new Uint8Array(b);
if(b[0]!=255)return b.buffer;var X=nr.JPG.sA(b,nr.JPG._e(b));if(X.numComponents!=4)return b.buffer;var q=X.width,N=X.height,J=nr.JPG.sx(X,!0);
return nr.JPG.Da([[J[0].data]],q,N,[85])};nr.JPG.sA=function(b,X){var q=new PDFJS.JpegImage;q.parse(b);
var N=X[225];if(N)for(var J=0;J<N.length;J++)nr.JPG.xPL(b,N[J]+2,q);var _=X[217][0]+2;if(_!=b.length)q.suffix=b.slice(_);
return q};nr.JPG.xPL=function(b,X,q){var N=X,J=e.Dt(b,N);N+=2;var _=e.uT(b,N,4);if(_=="Exif"){N+=6;var p=b.slice(N,N+J-8);
q.exif=UTIF.decode(p.buffer,{parseMN:!1,debug:!1})}else if(_=="http"){var z=0;while(b[N+z]!=0)z++;var g=e.uT(b,N,z);
N+=z+1;if(g=="http://ns.adobe.com/xmp/extension/"){var W=e.uT(b,N,32);N+=32;N+=8;var o=X+J-N;while(b[N+o-1]==0)o--;
if(q.xmp_extn==null)q.xmp_extn="";q.xmp_extn+=e.Re(b,N,o)}else if(g=="http://ns.adobe.com/xap/1.0/"){var y=e.Re(b.slice(N,N+J-z-3));
if(y[0]=="?")y="<"+y;q.xmp=y}}else console.log(_)};nr.JPG.sx=function(b,X){var q=b.width,N=b.height,J=q*N,_=b.getData({width:q,height:N,forceRGB:!0,isSourcePDF:X}),p=72,z,g=[q,N,1,0,0,0,1,0];
if(b.jfif&&b.jfif.densityUnits!=0)p=Math.round([72,1,2.54][b.jfif.densityUnits]*b.jfif.xDensity);else if(b.exif&&b.exif[0].t282!=null){var W=b.exif[0].t282[0];
p=W[0]/W[1]}if(b.exif){var o=b.exif;z=_l.ly(o[0]);var y=o[0].t274;if(y)y=y[0];if(y!=null&&y>1)g=x.raw.eK(y,q,N)}if(b.xmp){z=_l.xKi(b.xmp,z)}var D=g[0],m=g[1],k=x.K(J*4);
for(var L=0;L<m;L++)for(var I=0;I<D;I++){var Y=g[2]*I+g[3]*L+g[4],n=g[5]*I+g[6]*L+g[7],w=L*D+I<<2,t=(n*q+Y)*3;
k[w]=_[t+0];k[w+1]=_[t+1];k[w+2]=_[t+2];k[w+3]=255}var j=[{_z:new R(0,0,D,m),data:k.buffer,Dg:p,Te:z}],z=b.xmp_extn;
if(z){var E=new DOMParser,h=E.parseFromString(z,"image/svg+xml").firstChild.children[0].children[0],u=[h.getAttribute("GImage:Data"),h.getAttribute("GDepth:Data")];
for(var Z=0;Z<u.length;Z++)if(u[Z]){var A=atob(u[Z]),P=new Uint8Array(A.length);e.hd(P,0,A);P=P.buffer;
var T=nr.xw(P),U=nr.aC(T).vu(P);j.push(U[0])}}if(b.suffix){var r=b.suffix;if(nr.Vy(r,[0,0,1,10,14,0,0,0]))r=r.slice(78);
var i=e.uT(r,4,4),V=e.Bs(r,String.fromCharCode(255)+String.fromCharCode(216)+String.fromCharCode(255));
if(i=="ftyp")alert("Photopea found a "+KZ.oV(r.length)+" MP4 video inside your image.",4e3);else if(e.uT(r,0,4)=="fixe"){alert("Unknown data - "+r.length+" B - at the end of the file",3e3);
var F=4,B=e.Gs(r,F);F+=4;var $=e.Gs(r,F);F+=4;var l=e.Gs(r,F);F+=4;console.log(B,$,l,r.slice(F,F+84));
F+=84;var v=e.uT(r,F,32);F+=32;F+=8;var v=e.uT(r,F,32);F+=32}else if(i=="edof"){var y=r[8+7];console.log(y.toString(16));
var F=8+16,D=e.zr(r,F),m=e.zr(r,F+2),J=D*m;F+=4;F+=32+16;var C=x.K(J*4);for(var Z=0;Z<J;Z++){var f=Z<<2;
C[f]=C[f+1]=C[f+2]=r[F+Z];C[f+3]=255}if(y==16){}else if(y==19){var nx=C.slice(0);x.GI.wH(C,nx,D,m);var nA=D;
D=m;m=nA;x.GI.xUW(nx,C,D,m)}else throw"Unknown orientation of a depth map";j.push({_z:new R(0,0,D,m),data:C.buffer})}else if(V!=-1){if(V!=0)r=r.slice(V);
var U=nr.aC("jpg").vu(r.buffer);for(var Z=0;Z<U.length;Z++)j.push(U[Z])}}if(j.length>1){var nU=j[0]._z;
j[0].cn="Main";for(var Z=1;Z<j.length;Z++){var nn=j[Z]._z;if(!nn.Rj(nU)){var Y=nU.n/nn.n,n=nU.z/nn.z,nH=new nQ;
nH.scale(Y,n);var d=c.C.vs([new Uint8Array(j[Z].data),nn],1,x.GI.SW(nH));j[Z]={_z:d.rect,data:d.buffer}}j[Z].cn=Z==1&&j.length==3?"Original":"Depth Map"}}return j};
nr.JPG.vu=function(b,X,q){b=new Uint8Array(b);if(b[0]==255){var N=nr.JPG._e(b);if(N[195]==null){var J=nr.JPG.sA(b,N),_=nr.JPG.sx(J,!1);
return _}var p=e.Dt(b,N[195][0]+5),z=e.Dt(b,N[195][0]+7),g=UTIF.LosslessJpegDecode(b),W=z*p,o=x.K(W*4);
for(var y=0;y<W;y++){var D=y<<2,m=D-y;o[D]=g[m];o[D+1]=g[m+1];o[D+2]=g[m+2];o[D+3]=255}return[{_z:new R(0,0,z,p),data:o.buffer}]}else if(b[0]==0&&b[4]==48&&b[6]==1){var k=b,J=new PDFJS.Jbig2Image,O=[];
if(X)O.push({data:X,start:0,end:X.length});O.push({data:k,start:0,end:k.length});var g=J.parseChunks(O);
if(!q)for(var y=0;y<g.length;y++)g[y]=~g[y];var z=e.o(b,11),p=e.o(b,15),L=Math.ceil(z/8),I=x.K(z*p*4);
for(var H=0;H<p;H++){var Y=H*L;for(var n=0;n<z;n++){var D=(H*z+n)*4,w=g[Y+(n>>>3)]>>>7-(n&7)&1,j=w*255;
I[D]=j;I[D+1]=j;I[D+2]=j;I[D+3]=255}}return[{_z:new R(0,0,z,p),data:I.buffer}]}else{var J=new PDFJS.JpxImage;
J.parse(b);var z=J.width,p=J.height,E=J.tiles,h=J.componentsCount,u=new Uint8Array(z*p*4),Z=new R(0,0,z,p);
for(var J=0;J<E.length;J++){var A=E[J],P=A.width,T=A.height,U=P*T,_a=A.items,r=new R(A.left,A.top,P,T),i=new Uint8Array(U*4);
if(h==1)for(var y=0;y<U;y++){var V=_a[y],D=y*4;i[D]=V;i[D+1]=V;i[D+2]=V;i[D+3]=255}else if(h==3)for(var y=0;
y<U;y++){var m=y*3,D=y*4;i[D]=_a[m];i[D+1]=_a[m+1];i[D+2]=_a[m+2];i[D+3]=255}else console.log("Unknown number of components: "+h);
x.iX(i,r,u,Z)}return[{_z:Z,data:u.buffer}]}};nr.WEBP={};nr.WEBP.Da=function(b,X,q,N){if(N==null)N=[70,0,0,0];
var J=N[0]/100,g=0;if(b.length==1)return nr._$(b[0][0],X,q,"webp",J);var _=e.Ya,p=e.PE,z=new _e;_(z,g,"RIFF    WEBPVP8X");
g+=16;p(z,g,10);g+=4;p(z,g,18);g+=4;p(z,g,X-1);g+=3;p(z,g,q-1);g+=3;_(z,g,"ANIM");g+=4;p(z,g,6);g+=4;
z.Sd(g,4);z.data[g+3]=255;e.Mf(z,g+4,N[2]);g+=6;var W=[];for(var o=0;o<b.length;o++){W.push(b[o][0])}var y=UPNG.encode.compress(W,X,q,J==1?0:Math.max(2,Math.floor(J*500)),[!1,!0,!0,0,!0]).frames,D=new WebPDecoder;
for(var o=0;o<b.length;o++){_(z,g,"ANMF");g+=4;var m=g;g+=4;var k=y[o],O=k.rect,L=[O.x>>>1,O.y>>>1,O.width-1,O.height-1,b[o][1]];
for(var I=0;I<5;I++)p(z,g+3*I,L[I]);g+=15;z.Sd(g,1);z.data[g]=1-k.blend<<1|k.dispose;g++;var H=new Uint8Array(nr._$(k.img.buffer,O.width,O.height,"webp",1)),Y=bI.UU(H.buffer).sub,n=e.uT(H,12,4);
if(n!="VP8L"&&n!="VP8 "&&n!="VP8X")throw"e";var w=n=="VP8 "?0:n=="VP8L"?12:30,t=H.length-w;z.Sd(g,t);
for(var I=0;I<t;I++)z.data[g+I]=H[w+I];g+=t;var j=g-m-4;p(z,m,j);if((j&1)==1){z.Sd(g,1);g++}}p(z,4,g-8);
return z.data.slice(0,g).buffer};nr.WEBP.vu=function(b){var X=new Uint8Array(b),q=nr.WEBP.xMC(X),N=nr.WEBP.xMU,J=new WebPDecoder,_=bI.UU(b).sub;
if(_[0].pA!="VP8X")return[N(J,q,_[0])];var p={};for(var z=0;z<_.length;z++)p[_[z].pA]=_[z];if(p.ANIM==null){var g=p.ALPH?"ALPH":p["VP8 "]?"VP8 ":"VP8L";
return[N(J,q,{I:p[g].I-8})]}var W=p.VP8X.I,o=1+(e.Gs(X,W+4)&16777215),y=1+(e.Gs(X,W+7)&16777215),D=[],m=new R(0,0,o,y),k=x.K(o*y*4);
for(var z=0;z<_.length;z++){var O=_[z];if(O.pA!="ANMF")continue;var L=[];for(var I=0;I<5;I++)L.push(e.Gs(X,O.I+I*3)&16777215);
var H=new R(L[0]*2,L[1]*2,L[2]+1,L[3]+1),Y=L[4],n=N(J,q,{I:O.I+16}),w=new Uint8Array(n.data),t=X[O.I+15];
if(t>>>1==0)x.t.TG("norm",w,H,k,m,H,1);else x.iX(w,H,k,m);D.push({cn:"_a_"+D.length+","+Y,_z:m.clone(),data:k.buffer.slice(0)});
if((t&1)==1){x.Ws(w,0);x.iX(w,H,k,m)}}return D};nr.WEBP.xMU=function(b,X,q){var N=[0],J=[0],_=b.WebPDecodeRGBA(X,q.I,X.length-q.I,N,J),p=_.length,z=new Uint8Array(p);
for(var g=0;g<p;g++)z[g]=_[g];return{_z:new R(0,0,N[0],J[0]),data:z.buffer}};nr.WEBP.xMC=function(b){var X=[],q=b.length;
for(var N=0;N<q;N++)X.push(b[N]);return X};nr.BMP={};nr.BMP.Da=function(b,X,q,N){var J=new Uint8Array(b[0][0]),_=!1,p={w$:X,ai:q,fK:1,ag:_?32:24,qO:_?3:0,xgR:0},z=4*Math.floor((p.ag*p.w$+31)/32),W=0;
p.size=z*p.ai+2;var g=new _e;e.Ya(g,W,"BM");W+=2;e.PE(g,W,z*q+16+40);W+=4;e.PE(g,W,0);W+=4;e.PE(g,W,54);
W+=4;g.Sd(W,40);e.PE(g,W,40);W+=4;nr.BMP.xMR(g.data,W,p,z);W+=36;g.Sd(W,z*q);for(var o=0;o<q;o++){var y=W+(q-1-o)*z;
for(var D=0;D<X;D++){var m=(o*X+D)*4,k=J[m+3]*(1/255);if(_){g.data[y+D*4+2]=J[m];g.data[y+D*4+1]=J[m+1];
g.data[y+D*4+0]=J[m+2];g.data[y+D*4+3]=J[m+3]}else{g.data[y+D*3+2]=J[m];g.data[y+D*3+1]=J[m+1];g.data[y+D*3+0]=J[m+2]}}}W+=z*q+2;
return g.data.slice(0,W).buffer};nr.BMP.vu=function(b){b=new Uint8Array(b);var X=0,q=e.uT(b,X,2);X+=2;
if(q!="BM"){alert("Unsupported BMP format: "+q);return}var N=e.Gs(b,X);X+=4;X+=4;var J=e.Gs(b,X);X+=4;
return[nr.BMP.sp(b.buffer,X)]};nr.BMP.sp=function(b,X){b=new Uint8Array(b);var q=e.Gs(b,X);X+=4;var N=nr.BMP.xMv(b,X);
if(N.fK!=1)alert("unsupported number of color planes: "+N.fK);if(N.qO!=0&&N.qO!=3){alert("Unsupported BMP compression: "+N.qO);
return}X+=q-4;var J=X,_=4*Math.floor((N.ag*N.w$+31)/32),p=N.w$,z=Math.abs(N.ai),g=new Uint8Array(p*z*4);
x.set(g,255);var W=X;if(N.ag<24)W+=4*Math.pow(2,N.ag);if(N.ag==32)for(var o=0;o<z;o++){var y=W+(z-1-o)*_;
for(var D=0;D<p;D++){var m=(o*p+D)*4;g[m]=b[y+D*4+2];g[m+1]=b[y+D*4+1];g[m+2]=b[y+D*4+0];g[m+3]=b[y+D*4+3]}}else if(N.ag==24)for(var o=0;
o<z;o++){var y=W+(z-1-o)*_;for(var D=0;D<p;D++){var m=(o*p+D)*4;g[m]=b[y+D*3+2];g[m+1]=b[y+D*3+1];g[m+2]=b[y+D*3+0]}}else if(N.ag==8)for(var o=0;
o<z;o++){var y=W+(z-1-o)*_;for(var D=0;D<p;D++){var m=(o*p+D)*4,k=b[y+D];g[m]=b[J+4*k+2];g[m+1]=b[J+4*k+1];
g[m+2]=b[J+4*k+0]}}else if(N.ag==4)for(var o=0;o<z;o++){var y=W+(z-1-o)*_;for(var D=0;D<p;D++){var m=(o*p+D)*4,k=b[y+(D>>1)];
k=k>>4-4*(D&1);k=k&15;g[m]=b[J+4*k+2];g[m+1]=b[J+4*k+1];g[m+2]=b[J+4*k+0]}}else if(N.ag==1)for(var o=0;
o<z;o++){var y=W+(z-1-o)*_;for(var D=0;D<p;D++){var m=(o*p+D)*4,O=b[y+(D>>3)];O=O>>7-(D&7);O=O&1;g[m]=b[J+4*O+2];
g[m+1]=b[J+4*O+1];g[m+2]=b[J+4*O+0]}}else throw"Unknown bit depth "+N.ag;if(N.ai<0){var L=new Uint32Array(g.buffer),I=z>>>1;
for(var o=0;o<I;o++){var H=o*p,Y=(z-o-1)*p;for(var D=0;D<p;D++){var n=L[H+D];L[H+D]=L[Y+D];L[Y+D]=n}}}return{_z:new R(0,0,p,z),data:g.buffer}};
nr.BMP.xMv=function(b,X){var q=e.pN,N=e.Gs,J=e.zr,_={};_.w$=q(b,X);X+=4;_.ai=q(b,X);X+=4;_.fK=J(b,X);
X+=2;_.ag=J(b,X);X+=2;_.qO=N(b,X);X+=4;_.size=N(b,X);X+=4;var p=q(b,X);X+=4;var z=q(b,X);X+=4;_.xgR=N(b,X);
X+=4;X+=4;return _};nr.BMP.xMR=function(b,X,q,N){e.iL(b,X,q.w$);X+=4;e.iL(b,X,q.ai);X+=4;e.MT(b,X,q.fK);
X+=2;e.MT(b,X,q.ag);X+=2;e.iL(b,X,q.qO);X+=4;e.iL(b,X,q.size);X+=4;e.iL(b,X,2834);X+=4;e.iL(b,X,2834);
X+=4;e.iL(b,X,q.xgR);X+=4;X+=4};nr.GIF={};nr.GIF.Da=function(b,X,q,N){if(N==null)N=[100,0,0,0];var J=[],_=[],p=X*q*4,L=null;
for(var z=0;z<b.length;z++){var g=new Uint8Array(b[z][0].slice(0));for(var W=0;W<p;W+=4){var o=g[W+3]=g[W+3]>127?255:0;
if(o==0)g[W]=g[W+1]=g[W+2]=0}J.push(g.buffer);_.push(b[z][1])}var y=Math.round(2+254*N[0]/100),D=UPNG.encode.compress(J,X,q,y,[!0,!1,!1,8,!1]),m=D.plte,k=new Uint8Array(4),O=new Uint32Array(k.buffer);
for(var W=0;W<m.length;W++){O[0]=m[W];var I=k[0];k[0]=k[2];k[2]=I;m[W]=O[0];if(O[0]==0)L=W}while(m.length<256)m.push(0);
var H=new Uint8Array(2e3+X*q*b.length),n=N[2],w={palette:m};if(n!=1)w.loop=n==0?0:n-1;var t=new GifWriter(H,X,q,w);
for(var W=0;W<b.length;W++){var j=D.frames[W],E=j.rect,h=j.blend,u=j.dispose;t.addFrame(E.x,E.y,E.width,E.height,j.img,{transparent:L,disposal:u+1,delay:Math.round(_[W]/10)})}return H.slice(0,t.end()).buffer};
nr.GIF.vu=function(b){var X=new Uint8Array(b),q=new GifReader(X),N=[],J=q.numFrames(),_=q.width,p=q.height,z=x.K(_*p*4),g=new R(0,0,_,p);
for(var W=0;W<J;W++){var o=q.frameInfo(W),y=o.disposal,D=y==3?z.slice(0):null;q.decodeAndBlitFrameRGBA(W,z);
N.push({_z:g.clone(),cn:"_a_frm"+W+","+o.delay*10,data:z.slice(0).buffer});if(o.disposal==2){var m=x.K(o.width*o.height*4);
x.iX(m,new R(o.x,o.y,o.width,o.height),z,g)}if(y==3){for(var k=0;k<z.length;k++)z[k]=D[k]}}return N};
nr.ICO={};nr.ICO.Da=function(b,X,q,N){console.log(b);if(X>256||q>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var J=Math.min(X,256),_=Math.min(q,256),p=new R(0,0,J,_),z=x.K(p.c()*4),g=new R(0,0,X,q),o=new Uint8Array(b[0][0]);
x.iX(o,g,z,p);b[0][0]=z.buffer;X=J;q=_}var y=new _e,m=0,k=N&&N[0]==!0;e.Mf(y,m,0);m+=2;e.Mf(y,m,k?2:1);
m+=2;e.Mf(y,m,1);m+=2;var L=new Uint8Array(nr.PNG.Da(b,X,q));y.Sd(m,16);y.data[m]=X==256?0:X;m++;y.data[m]=q==256?0:q;
m++;m+=2;e.Mf(y,m,k?Math.round(X/2):1);m+=2;e.Mf(y,m,k?Math.round(q/2):32);m+=2;e.PE(y,m,L.length);m+=4;
e.PE(y,m,6+16);m+=4;y.Sd(m,L.length);for(var I=0;I<L.length;I++)y.data[m+I]=L[I];m+=L.length;var Y=new Uint8Array(m);
for(var I=0;I<m;I++)Y[I]=y.data[I];return Y.buffer};nr.ICO.vu=function(b){b=new Uint8Array(b);var X=4,q=e.zr(b,X);
X+=2;var N=[];for(var J=0;J<q;J++){var _=nr.ICO.xMj(b,X+J*16),p=b.buffer.slice(_.offset,_.offset+_.size),z=nr.xw(p);
z=z?z:"bmp";if(z=="png"){var g=nr.aC(z);return g.vu(p)}else{var W=nr.BMP.sp(p,0),p=x.K(_.w$*_.ai*4);
x.iX(new Uint8Array(W.data),new R(0,0,W._z.n,W._z.z),p,new R(0,_.ai,_.w$,_.ai));W.data=p.buffer;W._z.z=_.ai;
_.LP=W;N.push(_)}}N.sort(function(o,y){if(o.w$!=y.w$)return o.w$-y.w$;return o.xgF-y.xgF});return[N.pop().LP]};
nr.ICO.xMj=function(b,X){var q={};q.w$=b[X];X++;if(q.w$==0)q.w$=256;q.ai=b[X];X++;if(q.ai==0)q.ai=256;
q.xAy=b[X];X++;X++;q.xAe=e.zr(b,X);X+=2;q.xgF=e.zr(b,X);X+=2;q.size=e.Gs(b,X);X+=4;q.offset=e.Gs(b,X);
X+=4;return q};nr.TIFF={};nr.TIFF.vu=function(b){var X=Date.now(),N;if(x.raw.rN(b.byteLength))return[x.raw.xdl(b)];
var q=UTIF.decode(b);if(q[0].t33421)N=q[0];else if(q[0].subIFD&&q[0].subIFD[0].t33421){N=q[0].subIFD[0];
if(N.t50706==null){if(N.t258[0]==8)N.t258[0]=12}}else if(q[0].subIFD&&q[0].subIFD[0]&&q[0].subIFD[0].t262&&q[0].subIFD[0].t262[0]==34892)N=q[0].subIFD[0];
else if(q[0].subIFD&&q[0].subIFD[1]&&q[0].subIFD[1].t33421)N=q[0].subIFD[1];else if(q[0].subIFD&&q[0].subIFD[2]&&q[0].subIFD[2].t33421)N=q[0].subIFD[2];
else if(q[3]&&q[3].t50648){var J=q[0].exifIFD,_=J.makerNote;N=q[3];var p=_.t224[1],z=_.t224[2];N.t256=[p];
N.t257=[z];N.t258=[16];N.t259=[7];N.t262=[32803];N.t277=[1];N.t33421=[2,2];var g=N.t50656[0],W=x.raw.ed[g];
if(W==null)throw"e";N.t33422=W}if(N){UTIF.decodeImage(b,N,q);for(var o in q[0])if((o[0]=="t"||o[0]=="e"||o[0]=="d")&&N[o]==null)N[o]=q[0][o];
N.qo=q[0].t274?q[0].t274[0]:1;return[N]}var y=[];for(var D=0;D<q.length;D++){var m=q[D],k=72;UTIF.decodeImage(b,m,q);
var O=m.t282,L=m.t296;if(O!=null&&L!=null){k=O[0];if(L[0]==3)k=Math.round(k/2.54)}if(m.width==null)continue;
var I=UTIF.toRGBA8(m).buffer,H=_l.ly(m);y.push({_z:new R(0,0,m.width,m.height),data:I,Dg:k,Te:H})}return y};
nr.TIFF.Da=function(b,X,q,N){if(N==null)N=[!1];var J={},_=b[0];if(_[3]!=null&&N[0])J=_l.CS(_[3]);if(_[2]!=null){J.t282=J.t283=[[_[2],1]];
J.t296=[2]}return UTIF.encodeImage(_[0],X,q,J)};nr.PSD={};nr.PSD.ws=!0;nr.PSD.vu=function(b,X){_Q.UU(b,X)};
nr.PSD.xMm=function(b,X,q,N){if(N==null)N=[!1,!1];if(!N[0])b.US();var J=new _e,_=_Q.Bn(b,J,N);return[J.data.buffer,_]};
nr.PSD.Da=function(b,X,q,N){var J=nr.PSD.xMm(b,X,q,N),_=J[0],p=J[1];return _.byteLength==p?_:_.slice(0,p)};
nr.PXD={};nr.PXD.ws=!0;nr.PXD.vu=function(b,X){var q=pako.inflate(new Uint8Array(b)),N=4;X.n=e.o(q,N);
N+=4;X.z=e.o(q,N);N+=4;var J=e.Dt(q,N);N+=2;N+=4;for(var _=0;_<J;_++){var p=X.rY();X.F.push(p);var z=e.o(q,N),g=N+4,W=e.Dt(q,g);
g+=2;var o=e.Re(q,g,W);g+=W;p.fT(o);g++;p.rect.x=e.pY(q,g);g+=4;p.rect.y=e.pY(q,g);g+=4;p.rect.n=e.o(q,g);
g+=4;p.rect.z=e.o(q,g);g+=4;p.opacity=Math.round(255*q[g]/100);g++;p.HC(q[g]!=0);g++;p.nB="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[q[g]];
g++;g++;var y=e.o(q,g);g+=4;if(y!=p.rect.c()*4)throw"e";p.buffer=x.K(y);for(var D=0;D<y;D+=4){p.buffer[D]=q[g+D+1];
p.buffer[D+1]=q[g+D+2];p.buffer[D+2]=q[g+D+3];p.buffer[D+3]=q[g+D+0]}g+=y;var m=e.o(q,g);g+=4;var k=q[g];
g++;var O=e.Dt(q,g);g+=2;if(m!=0){p.G=new M.ah;p.G.rect=p.rect.clone();p.G.channel=x.K(p.rect.c());for(var D=0;
D<m;D+=4)p.G.channel[D>>>2]=q[g+D+1];g+=m}if(k!=0){var L=JSON.parse(UZ.default);p.add.lmfx=L;for(var D=0;
D<UZ.order.length;D++)L[UZ.PS[D]]={t:"VlLs",v:[]};var I={"102":9,"101":2,"103":0,"104":3,"105":8};for(var D=0;
D<k;D++){var H=e.Dt(q,g),Y=g+H+4,n=q.slice(g,Y),w=q[g+2];g+=3;var t=I[w+""],j=JSON.parse(UZ.IN[t]);L[UZ.PS[t]].v.push({t:"Objc",v:j});
if(t!=0){j.Md.v.BlnM=nD.QM("norm");j.Opct.v.val=q[g];g++;if(t==9||t==2){j.Dstn.v.val=q[g+1];g+=2}else g+=2;
j.blur.v.val=Math.round(q[g]*1.2);g++;if(t==9||t==2){j.uglg.v=!1;j.lagl.v.val=180-e.Dt(q,g);g+=2}j.Clr.v=x.Z.Yr({D:q[g+1],q:q[g+2],b:q[g+3]})}else{j.hglM.v.BlnM=j.sdwM.v.BlnM=nD.QM("norm");
g+=2;var E=q[g++],h=q[g++];j.blur.v.val=Math.round(Math.sqrt(h*E)*1.3);j.srgR.v.val=Math.round(100*E/h);
j.uglg.v=!1;j.lagl.v.val=180-e.Dt(q,g);g+=2;j.hglO.v.val=q[g++];j.hglC.v=x.Z.Yr({D:q[g+1],q:q[g+2],b:q[g+3]});
g+=4;j.sdwO.v.val=q[g++];j.sdwC.v=x.Z.Yr({D:q[g+1],q:q[g+2],b:q[g+3]});g+=4}g=Y}}if(g!=N+4+z){var u=e.o(q,g),r=0;
g+=4;g++;var W=e.Dt(q,g);g+=2;var Z=e.Re(q,g,W);g+=W;Z=Z.replace(/\r/g,"\n");var W=e.Dt(q,g);g+=2;var A=e.Re(q,g,W);
g+=W;var P=e.Dt(q,g);g+=2;var T=p.rect.x,U=p.rect.n;if(u&4)r=1;if(u&2)r=2;var i=Math.round(P*.4);if(r==0||r==2)U+=i;
if(r==1||r==2){U+=i;T-=i}p.add.lnsr="rend";p.add.TySh=ng.Rq(0,0);p.add.TySh.Ug=new R(0,0,100,100);p.add.TySh.w=new nQ(1,0,0,1,T,p.rect.y+P*.25);
var V=p.add.TySh.Bw;ng.aH(V,1);ng.Sc(V,[0,0,U,p.rect.z]);ng.DX(V,0,Z);var F=ng.c_(V,0,1);F.qH.FontSize=P;
F.qH.FillColor={Type:1,Values:[1,q[g+1]/255,q[g+2]/255,q[g+3]/255]};g+=4;if(q[g+5])A+="-Bold";if(q[g+6])A+="-Italic";
ng.uJ(F,A);F.qE.Justification=r;g+=8;ng.Fo(V,0,Z.length,F)}N+=4+z}};nr.SKETCH={};nr.SKETCH.ws=!0;nr.SKETCH.vu=function(b,X){xD.UU(b,X)};
nr.XD={};nr.XD.ws=!0;nr.XD.vu=function(b,X){bS.UU(b,X)};nr.FIG={};nr.FIG.ws=!0;nr.FIG.vu=function(b,X){pS.UU(b,X)};
nr.XCF={};nr.XCF.ws=!0;nr.XCF.vu=function(b,X){UO.UU(b,X)};nr.SVG={};nr.SVG.ws=!0;nr.SVG.Da=function(b,X,q,N,J){if(N==null)N=[!0,!1,!1,!1,!0,!0];
var _=xF.oM(b,{xMb:N[0],hidden:N[1],xMK:N[2],xMB:N[3],names:N[4],xgO:N[5],xME:X,xMz:q},J._v);return _};
nr.SVG.vu=function(b,X){xF.UU(b,X)};nr.EPS={};nr.EPS.ws=!0;nr.EPS.vu=function(b,X){var q=150,N=new nQ(1,0,0,-1,0,0);
N.scale(q/72,q/72);X.Dg=q;var J=new gY(X,N,!0);FromPS.Parse(b,J)};nr.PDF={};nr.PDF.ws=!0;nr.PDF.Da=function(b,X,q,N,J){if(N==null)N=["",100,!1,!1,!1];
N[5]=["jpg"];var _=new ToPDF;xJ.oM(b,N,_,J._v);return _.buffer};nr.PDF.vu=function(b,X,q){var N=(q?2:1)*72,J=new nQ(1,0,0,-1,0,0);
J.scale(N/72,N/72);X.Dg=N;var _=new gY(X,J,!0);FromPDF.Parse(b,_)};nr.WMF={};nr.WMF.ws=!0;nr.WMF.vu=function(b,X){var q=72,N=new nQ(1,0,0,1,0,0);
N.scale(q/72,q/72);X.Dg=q;var J=new gY(X,N,!1);FromWMF.Parse(b,J)};nr.EMF={};nr.EMF.Jn=!0;nr.EMF.ws=!0;
nr.EMF.Da=function(b,X,q,N,J){if(N==null)N=["",!1,!1,!1];N[4]=[];var _=new ToEMF;xJ.oM(b,N,_,J._v);return _.buffer};
nr.EMF.vu=function(b,X){var q=72,N=new nQ(1,0,0,1,0,0);N.scale(q/72,q/72);X.Dg=q;var J=new gY(X,N,!1);
FromEMF.Parse(b,J)};nr.CDR={};nr.CDR.ws=!0;nr.CDR.vu=function(b,X){return nc.UU(b,X)};nr.ILBM={};nr.ILBM.vu=function(b,X){var q=gU.UU(b),N=new Uint8Array(b),J=0,_,p,z,g,W,o,y,D,m=0,k=0,O=0,L=0,I=0;
for(var H=0;H<q.sub.length;H++){var Y=q.sub[H],J=Y.I;if(Y.pA=="BMHD"){var n=[];for(var w=0;w<4;w++)n[w]=e.Dt(N,J+2*w);
J+=8;g=n[2];W=n[3];p=n[0];z=n[1];_=x.K(p*z*4);o=N[J++];y=N[J++];D=N[J++]}else if(Y.pA=="CMAP")m=J;else if(Y.pA=="CAMG"){var t=e.o(N,J);
k=t&32768,O=t&4,L=t&2048;I=t&128}else if(Y.pA=="BODY"){var j=p+15>>>4<<1,E=o+y,h=x.K(j*z*E),P,T,U;x_.Bt(N,J,Y.size,h,0,h.length);
var u=o-2,Z=(1<<u)-1,A=Math.round(255/Z);for(var W=0;W<z;W++)for(var g=0;g<p;g++){var r=0;for(var i=0;
i<E;i++){var V=(W*E+i)*j*8+g,F=h[V>>>3]>>>7-(V&7)&1;r|=F<<i}var B=r>>>o,r=r&(1<<o)-1,w=W*p+g,$=w<<2;
if(m!=0){if(L!=0&&r>>>u!=0){var l=r>>>u,v=(r&Z)*A;if(l==1)U=v;else if(l==2)P=v;else if(l==3)T=v}else{var v=m+r*3;
P=N[v+0];T=N[v+1];U=N[v+2]}}else{P=r>>>0&255;T=r>>>8&255;U=r>>>16&255}_[$+0]=P;_[$+1]=T;_[$+2]=U;_[$+3]=255}}}return[{_z:new R(0,0,p,z),data:_.buffer}]};
nr.TGA={};nr.TGA.ws=!1;nr.TGA.Da=function(b,X,q,N){var J=new Uint8Array(b[0][0]),_=2,p=x.sE(J),z=p?4:3,g=new Uint8Array(X*q*z);
for(var W=0;W<q;W++)for(var o=0;o<X;o++){var y=W*X+o<<2,D=((q-W-1)*X+o)*z;g[D]=J[y+2];g[D+1]=J[y+1];
g[D+2]=J[y+0];if(p)g[D+3]=J[y+3]}if(!0){var m=g.length,k=0,O=new Uint8Array(m*2),L=0,I=0,H=X*z;while(I<m){var Y=I,n=0,w=H*(Math.floor(I/H)+1);
while(Y<w&&n<128){var t=!0;for(var j=0;j<z;j++)t=t&g[I+j]==g[Y+j];if(!t)break;Y+=z;n++}if(n==1){var E=1;
while(E<128&&I+(E+1)*z<w){var t=!0,h=I+E*z;for(var j=0;j<z;j++)t=t&g[h+j]==g[h+z+j];if(t)break;E++}O[L++]=E-1;
for(var u=0;u<E;u++)for(var j=0;j<z;j++)O[L++]=g[I++]}else{O[L++]=127+n;for(var j=0;j<z;j++)O[L+j]=g[I+j];
L+=z;I+=z*n;k+=n}}g=O.slice(0,L);_+=8}var Z=new Uint8Array(18+g.length+26);Z[2]=_;e.MT(Z,12,X);e.MT(Z,14,q);
Z[16]=z*8;Z[17]=z==4?8:0;Z.set(g,18);e.hd(Z,18+g.length+8,"TRUEVISION-XFILE.");return Z.buffer};nr.TGA.vu=function(b){var X=new Uint8Array(b),q=0,N=X[0],J=X[1],_=X[2],p=X[4]*256+X[3],z=X[6]*256+X[5],g=X[7],W=X[9]*256+X[8],o=X[11]*256+X[10],y=X[13]*256+X[12],D=X[15]*256+X[14],m=X[16],k=X[17],O=k>>>4,L=e.uT(X,18,N),I=x.K(y*D*4),q=18+N+(z*g>>>3),H=new Uint8Array(X.buffer,q);
if(_>3){var Y=0,n=X,w=new Uint8Array(y*D*m>>>3),t=q,j=0,E=X.length,h=m>>>3;while(j<w.length){var u=n[t];
t++;if(u<128)for(var Z=0;Z<u+1;Z++){for(var A=0;A<h;A++){w[j]=n[t];j++;t++}}else{for(var Z=0;Z<u-127;
Z++){for(var A=0;A<h;A++){w[j]=n[t+A];j++}}t+=h}}_-=8;H=w;q=t}else q+=y*D*m>>>3;var P=new Uint8Array(4),T=nr.TGA.xMy;
for(var U=0;U<D;U++)for(var r=0;r<y;r++){var i=(O&2)==0?(D-U-1)*y+r:U*y+r,V=U*y+r,F,B,$,l=255,v=i*m>>>3;
if(_==1){var C=0;if(m==8)C=H[v];else throw"e";T(X,18+N+p+(C*g>>>3),g,P);F=P[0];B=P[1];$=P[2];l=P[3]}else if(_==2){T(H,v,m,P);
F=P[0];B=P[1];$=P[2];l=P[3]}else if(_==3){if(m==8)F=B=$=H[v];else throw"e"}var f=V*4;I[f]=F;I[f+1]=B;
I[f+2]=$;I[f+3]=l}return[{_z:new R(0,0,y,D),data:I.buffer,cn:L}]};nr.TGA.xMy=function(b,X,q,N){var J,_,p,z=255;
if(q==24||q==32){p=b[X];_=b[X+1];J=b[X+2];if(q==32)z=b[X+3]}else if(q==16){var g=b[X+1]<<8|b[X+0];J=g>>>10&31;
_=g>>>5&31;p=g>>>0&31;J=Math.round(J*(255/31));_=Math.round(_*(255/31));p=Math.round(p*(255/31))}else throw"e";
N[0]=J;N[1]=_;N[2]=p;N[3]=z};nr.LIF={};nr.LIF.vu=function(b){var X=new Uint8Array(b),q=0,N=112,J=42,_=e.Gs,o;
q+=8;var p=X[q];q++;if(p!=J)throw"e";var z=_(X,q);q+=4;var g=e.pb(X,q,z);q+=z*2;var W=[];while(q<X.length){o=_(X,q);
q+=4;if(o!=N)throw o;q+=4;o=X[q];q++;if(o!=J)throw o;var y=_(X,q);q+=4;var D=X[q];q++;if(D!=J){q-=5;
y=_(X,q);q+=8;o=X[q];q++;if(o!=J)throw o}var m=_(X,q)*2;q+=4;if(y>0)W.push(q+m);q+=m+y}var k=new DOMParser,O=k.parseFromString(g,"image/svg+xml").firstChild.firstChild,L=[];
nr.LIF.sU(O,X,W,L);return L};nr.LIF.sU=function(b,X,q,N){var J=b.firstChild.firstChild;if(J.tagName=="Image"){var _=J.getElementsByTagName("ImageDescription")[0],p=_.children[0].children,z=_.children[1].children,g=q.shift(),W=[];
for(var o=0;o<z.length;o++)W.push(parseInt(z[o].getAttribute("NumberOfElements")));while(W.length>3)W[2]*=W.pop();
var y=p.length,D=W[0],m=W[1],k=W[2],O=parseInt(z[0].getAttribute("BytesInc"));for(var L=0;L<k;L++){var I=x.K(D*m*4);
x.Ws(I,4278190080);for(var H=0;H<y;H++){var Y=x.K(D*m);if(O==1)for(var n=0;n<Y.length;n++)Y[n]=X[g+n];
else if(O==2)for(var n=0;n<Y.length;n++)Y[n]=Math.min(255,(X[g+n*2+1]<<8|X[g+n*2])>>>2);else throw O;
if(H!=3)x.qR(Y,I,H);if(y==1){x.qR(Y,I,1);x.qR(Y,I,2)}g+=D*m*O}N.push({_z:new R(0,0,D,m),data:I.buffer})}}else{var w=b.children,t=0;
while(t<w.length&&w[t].tagName!="Children")t++;if(t==w.length)throw"e";w=w[t].children;for(var j=0;j<w.length;
j++)nr.LIF.sU(w[j],X,q,N)}};nr.RAF={};nr.RAF.vu=function(b){var X=new Uint8Array(b),q=16,N=e.uT(X,q,4),_=32,I=0,H=0,Y=!1,F;
q+=4;var J=e.uT(X,q,8);q+=8;while(X[q+_-1]==0)_--;var p=e.uT(X,q,_);q+=32;var z=e.uT(X,q,4);q+=4;q+=20;
var g=e.o(X,q);q+=4;var W=e.o(X,q);q+=4;var o=e.o(X,q);q+=4;var y=e.o(X,q);q+=4;var D=e.o(X,q);q+=4;
var m=e.o(X,q);q+=4;var k="FujiFilm "+p,O=[0,1,1,2];if(k=="FujiFilm X10"){k="FujiFilm FinePix X10";O=[2,1,1,0]}var L={t271:["FujiFilm"],t272:[k],t277:[1],t33421:[2,2],t33422:O,qo:1};
q=o;var n=[],w=e.Dt,t=e.o(X,q);q+=4;for(var j=0;j<t;j++){var E=w(X,q);q+=2;var h=w(X,q);q+=2;if(E==256){H=w(X,q);
I=w(X,q+2)}else if(E==272){n=[w(X,q),w(X,q+2)]}else if(E==273){n.push(w(X,q),w(X,q+2))}else if(E==304){Y=!(X[q]>>>7)}else if(E==305){var u=Math.round(Math.sqrt(h)),Z=[];
for(var A=0;A<h;A++)Z.push(X[q+A]);Z.reverse();L.t33421=[u,u];L.t33422=Z}else if(E==12272){var P=w(X,q),T=w(X,q+2),U=w(X,q+6);
L.t50728=[P/T,1,P/U]}q+=h}var r=I<H,i=X.slice(D,D+m),V=Math.round(m*8/(I*H));if(i[0]==73&&i[1]==73&&i[2]==42){F=UTIF.decode(i.buffer)[0].fujiIFD;
V=F.t61443[0];var B=F.t61454;L.t50728=[B[0]/B[1],1,B[0]/B[2]];var $=F.t61447[0];i=i.slice($,$+F.t61448[0])}var m=i.length,l=m*8<I*H*V;
if(l)alert("Compressed RAF is not supported yet :(");function v(nU,nn,nH){nH=nH<<8-(nn&7);var d=nn>>>3;
nU[d]|=nH>>>16;nU[d+1]|=nH>>>8;nU[d+2]|=nH}var C=m*8/(I*H);if(C==16)for(var j=0;j<m;j+=2){var f=i[j];
i[j]=i[j+1];i[j+1]=f}else if(C==14){for(var j=0;j<m;j+=4){var f=i[j];i[j]=i[j+3];i[j+3]=f;f=i[j+1];i[j+1]=i[j+2];
i[j+2]=f}}else if(C==12)for(var j=0;j<m;j+=3){var nx=i[j+2]<<16|i[j+1]<<8|i[j+0];nx=nx>>>12|(nx&4095)<<12;
i[j]=nx>>>16&255;i[j+1]=nx>>>8&255;i[j+2]=nx&255}if(r)i=nr.RAF.xiU(i,I,H);var nA=r?2:1;I*=nA;L.t256=[I];
L.t257=[H];L.t258=[V];L.t50719=[n[1],n[0]*nA];L.t50720=[n[3],n[2]*nA];L.width=I;L.height=H;L.data=new Uint8Array(i.buffer);
return[L]};nr.RAF.xiU=function(b,X,q){b=new Uint16Array(b.buffer);var N=new Uint16Array(X*q*2);for(var J=0;
J<q;J+=2)for(var _=0;_<X;_++){var p=J*X+_,z=p*2,g=b[p],W=b[p+X];N[z+1]=N[z+2*X]=W;if(((J>>>1)+_&1)==0){N[z]=g;
N[z+2*X+1]=b[p+1]}else{N[z]=b[p-1];N[z+2*X+1]=g}}return N};nr.RAW={};nr.RAW.Jn=!0;nr.RAW.Da=function(b,X,q,N){var J=new Uint8Array(b[0][0]),_=X*q,p=[1,3,4][N[0]],z=8+8*N[1],g=N[2];
if(p==1){var W=new Uint8Array(X*q);x.iJ(J,W,0);J=W}if(p==3){var W=new Uint8Array(X*q*3);for(var o=0;
o<_;o++){var y=o*4,D=o*3;W[D]=J[y];W[D+1]=J[y+1];W[D+2]=J[y+2]}J=W}if(z==16){var m=J.length,W=new Uint8Array(m*2);
for(var o=0;o<m;o++){var k=Math.round(J[o]*(65535/255));W[o*2+g]=k>>>8;W[o*2+1-g]=k&255}J=W}return J.buffer};
function x(){}x.DO=document.createElement("canvas");x.L=x.DO.getContext("2d");x._Z=function(b,X,q,N){N=Math.log(N)/Math.log(2);
N=Math.round(N);for(var J=0;J<q;J++)for(var _=0;_<X;_++){var p=J*X+_<<2,z=x.sn(J,_,N);b[p]=b[p+1]=b[p+2]=z;
b[p+3]=255}};x.sn=function(b,X,q){return 255-((b>>>q)+(X>>>q)&1)*51};x.a_=function(b){var X=b.toString(16);
while(X.length<6)X="0"+X;return X};x.xiK=function(b){return parseInt(b,16)};x.xD=function(b){return.3*b.D+.59*b.q+.11*b.b};
x.lL=function(b){return Math.max(b.D,b.q,b.b)-Math.min(b.D,b.q,b.b)};x.tW=function(b,X,q){return.3*b+.59*X+.11*q};
x.xrT=function(b,X,q){return Math.max(b,X,q)-Math.min(b,X,q)};x.lX=function(b,X){var q=X-b,N=Math.abs(q),J=q-1,_=q+1;
if(Math.abs(J)<N)q=J;else if(Math.abs(_)<N)q=_;return q};x.Hq=function(b,X,q,N){return(X-q)*N/(b-q)};
x.bg=function(b){return b<.0031308?12.92*b:1.055*Math.pow(b,1/2.4)-.055};x.xiY=function(b){return b<.04045?b/12.92:Math.pow((b+.055)/1.055,2.4)};
x.xro=function(b,X,q,N){if(q<X)q+=N;if(b<X)b+=N;return(b-X)/(q-X)};x.xit=function(b,X){var q=Math.min(b.length,X.length);
for(var N=0;N<q;N+=4){var J=b[N],_=b[N+1],p=b[N+2];X[N]=16+Math.floor(65.481/255*J+128.553/255*_+24.966/255*p+.5);
X[N+1]=128-Math.floor(37.797/255*J-74.203/255*_+112/255*p+.5);X[N+2]=128+Math.floor(112/255*J-93.786/255*_-18.214/255*p+.5);
X[N+3]=b[N+3]}};x.$P=function(b,X,q){var N=Math.max(b,X,q),J=Math.min(b,X,q),_=0,p=0,z=(N+J)*.5;if(N!=J){var g=N-J;
p=z>.5?g/(2-(N+J)):g/(N+J);switch(N){case b:_=(X-q)/g+(X<q?6:0);break;case X:_=(q-b)/g+2;break;case q:_=(b-X)/g+4;
break}_*=1/6}return{ai:_,qD:p,hZ:z}};x.tA=function(b,X,q){var N,J,_;if(X==0)N=J=_=q;else{var p=q<.5?q*(1+X):q+X-q*X,z=2*q-p;
N=x.tH(z,p,b+1/3);J=x.tH(z,p,b);_=x.tH(z,p,b-1/3)}return{D:N,q:J,b:_}};x.tH=function(b,X,q){if(q<0)q+=1;
if(q>1)q-=1;if(q<1/6)return b+(X-b)*6*q;if(q<1/2)return X;if(q<2/3)return b+(X-b)*(2/3-q)*6;return b};
x.Hj=function(b,X,q){var N=Math.max(b,X,q),J=Math.min(b,X,q),_,p,z=N,g=N-J;p=N==0?0:g/N;if(N==J)_=0;
else{switch(N){case b:_=(X-q)/g+(X<q?6:0);break;case X:_=(q-b)/g+2;break;case q:_=(b-X)/g+4;break}_*=1/6}return{ai:_,qD:p,Qk:z}};
x.bY=function(b,X,q){var N,J,_,p,z,g,W,o;p=Math.floor(b*6);z=b*6-p;g=q*(1-X);W=q*(1-z*X);o=q*(1-(1-z)*X);
switch(p%6){case 0:N=q,J=o,_=g;break;case 1:N=W,J=q,_=g;break;case 2:N=g,J=q,_=o;break;case 3:N=g,J=W,_=q;
break;case 4:N=o,J=g,_=q;break;case 5:N=q,J=g,_=W;break}return{D:N,q:J,b:_}};x.bb=function(){var b=[],X=[];
for(var q=0;q<2e3;q++){var N=q/1e3;b[q]=x.xiY(N);X[q]=N>.008856?Math.pow(N,1/3):(903.3*N+16)*(1/116)}return[b,X]}();
x.tT=function(b,X,q){var N=x.bb[0],J=x.bb[1];b=N[~~(b*(1e3/255))];X=N[~~(X*(1e3/255))];q=N[~~(q*(1e3/255))];
var _=x.sy.xKI,p=_[0]*b+_[1]*X+_[2]*q,z=_[4]*b+_[5]*X+_[6]*q,g=_[8]*b+_[9]*X+_[10]*q;p=p*(100/96.72);
z=z*(100/100);g=g*(100/81.427);return x.sb(p,z,g)};x.sb=function(b,X,q){var N=x.bb[1],J=N[~~(b*1e3)],_=N[~~(X*1e3)],p=N[~~(q*1e3)];
return{kf:116*_-16,i:500*(J-_),b:200*(_-p)}};x.sK=function(b,X,q){var N=903.3,J=.008856,_=(b+16)/116,p=_*_*_,z=_-q/200,g=z*z*z,W=X/500+_,o=W*W*W,y=g>J?g:(116*z-16)/N,D=p>J?p:(116*_-16)/N,m=o>J?o:(116*W-16)/N,k=m*96.72,O=D*100,L=y*81.427,I=x.sy.un(x.sy.SR,[k/100,O/100,L/100,0]);
for(var H=0;H<4;H++)I[H]=Math.max(0,Math.min(255,x.bg(I[H])*255));return{D:I[0],q:I[1],b:I[2]}};x.sS=function(b,X,q,N,J){var _=b.kf,p=b.i,z=b.b,g=(_<X.kf?X.kf-_:q.kf<_?q.kf-_:0)*(1/100),W=(p<X.i?X.i-p:q.i<p?q.i-p:0)*(1/116),o=(z<X.b?X.b-z:q.b<z?q.b-z:0)*(1/116),y=Math.sqrt(g*g+W*W+o*o)*1.35;
return y<=N?Math.min(1,1.17*(1-y*J)):0};x.Ha=function(b,X,q){var N=X-x.xD(b);q.D=b.D+N;q.q=b.q+N;q.b=b.b+N;
x.xiJ(q)};x.lG=function(b,X,q){var N=b.D,J=b.q,_=b.b;if(N==J&&J==_){q.D=q.q=q.b=0}else if(N>J){if(N>_){if(J>_){q.D=X;
q.q=x.Hq(N,J,_,X);q.b=0}else{q.D=X;q.b=x.Hq(N,_,J,X);q.q=0}}else{q.b=X;q.D=x.Hq(_,N,J,X);q.q=0}}else{if(N<_){if(J>_){q.q=X;
q.b=x.Hq(J,_,N,X);q.D=0}else{q.b=X;q.q=x.Hq(_,J,N,X);q.D=0}}else{q.q=X;q.D=x.Hq(J,N,_,X);q.b=0}}};x.xiJ=function(b){var X=b.D,q=b.q,N=b.b,J=x.tW(X,q,N),_=Math.min(X,q,N),p=Math.max(X,q,N);
if(_<0){var z=J/(J-_);X=J+(X-J)*z;q=J+(q-J)*z;N=J+(N-J)*z}if(p>1){var z=(1-J)/(p-J);X=J+(X-J)*z;q=J+(q-J)*z;
N=J+(N-J)*z}b.D=X;b.q=q;b.b=N};x.kN=function(b,X,q,N,J,_){var p=new Uint32Array(b.buffer),z=0;N=Math.log(N)/Math.log(2);
N=Math.round(N);for(var g=0;g<q;g++)for(var W=0;W<X;W++){p[z++]=(g+_>>N)+(W+J>>N)&1==1?4291348680:4294967295}};
x.xrs=function(b,X,q){return(b>>q)+(X>>q)&1==1?200:255};x.J_=function(b,X){var q=b.length;for(var N=0;
N<q;N+=4)X[N>>2]=Math.floor(b[N+0]*.3+b[N+1]*.59+b[N+2]*.11+.5)};x.bK=function(b,X){var q=X.length;for(var N=0;
N<q;N+=4){var J=b[N>>>2];X[N]=J;X[N+1]=J;X[N+2]=J}};x.bL=function(b,X){var q=b.i,N=b.D,J=b.q,_=b.b,p=Math.min(b.i.length,X.buffer.byteLength>>>2),z=4*Math.floor(p/4),g=new Uint32Array(X.buffer),W=new Uint32Array(q.buffer),o=new Uint32Array(N.buffer),y=new Uint32Array(J.buffer),D=new Uint32Array(_.buffer);
for(var m=0;m<z;m+=4){var k=W[m>>2],O=D[m>>2],L=y[m>>2],I=o[m>>2];g[m]=k<<24|(O&255)<<16|(L&255)<<8|I&255;
g[m+1]=(k&65280)<<16|(O&65280)<<8|L&65280|(I&65280)>>>8;g[m+2]=(k&16711680)<<8|O&16711680|(L&16711680)>>>8|(I&16711680)>>>16;
g[m+3]=k&4278190080|(O&4278190080)>>>8|(L&4278190080)>>>16|(I&4278190080)>>>24}for(var m=z;m<p;m++)g[m]=q[m]<<24|_[m]<<16|J[m]<<8|N[m]};
x.xBw=function(b,X,q,N){var J=b.i,_=b.D,p=b.q,z=b.b,g=new Uint32Array(X.buffer),W=N.x-q.x,o=W+N.n,y=N.y-q.y,D=y+N.z;
for(var m=y;m<D;m++){var k=m*q.n+W;for(var O=W;O<o;O++){g[k]=J[k]<<24|z[k]<<16|p[k]<<8|_[k];k++}}};x.KY=function(b,X){var q=X.i,N=X.D,J=X.q,_=X.b,p=Math.min(X.i.length,b.buffer.byteLength>>>2),z=4*Math.floor(p/4),g=new Uint32Array(b.buffer),W=new Uint32Array(q.buffer),o=new Uint32Array(N.buffer),y=new Uint32Array(J.buffer),D=new Uint32Array(_.buffer);
for(var m=0;m<z;m+=4){var k=g[m],O=g[m+1],L=g[m+2],I=g[m+3];o[m>>2]=k&255|(O&255)<<8|(L&255)<<16|I<<24;
y[m>>2]=(k&65280)>>8|O&65280|(L&65280)<<8|(I&65280)<<16;D[m>>2]=(k&16711680)>>16|(O&16711680)>>8|L&16711680|(I&16711680)<<8;
W[m>>2]=k>>>24|O>>>24<<8|L>>>24<<16|I&4278190080}for(var m=z;m<p;m++){var H=g[m];N[m]=H>>0&255;J[m]=H>>8&255;
_[m]=H>>16&255;q[m]=H>>24&255}};x.iJ=function(b,X,q){var N=new Uint8Array(b.buffer),J=Math.min(N.length/4,X.length);
for(var _=0;_<J;_++){X[_]=N[(_<<2)+q]}};x.qR=function(b,X,q){var N=new Uint8Array(X.buffer),J=new Uint32Array(b.buffer),_=Math.min(N.length/4,b.length),p=0;
while(p+4<_){var z=J[p>>>2];N[(p<<2)+q]=z&255;N[(p<<2)+q+4]=z>>>8&255;N[(p<<2)+q+8]=z>>>16&255;N[(p<<2)+q+12]=z>>>24;
p+=4}while(p<_){N[(p<<2)+q]=b[p];p++}};x.clone=function(b){return b.slice(0)};x.HX=function(b,X){x.set(b.i,X);
x.set(b.D,X);x.set(b.q,X);x.set(b.b,X)};x.set=function(b,X){X=Math.round(X);var q=X<<24|X<<16|X<<8|X,N=new Uint32Array(b.buffer),J=N.length;
for(var _=0;_<J;_++)N[_]=q};x.Ws=function(b,X,q){if(q==null)q=0;var N=new Uint32Array(b.buffer),J=N.length;
for(var _=0;_<J;_++)N[_]=N[_]&q|X};x.xCP=function(b,X,q,N,J){if(J==null)J=0;var _=new Uint32Array(b.buffer);
q=q.be(X);var p=q.x-X.x,z=q.y-X.y,g=q.n,W=q.z,o=X.n;for(var y=0;y<W;y++){var D=(z+y)*o+p;for(var m=0;
m<g;m++){_[D]=_[D]&J|N;D++}}};x.xBY=function(b,X){x.vM(b.i,X.i);x.vM(b.D,X.D);x.vM(b.q,X.q);x.vM(b.b,X.b)};
x.vM=function(b,X){var q=Math.min(b.buffer.byteLength,X.buffer.byteLength),N=q>>>2,b=new Uint32Array(b.buffer,0,N),X=new Uint32Array(X.buffer,0,N);
X.set(b)};x.xBT=function(b,X){return x.Rj(b.i,X.i)&&x.Rj(b.D,X.D)&&x.Rj(b.q,X.q)&&x.Rj(b.b,X.b)};x.Rj=function(b,X){var q=b.buffer.byteLength,N=X.buffer.byteLength,J=new Uint32Array(b.buffer,0,q>>2),_=new Uint32Array(X.buffer,0,N>>2);
if(q!=N)return!1;var p=J.length;for(var z=0;z<p;z++)if(_[z]!=J[z])return!1;return!0};x.Kn=function(b){var X=new Uint32Array(b.buffer),q=X.length;
for(var N=0;N<q;N++)X[N]=~X[N]};x.xBO=function(b){var X=b.length;for(var q=3;q<X;q+=4)b[q]=~b[q]};x.xCR=function(b){return b+(b%4==0?0:4-b%4)};
x.K=function(b,X){if(X==null)X=!1;if(!X)b=x.xCR(b);try{var q=new Uint8Array(b)}catch(gi){alert("Not enough RAM! (need "+Math.round(b/(1<<20))+" MB)",7e3);
throw"low_ram"}return q};x.lo=function(b){var X=b.length,q=b[X-2],N=b[X-1];while(N.n>=2||N.z>=2){var J=x.HD(q,N);
b.push(J.Dl,J.rect);q=J.Dl;N=J.rect}};x.HD=function(b,X,q){var N=X.n,J=X.z,_=N>>1,p=J>>1,z=new R(X.x,X.y,_,p),g=q&&q.length==_*p*4?q:x.K(_*p*4),W=new Uint32Array(b.buffer),o=new Uint32Array(g.buffer);
for(var y=0;y<p;y++)for(var m=0;m<_;m++){var k=y*_+m,L=(y<<1)*N+(m<<1),I=W[L],Y=W[L+1],n=W[L+N],w=W[L+N+1],t=I>>>24,j=Y>>>24,E=n>>>24,h=w>>>24,u=t+j+E+h;
if(u==1020){var Z=(I>>>0&255)+(Y>>>0&255)+(n>>>0&255)+(w>>>0&255)+2>>>2,A=(I>>>8&255)+(Y>>>8&255)+(n>>>8&255)+(w>>>8&255)+2>>>2,P=(I>>>16&255)+(Y>>>16&255)+(n>>>16&255)+(w>>>16&255)+2>>>2;
o[k]=255<<24|P<<16|A<<8|Z}else if(u==0)o[k]=0;else{var Z=(I>>>0&255)*t+(Y>>>0&255)*j+(n>>>0&255)*E+(w>>>0&255)*h,A=(I>>>8&255)*t+(Y>>>8&255)*j+(n>>>8&255)*E+(w>>>8&255)*h,P=(I>>>16&255)*t+(Y>>>16&255)*j+(n>>>16&255)*E+(w>>>16&255)*h,T=1/u;
Z=~~(Z*T+.5);A=~~(A*T+.5);P=~~(P*T+.5);o[k]=u+2>>>2<<24|P<<16|A<<8|Z}}return{rect:z,Dl:g}};x.sr=function(b,X,q){var N=X.n,J=X.z,_=N>>1,p=J>>1,z=new R(X.x,X.y,_,p),g=q&&q.length==_*p*4?q:x.K(_*p*4),W=new Uint32Array(b.buffer),o=new Uint32Array(g.buffer);
for(var y=0;y<p;y++)for(var m=0;m<_;m++){var k=y*_+m,L=(y<<1)*N+(m<<1),I=W[L],Y=W[L+1],n=W[L+N],w=W[L+N+1],t=2+(I>>>0&255)+(Y>>>0&255)+(n>>>0&255)+(w>>>0&255)>>>2,j=2+(I>>>8&255)+(Y>>>8&255)+(n>>>8&255)+(w>>>8&255)>>>2,E=2+(I>>>16&255)+(Y>>>16&255)+(n>>>16&255)+(w>>>16&255)>>>2;
o[k]=4278190080|E<<16|j<<8|t}return{rect:z,Dl:g}};x.xvp=function(b,X,q){var N=X.n,J=X.z,_=2*Math.floor(N/3),p=2*Math.floor(J/3),z=new R(X.x,X.y,_,p),g=q&&q.length==_*p*4?q:x.K(_*p*4),W=new Uint32Array(b.buffer),o=new Uint32Array(g.buffer);
for(var y=0;y<p;y+=2)for(var m=0;m<_;m+=2){var k=y*_+m,L=(y*3>>>1)*N+(m*3>>>1),I=W[L],Y=W[L+1],n=W[L+2],w=W[L+N],t=W[L+1+N],j=W[L+2+N],E=W[L+N+N],h=W[L+1+N+N],u=W[L+2+N+N],Z=I>>>24<<2,A=(I>>>16&255)*Z,P=(I>>>8&255)*Z,T=(I&255)*Z,U=Y>>>24<<1,r=(Y>>>16&255)*U,i=(Y>>>8&255)*U,V=(Y&255)*U,F=n>>>24<<2,B=(n>>>16&255)*F,$=(n>>>8&255)*F,l=(n&255)*F,v=w>>>24<<1,C=(w>>>16&255)*v,f=(w>>>8&255)*v,nx=(w&255)*v,nA=t>>>24,nU=(t>>>16&255)*nA,nn=(t>>>8&255)*nA,nH=(t&255)*nA,d=j>>>24<<1,np=(j>>>16&255)*d,a=(j>>>8&255)*d,nb=(j&255)*d,nK=E>>>24<<2,nq=(E>>>16&255)*nK,nS=(E>>>8&255)*nK,nB=(E&255)*nK,nE=h>>>24<<1,nh=(h>>>16&255)*nE,nv=(h>>>8&255)*nE,nC=(h&255)*nE,nR=u>>>24<<2,nu=(u>>>16&255)*nR,nF=(u>>>8&255)*nR,nP=(u&255)*nR,ni=Z+U+v+nA,nw=F+U+d+nA,nO=nK+nE+v+nA,nT=nR+nE+d+nA,nI=ni==0?0:1/ni,gu=nw==0?0:1/nw,nN=nO==0?0:1/nO,xn=nT==0?0:1/nT,nL=0,nV=0,nX=0,xY=0;
nL=~~(.5+(T+V+nx+nH)*nI);nV=~~(.5+(P+i+f+nn)*nI);nX=~~(.5+(A+r+C+nU)*nI);xY=~~(.5+ni*(1/9));o[k]=xY<<24|nX<<16|nV<<8|nL;
nL=~~(.5+(l+V+nb+nH)*gu);nV=~~(.5+($+i+a+nn)*gu);nX=~~(.5+(B+r+np+nU)*gu);xY=~~(.5+nw*(1/9));o[k+1]=xY<<24|nX<<16|nV<<8|nL;
nL=~~(.5+(nB+nC+nx+nH)*nN);nV=~~(.5+(nS+nv+f+nn)*nN);nX=~~(.5+(nq+nh+C+nU)*nN);xY=~~(.5+nO*(1/9));o[k+_]=xY<<24|nX<<16|nV<<8|nL;
nL=~~(.5+(nP+nC+nb+nH)*xn);nV=~~(.5+(nF+nv+a+nn)*xn);nX=~~(.5+(nu+nh+np+nU)*xn);xY=~~(.5+nT*(1/9));o[k+_+1]=xY<<24|nX<<16|nV<<8|nL}return{rect:z,Dl:g}};
x.xv_=function(b,X,q){var N=X.n,J=X.z,_=2*Math.floor(N/3),p=2*Math.floor(J/3),z=new R(X.x,X.y,_,p),g=q&&q.length==_*p*4?q:x.K(_*p*4),W=new Uint32Array(b.buffer),o=new Uint32Array(g.buffer);
for(var y=0;y<p;y+=2)for(var m=0;m<_;m+=2){var k=y*_+m,L=(y*3>>>1)*N+(m*3>>>1),I=W[L],Y=W[L+1],n=W[L+2],w=W[L+N],t=W[L+1+N],j=W[L+2+N],E=W[L+N+N],h=W[L+1+N+N],u=W[L+2+N+N],Z=(I>>>16&255)<<2,A=(I>>>8&255)<<2,P=(I&255)<<2,T=(Y>>>16&255)<<1,U=(Y>>>8&255)<<1,r=(Y&255)<<1,i=(n>>>16&255)<<2,V=(n>>>8&255)<<2,F=(n&255)<<2,B=(w>>>16&255)<<1,$=(w>>>8&255)<<1,l=(w&255)<<1,v=t>>>16&255,C=t>>>8&255,f=t&255,nx=(j>>>16&255)<<1,nA=(j>>>8&255)<<1,nU=(j&255)<<1,nn=(E>>>16&255)<<2,nH=(E>>>8&255)<<2,d=(E&255)<<2,np=(h>>>16&255)<<1,a=(h>>>8&255)<<1,nb=(h&255)<<1,nK=(u>>>16&255)<<2,nq=(u>>>8&255)<<2,nS=(u&255)<<2,nB=0,nE=0,nh=0;
nB=~~(.5+(P+r+l+f)*(1/9));nE=~~(.5+(A+U+$+C)*(1/9));nh=~~(.5+(Z+T+B+v)*(1/9));o[k]=255<<24|nh<<16|nE<<8|nB;
nB=~~(.5+(F+r+nU+f)*(1/9));nE=~~(.5+(V+U+nA+C)*(1/9));nh=~~(.5+(i+T+nx+v)*(1/9));o[k+1]=255<<24|nh<<16|nE<<8|nB;
nB=~~(.5+(d+nb+l+f)*(1/9));nE=~~(.5+(nH+a+$+C)*(1/9));nh=~~(.5+(nn+np+B+v)*(1/9));o[k+_]=255<<24|nh<<16|nE<<8|nB;
nB=~~(.5+(nS+nb+nU+f)*(1/9));nE=~~(.5+(nq+a+nA+C)*(1/9));nh=~~(.5+(nK+np+nx+v)*(1/9));o[k+_+1]=255<<24|nh<<16|nE<<8|nB}return{rect:z,Dl:g}};
x.sE=function(b){var X=255,q=b.length;q-=q&31;for(var N=3;N<q;N+=32)X=X&b[N]&b[N+4]&b[N+8]&b[N+12]&b[N+16]&b[N+20]&b[N+24]&b[N+28];
return X!=255};x.bH=function(b,X,q,N){var J=x.HD,_=x.xvp,z=0;if(!x.sE(b)){J=x.sr;_=x.xv_}var p={Dl:b,rect:X},g=q;
while(g<.499){z++;g*=2}for(var W=0;W<z;W++)p=J(p.Dl,p.rect,N);if(g<.5001)p=J(p.Dl,p.rect,N);else p=_(p.Dl,p.rect,N);
return p};x.sw=function(b,X,q,N){var J=x.xvK,_=x.xvq,p={Dl:b,rect:X},z=0,g=q;while(g<.499){z++;g*=2}for(var W=0;
W<z;W++)p=J(p.Dl,p.rect,N);if(g<.5001)p=J(p.Dl,p.rect,N);else p=_(p.Dl,p.rect,N);return p};x.xvK=function(b,X,q){var N=X.n,J=X.z,_=N>>1,p=J>>1,z=new R(X.x,X.y,_,p);
if(b==null)return{rect:z};var g=q&&q.length>=_*p?q:x.K(_*p);for(var o=0;o<p;o++){var y=o*_;for(var m=0;
m<_;m++){var k=(o<<1)*N+(m<<1);g[y+m]=2+b[k]+b[k+1]+b[k+N]+b[k+N+1]>>>2}}return{rect:z,Dl:g}};x.xvq=function(b,X,q){var N=X.n,J=X.z,_=2*Math.floor(N/3),p=2*Math.floor(J/3),z=new R(X.x,X.y,_,p);
if(b==null)return{rect:z};var g=q&&q.length>=_*p?q:x.K(_*p);for(var o=0;o<p;o+=2)for(var y=0;y<_;y+=2){var m=o*_+y,k=(o*3>>>1)*N+(y*3>>>1),L=b[k]<<2,I=b[k+1]<<1,Y=b[k+2]<<2,n=b[k+N]<<1,w=b[k+1+N],t=b[k+2+N]<<1,j=b[k+N+N]<<2,E=b[k+1+N+N]<<1,h=b[k+2+N+N]<<2;
g[m]=~~(.5+(L+I+n+w)*(1/9));g[m+1]=~~(.5+(Y+I+t+w)*(1/9));g[m+_]=~~(.5+(j+E+n+w)*(1/9));g[m+_+1]=~~(.5+(h+E+t+w)*(1/9))}return{rect:z,Dl:g}};
x.rS=function(b,X,q,N,J){var _=X.be(N);if(J)_=_.be(J);var p=Math.max(0,_.x-X.x),z=Math.max(0,_.x-N.x),g=Math.max(0,_.y-X.y),W=Math.max(0,_.y-N.y),o=_.n,y=_.z;
for(var m=0;m<y;m++){var k=(g+m)*X.n+p,O=(W+m)*N.n+z;for(var L=0;L<o;L++){q[O+L]=b[k+L]}}};x.sa=function(b,X,q,N){if(X.Rj(N)){x.qR(b,q,3);
return}var J=X.be(N),_=Math.max(0,J.x-X.x),p=Math.max(0,J.x-N.x),z=Math.max(0,J.y-X.y),g=Math.max(0,J.y-N.y),W=J.n,o=J.z;
for(var y=0;y<o;y++){var D=(z+y)*X.n+_,m=(g+y)*N.n+p;for(var k=0;k<W;k++)q[(m+k<<2)+3]=b[D+k]}};x.sM=function(b,X,q,N){var J=X.be(N),_=Math.max(0,J.x-X.x),p=Math.max(0,J.x-N.x),z=Math.max(0,J.y-X.y),g=Math.max(0,J.y-N.y),W=J.n,o=J.z;
for(var y=0;y<o;y++){var D=(z+y)*X.n+_,m=(g+y)*N.n+p;for(var k=0;k<W;k++)q[m+k]=b[(D+k<<2)+3]}};x.xBc=function(b,X,q,N){var J=X.be(N),_=Math.max(0,J.x-X.x),p=Math.max(0,J.x-N.x),z=Math.max(0,J.y-X.y),g=Math.max(0,J.y-N.y),W=J.n,o=J.z;
for(var y=0;y<o;y++){var D=(z+y)*X.n+_,m=(g+y)*N.n+p;for(var k=0;k<W;k++)q[m++]=b[D++]}};x.iX=function(b,X,q,N,J){if(X.Rj(N)&&(J==null||J.Rj(N))){x.vM(b,q);
return}b=new Uint32Array(b.buffer),q=new Uint32Array(q.buffer);var _=X.be(N);if(J)_=_.be(J);var p=Math.max(0,_.x-X.x),z=Math.max(0,_.x-N.x),g=Math.max(0,_.y-X.y),W=Math.max(0,_.y-N.y),o=_.n,y=_.z,m=o&3,k=m==0?o:o-m;
for(var O=0;O<y;O++){var L=(g+O)*X.n+p,I=(W+O)*N.n+z,H=0;while(H<k){q[I+H]=b[L+H];q[I+H+1]=b[L+H+1];
q[I+H+2]=b[L+H+2];q[I+H+3]=b[L+H+3];H+=4}if(m==1){q[I+H]=b[L+H]}else if(m==2){q[I+H]=b[L+H];q[I+H+1]=b[L+H+1]}else if(m==3){q[I+H]=b[L+H];
q[I+H+1]=b[L+H+1];q[I+H+2]=b[L+H+2]}}};x.ba=function(b,X,q,N){var J=X.be(N),_=Math.max(0,J.x-X.x),p=Math.max(0,J.x-N.x),z=Math.max(0,J.y-X.y),g=Math.max(0,J.y-N.y),W=J.n,o=J.z,y=b.i,D=b.D,m=b.q,k=b.b,O=q.i,L=q.D,I=q.q,H=q.b;
for(var Y=0;Y<o;Y++){var n=(z+Y)*X.n+_,w=(g+Y)*N.n+p;for(var t=0;t<W;t++){O[w+t]=y[n+t];L[w+t]=D[n+t];
I[w+t]=m[n+t];H[w+t]=k[n+t]}}};x.bP=function(b){var X=b.length;for(var q=0;q<X;q+=4){var N=b[q+3];b[q]=~~(b[q]*N*(1/255)+.5);
b[q+1]=~~(b[q+1]*N*(1/255)+.5);b[q+2]=~~(b[q+2]*N*(1/255)+.5)}};x.bM=function(b){var X=b.length;for(var q=0;
q<X;q+=4){var N=b[q+3];if(N==0||N==255)continue;var J=255/N;b[q]=~~(b[q]*J+.5);b[q+1]=~~(b[q+1]*J+.5);
b[q+2]=~~(b[q+2]*J+.5)}};x.xBf=function(){var b=new Uint8Array(256*256);for(var X=0;X<256;X++)for(var q=0;
q<256;q++)b[q*256+X]=Math.round(255*X/q);return b}();x.lc=function(b,X){for(var q=0;q<b.length;q++)if(b[q]!=X)return!1;
return!0};x.Ry=function(b){return b+1+(b>>>8)>>>8};x.round=function(b,X){if(X==null)X=128;var q=b.length;
for(var N=0;N<q;N++)b[N]=b[N]<X?0:255};x.WA=function(b,X){var q=b.length;for(var N=0;N<q;N++)b[N]=Math.round(b[N]*X)};
x.xBm=function(b,X){var q=b.length;for(var N=0;N<q;N+=4)b[N+3]=Math.round(b[N+3]*X)};x.Wx=function(b,X){var q=new Uint32Array(b.buffer),N=new Uint32Array(X.buffer),J=q.length;
for(var _=0;_<J;_++){var p=q[_],z=N[_];N[_]=x.Ry((p>>>24)*(z>>>24))<<24|x.Ry((p>>>16&255)*(z>>>16&255))<<16|x.Ry((p>>>8&255)*(z>>>8&255))<<8|x.Ry((p&255)*(z&255))}};
x.si=function(b,X){var q=b.length;for(var N=0;N<q;N++)X[(N<<2)+3]=x.Ry(X[(N<<2)+3]*b[N])};x.xvH=function(b,X,q,N){var J=Math.max(0,N.x-X.x),_=Math.max(0,X.x-N.x),p=Math.max(0,N.y-X.y),z=Math.max(0,X.y-N.y),g=Math.min(X.x+X.n,N.x+N.n)-Math.max(X.x,N.x),W=Math.min(X.y+X.z,N.y+N.z)-Math.max(X.y,N.y);
for(var o=0;o<W;o++){var y=(p+o)*X.n+J,D=(z+o)*N.n+_;for(var m=0;m<g;m++){q[D]=x.Ry(q[D]*b[y]);y++;D++}}};
x.KI=function(b,X,q,N){var J=Math.max(0,N.x-X.x),_=Math.max(0,X.x-N.x),p=Math.max(0,N.y-X.y),z=Math.max(0,X.y-N.y),g=Math.min(X.x+X.n,N.x+N.n)-Math.max(X.x,N.x),W=Math.min(X.y+X.z,N.y+N.z)-Math.max(X.y,N.y);
for(var o=0;o<W;o++){var y=(p+o)*X.n+J,D=((z+o)*N.n+_<<2)+3;for(var m=0;m<g;m++){q[D]=x.Ry(q[D]*b[y]);
y++;D+=4}}};x.bF=function(b,X,q,N){var J=Math.max(0,N.x-X.x),_=Math.max(0,X.x-N.x),p=Math.max(0,N.y-X.y),z=Math.max(0,X.y-N.y),g=Math.min(X.x+X.n,N.x+N.n)-Math.max(X.x,N.x),W=Math.min(X.y+X.z,N.y+N.z)-Math.max(X.y,N.y);
for(var o=0;o<W;o++){var y=((p+o)*X.n+J<<2)+3,D=((z+o)*N.n+_<<2)+3;for(var m=0;m<g;m++){q[D]=x.Ry(q[D]*b[y]);
y+=4;D+=4}}};x.xqi=function(b,X,q,N){var J=1/255,_=Math.max(0,N.x-X.x),p=Math.max(0,X.x-N.x),z=Math.max(0,N.y-X.y),g=Math.max(0,X.y-N.y),W=Math.min(X.x+X.n,N.x+N.n)-Math.max(X.x,N.x),o=Math.min(X.y+X.z,N.y+N.z)-Math.max(X.y,N.y);
for(var y=0;y<o;y++){var D=(z+y)*X.n+_,m=(g+y)*N.n+p;for(var k=0;k<W;k++){q[m]=J*q[m]*(255-b[D]);D++;
m++}}};x.xqv=function(b,X){var q=[];for(var N=0;N<256;N++)q.push(0);var J=b.length,_=1/255;for(var N=0;
N<J;N++)q[b[N]]+=X[N]*_;return q};x.Ew=function(b){var X=new Float64Array(256),q=new Float64Array(256),N=new Float64Array(256),J=new Float64Array(256),_=b.length;
for(var p=0;p<_;p+=4){var z=b[p+3]*(1/255);q[b[p+0]]+=z;N[b[p+1]]+=z;J[b[p+2]]+=z}for(var p=0;p<256;
p++)X[p]=q[p]+N[p]+J[p];return[X,q,N,J,_>>>2]};x.aW=function(b,X){var q=new Uint32Array(b.buffer),N=q.length;
for(var J=0;J<N;J++){var _=q[J],p=_&255,z=_>>8&255,g=_>>16&255,W=_>>24&255;q[J]=X[p]|X[z]<<8|X[g]<<16|X[W]<<24}};
x.xvX=function(b,X,q,N,J,_,p){var z=new Uint32Array(b.buffer),g=new Uint32Array(X.buffer),W=z.length,o=0;
while(256<<o<q.length)o++;if(!p&&!_){for(var y=0;y!=W;y++){var D=z[y],m=(D&255)<<o,k=(D>>>8&255)<<o,O=(D>>>16&255)<<o,L=q[m],I=N[k],H=J[O];
g[y]=L|I<<8|H<<16|D&4278190080}return}for(var y=0;y<W;y++){var D=z[y],m=(D&255)<<o,k=(D>>>8&255)<<o,O=(D>>>16&255)<<o;
if(_)m=k=O=Math.round(m*.3+k*.59+O*.11);var L=q[m],I=N[k],H=J[O];if(p){var n=x.tW(m,k,O),w=x.tW(L,I,H);
if(n>w){var t=(n-w)/(255-w);L+=t*(255-L);I+=t*(255-I);H+=t*(255-H)}else if(w==0)L=I=H=0;else{var t=n/w;
L=t*L;I=t*I;H=t*H}}g[y]=L|I<<8|H<<16|D&4278190080}};x.xqR=function(b){var X=new Uint32Array(256),N=0;
for(var q=0;q<b.length;q++)X[b[q]]++;for(var q=0;q<256;q++)if(X[q]>X[N])N=q;return N};x.E_=function(b,X){var q=X.n,N=X.z,top=0,J=0,_=0,p=0,z=0;
z=0;for(var g=0;g<N;g++){var W=g*q;for(var o=0;o<q;o++)z|=b[W+o];if(z!=0)break;top++}if(top==N)return new R(0,0,0,0);
z=0;for(var g=N-1;g>=0;g--){var W=g*q;for(var o=0;o<q;o++)z|=b[W+o];if(z!=0)break;_++}var y=N-_;z=0;
for(var o=0;o<q;o++){for(var g=top;g<y;g++)z|=b[g*q+o];if(z!=0)break;J++}z=0;for(var o=q-1;o>=0;o--){for(var g=top;
g<y;g++)z|=b[g*q+o];if(z!=0)break;p++}var D=new R(X.x+J,X.y+top,q-J-p,N-top-_);return D};x.bQ=function(b,X,q,N){if(N==null)N=[!0,!0,!0,!0];
if(q==null)q=0;var J=new Uint32Array(b.buffer),_=X.n,p=X.z,top=0,z=0,g=0,W=0,o=!1,y=[J[0],J[J.length-1],0][q];
o=!1;if(N[0])for(var D=0;D<p;D++){var m=D*_;for(var k=0;k<_;k++)if(J[m+k]!=y)o=!0;if(o)break;top++}o=!1;
if(N[2])for(var D=p-1;D>=0;D--){var m=D*_;for(var k=0;k<_;k++)if(J[m+k]!=y)o=!0;if(o)break;g++}o=!1;
if(N[1])for(var k=0;k<_;k++){for(var D=0;D<p;D++)if(J[D*_+k]!=y)o=!0;if(o)break;z++}o=!1;if(N[3])for(var k=_-1;
k>=0;k--){for(var D=0;D<p;D++)if(J[D*_+k]!=y)o=!0;if(o)break;W++}var O=new R(X.x+z,X.y+top,_-z-W,p-top-g);
return O.qa()?new R(0,0,0,0):O};x.xqW=function(b){var X=255,q=b.length;for(var N=3;N<q;N+=4)X=X&b[N];
return X};x.Du=function(b){var X=x.E_(b.channel,b.rect);if(X.Rj(b.rect))return;var q=x.K(X.c());x.rS(b.channel,b.rect,q,X);
b.channel=q;b.rect=X};x.Wp=function(b){var X=x.K(b.buffer.length>>2);x.iJ(b.buffer,X,3);var q=x.E_(X,b.rect);
if(q.Rj(b.rect))return;var N=new x.K(q.c()*4);x.iX(b.buffer,b.rect,N,q);b.buffer=N;b.rect=q};x.extend=function(b,X,q){if(b.rect.Rh(X))return;
var N=b.rect.Tg(X),J=x.K(N.c());if(q!=null)x.set(J,q);x.rS(b.channel,b.rect,J,N);b.rect=N;b.channel=J};
x.xvk=function(b,X){if(X.qa()||b.rect.Rh(X))return;var q=b.rect.Tg(X),N=x.K(q.c()*4);x.iX(b.buffer,b.rect,N,q);
b.rect=q;b.buffer=N};x.xqu=function(b,X,q){var N=X.clone(),J=q.c(),_=b.Tg(N);while(_.c()/b.c()<2&&_.c()<J){N.Ii(16,16);
_=_.Tg(N).be(q)}if(J/_.c()<2)_=q.clone();return _};x.sC=function(b){var X=b.length;for(var q=0;q<X;q+=4){var N=b[q+3];
if(b[q]>N)b[q]=N;if(b[q+1]>N)b[q+1]=N;if(b[q+2]>N)b[q+2]=N}};x.hT=function(b,X,q){if(!q.gD(b))return!1;
var N=Math.floor(b.x)-q.x,J=Math.floor(b.y)-q.y,_=J*q.n+N;return X[_]>128};x.xRH=function(b,X,q){if(!q.gD(b))return!1;
var N=Math.floor(b.x)-q.x,J=Math.floor(b.y)-q.y,_=J*q.n+N;return X[4*_+3]>128};x.sv=function(b){if(x.Wn.length<b){x.Wn=x.K(b);
x.set(x.Wn,255)}return x.Wn};x.Wn=x.K(0);x.$j=function(b){if(x.bN.length<b)x.bN=x.K(b);return x.bN};
x.bN=x.K(0);x.Sm=function(b){this.i=x.K(b);this.D=x.K(b);this.q=x.K(b);this.b=x.K(b)};x.Sm.prototype.clone=function(){var b=this.i.length,X=new x.Sm(1);
X.i=x.clone(this.i);X.D=x.clone(this.D);X.q=x.clone(this.q);X.b=x.clone(this.b);return X};x.t={};x.t.Wb=new Float64Array(256);
x.t.tc=new Uint8Array(256*256);x.t.bc=new Uint8Array(256*256);(function(){for(var b=0;b<256;b++)x.t.Wb[b]=255/b;
for(var b=0;b<256;b++)for(var X=0;X<256;X++)x.t.tc[b*256+X]=b==0?0:Math.round(X*255/b);for(var b=0;b<256;
b++)for(var X=0;X<256;X++)x.t.bc[b*256+X]=Math.round(b*(255-X)/255)}());x.t.TG=function(b,X,q,N,J,_,p,z){if(z==null)z=nM.lM();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(b)==-1){p=p*z.fill;z.fill=1;z.style=!1}var g="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),W="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),o=x.t[b+"F"];
if(z.dr==null&&b=="norm")x.t.xFM(X,q,N,J,_,p,o,z.dS?1:0);else if(b=="diss")x.t.xQn(X,q,N,J,_,p,o,z.dS?1:0);
else if(g.indexOf(b)!=-1)x.t.xFm(X,q,N,J,_,p,o,z);else if(W.indexOf(b)!=-1)x.t.xQU(X,q,N,J,_,p,o,z)};
x.t.xRW=function(b,X,q){var N=b*q+1-q;return N<.001?0:1-Math.min(1,(1-X)/N)};x.t.xRj=function(b,X,q){return b*q==1?1:Math.min(1,X/(1-b*q))};
x.t.Kk=function(b){return b<=.25?((16*b-12)*b+4)*b:Math.sqrt(b)};x.t.normF=function(b,X,q){return b};
x.t.darkF=function(b,X,q){return Math.min(b,X)};x.t["mul F"]=function(b,X,q){return b*X};x.t.idivF=function(b,X,q){var N=b*q+1-q;
return X==1?1:1-X>=N?0:1-(1-X)/N};x.t.lbrnF=function(b,X,q){return Math.max(0,b*q+X-q)};x.t.dkClF=function(b,X,q){var N=x.xD(b)<x.xD(X)?b:X;
q.D=N.D;q.q=N.q;q.b=N.b;return q};x.t.liteF=function(b,X,q){return Math.max(b,X)};x.t.scrnF=function(b,X,q){return X+b-X*b};
x.t["div F"]=function(b,X,q){b*=q;return X==0?0:X>=1-b?1:X/(1-b)};x.t.lddgF=function(b,X,q){b*=q;return Math.min(1,b+X)};
x.t.lgClF=function(b,X,q){var N=x.xD(b)>x.xD(X)?b:X;q.D=N.D;q.q=N.q;q.b=N.b;return q};x.t.overF=function(b,X,q){return x.t.hLitF(X,b,q)};
x.t.sLitF=function(b,X,q){return b<=.5?X-(1-2*b)*X*(1-X):X+(2*b-1)*(x.t.Kk(X)-X)};x.t.hLitF=function(b,X,q){return b<=.5?x.t["mul F"](2*b,X,q):x.t.scrnF(2*b-1,X,q)};
x.t.vLitF=function(b,X,q){return b<=.5?x.t.xRW(2*b,X,q):x.t.xRj(2*b-1,X,q)};x.t.lLitF=function(b,X,q){return b<=.5?x.t.lbrnF(2*b,X,q):x.t.lddgF(2*b-1,X,q)};
x.t.pLitF=function(b,X,q){return b<=.5?x.t.darkF(2*b,X,q):x.t.liteF(2*b-1,X,q)};x.t.hMixF=function(b,X,q){if(q>.99)return b+X<1?0:1;
return Math.min(1,Math.max(0,(X+b*q-q)/(1-q+1e-6)))};x.t.diffF=function(b,X,q){b*=q;return Math.abs(b-X)};
x.t.smudF=function(b,X,q){return b+X-2*b*X};x.t.fsubF=function(b,X,q){return Math.max(X-b,0)};x.t.fdivF=function(b,X,q){return Math.min(X/b,1)};
x.t["hue F"]=function(b,X,q){x.lG(b,x.lL(X),q);x.Ha(q,x.xD(X),q)};x.t["sat F"]=function(b,X,q){x.lG(X,x.lL(b),q);
x.Ha(q,x.xD(X),q)};x.t.colrF=function(b,X,q){x.Ha(b,x.xD(X),q)};x.t["lum F"]=function(b,X,q){x.Ha(X,x.xD(b),q)};
x.t.xFM=function(b,X,q,N,J,_,p,z){var g=X.be(N).be(J),W=Math.max(0,g.x-X.x),o=Math.max(0,g.x-N.x),y=Math.max(0,g.y-X.y),m=Math.max(0,g.y-N.y),k=g.n,O=g.z,L=X.n,I=N.n,H=x.t.tc,Y=x.t.bc,n=new Uint32Array(b.buffer),w=new Uint32Array(q.buffer);
for(var t=0;t<O;t++){var j=(y+t)*L+W,E=(m+t)*I+o;for(var h=0;h<k;h++){var u=n[j+h],P=255;if(u>>>24==0)continue;
if(u>>>24==255&&_==1&&z==0){w[E+h]=n[j+h];continue}var Z=w[E+h],A=255*_&255;if(z==0){A=(u>>>24)*_&255;
P=Z>>>24}var T=Y[P<<8|A],U=A+T,r=u&255,i=u>>>8&255,V=u>>>16&255,F=Z&255,B=Z>>>8&255,$=Z>>>16&255;w[E+h]=z*(Z>>>24)+(1-z)*U<<24|H[U<<8|x.Ry(V*A+$*T)]<<16|H[U<<8|x.Ry(i*A+B*T)]<<8|H[U<<8|x.Ry(r*A+F*T)]}}};
x.t.xFJ=function(b,X,q,N,J,_){var p=X.be(N).be(J),z=Math.max(0,p.x-X.x),g=Math.max(0,p.x-N.x),W=Math.max(0,p.y-X.y),o=Math.max(0,p.y-N.y),y=p.n,m=p.z,k=X.n,O=N.n,L=x.t.tc,I=x.t.bc,H=new Uint32Array(b.buffer),Y=new Uint32Array(q.buffer),n=Math.floor(Math.random()*16777215),w=0;
for(var t=0;t<m;t++){var j=(W+t)*k+z,E=(o+t)*O+g;for(var h=0;h<y;h++){var u=H[j+h];if(u>>>24==0)continue;
if(u>>24==255&&_==1){Y[E+h]=u;continue}var Z=Y[E+h],A=(u>>>24)*_*(1/255),P=(Z>>>24)*(1/255),T=P*(1-A),U=A+T,r=u&255,i=u>>>8&255,V=u>>>16&255,F=Z&255,B=Z>>>8&255,$=Z>>>16&255;
w>>>=8;if((h&3)==0)w=x.t.SB(E+h+n);var l=U==0?0:1/U,v=Math.floor(U*(256*255))+(w&255)>>>8,C=Math.floor((V*A+$*T)*l+.5),f=Math.floor((i*A+B*T)*l+.5),nx=Math.floor((r*A+F*T)*l+.5);
Y[E+h]=v<<24|C<<16|f<<8|nx}}};x.t.WS=function(b,X,q,N,J,_,p,z){var g=x.tW(b,X,q),W=x.tW(N,J,_),o=Math.min,y=x.t.xFo,D=y(g,z,0);
D=o(D,y(b,z,8));D=o(D,y(X,z,16));D=o(D,y(q,z,24));var m=y(W,z,4);m=o(m,y(N,z,12));m=o(m,y(J,z,20));m=o(m,y(_,z,28));
m=Math.max(m,1-p);var k=Math.min(D,m);return k<0?0:k>1?1:k};x.t.xFo=function(b,X,q){return Math.min((b-X[q])*X[q+1],(b-X[q+3])*X[q+2])};
x.t.xFm=function(b,X,q,N,J,_,p,z){var g=1/255,W=g*_,o=z.dS?1:0,y=z.fill,m=z.style,k=X.be(N).be(J),O=Math.max(0,k.x-X.x),L=Math.max(0,k.x-N.x),I=Math.max(0,k.y-X.y),H=Math.max(0,k.y-N.y),Y=k.n,n=k.z,w=X.n,t=N.n,j=new Uint32Array(b.buffer),E=new Uint32Array(q.buffer);
for(var h=0;h<n;h++){var u=(I+h)*w+O,Z=(H+h)*t+L;for(var A=0;A<Y;A++,u++,Z++){var P=j[u],l=1;if(P>>>24==0)continue;
var T=E[Z],U=(P&255)*g,r=(P>>>8&255)*g,i=(P>>>16&255)*g,V=(T&255)*g,F=(T>>>8&255)*g,B=(T>>>16&255)*g,$=_;
if(o==0){$=(P>>>24)*W;l=(T>>>24)*g}if(z.dr)$*=x.t.WS(U,r,i,V,F,B,l,z.dr);var v=l*(1-$),C=$+v,f=255/C,nx=m?1:$,nA=((1-l)*$*U+(1-nx)*l*V+nx*l*p(U,V,(1+$-nx)*y))*f,nU=((1-l)*$*r+(1-nx)*l*F+nx*l*p(r,F,(1+$-nx)*y))*f,nn=((1-l)*$*i+(1-nx)*l*B+nx*l*p(i,B,(1+$-nx)*y))*f;
C=$*y+l*(1-$*y);var nH=Math.round(C*255);E[Z]=o*(T>>>24)+(1-o)*nH<<24|nn<<16|nU<<8|nA}}};x.t.xQU=function(b,X,q,N,J,_,p,z){var g=1/255,W=g*_,o=z.dS?1:0,y=X.be(N).be(J),m=Math.max(0,y.x-X.x),k=Math.max(0,y.x-N.x),O=Math.max(0,y.y-X.y),L=Math.max(0,y.y-N.y),I=y.n,H=y.z,Y=new Uint32Array(b.buffer),n=new Uint32Array(q.buffer),w={D:0,q:0,b:0},t={D:0,q:0,b:0},j={D:0,q:0,b:0};
for(var E=0;E<H;E++){var h=(O+E)*X.n+m,u=(L+E)*N.n+k;for(var Z=0;Z<I;Z++,h++,u++){var A=Y[h],P=n[u],T=(A&255)*g,U=(A>>>8&255)*g,r=(A>>>16&255)*g,i=(P&255)*g,V=(P>>>8&255)*g,F=(P>>>16&255)*g,B=_,$=1;
if(o==0){B=(A>>>24)*W;$=(P>>>24)*g}if(z.dr)B*=x.t.WS(T,U,r,i,V,F,$,z.dr);var l=$*(1-B),v=B+l,C=255/v;
w.D=T;w.q=U;w.b=r;t.D=i;t.q=V;t.b=F;p(w,t,j);var f=(((1-$)*T+$*j.D)*B+i*l)*C,nx=(((1-$)*U+$*j.q)*B+V*l)*C,nA=(((1-$)*r+$*j.b)*B+F*l)*C,nU=o*(P>>>24)+(1-o)*Math.round(v*255);
n[u]=nU<<24|nA<<16|nx<<8|f}}};x.t.ky=function(b){b=b^61^b>>>16;b=b+(b<<3);b=b^b>>>4;b=b*668265261;b=b^b>>15;
return(b&16777215)*(1/16777215)};x.t.SB=function(b){b=b^61^b>>>16;b=b+(b<<3);b=b^b>>>4;b=b*668265261;
b=b^b>>>15;return b};x.t.bZ=function(b){this.JV=b};x.t.bZ.prototype.get=function(){var b=this.JV=x.t.SB(this.JV);
return(b&16777215)*(1/16777215)};x.t.xQn=function(b,X,q,N,J,_,p,z){var g=1/255,W=g*_,o=Math.round(_*(256*256*256/255)),y=X.be(N).be(J),m=Math.max(0,y.x-X.x),k=Math.max(0,y.x-N.x),O=Math.max(0,y.y-X.y),L=Math.max(0,y.y-N.y),I=y.n,H=y.z,Y=new Uint32Array(b.buffer),n=new Uint32Array(q.buffer);
for(var w=0;w<H;w++){var t=(O+w)*X.n+m,j=(L+w)*N.n+k;for(var E=0;E<I;E++,t++,j++){var h=Y[t],u=n[j],Z=z*255+(1-z)*(h>>>24);
if((x.t.SB(t)&16777215)>=Z*o)continue;n[j]=h&16777215|z*(u>>>24)+(1-z)*255<<24}}};x.t.xqk=function(b,X,q){for(var N=0;
N<b.length;N+=4){var J=q[N>>>2];if(J==0)continue;var _=J*(1/255),p=1/_,z=X[N],g=X[N+1],W=X[N+2],o=b[N],y=b[N+1],D=b[N+2];
X[N]=Math.min(255,Math.max(0,Math.round((z-(1-_)*o)*p)));X[N+1]=Math.min(255,Math.max(0,Math.round((g-(1-_)*y)*p)));
X[N+2]=Math.min(255,Math.max(0,Math.round((W-(1-_)*D)*p)));X[N+3]=255}};x.t.gB=function(b,X,q,N,J,_,p,z,g,W){if(W==null)W=!1;
if(J&&!X.Rj(_)){var o=x.K(X.c()*4);x.set(o,p);x.rS(J,_,o,X);J=o;_=X}if(W){if(J==null)x.t.xdh(b,X,q,N,J,z,g);
else x.t.xdm(b,X,q,N,J,z,g)}else{if(J==null)x.t.xQy(b,X,q,N,J,z,g);else x.t.xdi(b,X,q,N,J,z,g)}};x.t.xQy=function(b,X,q,N,J,_,p){var z=1/255,g=X.be(N).be(_),W=Math.max(0,g.x-X.x),o=Math.max(0,g.x-N.x),y=Math.max(0,g.y-X.y),m=Math.max(0,g.y-N.y),k=g.n,O=g.z,L=new Uint32Array(b.buffer),I=new Uint32Array(q.buffer),H=x.t.tc,Y=p*255&255;
for(var n=0;n<O;n++){var w=(y+n)*X.n+W,t=(m+n)*N.n+o;for(var j=0;j<k;j++,w++,t++){var E=L[w],h=I[t],u=E>>>24,Z=h>>>24,A=x.Ry(Y*u+(255-Y)*Z),P=x.Ry(u*Y),T=x.Ry(Z*(255-Y)),U=E&255,r=E>>>8&255,i=E>>>16&255,V=h&255,F=h>>>8&255,B=h>>>16&255,$=P*U+V*T,l=P*r+F*T,v=P*i+B*T;
$=H[A<<8|x.Ry($)];l=H[A<<8|x.Ry(l)];v=H[A<<8|x.Ry(v)];I[t]=A<<24|v<<16|l<<8|$}}};x.t.xdh=function(b,X,q,N,J,_,p){var z=1/255,g=X.be(N).be(_),W=Math.max(0,g.x-X.x),o=Math.max(0,g.x-N.x),y=Math.max(0,g.y-X.y),m=Math.max(0,g.y-N.y),k=g.n,O=g.z,L=new Uint32Array(b.buffer),I=new Uint32Array(q.buffer),H=x.t.tc,Y=p*16777215&16777215;
for(var n=0;n<O;n++){var w=(y+n)*X.n+W,t=(m+n)*N.n+o;for(var j=0;j<k;j++,w++,t++){if((x.t.SB(w)&16777215)<Y)I[t]=L[w]}}};
x.t.xdi=function(b,X,q,N,J,_,p){var z=1/255,g=X.be(N).be(_),W=Math.max(0,g.x-X.x),o=Math.max(0,g.x-N.x),y=Math.max(0,g.y-X.y),m=Math.max(0,g.y-N.y),k=g.n,O=g.z,L=new Uint32Array(b.buffer),I=new Uint32Array(q.buffer),H=x.t.tc;
for(var Y=0;Y<O;Y++){var n=(y+Y)*X.n+W,w=(m+Y)*N.n+o;for(var t=0;t<k;t++,n++,w++){var j=J[n]*p&255;if(j==0)continue;
if(j==255){I[w]=L[n];continue}var E=L[n],h=I[w],u=E>>>24,Z=h>>>24,A=x.Ry(j*u+(255-j)*Z),P=x.Ry(u*j),T=x.Ry(Z*(255-j)),U=E&255,r=E>>>8&255,i=E>>>16&255,V=h&255,F=h>>>8&255,B=h>>>16&255,$=H[A<<8|x.Ry(P*U+V*T)],l=H[A<<8|x.Ry(P*r+F*T)],v=H[A<<8|x.Ry(P*i+B*T)];
I[w]=A<<24|v<<16|l<<8|$}}};x.t.xdm=function(b,X,q,N,J,_,p){var z=1/255,g=X.be(N).be(_),W=Math.max(0,g.x-X.x),o=Math.max(0,g.x-N.x),y=Math.max(0,g.y-X.y),m=Math.max(0,g.y-N.y),k=g.n,O=g.z,L=new Uint32Array(b.buffer),I=new Uint32Array(q.buffer),H=x.t.tc,Y=Math.round(p*257);
for(var n=0;n<O;n++){var w=(y+n)*X.n+W,t=(m+n)*N.n+o;for(var j=0;j<k;j++,w++,t++){var E=J[w]*Y;if((x.t.SB(w)&65535)<E)I[t]=L[w]}}};
x.t.sR=function(b,X,q,N,J,_,p){var z=1/255,g=X.be(N).be(_),W=Math.max(0,g.x-X.x),o=Math.max(0,g.x-N.x),y=Math.max(0,g.y-X.y),m=Math.max(0,g.y-N.y),k=g.n,O=g.z,L=new Uint32Array(b.buffer),I=new Uint32Array(q.buffer),H=Math.floor(Math.random()*N.c()),Y=x.t.xlw;
for(var n=0;n<O;n++){var w=(y+n)*X.n+W,t=(m+n)*N.n+o;for(var j=0;j<k;j++){var E=J[w+j]*p;if(E==0)continue;
if(E==255){I[t+j]=L[w+j];continue}var h=L[w+j],u=I[t+j],Z=h>>>24,A=u>>>24,P=Z*E*(1/255),T=A*(255-E)*(1/255),U=h&255,r=h>>>8&255,i=h>>>16&255,V=u&255,F=u>>>8&255,B=u>>>16&255,$=x.t.SB(t+j+H),l=Math.floor((P+T)*256+.5)+($>>>0&255)>>>8,v=l==0?0:256/(P+T),C=U*P+V*T,f=r*P+F*T,nx=i*P+B*T,nA=Math.floor(C*v+.5)+($>>>8&255)>>>8,nU=Math.floor(f*v+.5)+($>>>16&255)>>>8,nn=Math.floor(nx*v+.5)+($>>>21&248)>>>8;
I[t+j]=l<<24|nn<<16|nU<<8|nA}}};x.t.xlw=function(b){return Math.floor(b+Math.random())};x.t.Ea=function(b,X,q,N,J,_,p){var z=1/255,g=X.be(N).be(_),W=Math.max(0,g.x-X.x),o=Math.max(0,g.x-N.x),y=Math.max(0,g.y-X.y),m=Math.max(0,g.y-N.y),k=g.n,O=g.z;
for(var L=0;L<O;L++){var I=(y+L)*X.n+W,H=(m+L)*N.n+o;for(var Y=0;Y<k;Y++,I++,H++){var n=p*J[I]*z;if(n==0)continue;
if(n==1){q[H]=b[I];continue}q[H]=b[I]*n+q[H]*(1-n)}}};x.aj={};x.aj.xlP=function(b,X,q,N,J,_){x.aj.Kx(b,X,q,N,J,_,null,0)};
x.aj.xlG=function(b,X,q,N,J){x.aj.Kx(b,X,q,N,J,null,null,0)};x.aj.xly=function(b,X,q,N,J,_,p){x.aj.Kx(b,X,q,N,J,null,_,p*.5)};
x.aj.Kx=function(b,X,q,N,J,_,p,z){var g=0,P=0,T=1e9,U=0,r=1e9,i=0,V=1e9,F=0,B=0,$=0,l=0;if(_){g=J*.5;
J=3+Math.round((J-3)*.75)}if(p){J=Math.round(J*2.2)}var W=1/J,o=Math.floor(X*W)+1,y=Math.floor(q*W)+1,D=[],m=new Uint8Array(o*y*4),k=p?.5:1,O=_?64:0;
for(var L=0;L<y;L++){var I=p?.5*(L&1):0;for(var H=0;H<o;H++){var Y=(H+Math.random()*k+I)*J,n=(L+Math.random()*k)*J;
D.push(Y,n);var w=Math.min(X-1,Math.floor(Y)),t=Math.min(q-1,Math.floor(n)),j=(t*X+w)*4,E=(L*o+H)*4;
for(var h=0;h<4;h++)m[E+h]=Math.max(0,Math.min(255,Math.floor(b[j+h]+(Math.random()-.5)*O)))}}var u=_?_:p?p:[0,0,0],Z=o*y*2,A=[-o-1,-o,-o+1,-1,0,1,o-1,o,o+1];
for(var L=0;L<q;L++){$=0;for(var H=0;H<X;H++){var v=H+.5,C=L+.5,f=Math.floor(C*W),nx=Math.floor(v*W),nA=f*o+nx,nH=0,d=0;
if($>1+z){T=x.aj.sF(D,P,v,C);F=Math.sqrt(T);$--;l++}else{T=r=V=1e9;for(var h=0;h<A.length;h++){var nU=(nA+A[h])*2;
if(nU<0||nU>=Z)continue;var nn=x.aj.sF(D,nU,v,C);if(nn<V){if(nn<r){if(nn<T){i=U;V=r;U=P;r=T;P=nU;T=nn}else{i=U;
V=r;U=nU;r=nn}}else{i=nU;V=nn}}}F=Math.sqrt(T);B=Math.sqrt(r);$=B-(F+B)*.5}if(p==null){var np=(F+B)*.5,a=_?Math.max(0,np-g):0;
nH=Math.max(0,Math.min(1,.5+np-F-a));d=Math.max(0,Math.min(1,1-(.5+np-F)-a))}else{var nb=Math.min(x.aj.sQ(D,P,U,v,C),x.aj.sQ(D,P,i,v,C));
nH=Math.max(0,Math.min(1,nb-z*.5));if(v<z||X-z<v||C<z||q-z<C)nH=0;d=0}var nK=1-d-nH,E=L*X+H<<2,nq=P<<1,nB=U<<1;
N[E+0]=Math.floor(.5+nH*m[nq+0]+d*m[nB+0]+nK*u[0]);N[E+1]=Math.floor(.5+nH*m[nq+1]+d*m[nB+1]+nK*u[1]);
N[E+2]=Math.floor(.5+nH*m[nq+2]+d*m[nB+2]+nK*u[2]);N[E+3]=b[E+3]}}};x.aj.sF=function(b,X,q,N){var J=q-b[X],_=N-b[X+1];
return J*J+_*_};x.aj.sQ=function(b,X,q,N,J){var _=b[X],p=b[X+1],z=b[q],g=b[q+1],W=(_+z)*.5,o=(p+g)*.5,y=W+(g-p),D=o-(z-_),m=D-o,k=y-W;
return Math.abs(m*N-k*J+y*o-D*W)/Math.sqrt(k*k+m*m)};x.blur={};x.blur.Vb=function(b){if(x.blur.WB.length<b)x.blur.WB=x.K(b);
return x.blur.WB};x.blur.WB=x.K(0);x.blur.sl=function(b){if(x.blur.Kb.length<b)x.blur.Kb=new Float32Array(b);
return x.blur.Kb};x.blur.Kb=new Float32Array(0);x.blur.Jh=function(b,X,q,N){var J=q.n,_=q.z;x.blur.xWX(b,X,J,_,N)};
x.blur.xWF=function(b,X,q){var N=X.n,J=X.z;x.blur.xul(b,N,J,q)};x.blur.Vq=function(b,X,q,N){var J=q.n,_=q.z;
x.blur.xuu(b,X,J,_,N)};x.blur.sW=function(b,X,q,N){var J=q.n,_=q.z;N=Math.round(N);var p=x.blur.Vb(J*_);
x.vM(b,X);x.blur.WR(X,p,J,_,N)};x.blur.su=function(b,X,q){var N=X.n,J=X.z;q=Math.round(q);var _=x.blur.Vb(N*J*4);
x.blur.WF(b,_,N,J,q)};x.blur.Kw=function(b,X,q,N){var J=q.n,_=q.z;N=Math.round(N);var p=x.blur.sl(J*_);
x.vM(b,X);x.blur.Wu(X,p,J,_,N)};x.blur.sY=function(b,X,q){var N=X.n,J=X.z;q=Math.round(q);var _=x.blur.Vb(N*J*4);
x.blur.sL(b,_,N,J,q);x.vM(_,b)};x.blur.KL=function(b,X){var q=Math.sqrt(12*b*b/X+1),N=Math.floor(q);
if(N%2==0)N--;var J=N+2,_=(12*b*b-X*N*N-4*X*N-3*X)/(-4*N-4),p=Math.round(_),z=[];for(var g=0;g<X;g++)z.push(g<p?N:J);
return z};x.blur.xWX=function(b,X,q,N,J){var _=x.blur.KL(J,3),p=x.blur.Vb(q*N);x.vM(b,X);x.blur.WR(X,p,q,N,_[0]-1>>1);
x.blur.WR(X,p,q,N,_[1]-1>>1);x.blur.WR(X,p,q,N,_[2]-1>>1)};x.blur.xul=function(b,X,q,N){var J=x.blur.KL(N,3),_=x.blur.Vb(X*q*4);
x.blur.WF(b,_,X,q,J[0]-1>>1);x.blur.WF(b,_,X,q,J[1]-1>>1);x.blur.WF(b,_,X,q,J[2]-1>>1)};x.blur.xuu=function(b,X,q,N,J){var _=x.blur.KL(J,3),p=x.blur.sl(q*N);
x.vM(b,X);x.blur.Wu(X,p,q,N,(_[0]-1)/2);x.blur.Wu(X,p,q,N,(_[1]-1)/2);x.blur.Wu(X,p,q,N,(_[2]-1)/2)};
x.blur.WR=function(b,X,q,N,J){x.blur.xuZ(b,X,q,N,J);x.blur.xYj(X,b,q,N,J)};x.blur.WF=function(b,X,q,N,J){x.blur.sL(b,X,q,N,J);
x.blur.xYm(X,b,q,N,J)};x.blur.Wu=function(b,X,q,N,J){x.blur.xYO(b,X,q,N,J);x.blur.xYy(X,b,q,N,J)};x.blur.KJ=[];
x.blur.WY=function(b){if(x.blur.KJ[b])return x.blur.KJ[b];var X=1/(b+b+1),q=(b+b+1)*256,N=x.K(q);for(var J=0;
J<q;J++)N[J]=Math.round(J*X);x.blur.KJ[b]=N;return N};x.blur.xuZ=function(b,X,q,N,J){var _=1/(J+J+1),p=q-J-J-1,z=x.blur.WY(J);
for(var g=0;g<N;g++){var W=g*q,o=W,y=W+J,D=b[W],m=b[W+q-1],k=(J+1)*D;for(var O=0;O<J;O++)k+=b[W+O];for(var O=0;
O<=J;O++){k+=b[y+O]-D;X[W+O]=z[k]}y+=J+1;W+=J+1;for(var O=0;O<p;O++){k+=b[y+O]-b[o+O];X[W+O]=z[k]}y+=p;
o+=p;W+=p;for(var O=q-J;O<q;O++){k+=m-b[o++];X[W++]=z[k]}}};x.blur.sL=function(b,X,q,N,J){var _=q<<2,p=J<<2,z=1/(J+J+1),g=q-J-J-1,W=g<<2,o=x.blur.WY(J);
for(var y=0;y<N;y++){var D=y*_,m=D,k=D+p,O=D+_,L=b[D],I=b[D+1],H=b[D+2],Y=b[D+3],n=(J+1)*L,w=(J+1)*I,t=(J+1)*H,j=(J+1)*Y;
for(var E=0;E<p;E+=4){n+=b[D+E];w+=b[D+E+1];t+=b[D+E+2];j+=b[D+E+3]}for(var E=0;E<=p;E+=4){n+=b[k]-L;
X[D]=o[n];w+=b[k+1]-I;X[D+1]=o[w];t+=b[k+2]-H;X[D+2]=o[t];j+=b[k+3]-Y;X[D+3]=o[j];k+=4;D+=4}for(var E=0;
E<W;E+=4){n+=b[k+E]-b[m+E];X[D+E]=o[n];w+=b[k+E+1]-b[m+E+1];X[D+E+1]=o[w];t+=b[k+E+2]-b[m+E+2];X[D+E+2]=o[t];
j+=b[k+E+3]-b[m+E+3];X[D+E+3]=o[j]}k+=W;m+=W;D+=W;L=b[O-4];I=b[O-3];H=b[O-2];Y=b[O-1];for(var E=q-J;
E<q;E++){n+=L-b[m];X[D]=o[n];w+=I-b[m+1];X[D+1]=o[w];t+=H-b[m+2];X[D+2]=o[t];j+=Y-b[m+3];X[D+3]=o[j];
m+=4;D+=4}}};x.blur.xYO=function(b,X,q,N,J){var _=1/(J+J+1),p=q-J-J-1,z=0,g=0,W=0;for(var o=0;o<N;o++){z=o*q;
g=z;W=z+J;var y=b[z],D=b[z+q-1],m=(J+1)*y;for(var k=0;k<J;k++){m+=b[z+k]}for(var k=0;k<=J;k++){m+=b[W++]-y;
X[z++]=m*_}for(var k=0;k<p;k++){m+=b[W+k]-b[g+k];X[z+k]=m*_}W+=p;g+=p;z+=p;for(var k=q-J;k<q;k++){m+=D-b[g++];
X[z++]=m*_}}};x.blur.xYj=function(b,X,q,N,J){var _=1/(J+J+1),p=N-J-J-1,z=x.blur.WY(J);for(var g=0;g<q;
g++){var W=g,o=W,y=W+J*q,D=b[W],m=b[W+q*(N-1)],k=(J+1)*D;for(var O=0;O<J;O++)k+=b[W+O*q];for(var O=0;
O<=J;O++){k+=b[y]-D;X[W]=z[k];y+=q;W+=q}for(var O=0;O<p;O++){var L=O*q;k+=b[y+L]-b[o+L];X[W+L]=z[k]}o+=p*q;
y+=p*q;W+=p*q;for(var O=N-J;O<N;O++){k+=m-b[o];X[W]=z[k];o+=q;W+=q}}};x.blur.xYm=function(b,X,q,N,J){var _=q<<2,p=J<<2,z=1/(J+J+1),g=N-J-J-1,W=g<<2,o=x.blur.WY(J);
for(var y=0;y<q;y++){var D=y<<2,m=D,k=D+J*_,O=D+_*(N-1),L=b[D],I=b[D+1],H=b[D+2],Y=b[D+3],n=(J+1)*L,w=(J+1)*I,t=(J+1)*H,j=(J+1)*Y;
for(var E=0;E<J;E++){var h=D+E*_;n+=b[h];w+=b[h+1];t+=b[h+2];j+=b[h+3]}for(var E=0;E<=J;E++){n+=b[k]-L;
X[D]=o[n];w+=b[k+1]-I;X[D+1]=o[w];t+=b[k+2]-H;X[D+2]=o[t];j+=b[k+3]-Y;X[D+3]=o[j];k+=_;D+=_}for(var E=0;
E<g;E++){var u=E*_;n+=b[k+u]-b[m+u];X[D+u]=o[n];w+=b[k+u+1]-b[m+u+1];X[D+u+1]=o[w];t+=b[k+u+2]-b[m+u+2];
X[D+u+2]=o[t];j+=b[k+u+3]-b[m+u+3];X[D+u+3]=o[j]}m+=g*_;k+=g*_;D+=g*_;L=b[O];I=b[O+1];H=b[O+2];Y=b[O+3];
for(var E=N-J;E<N;E++){n+=L-b[m];X[D]=o[n];w+=I-b[m+1];X[D+1]=o[w];t+=H-b[m+2];X[D+2]=o[t];j+=Y-b[m+3];
X[D+3]=o[j];m+=_;D+=_}}};x.blur.xYy=function(b,X,q,N,J){var _=1/(J+J+1),p=N-J-J-1;for(var z=0;z<q;z++){var g=z,W=g,o=g+J*q,y=b[g],D=b[g+q*(N-1)],m=(J+1)*y;
for(var k=0;k<J;k++)m+=b[g+k*q];for(var k=0;k<=J;k++){m+=b[o]-y;X[g]=m*_;o+=q;g+=q}for(var k=0;k<p;k++){var O=k*q;
m+=b[o+O]-b[W+O];X[g+O]=m*_}W+=p*q;o+=p*q;g+=p*q;for(var k=N-J;k<N;k++){m+=D-b[W];X[g]=m*_;W+=q;g+=q}}};
x.iN={};x.iN.K=function(b,X,q,N){var J=[];for(var _=0;_<4;_++)for(var p=0;p<4;p++)J.push(b+q*p/3,X+N*_/3);
return J};x.iN.sI=function(b,X){var q=b.slice(0);for(var N=0;N<4;N++)for(var J=0;J<4;J++){var _=2*(N*4+J),p=2*(J*4+(3-N));
if(X){var z=_;_=p;p=z}q[p]=b[_];q[p+1]=b[_+1]}return q};x.iN.xLy=new Float64Array(16);x.iN.drawImage=function(b,X,q,N,J,_,p){if(p==null)p=!1;
var z=_.n,g=_.z,D=2;J=new Uint32Array(J.buffer);X=new Uint32Array(X.buffer);var W=x.iN.J.sm(b,0,1,0,1,q,N),o=W.q$,y=W.fr,m=1/D,k=x.iN.Wz,O=new Float64Array(2),L=new Uint32Array(30);
for(var I=0;I<g;I++)for(var H=0;H<z;H++){var Y=H+_.x+.5,n=I+_.y+.5,w=x.iN.J.xAZ(o,y,Y,n,L),A=0,P=0,T=0,U=0;
if(w==0)continue;var t=I*z+H,j=x.iN.hT(b,Y,n,o,L,w,!0),E=k[0]*q,h=k[1]*N;if(p){if(j!=-1&&0<E&&E<q&&0<h&&h<N){var u=Math.floor(h)*q+Math.floor(E);
J[t]=X[u]}continue}var Z=j!=-1&&(1<E&&E<q-1)&&(1<h&&h<N-1);if(o[j+8]<.95){x.GI.wC(E,h,X,q,N,J,t,0);continue}for(var r=0;
r<D;r++)for(var i=0;i<D;i++){var Y=H+_.x+(r+.5)*m,n=I+_.y+(i+.5)*m,j=0;j=x.iN.hT(b,Y,n,o,L,w,!0);if(j!=-1){var E=k[0],h=k[1],E=Math.floor(E*q);
h=Math.floor(h*N);var V=X[h*q+E],F=V>>>24;A+=(V&255)*F;P+=(V>>>8&255)*F;T+=(V>>>16&255)*F;U+=F}}if(U!=0){var B=1/U;
A=~~(A*B+.5);P=~~(P*B+.5);T=~~(T*B+.5);U=~~(U*m*m+.5);J[t]=U<<24|T<<16|P<<8|A}}};x.iN.Wz=new Float64Array(5*20);
x.iN.xAk=new Uint32Array(5*5*20);x.iN.hT=function(b,X,q,N,J,_,p){var z=x.iN.Wz,g=x.iN.xAk,W=0,o=0;for(var y=0;
y<_;y++){var D=J[y],m=W;W=x.iN.KO(b,X,q,N,D+4,p,z,W);if(W!=m){g[o]=D;o+=5}}if(W==0)return-1;else if(W==5)return g[0];
else{var k=0;for(var y=0;y<W;y+=5)if(z[y+4]<z[k+4])k=y;z[0]=z[k];z[1]=z[k+1];z[2]=z[k+2];z[3]=z[k+3];
return g[k]}};x.iN.EY=new Array(10);x.iN.KO=function(b,X,q,N,J,_,p,z){var g=x.iN.EY,W=0,o=0,y=0,D=0,m=0,k=0,O=0,L=N[J],I=N[J+1],H=N[J+2],Y=N[J+3],n=(H-X)*(H-X)+(Y-q)*(Y-q);
for(var w=0;w<5&&n>.05;w++){x.iN.EE(g,0,I);x.iN.EL(g,4,L);x.iN.tV(b,g);W=g[8];o=g[9];x.iN.EL(g,0,I);
x.iN.EE(g,4,L);x.iN.tV(b,g);y=g[8];D=g[9];m=1/(W*D-o*y);k=(H-X)*m;O=(Y-q)*m;L+=-D*k+y*O;I+=+o*k-W*O;
x.iN.KG(b,L,I,g);H=g[8];Y=g[9];n=(H-X)*(H-X)+(Y-q)*(Y-q)}if(_&&(L<0||L>1||I<0||I>1||n>.25))return z;
p[z]=L;p[z+1]=I;p[z+2]=H;p[z+3]=Y;p[z+4]=W*D-o*y;return z+5};x.iN.apply=function(b,X,q){var N=q.x,J=q.y,_=1/q.n,p=1/q.z,z=x.iN.EY;
for(var g=0;g<X.length;g+=2){var W=(X[g]-N)*_,o=(X[g+1]-J)*p;x.iN.KG(b,W,o,z);X[g]=z[8];X[g+1]=z[9]}};
x.iN.KG=function(b,X,q,N){x.iN.EE(N,0,q);x.iN.EE(N,4,X);x.iN.tV(b,N)};x.iN.EL=function(b,X,q){var N=1-q;
b[X]=-3*(N*N);b[X+1]=3*(N*N)-6*(q*N);b[X+2]=6*(q*N)-3*(q*q);b[X+3]=3*(q*q)};x.iN.EE=function(b,X,q){var N=1-q;
b[X]=N*(N*N);b[X+1]=3*q*(N*N);b[X+2]=3*(q*q)*N;b[X+3]=q*q*q};x.iN.tV=function(b,X){var q=0,N=0,J=0;J=X[0]*X[4];
q+=b[0]*J;N+=b[1]*J;J=X[0]*X[5];q+=b[2]*J;N+=b[3]*J;J=X[0]*X[6];q+=b[4]*J;N+=b[5]*J;J=X[0]*X[7];q+=b[6]*J;
N+=b[7]*J;J=X[1]*X[4];q+=b[8]*J;N+=b[9]*J;J=X[1]*X[5];q+=b[10]*J;N+=b[11]*J;J=X[1]*X[6];q+=b[12]*J;N+=b[13]*J;
J=X[1]*X[7];q+=b[14]*J;N+=b[15]*J;J=X[2]*X[4];q+=b[16]*J;N+=b[17]*J;J=X[2]*X[5];q+=b[18]*J;N+=b[19]*J;
J=X[2]*X[6];q+=b[20]*J;N+=b[21]*J;J=X[2]*X[7];q+=b[22]*J;N+=b[23]*J;J=X[3]*X[4];q+=b[24]*J;N+=b[25]*J;
J=X[3]*X[5];q+=b[26]*J;N+=b[27]*J;J=X[3]*X[6];q+=b[28]*J;N+=b[29]*J;J=X[3]*X[7];q+=b[30]*J;N+=b[31]*J;
X[8]=q;X[9]=N};x.iN.J={};x.iN.J.Kk=12;x.iN.J.sc=new Uint32Array(50);x.iN.J.xAZ=function(b,X,q,N,J){var _=0,p=x.iN.J.sc,z=1;
p[0]=0;while(z!=0){var g=p[--z];if(b[g+0]<=q&&b[g+1]<=N&&q<b[g+2]&&N<b[g+3]){if(X[g+g+18]==0){J[_]=g;
_++}else{p[z]=X[g+g+18];p[z+1]=X[g+g+19];z+=2}}}return _};x.iN.J.xxv=function(b,X,q,N,J){var _=0,p=x.iN.J.xxW,z=x.iN.J.sc,g=1,W=0,o=999999999999;
z[0]=0;while(g!=0){var y=z[--g],D=p(q,N,b[y+0],b[y+1]),m=p(q,N,b[y+0],b[y+3]),k=p(q,N,b[y+2],b[y+1]),O=p(q,N,b[y+2],b[y+3]),L=Math.min(D,Math.min(m,Math.min(k,O))),I=Math.max(D,Math.max(m,Math.max(k,O)));
if(L>o)continue;if(X[y+y+18]==0){if(I<o){o=I;W=y}}else{z[g]=X[y+y+18];z[g+1]=X[y+y+19];g+=2}}J[_]=W;
_++;return _};x.iN.J.xxW=function(b,X,q,N){return(q-b)*(q-b)+(N-X)*(N-X)};x.iN.J.sh=null;x.iN.J.sf=null;
x.iN.J.sm=function(b,X,q,N,J,_,p){if(_==null){_=1;p=1}x.iN.J.sf=b;if(x.iN.J.sh==null){x.iN.J.sh={q$:new Float64Array(15e3*8),fr:null};
x.iN.J.sh.fr=new Uint32Array(x.iN.J.sh.q$.buffer)}var z=x.iN.J.sh;x.iN.J.KV(b,X,q,N,J,0,z.q$,z.fr,0,_,p);
return z};x.iN.J.KV=function(b,X,q,N,J,_,p,z,g,W,o){var y=x.j.Is(b),D=g,m=x.iN.J.sf,k=(X+q)/2,O=(N+J)/2,L=x.iN.EY,I=x.iN.Wz,H=x.iN.xLy,nx,nA,nU;
x.iN.KG(m,k,O,L);var Y=L[8],n=L[9];H[0]=k;H[1]=O;H[2]=Y;H[3]=n;x.iN.KO(m,Y+1,n,H,0,!1,I,0);var w=(k-I[0])*W,t=(O-I[1])*o,j=Math.sqrt(w*w+t*t);
x.iN.KO(m,Y,n+1,H,0,!1,I,0);var E=(k-I[0])*W,h=(O-I[1])*o,u=Math.sqrt(E*E+h*h);p[D]=y.x;p[D+1]=y.y;p[D+2]=y.x+y.n;
p[D+3]=y.y+y.z;p[D+4]=k;p[D+5]=O;p[D+6]=Y;p[D+7]=n;p[D+8]=.5*(j+u);z[D+D+18]=0;z[D+D+19]=0;g+=10;x.iN.EE(L,0,.1);
x.iN.EL(L,4,.1);x.iN.tV(b,L);var Z=L[8],A=L[9];x.iN.EL(L,0,.1);x.iN.EE(L,4,.7);x.iN.tV(b,L);var P=L[8],T=L[9];
x.iN.EE(L,0,.8);x.iN.EL(L,4,.8);x.iN.tV(b,L);var U=L[8],r=L[9];x.iN.EL(L,0,.9);x.iN.EE(L,4,.2);x.iN.tV(b,L);
var i=L[8],V=L[9],F=(U-Z)*(U-Z)+(i-P)*(i-P)+(r-A)*(r-A)+(V-T)*(V-T);if(g>=p.length){console.log("Buffer not long enough");
throw"e"}if(_==x.iN.J.Kk||F<2)return g;var B=x.iN.J.sk(b,!0),$=x.j.Is(B[0]),l=x.j.Is(B[1]),v=x.iN.J.sk(b,!1),C=x.j.Is(v[0]),f=x.j.Is(v[1]);
if($.n+$.z+l.n+l.z<C.n+C.z+f.n+f.z){nU=!0;nx=B[0];nA=B[1]}else{nU=!1;nx=v[0];nA=v[1]}var nn=(X+q)/2,nH=(N+J)/2,d=X,np=N,a=q,nb=J,nK=X,nq=N,nS=q,nB=J;
if(nU){a=nK=nn}else{nb=nq=nH}z[D+D+18]=g;g=x.iN.J.KV(nx,d,a,np,nb,_+1,p,z,g,W,o);z[D+D+19]=g;g=x.iN.J.KV(nA,nK,nS,nq,nB,_+1,p,z,g,W,o);
var nE=z[D+D+18],nh=z[D+D+19];p[D]=Math.min(p[nE],p[nh]);p[D+1]=Math.min(p[nE+1],p[nh+1]);p[D+2]=Math.max(p[nE+2],p[nh+2]);
p[D+3]=Math.max(p[nE+3],p[nh+3]);return g};x.iN.J.sk=function(b,X){var q=0,N=0,J=0,_=0,p=0,z=0,g=0,W=0,o=b.slice(0),y=b.slice(0);
for(var D=0;D<4;D++){q=X?b[D*8+2*0]:b[0*8+2*D];N=X?b[D*8+2*0+1]:b[0*8+2*D+1];J=X?b[D*8+2*1]:b[1*8+2*D];
_=X?b[D*8+2*1+1]:b[1*8+2*D+1];p=X?b[D*8+2*2]:b[2*8+2*D];z=X?b[D*8+2*2+1]:b[2*8+2*D+1];g=X?b[D*8+2*3]:b[3*8+2*D];
W=X?b[D*8+2*3+1]:b[3*8+2*D+1];var m=(q+J)/2,k=(N+_)/2,O=(J+p)/2,L=(_+z)/2,I=(p+g)/2,H=(z+W)/2,Y=(m+O)/2,n=(k+L)/2,w=(O+I)/2,t=(L+H)/2,j=(Y+w)/2,E=(n+t)/2;
if(X){o[D*8+2*0]=q;o[D*8+2*0+1]=N;o[D*8+2*1]=m;o[D*8+2*1+1]=k;o[D*8+2*2]=Y;o[D*8+2*2+1]=n;o[D*8+2*3]=j;
o[D*8+2*3+1]=E;y[D*8+2*0]=j;y[D*8+2*0+1]=E;y[D*8+2*1]=w;y[D*8+2*1+1]=t;y[D*8+2*2]=I;y[D*8+2*2+1]=H;y[D*8+2*3]=g;
y[D*8+2*3+1]=W}else{o[0*8+2*D]=q;o[0*8+2*D+1]=N;o[1*8+2*D]=m;o[1*8+2*D+1]=k;o[2*8+2*D]=Y;o[2*8+2*D+1]=n;
o[3*8+2*D]=j;o[3*8+2*D+1]=E;y[0*8+2*D]=j;y[0*8+2*D+1]=E;y[1*8+2*D]=w;y[1*8+2*D+1]=t;y[2*8+2*D]=I;y[2*8+2*D+1]=H;
y[3*8+2*D]=g;y[3*8+2*D+1]=W}}return[o,y]};x.IO={};x.IO.xxX=function(b,X,q){var N=x.IO.xpM(X,q),J=x.IO.xpp(N,b,X,q);
return{FK:N,hZ:J}};x.IO.xxc=function(b,X,q){var N=Math.round(b.length/8),J=new Uint32Array(N),_=new Uint8Array(N),p=new Uint32Array(N);
x.Ws(J,4294967295,0);J[q]=0;var z=new Kn(N);z.push(q,J[q]);var g={FK:b,hZ:X,tL:J,fh:_,dB:p,kf:z,xxd:q};
return g};x.IO.Ky=function(b,X){var q=b.FK,N=b.hZ,J=b.tL,_=b.fh,p=b.dB,z=b.kf;while(!z.qa()&&(X==null||_[X]==0)){var g=z.pop();
_[g]=1;for(var W=0;W<8;W++){var o=q[8*g+W];if(o==-1||_[o])continue;var y=J[g]+N[8*g+W];if(z.contains(o)&&y<J[o])z.remove(o,J[o]);
if(!z.contains(o)){J[o]=y;p[o]=g;z.push(o,J[o])}}}};function Kn(b){this.Ix=new Uint32Array(b);this.list=[];
this.hg=0;this.Ip=4294967295}Kn.prototype.qa=function(){return this.hg==0};Kn.prototype.push=function(b,X){var q=this.list;
if(q[X]==null)q[X]=[];q[X].push(b);this.hg++;this.Ix[b]=q[X].length-1+1;this.Ip=Math.min(this.Ip,X)};
Kn.prototype.pop=function(){this.hg--;var b=this.list,X=this.Ip,q=b[X].pop();if(b[X].length==0)b[X]=null;
this.sV();this.Ix[q]=0;return q};Kn.prototype.contains=function(b){return this.Ix[b]!=0};Kn.prototype.remove=function(b,X){this.hg--;
var q=this.list,N=this.Ix[b]-1;if(N==q[X].length-1)q[X].pop();else{var J=q[X].pop();q[X][N]=J;this.Ix[J]=N+1}if(q[X].length==0)q[X]=null;
this.Ix[b]=0;this.sV()};Kn.prototype.sV=function(){if(this.hg==0){this.Ip=4294967295;return}var b=this.Ip,X=this.list;
while(X[b]==null)b++;this.Ip=b};x.IO.xxm=function(b,X,q){var N=new Float32Array(X*q);for(var J=0;J<q;
J++)for(var _=0;_<X;_++){var p=J*X+_,z=-16*b[p];if(1<_&&_<X-2&&1<J&&J<q-2){z+=b[p-X-X];z+=b[p-X-1]+2*b[p-X]+b[p-X+1];
z+=b[p-2]+2*b[p-1]+2*b[p+1]+b[p+2];z+=b[p+X-1]+2*b[p+X]+b[p+X+1];z+=b[p+X+X]}N[p]=z/16}return N};x.IO.xgP=function(b,X,q){var N=new Float32Array(X*q),J=0,_=0;
for(var p=0;p<q;p++)for(var z=0;z<X;z++){var g=0,W=0;if(0<z&&z<X-1)g=b[J+1]-b[J-1];if(0<p&&p<q-1)W=b[J+X]-b[J-X];
N[J]=Math.sqrt(g*g+W*W);if(N[J]>_)_=N[J];J++}var o=X*q,y=_==0?0:1/_;for(var J=0;J<o;J++)N[J]=1-N[J]*y;
return N};x.IO.xg$=function(b,X,q){var N=new Float32Array(X*q*2),J=0;for(var _=0;_<q;_++)for(var p=0;
p<X;p++){var z=0,g=0;if(0<p&&p<X-1&&0<_&&_<q-1){z=2*b[J+1]-2*b[J-1];g=2*b[J+X]-2*b[J-X]}var W=Math.sqrt(z*z+g*g);
if(W!=0){N[2*J]=z/W;N[2*J+1]=g/W}else{N[2*J]=z;N[2*J+1]=g}J++}return N};x.IO.xpp=function(b,X,q,N){var J=x.IO.xxm(X,q,N),_=x.IO.xgP(X,q,N),p=x.IO.xg$(X,q,N),z=256,g=new Float32Array(z);
for(var W=0;W<z;W++)g[W]=Math.acos(-1+2*W/(z-1));var o=[-1,0,1,1,1,0,-1,-1],y=[-1,-1,-1,0,1,1,1,0],D=1/Math.sqrt(2),m=new Uint8Array(q*N*8),k=q*N;
for(var O=0;O<k;O++){var L=J[O],I=p[2*O+1],H=-p[2*O];for(var Y=0;Y<8;Y++){var n=8*O+Y,w=b[n];if(w==-1)m[n]=-1;
else{var t=(Y&1)==0,j=L*J[w]>=0?0:1,E=_[w]*(t?1:D),h=1,u=p[2*w+1],Z=-p[2*w];if(!(I==0&&H==0||u==0&&Z==0)){var A=o[Y],P=y[Y];
if(I*o[Y]+H*y[Y]<0){A=-A;P=-P}if(t){A*=D;P*=D}var T=I*A+H*P,U=u*A+Z*P,r=2/(3*Math.PI)*(g[Math.floor((.5+.5*T)*(z-1))]+g[Math.floor((.5+.5*U)*(z-1))]);
h=r}var i=Math.round(20*(.43*j+.43*h+.14*E));m[n]=Math.max(1,Math.min(255,i))}}}console.log(m);return m};
x.IO.xpM=function(b,X){var q=new Int32Array(b*X*8),N=q,J=0,_=0;N.fill(-1);for(var p=0;p<X;p++)for(var z=0;
z<b;z++){if(p>0&&z>0)N[_+0]=J-b-1;if(p>0)N[_+1]=J-b;if(p>0&&z<b-1)N[_+2]=J-b+1;if(z<b-1)N[_+3]=J+1;if(p<X-1&&z<b-1)N[_+4]=J+b+1;
if(p<X-1)N[_+5]=J+b;if(p<X-1&&z>0)N[_+6]=J+b-1;if(z>0)N[_+7]=J-1;J++;_+=8}return q};x.vh={};x.vh.xqV=function(b,X){var q=b.slice(0);
for(var N=0;N<b.length;N++)q[N]*=X;return q};x.vh.EX=function(b){var X=b.slice(0),q=0;for(var N=0;N<b.length;
N++)q+=b[N];for(var N=0;N<b.length;N++)X[N]/=q;return X};x.vh.xpF=function(b,X,q,N,J){var _=[-q-1,-q,-q+1,-1,0,1,q-1,q,q+1],p=N-1,z=q-1;
for(var g=1;g<p;g++)for(var W=1;W<z;W++){var o=g*q+W,y=x.vh.xpl(b,o,q,J);X[o]=~~(y+.5)}};x.vh.xpl=function(b,X,q,N){return b[X-q-1]*N[0]+b[X-q]*N[1]+b[X-q+1]*N[2]+b[X-1]*N[3]+b[X]*N[4]+b[X+1]*N[5]+b[X+q-1]*N[6]+b[X+q]*N[7]+b[X+q+1]*N[8]};
x.vh.JA=function(b,X,q,N,J,_,p){if(p==null)p=!1;var z=Math.floor(Math.sqrt(J.length)),g=z-1>>>1,W=new Uint32Array(b.buffer),X=new Uint8ClampedArray(X.buffer);
for(var o=0;o<N;o++)for(var y=0;y<q;y++){var D=0,m=0,k=0,O=0;for(var L=0;L<z;L++)for(var I=0;I<z;I++){var H=J[L*z+I];
if(H==0)continue;var Y=Math.min(q-1,Math.max(0,y-g+I)),n=Math.min(N-1,Math.max(0,o-g+L)),w=W[n*q+Y];
D+=(w&255)*H;m+=(w>>>8&255)*H;k+=(w>>>16&255)*H;O+=(w>>>24&255)*H}if(p){if(D<0)D=-D;if(m<0)m=-m;if(k<0)k=-k;
if(O<0)O=-O}var t=o*q+y<<2;X[t]=~~(.5+D);X[t+1]=~~(.5+m);X[t+2]=~~(.5+k);X[t+3]=255-_&X[t+3]|_&~~(.5+O)}};
x.vh.EN=function(b,X,q,N,J,_,p){if(J<=10)x.vh.xpy(b,X,q,N,J,_,p);else x.vh.xpT(b,X,q,N,J,_,p)};x.vh.xpT=function(b,X,q,N,J,_,p){var z=0,g=new Uint32Array(16),W=new Uint32Array(256),o=new Uint32Array(1*q),y=new Uint32Array(16*q),D=new Uint32Array(256*q),m=Math.min(J,q),k=Math.min(J,N);
for(var O=0;O<k;O++)x.vh.WO(D,y,o,b,q,O);for(var O=0;O<N;O++){if(O+J<N)x.vh.WO(D,y,o,b,q,O+J);if(O-J-1>=0)x.vh.xpe(D,y,o,b,q,O-J-1);
x.set(W,0);x.set(g,0);z=0;for(var L=0;L<m;L++){x.vh.$x(W,g,D,y,L);z+=o[L]}for(var L=0;L<q;L++){if(L+J<q&&o[L+J]!=0){z+=o[L+J];
x.vh.$x(W,g,D,y,L+J)}if(L-J-1>=0&&o[L-J-1]!=0){z-=o[L-J-1];x.vh.xUE(W,g,D,y,L-J-1)}var I=z==0?0:_(W,g,b[O*q+L],z,p);
X[O*q+L]=I}}};x.vh.xpy=function(b,X,q,N,J,_,p){var z=0,g=new Uint32Array(16),W=new Uint32Array(256);
for(var o=0;o<N;o++){x.set(W,0);x.set(g,0);z=0;var y=Math.max(o-J,0),D=Math.min(N,o+J+1);for(var m=0;
m<J;m++)z+=x.vh.Ke(W,g,b,y*q+m,q,D*q+m,1);for(var m=0;m<q;m++){if(m+J<q)z+=x.vh.Ke(W,g,b,y*q+m+J,q,D*q+m+J,1);
if(m-J-1>=0)z+=x.vh.Ke(W,g,b,y*q+m-J-1,q,D*q+m-J-1,-1);var k=z==0?0:_(W,g,b[o*q+m],z,p);X[o*q+m]=k}}};
x.vh.Ke=function(b,X,q,N,J,_,p){var z=0;while(N<_){var g=255*p,W=q[N];b[W]+=g;X[W>>>4]+=g;z+=g;N+=J}return z};
x.vh.ss=function(b,X,q,N,J){var _=15;while(X[_]==0&&_>0)_--;_=(_<<4)+15;while(b[_]==0&&_>0)_--;return _};
x.vh.s$=function(b,X,q,N,J){var _=0;while(X[_]==0&&_<15)_++;_=_<<4;while(b[_]==0&&_<255)_++;return _};
x.vh.WX=.5;x.vh.KZ=function(b,X,q,N,J){var _=Math.floor(.5+x.vh.WX*N),p=0,z=0;while(p<=_)p+=X[z++];if(z>0){z--;
p-=X[z]}z=z<<4;while(p<=_)p+=b[z++];return z-1};x.vh.se=function(b,X,q,N,J){var _=J[0],p=0,z=0,g=Math.max(0,q-_),W=Math.min(256,q+_+1);
while(g<W){p+=g*b[g];z+=b[g];g++}return z==0?0:p/z};x.vh.WO=function(b,X,q,N,J,_){var p=_*J;for(var z=0;
z<J;z++,p++){var g=255,W=N[p];b[z<<8|W]+=g;X[z<<4|W>>>4]+=g;q[z]+=g}};x.vh.xpe=function(b,X,q,N,J,_){var p=_*J;
for(var z=0;z<J;z++,p++){var g=255,W=N[p];b[z<<8|W]-=g;X[z<<4|W>>>4]-=g;q[z]-=g}};x.vh.JO=function(b){var X=b.length,q=0;
for(var N=0;N<X;N++)q+=b[N];return q};x.vh.$x=function(b,X,q,N,J){for(var _=0;_<16;_++){if(N[J<<4|_]==0)continue;
X[_]+=N[J<<4|_];var p=_<<4,z=J<<8|p;b[p]+=q[z];b[p+1]+=q[z+1];b[p+2]+=q[z+2];b[p+3]+=q[z+3];b[p+4]+=q[z+4];
b[p+5]+=q[z+5];b[p+6]+=q[z+6];b[p+7]+=q[z+7];b[p+8]+=q[z+8];b[p+9]+=q[z+9];b[p+10]+=q[z+10];b[p+11]+=q[z+11];
b[p+12]+=q[z+12];b[p+13]+=q[z+13];b[p+14]+=q[z+14];b[p+15]+=q[z+15]}};x.vh.xUE=function(b,X,q,N,J){for(var _=0;
_<16;_++){if(N[J<<4|_]==0)continue;X[_]-=N[J<<4|_];var p=_<<4,z=J<<8|p;b[p]-=q[z];b[p+1]-=q[z+1];b[p+2]-=q[z+2];
b[p+3]-=q[z+3];b[p+4]-=q[z+4];b[p+5]-=q[z+5];b[p+6]-=q[z+6];b[p+7]-=q[z+7];b[p+8]-=q[z+8];b[p+9]-=q[z+9];
b[p+10]-=q[z+10];b[p+11]-=q[z+11];b[p+12]-=q[z+12];b[p+13]-=q[z+13];b[p+14]-=q[z+14];b[p+15]-=q[z+15]}};
x.GI={};x.GI.$g=function(b){var X=c.C.Nk(b.Trnf),q=b.Sz.v,N=x.GI.IG(X,new R(0,0,q.Wdth.v,q.Hght.v));
return x.GI.al(N)};x.GI.IG=function(b,X){var b=b.slice(0),q=b[0],N=b[1],J=b[2],_=b[3],p=b[6],z=b[7],g=b[4],W=b[5],o=0,y=0,D=1,m=0,k=0,O=1,L=1,I=1;
if(X){o=X.x;y=X.y;D=X.x+X.n;m=X.y;k=X.x;O=X.y+X.z;L=X.x+X.n;I=X.y+X.z}var H=[[o,y,1,0,0,0,-o*q,-y*q,q],[0,0,0,o,y,1,-o*N,-y*N,N],[D,m,1,0,0,0,-D*J,-m*J,J],[0,0,0,D,m,1,-D*_,-m*_,_],[k,O,1,0,0,0,-k*p,-O*p,p],[0,0,0,k,O,1,-k*z,-O*z,z],[L,I,1,0,0,0,-L*g,-I*g,g],[0,0,0,L,I,1,-L*W,-I*W,W]],Y=[0,0,0,0,0,0,0,0],n=x.BJ.wA.uH(H,Y);
if(n!=0)Y=[0,0,0,0,0,0,0,0];return Y};x.GI.Wj=function(b){return Math.abs(b[6])<1e-10&&Math.abs(b[7])<1e-10};
x.GI.al=function(b){return new nQ(b[0],b[3],b[1],b[4],b[2],b[5])};x.GI.SW=function(b){return[b.i,b.Yb,b.lf,b.b,b.Tm,b.vw,0,0]};
x.GI.apply=function(b,X){var q=new Float64Array(2);for(var N=0;N<X.length;N+=2){var J=X[N],_=X[N+1];
x.GI.SA(J,_,b,q);X[N]=q[0];X[N+1]=q[1]}};x.GI.SA=function(b,X,q,N){var J=1/(q[6]*b+q[7]*X+1);N[0]=(q[0]*b+q[1]*X+q[2])*J;
N[1]=(q[3]*b+q[4]*X+q[5])*J};x.GI.$n=function(b,X){var q=new Float64Array(2);x.GI.SA(X.x,X.y,b,q);return new Ue(q[0],q[1])};
x.GI.wH=function(b,X,q,N){b=new Uint32Array(b.buffer);X=new Uint32Array(X.buffer);for(var J=0;J<N;J++){for(var _=0;
_<q;_++){X[_*N+J]=b[J*q+_]}}};x.GI.xUW=function(b,X,q,N){b=new Uint32Array(b.buffer);X=new Uint32Array(X.buffer);
for(var J=0;J<N;J++){for(var _=0;_<q;_++){X[J*q+_]=b[J*q+q-1-_]}}};x.GI.$b=function(b){return Math.abs(b[6])<1e-9&&Math.abs(b[7])<1e-9};
x.GI.$q=function(b){return Math.abs(b[0])<1e-9&&Math.abs(b[4])<1e-9||Math.abs(b[1])<1e-9&&Math.abs(b[3])<1e-9};
x.GI.drawImage=function(b,X,q,N,J,_,p,z){if(p==null)p=!1;if(z==null)z=!1;var g=x.GI.Kn(b),W=!0,o=0,y=1/Math.sqrt(Math.abs(b[0]/q*b[4]/N-b[1]/q*b[3]/N));
for(var D=0;D<8;D++){var m=Math.round(b[D]);if(D!=2&&D!=5)o+=Math.abs(m);if(Math.abs(m-b[D])>1e-9)W=!1}var k=x.GI.$b(b),O=x.GI.$q(b)&&k,L=O?1:0;
if(p||W&&o==q+N&&k){x.GI.xUI(g,X,q,N,J,_,z,k);return}var I=_.n,H=_.z,Y=new Float64Array(2);J=new Uint32Array(J.buffer);
X=new Uint32Array(X.buffer);for(var n=0;n<H;n++)for(var w=0;w<I;w++){var t=n*I+w,j,E,h,u,f=0,nx=0,nA=0,nU=0;
J[t]=0;var Z=w+_.x+.5,A=n+_.y+.5;j=Z;E=A;h=g;u=1/(h[6]*j+h[7]*E+1);var P=(h[0]*j+h[1]*E+h[2])*u,T=(h[3]*j+h[4]*E+h[5])*u,U=P*q,r=T*N,i=U<-1||U>q+1||r<-1||r>N+1;
if(z){U=Math.max(.001,Math.min(q-1,U));r=Math.max(.001,Math.min(N-1,r))}else if(i)continue;var V=y;if(!k){var F=0,B=0;
h=b;j=P+1/q;E=T;u=1/(h[6]*j+h[7]*E+1);F=(h[0]*j+h[1]*E+h[2])*u-Z;B=(h[3]*j+h[4]*E+h[5])*u-A;var $=F*F+B*B;
j=P;E=T+1/N;u=1/(h[6]*j+h[7]*E+1);F=(h[0]*j+h[1]*E+h[2])*u-Z;B=(h[3]*j+h[4]*E+h[5])*u-A;var l=F*F+B*B;
V=1/Math.sqrt(Math.max($,l))}if(V<1.1){x.GI.wC(U,r,X,q,N,J,t,L);continue}var v=Math.round(V*2.3);if(!z&&(U<.6||U>q-.6||r<.6||r>N-.6)){v=Math.max(v,5)}if(z&&i)v=1;
var C=1/v,nn=_.x+w,nH=_.y+n;h=g;for(var D=0;D<v;D++)for(var d=0;d<v;d++){j=nn+(D+.5)*C;E=nH+(d+.5)*C;
u=1/(h[6]*j+h[7]*E+1);var U=(h[0]*j+h[1]*E+h[2])*u,r=(h[3]*j+h[4]*E+h[5])*u;if(z){U=Math.max(.001,Math.min(.999,U));
r=Math.max(.001,Math.min(.999,r))}else if(U<0||U>=1||r<0||r>=1)continue;U=Math.floor(U*q);r=Math.floor(r*N);
var np=r*q+U,a=X[np],nb=a>>>24;f+=(a&255)*nb;nx+=(a>>>8&255)*nb;nA+=(a>>>16&255)*nb;nU+=nb}if(nU!=0){var nK=1/nU;
f=~~(f*nK+.5);nx=~~(nx*nK+.5);nA=~~(nA*nK+.5);nU=~~(nU*C*C+.5);J[t]=nU<<24|nA<<16|nx<<8|f}}};x.GI.xUI=function(b,X,q,N,J,_,p,z){var g=_.x+_.n,W=_.y+_.z,o=0,y=new Uint32Array(J.buffer),D=new Uint32Array(X.buffer),m=b[0]*q,k=b[1]*q,O=b[2]*q,L=b[3]*N,I=b[4]*N,H=b[5]*N,Y=b[6],n=b[7];
if(z&&!p)for(var w=_.y+.5;w<W;w++)for(var t=_.x+.5;t<g;t++){var j=m*t+k*w+O,E=L*t+I*w+H;if(0<j&&j<q&&0<E&&E<N){var h=~~E*q+~~j;
y[o]=D[h]}else y[o]=0;o++}else for(var w=_.y+.5;w<W;w++)for(var t=_.x+.5;t<g;t++){var u=1/(Y*t+n*w+1),j=(m*t+k*w+O)*u,E=(L*t+I*w+H)*u;
if(p){j=Math.max(.001,Math.min(q-1,j));E=Math.max(.001,Math.min(N-1,E))}if(0<j&&j<q&&0<E&&E<N){var h=Math.floor(E)*q+Math.floor(j);
y[o]=D[h]}else y[o]=0;o++}};x.GI.Kn=function(b){var X=b[4]-b[5]*b[7],q=b[2]*b[7]-b[1],N=b[1]*b[5]-b[2]*b[4],J=b[5]*b[6]-b[3],_=b[0]-b[2]*b[6],p=b[3]*b[2]-b[0]*b[5],z=b[3]*b[7]-b[4]*b[6],g=b[1]*b[6]-b[0]*b[7],W=1/(b[0]*b[4]-b[1]*b[3]);
return[X*W,q*W,N*W,J*W,_*W,p*W,z*W,g*W]};x.GI.gt=function(b,X){var q=b[0],N=b[1],J=b[2],_=b[3],p=b[4],z=b[5],g=b[6],W=b[7],o=X[0],y=X[1],D=X[2],m=X[3],k=X[4],O=X[5],L=X[6],I=X[7],H=[q*o+N*m+J*L,q*y+N*k+J*I,q*D+N*O+J,_*o+p*m+z*L,_*y+p*k+z*I,_*D+p*O+z,g*o+W*m+L,g*y+W*k+I],Y=1/(g*D+W*O+1);
for(var n=0;n<8;n++)H[n]*=Y;return H};x.GI.wC=function(b,X,q,N,J,_,p,z){var g=b,W=X,D=0,m=0,k=0,O=0;
b-=.499999;X-=.499999;var o=Math.floor(b),y=Math.floor(X);if(z==0){var L=y*N+o,I=o>=0&&o<N,H=o+1>=0&&o+1<N,Y=y>=0&&y<J,n=y+1>=0&&y+1<J;
if(I&&Y)D=q[L];if(H&&Y)m=q[L+1];if(I&&n)k=q[L+N];if(H&&n)O=q[L+N+1]}else if(z==1){var w=o<0?0:o>N-1?N-1:o,t=o<-1?0:o>N-2?N-1:o+1,j=y<0?0:y>J-1?J-1:y,E=y<-1?0:y>J-2?J-1:y+1;
D=q[j*N+w];m=q[j*N+t];k=q[E*N+w];O=q[E*N+t]}else{var w=(o+50*N)%N,t=(o+50*N)%N,j=(y+50*J)%J,E=(y+50*J)%J;
D=q[j*N+w];m=q[j*N+t];k=q[E*N+w];O=q[E*N+t]}var h=b-o,u=X-y,Z=(1-u)*(1-h)*(D>>>24),A=(1-u)*h*(m>>>24),P=u*(1-h)*(k>>>24),T=u*h*(O>>>24),U=Z+A+P+T,r=Z*(D&255)+A*(m&255)+P*(k&255)+T*(O&255),i=Z*(D>>>8&255)+A*(m>>>8&255)+P*(k>>>8&255)+T*(O>>>8&255),V=Z*(D>>>16&255)+A*(m>>>16&255)+P*(k>>>16&255)+T*(O>>>16&255);
if(U==0)_[p]=0;else{var F=1/U;r=~~(r*F+.5);i=~~(i*F+.5);V=~~(V*F+.5);U=~~(U+.5);_[p]=U<<24|V<<16|i<<8|r}};
x.GI.$h=function(b,X,q,N,J,_,p,z,g,W,o,y){var D=new Uint32Array(b.buffer),m=new Uint32Array(N.buffer),k=(1+2*W)/J,L=[],I=[];
for(var Y=0;Y<J;Y++){var n=-.25+W-Y*k;L.push(Math.cos(2*Math.PI*n)*y/o);L.push(Math.sin(2*Math.PI*n)/o)}p*=X;
z*=q;for(var w=0;w<_;w++){var t=Math.pow(w/_,g)*_;for(var Y=0;Y<J;Y++){var j=p+L[Y<<1]*t,E=z+L[(Y<<1)+1]*t,h=~~(.5+(j<0?0:j>X-1?X-1:j)),u=~~(.5+(E<0?0:E>q-1?q-1:E));
m[w*J+Y]=D[u*X+h]}}};x.GI.$H=function(b,X,q,N,J,_,p,z,g,W,o,y){var D=new Uint32Array(b.buffer),m=new Uint32Array(N.buffer),k=1/y,L=[],I=q*4,Y=1/I;
for(var n=0;n<I;n++)L.push(Math.pow(n*Y,1/g)*q*o);p*=J;z*=_;for(var n=0;n<_;n++)for(var w=0;w<J;w++){var t=k*(w-p),j=n-z,E=1.75-Math.atan2(j,t)*(1/(2*Math.PI));
E=E-~~E;E=(E+W)*(1/(1+2*W));var h=Math.sqrt(t*t+j*j);h=L[~~(h*4)];x.GI.wC(E*X+.5,h+.5,D,X,q,m,n*J+w,1)}};
x.Z={wR:function(b,X){var q=~~(.499+b*X);return q<0?0:q>X?X:q},xUG:function(b,X,q,N,J,_,p,z){var g=q[0],W=q[1],o=q[2],y=q[3],D=N.n,m=N.z,k=new Float64Array(D*4+8),O=new Float64Array(D*4+8);
for(var L=0,I=0;L<m;L++){var H=k;k=O;O=H;O.fill(0);for(var Y=0;Y<D;Y++,I++){var n=Y+J,w=L+_,t=g*n+W*w,j=o*n+y*w,E=0,Z=0;
if(z==0)E=t+.5;else if(z==1)E=2*Math.sqrt(t*t+j*j);else if(z==2)E=(Math.PI+Math.atan2(-j,-t))/(2*Math.PI);
else if(z==3)E=Math.abs(t*2);else if(z==4)E=2*(Math.abs(t)+Math.abs(j));var h=x.Z.wR(E,p)*4,u=Y*4;for(var A=0;
A<4;A++){var P=Math.max(0,Math.min(254.999,X[h+A]+k[u+4+A])),T=Math.floor(P);if(Math.random()<P-T)T++;
var U=P-T;k[u+8+A]=U*(7/16);O[u+0+A]=U*(3/16);O[u+4+A]=U*(5/16);O[u+8+A]=U*(1/16);Z|=T<<A*8}b[I]=Z}}},J:[function(b,X,q,N,J,_,p){var z=q[0],g=q[1],W=q[2],o=q[3],y=N.n,D=N.z;
for(var m=0,k=0;m<D;m++)for(var O=0;O<y;O++,k++){var L=O+J,I=m+_,H=z*L+g*I,Y=W*L+o*I,n=H+.5;b[k]=X[x.Z.wR(n,p)]}},function(b,X,q,N,J,_,p){var z=q[0],g=q[1],W=q[2],o=q[3],y=N.n,D=N.z;
for(var m=0,k=0;m<D;m++)for(var O=0;O<y;O++,k++){var L=O+J,I=m+_,H=z*L+g*I,Y=W*L+o*I,n=2*Math.sqrt(H*H+Y*Y);
b[k]=X[x.Z.wR(n,p)]}},function(b,X,q,N,J,_,p){var z=q[0],g=q[1],W=q[2],o=q[3],y=N.n,D=N.z;for(var m=0,k=0;
m<D;m++)for(var O=0;O<y;O++,k++){var L=O+J,I=m+_,H=z*L+g*I,Y=W*L+o*I,n=(Math.PI+Math.atan2(-Y,-H))/(2*Math.PI);
b[k]=X[x.Z.wR(n,p)]}},function(b,X,q,N,J,_,p){var z=q[0],g=q[1],W=q[2],o=q[3],y=N.n,D=N.z;for(var m=0,k=0;
m<D;m++)for(var O=0;O<y;O++,k++){var L=O+J,I=m+_,H=z*L+g*I,Y=W*L+o*I,n=Math.abs(H*2);b[k]=X[x.Z.wR(n,p)]}},function(b,X,q,N,J,_,p){var z=q[0],g=q[1],W=q[2],o=q[3],y=N.n,D=N.z;
for(var m=0,k=0;m<D;m++)for(var O=0;O<y;O++,k++){var L=O+J,I=m+_,H=z*L+g*I,Y=W*L+o*I,n=2*(Math.abs(H)+Math.abs(Y));
b[k]=X[x.Z.wR(n,p)]}}]};x.Z.xqs=function(b,X){return b+.5};x.Z.xhp=function(b,X){return 2*Math.sqrt(b*b+X*X)};
x.Z.xhB=function(b,X){return(Math.PI+Math.atan2(-X,-b))/(2*Math.PI)};x.Z.xhq=function(b,X){return Math.abs(b*2)};
x.Z.xhh=function(b,X){return 2*(Math.abs(b)+Math.abs(X))};x.Z.sH=function(b,X,q,N,J,_,p,z,g,W,o,y){if(b.Clrs==null)return;
var D=new Uint32Array(X.buffer),m=1023,k=x.Z.WD(b.Clrs.v,g,W);if(y){var O=x.Z.xUe(b,k,m+1,p);x.Z.xUG(D,O,N,q,q.x-J,q.y-_,m,z);
return}var L=x.Z.$w(b,k,m+1,p);if(z<5){x.Z.J[z](D,L,N,q,q.x-J,q.y-_,m)}else{var I=new Uint8Array(L.buffer),H=q.n,Y=q.z,n=o.zO-o.Ju,w=1/n,t=o.rr.n-q.n>>1,j=o.rr.z-q.z>>1,E=o.rr.n,h=-.6*w,u=(-.6+.4)*w,Z=(-.6+2*.4)*w,A=(-.6+3*.4)*w;
for(var P=0,T=0;P<Y;P++)for(var U=0;U<H;U++,T+=4){var r=0,i=0,V=0,F=0,B=(P+j)*E+U+t,$=(o.hp[B]-o.Ju)*w,l=0;
if($<=0||$>=1){l=($<=0?0:m)<<2;X[T]=I[l];X[T+1]=I[l+1];X[T+2]=I[l+2];X[T+3]=I[l+3];continue}l=Math.max(0,Math.min(m-1,Math.round(($+h)*m)))<<2;
i+=I[l];V+=I[l+1];F+=I[l+2];r+=I[l+3];l=Math.max(0,Math.min(m-1,Math.round(($+u)*m)))<<2;i+=I[l];V+=I[l+1];
F+=I[l+2];r+=I[l+3];l=Math.max(0,Math.min(m-1,Math.round(($+Z)*m)))<<2;i+=I[l];V+=I[l+1];F+=I[l+2];r+=I[l+3];
l=Math.max(0,Math.min(m-1,Math.round(($+A)*m)))<<2;i+=I[l];V+=I[l+1];F+=I[l+2];r+=I[l+3];X[T]=i>>>2;
X[T+1]=V>>>2;X[T+2]=F>>>2;X[T+3]=r>>>2}}};x.Z.WD=function(b,X,q){var N=[];for(var J=0;J<b.length;J++){var _;
if(b[J].v.Type.v.Clry=="FrgC")_={D:X>>16&255,q:X>>8&255,b:X&255};else if(b[J].v.Type.v.Clry=="BckC")_={D:q>>16&255,q:q>>8&255,b:q&255};
else _=x.Z.vx(b[J].v.Clr.v);N.push(_)}return N};x.Z.vx=function(b){var X,q=b.classID;if(q=="RGBC")X={D:b.Rd.v,q:b.Grn.v,b:b.Bl.v};
else if(q=="HSBC"){X=x.bY(b.H.v.val/360,b.Strt.v/100,b.Brgh.v/100);X.D*=255;X.q*=255;X.b*=255}else if(q=="CMYC"){var N=100-b.Cyn.v,J=100-b.Mgnt.v,_=100-b.Ylw.v,p=100-b.Blck.v,z=255*N*p*1e-4,g=255*(.2*N+.8*J)*p*1e-4,W=255*(.2*J+.8*_)*p*1e-4;
X={D:z,q:g,b:W}}else if(q=="Grsc")X={D:255-b.Gry.v,q:255-b.Gry.v,b:255-b.Gry.v};else if(q=="LbCl"){X=x.sK(b.Lmnc.v,b.A.v,b.B.v)}else console.log(b);
if(isNaN(X.D))X.D=X.q=X.b=0;return X};x.Z.Yr=function(b){return{classID:"RGBC",Rd:{t:"doub",v:b.D},Grn:{t:"doub",v:b.q},Bl:{t:"doub",v:b.b}}};
x.Z.xUe=function(b,X,q,N){var J=[],_=1/(q-0);for(var p=0;p<q;p++){var z=p*4,g=x.Z.$M(b,X,(N?q-1-p:p)*_);
J[z]=g[0];J[z+1]=g[1];J[z+2]=g[2];J[z+3]=g[3]}return J};x.Z.$w=function(b,X,q,N){var J=new Uint32Array(q),_=1/(q-0);
for(var p=0;p<q;p++)J[p]=x.Z.Qj(b,X,(N?q-1-p:p)*_);return J};x.Z.$M=function(b,X,q){var N=4096,J=1/4096,_=b.Intr.v*J,p=b.Clrs.v,z=b.Trns.v,g=p.length-1,W=z.length-1,o=-1,y=0,D=0,m=0,k=0;
while(o<W&&z[o+1].v.Lctn.v<=q*N)o++;if(o==-1){y=z[0].v.Opct.v.val*(255/100)}else if(o==W){y=z[o].v.Opct.v.val*(255/100)}else{var O=x.Z.$F(z,J,o,q,_);
y=(O*z[o].v.Opct.v.val+(1-O)*z[o+1].v.Opct.v.val)*(255/100)}o=-1;while(o<g&&p[o+1].v.Lctn.v<=q*N)o++;
if(o==-1){var L=X[0];D=L.D;m=L.q;k=L.b}else if(o==g){var L=X[o];D=L.D;m=L.q;k=L.b}else{var I=X[o],H=X[o+1],Y=x.Z.$F(p,J,o,q,_);
D=Y*I.D+(1-Y)*H.D;m=Y*I.q+(1-Y)*H.q;k=Y*I.b+(1-Y)*H.b}return[D,m,k,y]};x.Z.Qj=function(b,X,q){var N=x.Z.$M(b,X,q),J=~~(.5+N[0]),_=~~(.5+N[1]),p=~~(.5+N[2]),z=~~(.5+N[3]);
return z<<24|p<<16|_<<8|J};x.Z.$F=function(b,X,q,N,J){if(b.length==2)J*=.5;var _=b[q].v.Lctn.v*X,p=b[q+1].v.Lctn.v*X,z=_+b[q+1].v.Mdpn.v*.01*(p-_),g;
if(N<z)g=.5*(N-_)/(z-_);else g=.5+.5*(N-z)/(p-z);g=.5+.5*(J*Math.cos(Math.PI*g)+(1-J)*(1-2*g));return g};
x.Z.Sg=function(b,X){var q=Math.PI*b.Angl.v.val/180,N=b.Scl.v.val/100,J=b.Ofst.v,_=J.Hrzn.v.val/100,p=J.Vrtc.v.val/100,z=Math.cos(q),g=-Math.sin(q),W=.5*X.z,o=W*(z/g),y=Math.sqrt(W*W+o*o),D=.5*X.n,m=D*(g/z),k=Math.sqrt(D*D+m*m),O=Math.min(y,k)*N,L=X.x+X.n/2+_*X.n,I=X.y+X.z/2+p*X.z;
return[new Ue(L,I),new Ue(L+z*O,I+g*O)]};x.Z.uA=function(b,X,q,N){var J=X.x-b.x,_=-(X.y-b.y),p=Math.sqrt(J*J+_*_),z=Math.atan2(_,J),g=Math.cos(z),W=-Math.sin(z),o=.5*q.z,y=o*(g/W),D=Math.sqrt(o*o+y*y),m=.5*q.n,k=m*(W/g),O=Math.sqrt(m*m+k*k),L=p/Math.min(D,O),I=(b.x-q.x-q.n/2)/q.n,H=(b.y-q.y-q.z/2)/q.z;
N.Angl.v.val=180*z/Math.PI;N.Scl.v.val=L*100;var Y=N.Ofst.v;Y.Hrzn.v.val=I*100;Y.Vrtc.v.val=H*100};x.Z.sP=function(b,X){for(var q=0;
q<b.length;q++){var N=b[q],J=Math.round(N[0]*4096),_=N[1],p=N[2];if(p==null)p=1;var z=x.Z.Yr({D:_[0]*255,q:_[1]*255,b:_[2]*255});
X.Clrs.v[q]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:J},Mdpn:{t:"long",v:50},Clr:{t:"Objc",v:z},Type:{t:"enum",v:{Clry:"UsrS"}}}};
X.Trns.v[q]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:J},Mdpn:{t:"long",v:50},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(p*100)}}}}}};
x.ZT={};x.ZT.sJ=function(b,X,q,N,J){var _=!1,k=1,T=0,U=0,v=0,nh=0;if(!X.Rh(J)){var p=X.Tg(J),z=x.K(p.c()*4);
x.iX(b,X,z,p);b=z;X=p}var g=x.K(X.c());x.rS(q,J,g,X);x.round(g);J=J.be(X);var W=J.n,o=J.z,y=W*3<o?2:1,D=o*3<W?2:1;
if(J.c()*(y*2+1)*(D*2+1)<X.c()){var p=new R(J.x-W*y,J.y-o*y,W*(y*2+1),o*(D*2+1)).be(X),z=x.K(p.c()*4);
x.iX(b,X,z,p);var m=x.K(p.c());x.rS(g,X,m,p);X=p;b=z;g=m}while((X.n+X.z)/2/k>400)k++;var O=b,L=X,I=g,H=Math.floor(L.n/k),Y=Math.floor(L.z/k);
b=x.K(H*Y*4);x.scale.wN(O,L.n,L.z,b,H,Y,1/k);g=x.K(H*Y);x.scale.$C(I,L.n,L.z,g,H,Y,1/k);x.round(g,1);
var n=x.E_(g,new R(0,0,H,Y));if(n.qa())return;var w=Math.round((n.n+n.z)/2/15),t=Date.now(),j=x.K(H*Y*4);
x.xit(b,j);var E=Int16Array,h=new E(H*Y*24),u=new E(64),Z=new E(64),A=new E(64),P=new E(64);for(var r=3;
r<Y-4;r++)for(var i=3;i<H-4;i++){var V=r*H+i;if(g[V]==255)continue;if(x.ZT.x_h(j,g,i,r,H,Y,u,Z,A)!=0)continue;
x.ZT.SH(u,P);h[T]=i;h[T+1]=r;x.ZT.vM(u,h,T+4,12);T+=16;x.ZT.SH(Z,P);x.ZT.vM(Z,h,T,4);T+=4;x.ZT.SH(A,P);
x.ZT.vM(A,h,T,4);T+=4;var F=h[T-24+5],B=h[T-24+6];h[T-24+5]=h[T-24+20];h[T-24+6]=h[T-24+16];h[T-24+16]=F;
h[T-24+20]=B;U++}if(U==0)return;if(_)console.log(Date.now()-t,"FWHT computed");t=Date.now();var $=[];
x.ZT.Sn(0,U-1,$,h,new E(2*24));if(_)console.log(Date.now()-t,"KD tree computed");t=Date.now();var l=new Float32Array(H*Y*4);
for(var C=0;C<U;C++){var f=C,nx=x.ZT.x_n(f,h,$,w);if(nx==-1)continue;var nA=f*24,nU=nx*24,nn=h[nA],nH=h[nA+1],d=h[nU],np=h[nU+1];
v+=x.ZT.getError(nU,nA,h,1e99);var a=d-nn,nb=np-nH;l[(Y+nb)*2*H+(H+a)]+=1}if(_)console.log(Date.now()-t,"NN found");
t=Date.now();var nK=[],nq=1/(2*H);for(var C=0;C<l.length;C++){if(l[C]>0){var r=Math.floor(C*nq),i=C-r*2*H;
nK.push({x:i-H,y:r-Y,A:l[C],LM:-1})}}nK.sort(function(nV,nX){return nX.A-nV.A});var nB=new Int32Array(H*Y),nE=[];
for(var C=0;C<H*Y;C++){if(g[C]==255){nB[C]=nh;nE.push(C%H,Math.floor(C/H));nh++}else if(b[(C<<2)+3]<200){nB[C]=-2}else{nB[C]=-1}}var nv=x.ZT.x_U(H,Y,nK,nB,nE,nh);
if(nv==null){return}var nC=nv.IM,top=nv.top;nC=x.ZT.xUZ(nC,b,H,Y,top,nB,nE,nh);if(_)console.log(Date.now()-t,"optimal labeling found");
t=Date.now();var p=J.clone();p.Ii(1,1);p=p.be(L);var nR=x.K(p.c()*4),nu=x.K(p.c());x.iX(O,L,nR,p);var nF=L.n,nP=L.z;
for(var r=0;r<nP;r++)for(var i=0;i<nF;i++){if(I[r*nF+i]==0)continue;var ni=Math.min(Math.floor(i/k),H-1),nw=Math.min(Math.floor(r/k),Y-1),nO=nB[nw*H+ni],nT=nC[nO],nI=top[nT],gu=i+nI.x*k,nN=r+nI.y*k,xn=nN*nF+gu<<2,nL=(r-p.y+L.y)*p.n+(i-p.x+L.x)<<2;
nR[nL]=O[xn];nR[nL+1]=O[xn+1];nR[nL+2]=O[xn+2];nR[nL+3]=O[xn+3];nR[nL+3]=O[xn+3];nu[nL>>2]=nT+1}if(_)console.log(Date.now()-t,"copied back");
t=Date.now();x.YB.sJ(nR,nu,p,null,1e3);if(_)console.log(Date.now()-t,"poisson smooth");t=Date.now();
x.iX(nR,p,N,J)};x.ZT.$d=function(b,X,q,N,J,_){return x.ZT.ux(b+J.x,X+J.y,q,N)&&_[(X+J.y)*q+(b+J.x)]==-1?0:1e9};
x.ZT.xUZ=function(b,X,q,N,top,J,_,p){var z=Date.now(),g=[-1,0,0,-1,1,0,0,1],W=1e99,o=[],y=[],D=2*(p*2*3+p*2),m=null,k=0,O=0,L=0,I=1e99;
while(!0&&Date.now()<z+12e3){L++;var H=null,Y=W;for(var n=0;n<top.length;n++){var w=top[n],t=0,j=p+2,E=0;
for(var h=0;h<p;h++){var u=_[h*2],Z=_[h*2+1],A=top[b[h]],P=x.ZT.$d(u,Z,q,N,w,J),T=b[h]==n?1e9:x.ZT.$d(u,Z,q,N,A,J);
for(var U=0;U<4;U++){if(U==0&&u==0||U==1&&Z==0||U==2&&u==q-1||U==3&&Z==N-1)continue;var r=g[2*U],i=g[2*U+1],V=u+r,F=Z+i,B=J[F*q+V];
if(B==-2){}else if(B==-1){P+=3*x.ZT.$D(V+w.x,F+w.y,V,F,q,N,X,J);P+=2*x.ZT.$D(V+w.x+r,F+w.y+i,V+r,F+i,q,N,X,J);
T+=3*x.ZT.$D(V+A.x,F+A.y,V,F,q,N,X,J);T+=2*x.ZT.$D(V+A.x+r,F+A.y+i,V+r,F+i,q,N,X,J)}else if(U>1){if(b[h]==b[B]){var $=0;
$+=x.ZT.$D(u+A.x,Z+A.y,u+w.x,Z+w.y,q,N,X,J);$+=x.ZT.$D(V+A.x,F+A.y,V+w.x,F+w.y,q,N,X,J);o[t]=h;o[t+1]=B;
y[t]=$;y[t+1]=$;t+=2}else{var l=top[b[B]],v=j,C=0,f=0,nx=0;j++;C+=x.ZT.$D(u+A.x,Z+A.y,u+w.x,Z+w.y,q,N,X,J);
C+=x.ZT.$D(V+A.x,F+A.y,V+w.x,F+w.y,q,N,X,J);f+=x.ZT.$D(u+l.x,Z+l.y,u+w.x,Z+w.y,q,N,X,J);f+=x.ZT.$D(V+l.x,F+l.y,V+w.x,F+w.y,q,N,X,J);
nx+=x.ZT.$D(u+l.x,Z+l.y,u+A.x,Z+A.y,q,N,X,J);nx+=x.ZT.$D(V+l.x,F+l.y,V+A.x,F+A.y,q,N,X,J);o[t]=h;o[t+1]=v;
y[t]=C;y[t+1]=C;t+=2;o[t]=B;o[t+1]=v;y[t]=f;y[t+1]=f;t+=2;o[t]=v;o[t+1]=p+1;y[t]=nx;y[t+1]=0;t+=2}}}o[t]=p;
o[t+1]=h;y[t]=P;y[t+1]=0;t+=2;o[t]=h;o[t+1]=p+1;y[t]=T;y[t+1]=0;t+=2;E+=Math.min(P,T)}if(E>Y)continue;
var nA=x.$m.uH(j,t,p,p+1,o,y,Y);if(nA.tL<Y){Y=nA.tL;var nU=b.slice(0);x.ZT.xnF(nU,t,o,nA.Li,n,p);H=nU}}if(Y*1>=W){break}W=Y;
b=H;if((L&3)==0){if(Y*1.03>=I)break;I=Y}if((L&3)==0){var nn=0*top.length;for(var h=0;h<top.length&&top.length>nn;
h++){if(b.indexOf(h)!=-1)continue;top.splice(h,1);for(var B=0;B<b.length;B++)if(b[B]>h)b[B]--;h--}}}return b};
x.ZT.xnF=function(b,X,q,N,J,_){for(var p=0;p<N.length;p++){var z=N[p]<<1,g=0,W=0;if(z<X){g=q[z];W=q[z+1]}else{W=q[z];
g=q[z+1]}if(g==_&&b[W]!=J)b[W]=J}};x.ZT.$W=function(top,b,X,q,N,J,_,p,z){for(var g=0;g<X.length;g++){var W=X[g],o=!0;
if(p!=null&&!(x.ZT.ux(p+W.x,z+W.y,J,_)&&q[J*(z+W.y)+p+W.x]==-1))continue;if(W.LM==-1)W.LM=x.ZT.xnd(W,q,N,J,_);
if(W.LM<=0)continue;for(var y=0;y<top.length;y++){var D=top[y],m=W.x-D.x,k=W.y-D.y;if(m*m+k*k<b){o=!1;
break}}if(o)return W}return null};x.ZT.xnd=function(b,X,q,N,J){var _=0;for(var p=0;p<q.length;p+=2){var z=q[p]+b.x,g=q[p+1]+b.y;
if(x.ZT.ux(z,g,N,J)&&X[N*g+z]==-1)_++}return _/(q.length>>1)};x.ZT.x_U=function(b,X,q,N,J,_){var top=[];
for(var p=0;p<60;p++){var z=x.ZT.$W(top,25,q,N,J,b,X);if(z==null)break;else top.push(z)}if(top.length==0)return null;
var g=[];for(var p=0;p<_;p++){var W=J[p*2],o=J[p*2+1],y=-1,D=0;while(!0){D++;var m=Math.random();y=Math.floor(m*.99999*top.length);
var k=top[y],O=W+k.x,L=o+k.y;if(x.ZT.ux(O,L,b,X)&&N[L*b+O]==-1)break;if(D>100){var z;z=x.ZT.$W(top,0,q,N,J,b,X,W,o);
if(z==null)return null;top.push(z);D=0}}g.push(y)}return{top:top,IM:g}};x.ZT.$D=function(b,X,q,N,J,_,p,z){if(b==q&&X==N)return 0;
if(b<0||X<0||b>=J||X>=_||q<0||N<0||q>=J||N>=_||z[X*J+b]!=-1||z[N*J+q]!=-1)return 1e7;var g=X*J+b<<2,W=N*J+q<<2,o=p[g]-p[W],y=p[g+1]-p[W+1],D=p[g+2]-p[W+2];
return 1+(o*o+y*y+D*D)};x.ZT.ux=function(b,X,q,N){return b>=0&&b<q&&X>=0&&X<N};x.ZT.x_n=function(b,X,q,N){var J=24*b,_=X[J],p=X[J+1],z=N*N,g=0,D=1e9;
while(q[g]!=99)if(X[J+q[g]]<q[g+1])g=q[g+2];else g=q[g+3];var W=q[g+1],o=q[g+2],y=-1;for(var m=W;m<=o;
m++){var g=m,k=g*24,O=X[k],L=X[k+1];if((O-_)*(O-_)+(L-p)*(L-p)<z)continue;var I=x.ZT.getError(k,J,X,D);
if(I<D){D=I;y=g}}return y};x.ZT.getError=function(b,X,q,N){var J=0;for(var _=4;_<24;_+=4){var p=q[X+_]-q[b+_],z=q[X+_+1]-q[b+_+1],g=q[X+_+2]-q[b+_+2],W=q[X+_+3]-q[b+_+3];
J+=p*p+z*z+g*g+W*W;if(J>=N)return J+1}return J};x.ZT.Sn=function(b,X,q,N,J){var _=16,m=0;if(X-b<=_){q.push(99,b,X);
return}x.ZT.Is(b,X,N,J);var p=-1,z=-1;for(var g=4;g<24;g++){var W=J[2*g+1]-J[2*g];if(W>z){z=W;p=g}}var o=b+X>>1,y=x.ZT.x_q(o,b,X,N,p),D=-1;
for(var g=b;g<=X;g++)if(N[24*g+p]==y){if(D==-1)D=g;m=g}if(b+8<D&&D-b>X-m)o=D;else if(m+1<X-8)o=m+1;else if(X-b<64){q.push(99,b,X);
return}else o=o;var k=q.length;q.push(p,y,0,0);q[k+2]=k+4;x.ZT.Sn(b,o-1,q,N,J);q[k+3]=q.length;x.ZT.Sn(o,X,q,N,J)};
x.ZT.Is=function(b,X,q,N){for(var J=0;J<48;J+=4){N[J]=3e4;N[J+1]=-3e4;N[J+2]=3e4;N[J+3]=-3e4}for(var J=b;
J<=X;J++){var _=J*24;for(var p=0;p<24;p++){var z=q[_+p],g=N[p<<1],W=N[(p<<1)+1];if(z<g)N[p<<1]=z;if(z>W)N[(p<<1)+1]=z}}};
x.ZT.SS=function(b,X,q){var N=0,J=0;N=q[b+J];q[b+J]=q[X+J];q[X+J]=N;J++;N=q[b+J];q[b+J]=q[X+J];q[X+J]=N;
J++;N=q[b+J];q[b+J]=q[X+J];q[X+J]=N;J++;N=q[b+J];q[b+J]=q[X+J];q[X+J]=N;J++;N=q[b+J];q[b+J]=q[X+J];q[X+J]=N;
J++;N=q[b+J];q[b+J]=q[X+J];q[X+J]=N;J++;N=q[b+J];q[b+J]=q[X+J];q[X+J]=N;J++;N=q[b+J];q[b+J]=q[X+J];q[X+J]=N;
J++;N=q[b+J];q[b+J]=q[X+J];q[X+J]=N;J++;N=q[b+J];q[b+J]=q[X+J];q[X+J]=N;J++;N=q[b+J];q[b+J]=q[X+J];q[X+J]=N;
J++;N=q[b+J];q[b+J]=q[X+J];q[X+J]=N;J++;N=q[b+J];q[b+J]=q[X+J];q[X+J]=N;J++;N=q[b+J];q[b+J]=q[X+J];q[X+J]=N;
J++;N=q[b+J];q[b+J]=q[X+J];q[X+J]=N;J++;N=q[b+J];q[b+J]=q[X+J];q[X+J]=N;J++;N=q[b+J];q[b+J]=q[X+J];q[X+J]=N;
J++;N=q[b+J];q[b+J]=q[X+J];q[X+J]=N;J++;N=q[b+J];q[b+J]=q[X+J];q[X+J]=N;J++;N=q[b+J];q[b+J]=q[X+J];q[X+J]=N;
J++;N=q[b+J];q[b+J]=q[X+J];q[X+J]=N;J++;N=q[b+J];q[b+J]=q[X+J];q[X+J]=N;J++;N=q[b+J];q[b+J]=q[X+J];q[X+J]=N;
J++;N=q[b+J];q[b+J]=q[X+J];q[X+J]=N;J++};x.ZT.Sh=function(b,X,q,N){var J=q+N>>>1,_=b[24*J+X];while(q<=N){while(b[24*q+X]<_)q++;
while(b[24*N+X]>_)N--;if(q<=N){if(b[24*q+X]!=b[24*N+X])x.ZT.SS(q*24,N*24,b);q++;N--}}return q};x.ZT.x_q=function(b,X,q,N,J){var _=0;
while(X!=q){_=x.ZT.Sh(N,J,X,q);if(b<_)q=_-1;else X=_}return N[b*24+J]};x.ZT.vM=function(b,X,q,N){for(var J=0;
J<N;J++)X[q+J]=b[J]};x.ZT.x_h=function(b,X,q,N,J,_,p,z,g){var W=(N-3)*J+(q-3),o=W<<2;for(var y=0;y<8;
y++){if(X[W]+X[W+1]+X[W+2]+X[W+3]+X[W+4]+X[W+5]+X[W+6]+X[W+7]!=0||b[o+3]<200||b[o+7]<200||b[o+11]<200||b[o+15]<200||b[o+19]<200||b[o+23]<200||b[o+27]<200||b[o+31]<200)return 1;
var D=y<<3;p[D+0]=b[o+0];z[D+0]=b[o+1];g[D+0]=b[o+2];p[D+1]=b[o+4];z[D+1]=b[o+5];g[D+1]=b[o+6];p[D+2]=b[o+8];
z[D+2]=b[o+9];g[D+2]=b[o+10];p[D+3]=b[o+12];z[D+3]=b[o+13];g[D+3]=b[o+14];p[D+4]=b[o+16];z[D+4]=b[o+17];
g[D+4]=b[o+18];p[D+5]=b[o+20];z[D+5]=b[o+21];g[D+5]=b[o+22];p[D+6]=b[o+24];z[D+6]=b[o+25];g[D+6]=b[o+26];
p[D+7]=b[o+28];z[D+7]=b[o+29];g[D+7]=b[o+30];o+=J<<2;W+=J}return 0};x.ZT.SH=function(b,X){X[0]=b[32]+b[0];
X[1]=b[33]+b[1];X[2]=b[34]+b[2];X[3]=b[35]+b[3];X[4]=b[36]+b[4];X[5]=b[37]+b[5];X[6]=b[38]+b[6];X[7]=b[39]+b[7];
X[8]=b[40]+b[8];X[9]=b[41]+b[9];X[10]=b[42]+b[10];X[11]=b[43]+b[11];X[12]=b[44]+b[12];X[13]=b[45]+b[13];
X[14]=b[46]+b[14];X[15]=b[47]+b[15];X[16]=b[48]+b[16];X[17]=b[49]+b[17];X[18]=b[50]+b[18];X[19]=b[51]+b[19];
X[20]=b[52]+b[20];X[21]=b[53]+b[21];X[22]=b[54]+b[22];X[23]=b[55]+b[23];X[24]=b[56]+b[24];X[25]=b[57]+b[25];
X[26]=b[58]+b[26];X[27]=b[59]+b[27];X[28]=b[60]+b[28];X[29]=b[61]+b[29];X[30]=b[62]+b[30];X[31]=b[63]+b[31];
X[32]=b[0]-b[32];X[33]=b[1]-b[33];X[34]=b[2]-b[34];X[35]=b[3]-b[35];X[36]=b[4]-b[36];X[37]=b[5]-b[37];
X[38]=b[6]-b[38];X[39]=b[7]-b[39];X[40]=b[8]-b[40];X[41]=b[9]-b[41];X[42]=b[10]-b[42];X[43]=b[11]-b[43];
X[44]=b[12]-b[44];X[45]=b[13]-b[45];X[46]=b[14]-b[46];X[47]=b[15]-b[47];X[48]=b[16]-b[48];X[49]=b[17]-b[49];
X[50]=b[18]-b[50];X[51]=b[19]-b[51];X[52]=b[20]-b[52];X[53]=b[21]-b[53];X[54]=b[22]-b[54];X[55]=b[23]-b[55];
X[56]=b[24]-b[56];X[57]=b[25]-b[57];X[58]=b[26]-b[58];X[59]=b[27]-b[59];X[60]=b[28]-b[60];X[61]=b[29]-b[61];
X[62]=b[30]-b[62];X[63]=b[31]-b[63];b[0]=X[16]+X[0];b[1]=X[17]+X[1];b[2]=X[18]+X[2];b[3]=X[19]+X[3];
b[4]=X[20]+X[4];b[5]=X[21]+X[5];b[6]=X[22]+X[6];b[7]=X[23]+X[7];b[8]=X[24]+X[8];b[9]=X[25]+X[9];b[10]=X[26]+X[10];
b[11]=X[27]+X[11];b[12]=X[28]+X[12];b[13]=X[29]+X[13];b[14]=X[30]+X[14];b[15]=X[31]+X[15];b[16]=X[0]-X[16];
b[17]=X[1]-X[17];b[18]=X[2]-X[18];b[19]=X[3]-X[19];b[20]=X[4]-X[20];b[21]=X[5]-X[21];b[22]=X[6]-X[22];
b[23]=X[7]-X[23];b[24]=X[8]-X[24];b[25]=X[9]-X[25];b[26]=X[10]-X[26];b[27]=X[11]-X[27];b[28]=X[12]-X[28];
b[29]=X[13]-X[29];b[30]=X[14]-X[30];b[31]=X[15]-X[31];X[0]=b[8]+b[0];X[1]=b[9]+b[1];X[2]=b[10]+b[2];
X[3]=b[11]+b[3];X[4]=b[12]+b[4];X[5]=b[13]+b[5];X[6]=b[14]+b[6];X[7]=b[15]+b[7];X[8]=b[0]-b[8];X[9]=b[1]-b[9];
X[10]=b[2]-b[10];X[11]=b[3]-b[11];X[12]=b[4]-b[12];X[13]=b[5]-b[13];X[14]=b[6]-b[14];X[15]=b[7]-b[15];
b[0]=X[4]+X[0];b[1]=X[5]+X[1];b[2]=X[6]+X[2];b[3]=X[7]+X[3];b[4]=X[0]-X[4];b[5]=X[1]-X[5];b[6]=X[2]-X[6];
b[7]=X[3]-X[7];b[8]=X[12]+X[8];b[9]=X[13]+X[9];b[10]=X[14]+X[10];b[11]=X[15]+X[11];b[12]=X[8]-X[12];
b[13]=X[9]-X[13];b[14]=X[10]-X[14];b[15]=X[11]-X[15];X[0]=b[2]+b[0];X[1]=b[3]+b[1];X[2]=b[0]-b[2];X[3]=b[1]-b[3];
X[4]=b[6]+b[4];X[5]=b[7]+b[5];X[6]=b[4]-b[6];X[7]=b[5]-b[7];X[8]=b[10]+b[8];X[9]=b[11]+b[9];X[10]=b[8]-b[10];
X[11]=b[9]-b[11];X[12]=b[14]+b[12];X[13]=b[15]+b[13];X[14]=b[12]-b[14];X[15]=b[13]-b[15];b[0]=X[1]+X[0];
b[1]=X[0]-X[1];b[2]=X[3]+X[2];b[3]=X[2]-X[3];b[4]=X[5]+X[4];b[5]=X[4]-X[5];b[6]=X[7]+X[6];b[7]=X[6]-X[7];
b[8]=X[9]+X[8];b[9]=X[8]-X[9];b[10]=X[11]+X[10];b[11]=X[10]-X[11];b[12]=X[13]+X[12];b[13]=X[12]-X[13];
b[14]=X[15]+X[14];b[15]=X[14]-X[15]};x.ZT.xhH=function(){var b="",X=64,q="v",N="t",J="a",_=5,p,z,g;for(p=X>>1;
p>0;p>>=1,_--){for(z=0;z<X;z++){g=(z>>_&1)!=0;if(g){b+=N+"["+z+"] = "+q+"["+(-p+z)+"] - "+q+"["+z+"];  "}else{b+=N+"["+z+"] = "+q+"["+(p+z)+"] + "+q+"["+z+"];  "}}J=q;
q=N;N=J;b+="\n"}console.log(b)};x.ZT.xhP=function(b,X,q){var N=X,J=q,_=N,p=0,g,W,o;while(b>>p!=2)p++;
var z=p;for(g=b>>1;g>0;g>>=1,p--){for(W=0;W<b;W++){o=(W>>p&1)!=0;if(o)J[W]=N[-g+W]-N[W];else J[W]=N[g+W]+N[W]}_=N;
N=J;J=_}if((z&1)==1)for(g=0;g<b;g++)q[g]=N[g]};x.Fv={};x.Fv.SE=function(b,X,q,N,J,_,p,z,g){var W=Date.now(),o=new Uint32Array(b.buffer),y=new Uint32Array(X.buffer),D=p/q,m=z/N,k=1/D,O=1/m,L=new Float64Array(2),I=3,H=1/I,Y=1/(I*I),n=0,w=0,t=q,j=N;
if(J){n=J.x;w=J.y;t=J.n;j=J.z}for(var E=0;E<j;E++)for(var h=0;h<t;h++){var u=n+h,Z=w+E,A=Z*q+u,P=A<<1,T=A<<2;
x.Fv.xbr(_,p,z,(u+.5)*D,(Z+.5)*m,L);var U=L[0]*k,r=L[1]*O;if(U==0&&r==0)y[A]=o[A];else{x.GI.wC(u+U+.5,Z+r+.5,o,q,N,y,A,g)}}};
x.Fv.xbr=function(b,X,q,N,J,_){N-=.499999;J-=.499999;var p=~~N,z=~~J,g=N-p,W=J-z,o=(1-W)*(1-g),y=(1-W)*g,D=W*(1-g),m=W*g,k=p<X-1?p+1:p,O=z<q-1?z+1:z,L=z*X+p<<1,I=z*X+k<<1,H=O*X+p<<1,Y=O*X+k<<1;
_[0]=o*b[L]+y*b[I]+D*b[H]+m*b[Y];_[1]=o*b[L+1]+y*b[I+1]+D*b[H+1]+m*b[Y+1]};x.Fv.Sw=new Float32Array(512);
x.Fv.$u=function(b){if(x.Fv.Sw.length<b)x.Fv.Sw=new Float32Array(b);return x.Fv.Sw};x.Fv.xbE=function(b,X,q,N,J){var _=1/b,p=[-1,1,-b,b],z=N.length,g=x.Fv.$u(z*2);
for(var W=0;W<2;W++){for(var o=0;o<z;o++){var y=N[o],D=y<<1,m=o<<1,k=Math.floor(y*_),O=y-b*k,L=q[D],I=q[D+1],H=0,Y=0;
if(O!=0&&O!=b-1){var n=y-1<<1,w=y+1<<1,t=q[n],j=q[w],E=q[n+1],h=q[w+1],u=L-(t+j)*.5,Z=I-(E+h)*.5;H-=u*J;
Y-=Z*J}if(k!=0&&k!=X-1){var n=y-b<<1,w=y+b<<1,t=q[n],j=q[w],E=q[n+1],h=q[w+1],u=L-(t+j)*.5,Z=I-(E+h)*.5;
H-=u*J;Y-=Z*J}g[m]=L+H;g[m+1]=I+Y}for(var o=0;o<z;o++){var D=N[o]<<1,m=o<<1;q[D]=g[m];q[D+1]=g[m+1]}}};
x.Fv.xbd=function(b,X,q,N,J,_,p,z,g,W,o,y,D){var m=Math.max(0,Math.floor(J-p*z-1)),k=Math.min(X,Math.ceil(J+p*z+1)),O=Math.max(0,Math.floor(_-p-1)),L=Math.min(q,Math.ceil(_+p+1)),I=2*X,H=p*p,Y=1/p,n=0,w=x.Fv.$u((k-m)*(L-O)*2);
for(var t=O;t<L;t++)for(var j=m;j<k;j++){var E=t*X+j,h=E<<1,u=(J-j)/z,Z=_-t,A=u*u+Z*Z;if(A<H){y[n]=E;
var P=Math.sqrt(A),T=P*Y,U=P==0?1:T/P;u*=U;Z*=U;var r=Math.exp(-4*T),i=.96*(1-T*T),V=W*((1-g)*r+g*i);
if(N==1){w[n<<1]=b[h]*(1-V*.05);w[(n<<1)+1]=b[h+1]*(1-V*.05)}else{var F=0,B=0,v,C,f,nx;if(N==0){F=o.x*V;
B=o.y*V}else if(N==2){}else if(N==3){if(D)V=-V;F=V*Z;B=-V*u}else if(N==4){F=V*u;B=V*Z}else if(N==5){F=-V*u;
B=-V*Z}else if(N==6){if(D)V=-V;F=o.y*V;B=-o.x*V}var $=b[h],l=b[h+1];if(j==0||j!=X-1&&F<0){v=1+b[h+2]-$;
f=b[h+3]-l}else{v=$-b[h-2]+1;f=l-b[h-1]}if(t==0||t!=q-1&&B<0){C=b[h+I]-$;nx=1+b[h+I+1]-l}else{C=$-b[h-I];
nx=l-b[h-I+1]+1}w[n<<1]=-(v*F+C*B-$);w[(n<<1)+1]=-(f*F+nx*B-l)}n++}}for(var nA=0;nA<n;nA++){var h=y[nA]<<1,nU=nA<<1;
b[h]=w[nU];b[h+1]=w[nU+1]}};x.Fv.xbc=function(b){var X=b[0],q=b[0],N=b[1],J=b[1];for(var _=0;_<b.length;
_+=2){var p=b[_],z=b[_+1];if(p<X)X=p;else if(p>q)q=p;if(z<N)N=z;else if(z>J)J=z}return[X,N,q,J]};x.Fv.xhC=function(b,X){var q=[],N=Math.floor(X.length/3);
for(var J=0;J<N;J++)q.push(J);var _=x.Fv.xbc(b);return x.Fv.SP(b,X,q,q.length,_)};x.Fv.SP=function(b,X,q,N,J){if(N<60)return q;
var _=J,p=J.slice(0),z=[],g=[],W=0,o=0,y=0;if(J[3]-J[1]>J[2]-J[0])y=1;else y=0;var D=(J[0+y]+J[2+y])*.5;
_[2+y]=p[0+y]=D;for(var m=0;m<N;m++){var k=q[m],O=k*3,L=b[(X[O+0]<<1)+y],I=b[(X[O+1]<<1)+y],H=b[(X[O+2]<<1)+y];
if(L<=D||I<=D||H<=D){z[W++]=k}if(L>D||I>D||H>D){g[o++]=k}}if(W==N||o==N||W+o>N*1.3)return q;return{axis:y,xUA:D,xUp:x.Fv.SP(b,X,z,W,_),xMX:x.Fv.SP(b,X,g,o,p)}};
x.Fv.xhQ=function(b,X,q,N,J){while(q.xUp!=null){if(q.axis==0&&N<=q.xUA||q.axis==1&&J<=q.xUA)q=q.xUp;
else q=q.xMX}return x.Fv.xKH(b,X,q,N,J)};x.Fv.xhd=function(b,X,q){return q[0]<=b&&b<=q[2]&&q[1]<=X&&X<=q[3]};
x.Fv.xKH=function(b,X,q,N,J){for(var _=0;_<q.length;_++){var p=q[_],z=p*3,g=X[z+0]<<1,W=X[z+1]<<1,o=X[z+2]<<1,y=b[g+0],D=b[g+1],m=b[W+0],k=b[W+1],O=b[o+0],L=b[o+1],I=m-y,H=k-D,Y=O-y,n=L-D,w=N-y,t=J-D,j=I*n-Y*H;
if(j==0)return[g>>>1,W>>>1,o>>>1,1,0,0];var E=1/j,h=(w*n-Y*t)*E,u=(I*t-w*H)*E;if(h>=0&&u>=0&&h+u<=1)return[g>>>1,W>>>1,o>>>1,1-h-u,h,u]}return null};
x.xKL=function(b,X,q,N,J){function _(d,np,a,nb){return Math.sqrt((d-a)*(d-a)+(np-nb)*(np-nb))}function p(d,np){return d>=0&&d<X&&np>=0&&np<q}function z(d){if(d<0)return 0;
if(d>=X)return X-1;return d}function g(d){if(d<0)return 0;if(d>=q)return q-1;return d}function W(C,d){var np=d[3]*(1/255),a=N[C]+d[0]*np;
if(a>255)a=255;N[C]=a;a=N[C+1]+d[1]*np;if(a>255)a=255;N[C+1]=a;a=N[C+2]+d[2]*np;if(a>255)a=255;N[C+2]=a}function o(d,np,a){if(!$(d,np))return;
if(a[3]<0)a[3]=0;W((np*X+d)*4,a)}function y(d){var np=d.slice(0,3);np[3]=0;return np}var D=X/800;function m(d){return Math.round(d*D)}function k(){for(var C=0;
C<=300;C++){v[C]=O(C)}}function O(q){var d=.8,np=.2,a=d*np,nb=q/60%2-1,nK=a*(1-nb*nb),nq=np-a,nS;if(q<60){nS=[a+nq,nK,0]}else if(q<120){nS=[nK,a,0]}else if(q<180){nS=[0,a,nK]}else if(q<240){nS=[0,nK,a]}else if(q<300){nS=[nK,0,a]}else{nS=[a,0,nK]}return[(nS[0]+nq)*255,(nS[1]+nq)*255,(nS[2]+nq)*255]}function L(q){return v[~~q]}function I(d){return 1-H(d)}function H(d){return d-~~d}function Y(d,np,a,nb){F(d,np,a,0,np+1,1,nb)}function n(d,np,a,nb,nK,nq){F(d,np,a,0,nb,1,nK,nq)}function w(d){for(var C=0;
C<N.length;C+=4){W(C,d)}}function t(d,np,a,nb,nK,nq,nS,nB){j(d,np,a,nb,nK,1,nq,nS,nB)}function j(d,np,a,nb,nK,nq,nS,nB,nE){if(nq==null)nq=.5;
if(nS==null)nS=0;if(nB==null)nB=0;if(nE==null)nE=!1;var nh=d.x,nv=d.y,nC=a.slice(0),nR=~~(a[3]*nx);nb=nb*nx;
if(!nE){np=B(np);nK=B(nK);nS=B(nS);nB=B(nB)}var nu=z(nh-np),nF=z(nh+np);for(var nP=nu;nP<=nF;nP++){var ni=nP-nh,nw=Math.floor(Math.sqrt(np*np-ni*ni)),nO=g(nv-nw),nT=g(nv);
for(var nI=nO;nI<=nT;nI++){var gu=_(nP,nI,nh,nv);if(gu>np||gu<=np-nK)break;var nN=(gu-np+nK)/nK;nC[3]=nR-nb*(nq==1?nN:Math.pow(nN,nq));
W((nI*X+nP)*4,nC)}nO=g(nv+nw);for(var nI=nO;nI>nT;nI--){var gu=_(nP,nI,nh,nv);if(gu>np||gu<=np-nK)break;
var nN=(gu-np+nK)/nK;nC[3]=nR-nb*(nq==1?nN:Math.pow(nN,nq));W((nI*X+nP)*4,nC)}}if(nS>0){F(d,np+nS,nC,nC[3],nS,1,0,0,!0)}if(nB>0){F(d,np-nK,l(a),-a[3],nB,1,0,0,!0)}}function E(d,np,a,nb,nK,nq){F(d,np,a,a[3],np+1,1,nb,nK,nq)}function h(d,np,a,nb,nK){if(nK==null)nK=!1;
var nq=d.x,nS=d.y;nb*=nx;if(!nK){np=B(np);a=B(a)}var nB=z(nq-np),nE=z(nq+np);for(var nh=nB;nh<nE;nh++){var nv=nh-nq,nC=~~Math.sqrt(np*np-nv*nv),nR=g(nS-nC),nu=g(nS);
for(var nF=nR;nF<=nu;nF++){var nP=_(nh,nF,nq,nS);if(nP>np||nP<=np-a)break;var ni=(np-nP)/a,nw=L(300*ni);
nw[3]=nb;W((nF*X+nh)*4,nw)}nR=g(nS+nC);for(var nF=nR;nF>nu;nF--){var nP=_(nh,nF,nq,nS);if(nP>np||nP<=np-a)break;
var ni=(np-nP)/a,nw=L(300*ni);nw[3]=nb;W((nF*X+nh)*4,nw)}}}function u(f,d){var np=f.hh,a=f.LC,nb=d.slice(0),nK=d[3]*nx,nq=Math.abs(a.y-np.y)>Math.abs(a.x-np.x);
if(nq){var nS=np.x;np.x=np.y;np.y=nS;nS=a.x;a.x=a.y;a.y=nS}if(np.x>a.x){var nS=np;np=a;a=nS}var nB=a.x-np.x,nE=a.y-np.y,nh=nB==0?1:nE/nB,nv=Math.round(np.x),nC=np.y+nh*(nv-np.x),nR=I(np.x+.5),nu=nv,nF=~~nC;
if(nq){nb[3]=nK*I(nC)*nR;o(nF,nu,nb);nb[3]=nK*H(nC)*nR;o(nF+1,nu,nb)}else{nb[3]=nK*I(nC)*nR;o(nu,nF,nb);
nb[3]=nK*H(nC)*nR;o(nu,nF+1,nb)}var nP=nC-nh;nv=Math.round(a.x);nC=a.y+nh*(nv-a.x);nR=H(a.x+.5);var ni=nv,nw=~~nC;
if(nq){nb[3]=nK*I(nC)*nR;o(nw,ni,nb);nb[3]=nK*H(nC)*nR;o(nw+1,ni,nb)}else{nb[3]=nK*I(nC)*nR;o(ni,nw,nb);
nb[3]=nK*H(nC)*nR;o(ni,nw+1,nb)}if(nq){for(var nO=nu+1;nO<=ni-1;nO++){nb[3]=nK*I(nP);o(~~nP,nO,nb);nb[3]=nK*H(nP);
o(~~nP+1,nO,nb);nP+=nh}}else{for(var nO=nu+1;nO<=ni-1;nO++){nb[3]=nK*I(nP);o(nO,~~nP,nb);nb[3]=nK*H(nP);
o(nO,~~nP+1,nb);nP+=nh}}}function Z(d,np,a,nb){for(var C=0;C<4;C++){var nK=d.hb(np+1.3*C,a);u(nK,nb,1)}}function Ue(d,np){this.x=Math.round(d);
this.y=Math.round(np)}var A=Math.PI/180;Ue.prototype.hb=function(d,np){d=d*A;var a=this.x+np*Math.cos(d),nb=this.y+np*Math.sin(d);
return new P(this.x,this.y,a,nb)};Ue.prototype.xnP=function(d,np){d=d*A;var a=this.Nb+np*Math.cos(d),nb=this.xup+np*Math.sin(d);
return new Ue(a,nb)};function P(d,np,a,nb){this.hh=new Ue(d,np);this.LC=new Ue(a,nb)}P.prototype.ob=function(d){var np=d*this.hh.x+(1-d)*this.LC.x,a=d*this.hh.y+(1-d)*this.LC.y;
return new Ue(np,a)};var T=t,U=E,r=Y,i=n,V=h,F=j,B=m,$=p,l=y,v=[];k();for(var C=0;C<b.length;C++){N[C]=b[C]}var f=new P(X*J[2],q*J[3],X/2,q/2),nx=J[1],nA=[];
nA[0]=function nU(){var d=[80,40,15,60],a=0,nb=0;r(f.ob(1.4),260,d,10);r(f.ob(1),100,[240,50,50,30],30);
U(f.ob(1),60,[255,40,0,40]);var np=[255,255,255,255];F(f.ob(1),70,np,np[3],58,.5);r(f.ob(1),12,np);np[3]=40;
T(f.ob(1),150,np,np[3],150);for(var C=0;C<40;C++){a+=Math.random()*25;nb=Math.random()*B(300)+B(100);
var nK=f.ob(1).hb(a,nb);u(f.ob(1).hb(a,nb),[110,110,110,30])}U(f.ob(1),130,[255,255,255,8]);var nq=[170,30,23,70];
i(f.ob(1),70,nq,1,3,3);var nS=[60,60,130,40];r(f.ob(.47),44,nS,5);r(f.ob(.43),22,nS,3);nS[3]=16;r(f.ob(.53),15,nS,2);
var nB=[138,94,42,100];r(f.ob(.2),16,nB,2);var nE=[130,255,170,180];U(f.ob(0),4,nE);U(f.ob(-.25),5,nE);
nB=[150,90,0,50];T(f.ob(-.45),55,l(nB),-nB[3],40,2);r(f.ob(-.42),35,nB,2);r(f.ob(-.5),15,nB,2);V(f.ob(-1.28),145,11,70);
var nh=L(0);nh[3]=50;T(f.ob(-1.28),149,nh,nh[3],4);nh=L(300);nh[3]=50;T(f.ob(-1.28),155-1,l(nh),-nh[3],3);
var nv=[130,130,10,50];i(f.ob(-1),73,nv,3,2);var nC=[40,130,70,40];T(f.ob(-1),70,l(nC),-nC[3],35);nC=[40,170,60,50];
r(f.ob(-.7),25,nC,4);var nC=[70,110,50,60];T(f.ob(1.3),30,l(nC),-nC[3],11,3);nS=[0,50,210,80];U(f.ob(-.72),20,nS)};
nA[1]=function nn(){U(f.ob(1),150,[240,70,70,60]);r(f.ob(1),100,[200,60,60,40],30);var d=[255,255,255,255],np=0,a=0;
F(f.ob(1),75,d,d[3],63);r(f.ob(1),12,d);U(f.ob(1),270,[200,200,200,20],10);for(var C=0;C<10;C++){np+=10+Math.random()*40;
a=Math.random()*B(250)+B(80);var nb=f.ob(1).hb(np,a);u(nb,[110,110,110,35])}np=5;a=100;for(var C=0;C<12;
C++){np+=30;Z(f.ob(1),np,a,[90,90,90,40])}var nK=[150,40,23,100];i(f.ob(1),70,nK,1,3,3);var nq=[30,100,60,40];
U(f.ob(-.9),180,[255,255,255,20]);r(f.ob(-.9),140,nq,15);var nS=[170,80,25,15];i(f.ob(-.9),120,nS,1,4,4);
var nB=[110,240,190,200];U(f.ob(-.6),3,nB);nB[3]=100;U(f.ob(-.6),7,nB);var nE=[230,120,40,85];U(f.ob(-.73),9,nE);
var nh=[60,60,190,50];r(f.ob(.3),28,nh,6);nh[3]=25;r(f.ob(.34),20,nh,3)};nA[2]=function nH(){var d=[255,255,255,255],a=0,nb=0;
r(f.ob(1),13,d);F(f.ob(1),150,d,d[3],137);var np=[120,80,35,20];r(f.ob(1.4),260,np,10);for(var C=0;C<40;
C++){a+=5+Math.random()*30;nb=Math.random()*B(300);u(f.ob(1).hb(a,nb),[110,110,110,20])}var nK=[10,30,255,30];
r(f.ob(1),70,nK,50);var nq=[15,90,170,15];r(f.ob(1.5),60,nq);var nS=[220,220,20,50];r(f.ob(-1.15),8,nS,2);
var d=[255,255,255,40];U(f.ob(-1.18),6,d);U(f.ob(-1.18),4,d);nS=[110,110,10,8];T(f.ob(-1.2),32,l(nS),-nS[3],20,3);
var nB=[5,0,16,255];for(var C=0;C<4;C++){r(f.ob(-1.36),10,nB,3)}var nE=[90,200,150,20],nh=nE.slice(0);
nh[3]*=2;r(f.ob(-1.32),7,nh,3);r(f.ob(-1.36),7,nh,3);r(f.ob(-1.4),7,nh,3);var d=[230,230,230,100];U(f.ob(-1.36),2,d);
d[3]=3;r(f.ob(-.55),10,d);nS=[120,100,10,18];r(f.ob(-.55),160,nS,8);r(f.ob(-.55),80,nS,4);nE[3]=3;nh[3]=6;
T(f.ob(-.49),13,l(nh),-nh[3],13,2);T(f.ob(-.55),13,l(nh),-nh[3],13,2);nE[3]=20;r(f.ob(.15),25,nE,3);
nS[3]=100;U(f.ob(-.52),3,nS);nS=[200,200,50,40];r(f.ob(.27),1,nS,4);var nv=[150,40,23,30];T(f.ob(1),80,l(nv),-nv[3],2,1)};
return nA[J[0]]()};x.sy={};x.sy.$T=function(b){var X=~~(b+.5);return X<0?0:X>255?255:X};x.sy.transform=function(b,X,q){var N=x.sy.$T,J=b.D.length;
for(var _=0;_<J;_++){var p=b.D[_],z=b.q[_],g=b.b[_];X.D[_]=N(q[0]*p+q[1]*z+q[2]*g+q[3]*255);X.q[_]=N(q[4]*p+q[5]*z+q[6]*g+q[7]*255);
X.b[_]=N(q[8]*p+q[9]*z+q[10]*g+q[11]*255)}};x.sy.SM=function(b,X,q){var N=x.sy.$T,J=b.length;for(var _=0;
_<J;_+=4){var p=b[_],z=b[_+1],g=b[_+2];X[_]=N(q[0]*p+q[1]*z+q[2]*g+q[3]*255);X[_+1]=N(q[4]*p+q[5]*z+q[6]*g+q[7]*255);
X[_+2]=N(q[8]*p+q[9]*z+q[10]*g+q[11]*255)}};x.sy.Si=function(b){var X=b[0]+b[1]+b[2],q=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];
if(X==1){var N=b.indexOf(1);q[N]=q[N+4]=q[N+8]=1}else{q[0]=b[0];q[5]=b[1];q[10]=b[2]}return q};x.sy.sz=function(b,X,q){return[1,0,0,b,0,1,0,X,0,0,1,q,0,0,0,1]};
x.sy.sO=function(b,X,q){return[b,0,0,0,0,X,0,0,0,0,q,0,0,0,0,1]};x.sy.xhN=function(b){return[b[0],b[1],b[2],b[4],b[5],b[6],b[8],b[9],b[10]]};
x.sy.Jb=function(b){return[b[0],b[1],b[2],0,b[3],b[4],b[5],0,b[6],b[7],b[8],0,0,0,0,1]};x.sy.un=function(b,X){return[b[0]*X[0]+b[1]*X[1]+b[2]*X[2]+b[3]*X[3],b[4]*X[0]+b[5]*X[1]+b[6]*X[2]+b[7]*X[3],b[8]*X[0]+b[9]*X[1]+b[10]*X[2]+b[11]*X[3],b[12]*X[0]+b[13]*X[1]+b[14]*X[2]+b[15]*X[3]]};
x.sy.wH=function(b){var X=[];X[0]=b[0];X[1]=b[4];X[2]=b[8];X[3]=b[12];X[4]=b[1];X[5]=b[5];X[6]=b[9];
X[7]=b[13];X[8]=b[2];X[9]=b[6];X[10]=b[10];X[11]=b[14];X[12]=b[3];X[13]=b[7];X[14]=b[11];X[15]=b[15];
return X};x.sy.multiply=function(b,X){var q=[];q[0]=b[0]*X[0]+b[1]*X[4]+b[2]*X[8]+b[3]*X[12];q[1]=b[0]*X[1]+b[1]*X[5]+b[2]*X[9]+b[3]*X[13];
q[2]=b[0]*X[2]+b[1]*X[6]+b[2]*X[10]+b[3]*X[14];q[3]=b[0]*X[3]+b[1]*X[7]+b[2]*X[11]+b[3]*X[15];q[4]=b[4]*X[0]+b[5]*X[4]+b[6]*X[8]+b[7]*X[12];
q[5]=b[4]*X[1]+b[5]*X[5]+b[6]*X[9]+b[7]*X[13];q[6]=b[4]*X[2]+b[5]*X[6]+b[6]*X[10]+b[7]*X[14];q[7]=b[4]*X[3]+b[5]*X[7]+b[6]*X[11]+b[7]*X[15];
q[8]=b[8]*X[0]+b[9]*X[4]+b[10]*X[8]+b[11]*X[12];q[9]=b[8]*X[1]+b[9]*X[5]+b[10]*X[9]+b[11]*X[13];q[10]=b[8]*X[2]+b[9]*X[6]+b[10]*X[10]+b[11]*X[14];
q[11]=b[8]*X[3]+b[9]*X[7]+b[10]*X[11]+b[11]*X[15];q[12]=b[12]*X[0]+b[13]*X[4]+b[14]*X[8]+b[15]*X[12];
q[13]=b[12]*X[1]+b[13]*X[5]+b[14]*X[9]+b[15]*X[13];q[14]=b[12]*X[2]+b[13]*X[6]+b[14]*X[10]+b[15]*X[14];
q[15]=b[12]*X[3]+b[13]*X[7]+b[14]*X[11]+b[15]*X[15];return q};x.sy.Kn=function(b){var X=[];X[0]=b[5]*b[10]*b[15]-b[5]*b[14]*b[11]-b[6]*b[9]*b[15]+b[6]*b[13]*b[11]+b[7]*b[9]*b[14]-b[7]*b[13]*b[10];
X[1]=-b[1]*b[10]*b[15]+b[1]*b[14]*b[11]+b[2]*b[9]*b[15]-b[2]*b[13]*b[11]-b[3]*b[9]*b[14]+b[3]*b[13]*b[10];
X[2]=b[1]*b[6]*b[15]-b[1]*b[14]*b[7]-b[2]*b[5]*b[15]+b[2]*b[13]*b[7]+b[3]*b[5]*b[14]-b[3]*b[13]*b[6];
X[3]=-b[1]*b[6]*b[11]+b[1]*b[10]*b[7]+b[2]*b[5]*b[11]-b[2]*b[9]*b[7]-b[3]*b[5]*b[10]+b[3]*b[9]*b[6];
X[4]=-b[4]*b[10]*b[15]+b[4]*b[14]*b[11]+b[6]*b[8]*b[15]-b[6]*b[12]*b[11]-b[7]*b[8]*b[14]+b[7]*b[12]*b[10];
X[5]=b[0]*b[10]*b[15]-b[0]*b[14]*b[11]-b[2]*b[8]*b[15]+b[2]*b[12]*b[11]+b[3]*b[8]*b[14]-b[3]*b[12]*b[10];
X[6]=-b[0]*b[6]*b[15]+b[0]*b[14]*b[7]+b[2]*b[4]*b[15]-b[2]*b[12]*b[7]-b[3]*b[4]*b[14]+b[3]*b[12]*b[6];
X[7]=b[0]*b[6]*b[11]-b[0]*b[10]*b[7]-b[2]*b[4]*b[11]+b[2]*b[8]*b[7]+b[3]*b[4]*b[10]-b[3]*b[8]*b[6];X[8]=b[4]*b[9]*b[15]-b[4]*b[13]*b[11]-b[5]*b[8]*b[15]+b[5]*b[12]*b[11]+b[7]*b[8]*b[13]-b[7]*b[12]*b[9];
X[9]=-b[0]*b[9]*b[15]+b[0]*b[13]*b[11]+b[1]*b[8]*b[15]-b[1]*b[12]*b[11]-b[3]*b[8]*b[13]+b[3]*b[12]*b[9];
X[10]=b[0]*b[5]*b[15]-b[0]*b[13]*b[7]-b[1]*b[4]*b[15]+b[1]*b[12]*b[7]+b[3]*b[4]*b[13]-b[3]*b[12]*b[5];
X[11]=-b[0]*b[5]*b[11]+b[0]*b[9]*b[7]+b[1]*b[4]*b[11]-b[1]*b[8]*b[7]-b[3]*b[4]*b[9]+b[3]*b[8]*b[5];X[12]=-b[4]*b[9]*b[14]+b[4]*b[13]*b[10]+b[5]*b[8]*b[14]-b[5]*b[12]*b[10]-b[6]*b[8]*b[13]+b[6]*b[12]*b[9];
X[13]=b[0]*b[9]*b[14]-b[0]*b[13]*b[10]-b[1]*b[8]*b[14]+b[1]*b[12]*b[10]+b[2]*b[8]*b[13]-b[2]*b[12]*b[9];
X[14]=-b[0]*b[5]*b[14]+b[0]*b[13]*b[6]+b[1]*b[4]*b[14]-b[1]*b[12]*b[6]-b[2]*b[4]*b[13]+b[2]*b[12]*b[5];
X[15]=b[0]*b[5]*b[10]-b[0]*b[9]*b[6]-b[1]*b[4]*b[10]+b[1]*b[8]*b[6]+b[2]*b[4]*b[9]-b[2]*b[8]*b[5];var q=b[0]*X[0]+b[1]*X[4]+b[2]*X[8]+b[3]*X[12];
for(var N=0;N<16;N++)X[N]/=q;return X};x.sy.xhD=function(b){var X=[],q=b[5]*b[10]*b[15]-b[5]*b[14]*b[11]-b[6]*b[9]*b[15]+b[6]*b[13]*b[11]+b[7]*b[9]*b[14]-b[7]*b[13]*b[10],N=-b[4]*b[10]*b[15]+b[4]*b[14]*b[11]+b[6]*b[8]*b[15]-b[6]*b[12]*b[11]-b[7]*b[8]*b[14]+b[7]*b[12]*b[10],J=b[4]*b[9]*b[15]-b[4]*b[13]*b[11]-b[5]*b[8]*b[15]+b[5]*b[12]*b[11]+b[7]*b[8]*b[13]-b[7]*b[12]*b[9],_=-b[4]*b[9]*b[14]+b[4]*b[13]*b[10]+b[5]*b[8]*b[14]-b[5]*b[12]*b[10]-b[6]*b[8]*b[13]+b[6]*b[12]*b[9];
return b[0]*q+b[1]*N+b[2]*J+b[3]*_};x.sy.SR=x.sy.Jb([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
x.sy.xhc=x.sy.Jb([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
x.sy.xKI=x.sy.Kn(x.sy.SR);x.$m={};x.$m.wW=new Uint32Array(1);x.$m.$z=function(b,X,q,N,J,_){var p=new Uint32Array(b),z=0,g=x.$m.wW;
if(g.length<X*4)x.$m.wW=g=new Uint32Array(X*4);var W=new Float64Array(g.buffer);for(var o=0;o<X;o+=2){var y=J[o],D=J[o+1],m=_[o],k=_[o+1];
g[z]=D;W[z+2>>1]=m;g[z+1]=p[y];p[y]=z+1;z+=4;g[z]=y;W[z+2>>1]=k;g[z+1]=p[D];p[D]=z+1;z+=4}return{fh:g,xUQ:W,xnB:p}};
x.$m.uH=function(b,X,q,N,J,_,p){var z=1,g=x.$m.$z(b,X,q,N,J,_),W=g.fh,o=g.xUQ,y=g.xnB,D=new Uint32Array(b),m=new x.$m.Sl(b),O=1,n=0;
m.push(q);m.push(N);var k=new x.$m.Sl(b),L=new Uint8Array(b),I=new Uint32Array(b);L[q]=1;L[N]=2;var H=new Uint32Array(b),Y=new Uint32Array(b);
Y[q]=Y[N]=0;H[q]=H[N]=1;while(!0){var w=-1,A=0,i=1e30;while(!m.uE()&&w==-1){var t=m.top(),j=L[t],E=y[t]-1;
while(E!=-1){var h=W[E],u=L[h],Z=E^j-1<<2;if(o[Z+2>>1]!=0){if(u==0){x.$m.SQ(t,E,h,L,I,Y,H);m.push(h)}else if(u==j&&H[h]<=H[t]&&Y[h]>Y[t])x.$m.SQ(t,E,h,L,I,Y,H);
else if(u!=j){w=Z}}E=W[E+1]-1}if(w!=-1)break;m.pop()}if(w==-1){break}O++;var P=w;while(P!=-1){D[A]=P;
A++;P=I[W[P^4]]-1}var T=A>>1;for(var U=0;U<T;U++){var r=D[U];D[U]=D[A-U-1];D[A-U-1]=r}P=I[W[w]]-1;while(P!=-1){D[A]=P^4;
A++;P=I[W[P^4]]-1}for(var U=0;U<A;U++)i=Math.min(i,o[D[U]+2>>1]);n+=i;if(n>=p)return{Li:null,tL:n};for(var U=0;
U<A;U++){var V=D[U],F=V^4,t=W[F],h=W[V];o[V+2>>1]-=i;o[F+2>>1]+=i;if(o[V+2>>1]==0&&L[t]==L[h]){if(L[t]==1){I[h]=0;
k.push(h)}if(L[t]==2){I[t]=0;k.push(t)}}}while(!k.uE()){var t=k.pop(),j=L[t],E=y[t]-1,B=j==1?4:0,$=0,l=0,v=1e9;
while(E!=-1){var h=W[E],C=E^4,Z=E^B;if(L[h]==j&&o[Z+2>>1]>0&&x.$m.xSp(h,q,N,I,W,O,H,Y)+1<v){$=h;l=C;
v=Y[h]+1}E=W[E+1]-1}if(l!=0){x.$m.SQ($,l,t,L,I,Y,H);continue}E=y[t]-1;while(E!=-1){var h=W[E],Z=E^B;
if(L[h]==j){if(o[Z+2>>1]>0){m.push(h)}if(I[h]==E+1){I[h]=0;k.push(h)}}E=W[E+1]-1}L[t]=0;m.remove(t)}}var f=[];
for(var U=0;U<X;U+=2){var t=J[U],h=J[U+1];if(L[t]==1&&L[h]!=1){f.push(U>>1)}if(L[h]==1&&L[t]!=1){f.push(X+U>>1)}}return{Li:f,tL:n}};
x.$m.SQ=function(b,X,q,N,J,_,p){N[q]=N[b];J[q]=X+1;_[q]=_[b]+1;p[q]=p[b]};x.$m.xSp=function(b,X,q,N,J,_,p,z){var g=b,W=N[b]-1,o=0;
while(W!=-1&&p[b]!=_){b=J[W^4];W=N[b]-1;o++}if(W==-1&&b!=X&&b!=q)return 1e9;var y=z[b]+o;o=0;W=N[g]-1;
while(g!=b){z[g]=y-o;o++;p[g]=_;g=J[W^4];W=N[g]-1}return y};x.$m.xhV=function(b,X,q,N,J,_){var p=x.$m.$z(b,X,q,N,J,_),z=p.fh,g=p.xUQ,W=p.xnB,o=0,y=0,D=new Uint32Array(b*2),m=new x.$m.$X(b),k=0;
while(!0){m.reset();m.push(q);for(var O=0;O<b;O++)D[O<<1]=0;while(!m.uE()){var L=m.pop(),I=W[L]-1;while(I!=-1){k=z[I];
if(D[k<<1]==0&&g[I+2>>1]>0&&k!=q){D[k<<1]=L+1;D[(k<<1)+1]=I;m.push(k)}I=z[I+1]-1}if(D[N<<1]!=0){break}}if(D[N<<1]==0){break}var H=1e30;
k=N;while(!0){var Y=D[k<<1]-1;if(Y==-1)break;var n=D[(k<<1)+1];H=Math.min(H,g[n+2>>1]);k=Y}k=N;while(!0){var Y=D[k<<1]-1;
if(Y==-1)break;var n=D[(k<<1)+1],w=n^4;g[n+2>>1]-=H;g[w+2>>1]+=H;k=Y}o+=H}var t=[];for(var O=0;O<X;O+=2){var Y=J[O],k=J[O+1];
if((D[Y<<1]!=0||Y==q)&&D[k<<1]==0&&k!=q){t.push(O>>1)}if((D[k<<1]!=0||k==q)&&D[Y<<1]==0&&Y!=q){t.push(X+O>>1)}}return{Li:t,tL:o}};
x.$m.$X=function(b){b|=b>>1;b|=b>>2;b|=b>>4;b|=b>>8;b|=b>>16;this.Qn=new Uint32Array(b+1);this.xe=b;
this.dY=0;this.dm=0};x.$m.$X.prototype={push:function(b){var X=this.dm;this.Qn[X]=b;this.dm=X+1&this.xe},pop:function(){var b=this.dY,X=this.Qn[b];
this.dY=b+1&this.xe;return X},uE:function(){return this.dY==this.dm},reset:function(){this.dY=0;this.dm=0}};
x.$m.Sl=function(b){b|=b>>1;b|=b>>2;b|=b>>4;b|=b>>8;b|=b>>16;this.Qn=new Uint32Array(b+1);this.I_=new Uint32Array(b+1);
this.xe=b;this.dY=0;this.dm=0};x.$m.Sl.prototype={top:function(){return this.Qn[this.dY]},xhs:function(){return this.Qn[this.dm]},push:function(b){if(this.I_[b]!=0)return;
this.I_[b]=this.dm+1;var X=this.dm;this.Qn[X]=b;this.dm=X+1&this.xe},pop:function(){var b=this.dY,X=this.Qn[b];
this.I_[X]=0;this.dY=b+1&this.xe;return X},uE:function(){return this.dY==this.dm},remove:function(b){var X=this.I_[b]-1;
if(X==-1)return;this.I_[b]=0;if(X==this.dY){this.pop();return}var q=this.pop();this.Qn[X]=q;this.I_[q]=X+1},UI:function(b){return b+this.xe+1&this.xe}};
x.$m.$N=function(b,X,q){var N=x.$m.Sh(b,X,q);if(X<N-1)x.$m.$N(b,X,N-1);if(N<q)x.$m.$N(b,N,q)};x.$m.Sh=function(b,X,q){var N=b[X+q>>>1];
while(X<=q){while(b[X]<N)X++;while(b[q]>N)q--;if(X<=q){x.$m.SS(b,X,q);X++;q--}}return X};x.$m.SS=function(b,X,q){var N=b[X];
b[X]=b[q];b[q]=N};x.P_={};x.P_.xSb=function(b){for(var X=0;X<b.length;X++)x.P_.uM(b,X)};x.P_.uM=function(b,X){b[X].v.keyShapeInvalidated={t:"bool",v:!0}};
x.P_.xSK=function(b){for(var X=0;X<b.length;X++)b[X].v.keyOriginIndex.v=X};x.P_.$j=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
x.P_.$G=function(b){b=b.v;var X={Rctn:2,Ln:4,Elps:5},q=X[b.classID],N=b.topLeft?x.P_.$$(b):null,J=null,_=0;
if(q==4){var p=b.Strt.v,z=b.End.v;J=[p.Hrzn.v.val,p.Vrtc.v.val,z.Hrzn.v.val,z.Vrtc.v.val];_=b.Wdth.v.val}if(q==null)return null;
return x.P_.xS(q,q==4?null:x.P_.SY(b),N,J,_)};x.P_.JK=function(b,X,q,N,J,_){var p={classID:b,unitValueQuadVersion:{t:"long",v:1}};
if(X)x.P_.ET(p,["Left","Top","Rght","Btom"],X);if(q)x.P_.ET(p,["topLeft","topRight","bottomRight","bottomLeft"],q);
if(b=="Ln"){p.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:N[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:N[1]}}}},p.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:N[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:N[3]}}}},p.Wdth={t:"UntF",v:{type:"#Pxl",val:J}}}if(_)p.Nm={t:"TEXT",v:_};
return{t:"Objc",v:p}};x.P_.xS=function(b,X,q,N,J){var _=x.P_.$j(),p=_.v;delete p.keyShapeInvalidated;
p.keyOriginType={t:"long",v:b};p.keyOriginResolution={t:"doub",v:75};if(b==4){p.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:N[0]},Vrtc:{t:"doub",v:N[1]}}};
p.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:N[2]},Vrtc:{t:"doub",v:N[3]}}};X=[Math.min(N[0],N[2]),Math.min(N[1],N[3]),Math.max(N[0],N[2]),Math.max(N[1],N[3])];
p.keyOriginLineWeight={t:"doub",v:J},p.keyOriginLineArrowSt={t:"bool",v:!1};p.keyOriginLineArrowEnd={t:"bool",v:!1};
p.keyOriginLineArrWdth={t:"doub",v:0};p.keyOriginLineArrLngth={t:"doub",v:0};p.keyOriginLineArrConc={t:"long",v:0}}var z={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
p.keyOriginShapeBBox={t:"Objc",v:z};x.P_.St(p,X);if(q!=null){var g={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
p.keyOriginRRectRadii={t:"Objc",v:g};x.P_.SN(p,q)}return _};x.P_.w=function(b,X,q,N){var J=x.GI.$q(X),_=x.GI.$b(X),p=Math.max(Math.abs(X[0]),Math.abs(X[1])),z=Math.max(Math.abs(X[3]),Math.abs(X[4]));
for(var g=0;g<b.length;g++){var W=b[g].v,o=W.keyShapeInvalidated;if(o&&o.v||W.keyOriginType==null)continue;
if(q.length!=0&&q.indexOf(g)==-1)continue;var y=W.keyOriginType.v;if(!J||!_||N&&y==2&&Math.abs(1-p/z)>.01){x.P_.uM(b,g);
continue}var D=x.P_.uZ(W);x.GI.apply(X,D);x.P_.St(W,[Math.min(D[0],D[2]),Math.min(D[1],D[3]),Math.max(D[0],D[2]),Math.max(D[1],D[3])]);
if(y==2){var m=x.P_.Sz(W),k=new nQ(X[0],X[1],X[3],X[4],0,0);k.gs();if(k.i==0){m.push(m.shift());k.rotate(Math.PI/2);
k.gs()}if(k.i<0){var O=m[0];m[0]=m[1];m[1]=O;O=m[2];m[2]=m[3];m[3]=O}if(k.Tm<0){var O=m[0];m[0]=m[3];
m[3]=O;O=m[1];m[1]=m[2];m[2]=O}if(N)for(var L=0;L<4;L++)m[L]=m[L]*p;x.P_.SN(W,m)}if(y==4){W.keyOriginLineWeight.v*=p;
var I=x.P_.$y(W);x.GI.apply(X,I);x.P_.xSE(W,I)}}};x.P_.ui=function(b,X){var q=X.s;for(var N=0;N<b.length;
N++){var J=b[N].v,_=J.keyShapeInvalidated,D;if(_&&_.v||J.keyOriginType==null)continue;var p=J.keyOriginType.v,z=x.P_.uZ(J),g=z[0],W=z[1],o=z[2],y=z[3];
if(p==1)D=x.g.lQ.Rect(g,W,o-g,y-W,0);else if(p==2){var m=x.P_.Sz(J);D=x.g.lQ.Rect(g,W,o-g,y-W,m)}else if(p==4){var k=x.P_.$y(J);
D=x.g.lQ.aI(k[0],k[1],k[2],k[3],J.keyOriginLineWeight.v)}else if(p==5)D=x.g.lQ.tw(g,W,o-g,y-W);var O=x.g.wm(q,N),L=x.g.rR(q,N);
D[2].vR=q[O].vR;var I=q;q=q.slice(0,O);for(var H=2;H<D.length;H++)q.push(D[H]);for(var H=O+L;H<I.length;
H++)q.push(I[H])}X.s=q;X.zY=!0};x.P_.IG=function(b){var X=1e9,q=-X,N=1e9,J=-N,_=null,p=b.Ku(),z=p[0],g=p[1];
for(var W=0;W<g.length;W++){var o=z[g[W]],y=o.add.vogk;if(y==null)continue;var D=o.add.vmsk.k;for(var m=0;
m<y.length;m++){var k=y[m].v,O=k.keyShapeInvalidated;if(O&&O.v||k.keyOriginType==null)continue;if(g.length==1&&D.length!=0&&D.indexOf(m)==-1)continue;
var L=k.keyOriginType.v;if(L!=4){var I=x.P_.uZ(k);X=Math.min(X,I[0]);N=Math.min(N,I[1]);q=Math.max(q,I[2]);
J=Math.max(J,I[3])}if(L==2&&_==null){_=x.P_.Sz(k)}}}return[X<q?[X,N,q,J]:null,_]};x.P_.xSS=function(b,X,q){var N=x.P_.IG(b)[0],J;
if(N){var _=new nQ;_.translate(-N[0],-N[1]);_.scale(1/(N[2]-N[0]),1/(N[3]-N[1]));_.scale(X[2]-X[0],X[3]-X[1]);
_.translate(X[0],X[1]);J=x.GI.SW(_)}var p=b.Ku(),z=p[0],g=p[1];for(var W=0;W<g.length;W++){var o=z[g[W]],y=o.add.vogk;
if(y==null)continue;var D=o.add.vmsk.k;for(var m=0;m<y.length;m++){var k=y[m].v,O=k.keyShapeInvalidated;
if(O&&O.v||k.keyOriginType==null)continue;if(g.length==1&&D.length!=0&&D.indexOf(m)==-1)continue;var L=k.keyOriginType.v;
if(L!=4&&X[0]!=null){var X=x.P_.uZ(k);x.GI.apply(J,X);x.P_.St(k,X)}if(L==2&&q!=null){x.P_.SN(k,q)}}}};
x.P_.uZ=function(b){return x.P_.SY(b.keyOriginShapeBBox.v)};x.P_.SY=function(b){var X=b.Left.v.val,q=b.Rght.v.val,N=b.Top.v.val,J=b.Btom.v.val;
return[X,N,q,J]};x.P_.St=function(b,X){x.P_.ET(b.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],X)};
x.P_.Sz=function(b){return x.P_.$$(b.keyOriginRRectRadii.v)};x.P_.$$=function(b){var X=[],q=["topLeft","topRight","bottomRight","bottomLeft"];
for(var N=0;N<4;N++)X.push(b[q[N]].v.val);return X};x.P_.SN=function(b,X){x.P_.ET(b.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],X)};
x.P_.ET=function(b,X,q){for(var N=0;N<4;N++)if(q[N]!=null)b[X[N]]={t:"UntF",v:{type:"#Pxl",val:q[N]}}};
x.P_.$y=function(b){var X=b.keyOriginLineStart.v,q=b.keyOriginLineEnd.v;return[X.Hrzn.v,X.Vrtc.v,q.Hrzn.v,q.Vrtc.v]};
x.P_.xSE=function(b,X){var q=b.keyOriginLineStart.v,N=b.keyOriginLineEnd.v;q.Hrzn.v=X[0];q.Vrtc.v=X[1];
N.Hrzn.v=X[2];N.Vrtc.v=X[3]};x.j={};x.j.clone=function(b){return{W:b.W.slice(0),r:b.r.slice(0)}};x.j.$Z=function(b){if(b.length<6)return!0;
var X=b.length-4;for(var q=0;q<X;q+=2)if(!x.j.So(b[q],b[q+1],b[q+2],b[q+3],b[q+4],b[q+5]))return!1;if(!x.j.So(b[X],b[X+1],b[X+2],b[X+3],b[0],b[1]))return!1;
if(!x.j.So(b[X+2],b[X+3],b[0],b[1],b[2],b[3]))return!1;return!0};x.j.So=function(b,X,q,N,J,_){return(X-N)*(J-q)+(q-b)*(_-N)>=0};
x.j.Sy=function(b){var X={},q=null,N=0,J={M:2,L:2,Q:4,C:6};for(var _=0;_<b.W.length;_++){var p=b.W[_];
if(p.charAt(0)=="#"){if(X[p]==null)X[p]={r:[],W:[]};q=X[p]}else if(p!="X"){q.W.push(p);var z=J[p];if(z==null)z=0;
for(var g=0;g<z;g++)q.r.push(b.r[N+g]);N+=z}}return X};x.j.EZ=function(b,X){b=x.j.sG(b);var q=b.r,N=b.W,J=0,_=[],p=null;
for(var z=0;z<N.length;z++){var g=N[z];if(g=="M"){p={xbw:J,aM:0,fH:!1};_.push(p);J+=2}if(g=="C"){p.aM++;
J+=6}if(g=="Z"){p.fH=!0}}var W=[];for(var z=0;z<_.length;z++)if(_[z].aM!=0)W.push(_[z]);_=W;for(var z=0;
z<_.length;z++){var o=_[z],y=o.xbw,D=y+2+o.aM*6,k=0;o.vW=x.j.Is(q,y,D);var m=q[y]==q[D-2]&&q[y+1]==q[D-1];
for(var O=0;O<o.aM;O++){var L=y+O*6,I=L+6;k+=(q[I]-q[L])*(q[I+1]+q[L+1])}if(o.aM==2){var H=function(f,nx,nA){var nU=1-nA;
return nU*nU*nU*f[nx]+3*nU*nU*nA*f[nx+2]+3*nU*nA*nA*f[nx+4]+nA*nA*nA*f[nx+6]},Y=q[y],n=q[y+1],w=q[y+6],t=q[y+7],j=q[y+6],E=q[y+7],h=H(q,y,.5),u=H(q,y+1,.5),Z=H(q,y+6,.5),A=H(q,y+7,.5);
k=(h-Y)*(u-n)+(w-h)*(t-u)+(Z-w)*(A-t)+(j-Z)*(E-A)}if(!m)k+=(q[y]-q[D-2])*(q[y+1]+q[D-1]);o.fE=k<=0}for(var z=0;
z<_.length-1;z++)for(var L=z+1;L<_.length;L++){var P=_[z],T=_[L];if(T.vW.Rh(P.vW)){_[z]=T;_[L]=P}}var U=_.length==0?!0:_[0].fE,r=[{type:6},{type:8,all:0}];
for(var z=0;z<_.length;z++){var o=_[z],y=o.xbw,D=y+2+o.aM*6,m=q[y]==q[D-2]&&q[y+1]==q[D-1],i=o.fH||m?0:3,V=o.fE==U&&!X?1:0;
if(!X&&z!=0){if(_[z-1].vW.Rh(o.vW)&&_[z-1].fE!=o.fE)V=0;for(var L=0;L<_.length;L++)if(L!=z&&_[L].vW.Rh(o.vW))V=0}r.push({type:i,length:o.aM+(m?0:1),vR:V,ap:2});
for(var L=0;L<o.aM;L++){var J=y+L*6,F=new Ue(q[J],q[J+1]),B=new Ue(q[J+2],q[J+3]),$;if(L==0){if(m)$=new Ue(q[D-4],q[D-3]);
else $=F.clone()}else $=new Ue(q[J-2],q[J-1]);r.push({type:i+2,jk:$,P:F,p_:B})}if(!m){var l=new Ue(q[D-2],q[D-1]);
r.push({type:i+2,jk:new Ue(q[D-4],q[D-3]),P:l,p_:l.clone()})}}for(var L=0;L<r.length;L++){var v=r[L];
if(v.type>5||v.type==0||v.type==3)continue;var C=v.jk.Rj(v.P)||v.p_.Rj(v.p_);if(!C){var P=v.jk.x*(v.P.y-v.p_.y)+v.P.x*(v.p_.y-v.jk.y)+v.p_.x*(v.jk.y-v.P.y);
if(Math.abs(P)<1e-6)C=!0}if(C)v.type--}return r};x.j.zn=function(){function b(N,J,_,p){if(!p&&N.p_.Rj(N.P)&&J.jk.Rj(J.P)){_.r.push(J.P.x,J.P.y);
_.W.push("L")}else{_.r.push(N.p_.x,N.p_.y,J.jk.x,J.jk.y,J.P.x,J.P.y);_.W.push("C")}}function X(N,J,_,p,z,g){var W=J[_];
N.r.push(W.P.x,W.P.y);N.W.push("M");for(var o=_;o<_+p-1;o++)b(J[o],J[o+1],N,g);if(!z)b(J[o],J[_],N,g)}function q(N,J){if(J==null)J=!1;
var _={r:[],W:[]};for(var p=0;p<N.length;p++){if(N[p].type>5)continue;var z=N[p].length;if(z==0)continue;
if(p==N.length-1)break;var g=N[p].type==3;X(_,N,p+1,z,g,J);if(!g)_.W.push("Z");p+=z}return _}return q}();
x.j.xHw=function(b){var X=b.r,q=[],N,J=0;for(var _=0;_<b.W.length;_++){var p=b.W[_];if(p=="C"){N.push(X[J++],X[J++],X[J++],X[J++],X[J++],X[J++])}else if(p=="Z"){}else{N=[];
if(p!="M"){N.push(p);_++}N.push(X[J++],X[J++]);q.push(N)}}return q};x.j.yx=function(b,X,q){var N=1e9,J=0;
for(var _=0;_<b.length;_+=2){var p=X-b[_],z=q-b[_+1],g=p*p+z*z;if(g<N){N=g;J=_>>>1}}return J};x.j.Se=function(b,X,q,N){for(var J=0;
J<b.length;J+=2){var _=b[J],p=b[J+1],z=X[J],g=X[J+1];q[J]=_+(z-_)*N;q[J+1]=p+(g-p)*N}};x.j.w=function(b,X,q){for(var N=0;
N<b.length;N+=2){var J=b[N],_=b[N+1];q[N]=J*X.i+_*X.Yb+X.lf;q[N+1]=J*X.b+_*X.Tm+X.vw}};x.j.Is=function(b,X,q){if(X==null)X=0;
if(q==null)q=b.length;var N=99999999999,J=-N,_=99999999999,p=-_;for(var z=X;z<q;z+=2){var g=b[z],W=b[z+1];
N=Math.min(N,g);_=Math.min(_,W);J=Math.max(J,g);p=Math.max(p,W)}return new R(N,_,J-N,p-_)};x.j.yg=function(b,X){var q=Math.max(X.x,Math.min(X.x+X.n,b.x)),N=Math.max(X.y,Math.min(X.y+X.z,b.y)),J=b.x-q,_=b.y-N;
return Math.sqrt(J*J+_*_)};x.j.Ja=function(b){if(b.qa())return new R(Math.floor(b.x),Math.floor(b.y),Math.ceil(b.n),Math.ceil(b.z));
var X=Math.floor(b.x),q=Math.ceil(b.x+b.n),N=Math.floor(b.y),J=Math.ceil(b.y+b.z);return new R(X,N,q-X,J-N)};
x.j.z_=function(b){return x.j.Ja(x.j.Is(b))};x.j.fe=function(b){var X=b.x,q=b.y,N=b.x+b.n,J=b.y+b.z;
return{W:["M","L","L","L","Z"],r:[X,q,N,q,N,J,X,J]}};x.j.concat=function(b,X,q){if(q==null)q=new nQ;
for(var N=0;N<X.r.length;N+=2){var J=X.r[N],_=X.r[N+1];b.r.push(J*q.i+_*q.Yb+q.lf);b.r.push(J*q.b+_*q.Tm+q.vw)}for(var N=0;
N<X.W.length;N++)b.W.push(X.W[N])};x.j.sG=function(b){var X=b.r,q=[],N=[],J=0,_=0,p=0,z=0,g=0,W=0,o=0,y=0,D=0;
for(var m=0;m<b.W.length;m++){var k=b.W[m];if(k=="M"){_=X[J];p=X[J+1];J+=2;N.push(k);q.push(_,p)}else if(k=="C"){z=X[J];
g=X[J+1];W=X[J+2];o=X[J+3];y=X[J+4];D=X[J+5];J+=6;N.push(k);q.push(z,g,W,o,y,D);_=y;p=D}else if(k=="Q"){z=X[J];
g=X[J+1];W=X[J+2];o=X[J+3];J+=4;var O=z-_,L=g-p,I=W-z,H=o-g;N.push("C");q.push(_+2/3*O,p+2/3*L,z+1/3*I,g+1/3*H,W,o);
_=W;p=o}else if(k=="L"){z=X[J];g=X[J+1];J+=2;var Y=z-_,n=g-p;N.push("C");q.push(_,p,z,g,z,g);_=z;p=g}else N.push(k)}return{W:N,r:q}};
x.j.xSt=function(b){var X=b.r,q=[],N=[],J=0;for(var _=0;_<b.W.length;_++){var p=b.W[_];if(p=="Q"){var z=X[J-2],g=X[J-1],W=X[J],o=X[J+1],y=X[J+2],D=X[J+3];
J+=4;var m=W-z,k=o-g,O=y-W,L=D-o;N.push("C");q.push(z+2/3*m,g+2/3*k,W+1/3*O,o+1/3*L,y,D)}else{var I=0;
if(p=="M"||p=="L")I=2;else if(p=="C")I=6;for(var H=0;H<I;H++)q.push(X[J+H]);J+=I;N.push(p)}}return{W:N,r:q}};
x.j.$B=function(b,X){var q=b.r,N=[],J=[],_=0,p=0,z=0,g=0,W=0,o=0,y=0,D=0,m=0;for(var k=0;k<b.W.length;
k++){var O=b.W[k];if(O=="M"){p=q[_];z=q[_+1];_+=2;J.push(O);N.push(p,z)}else if(O=="C"){g=q[_];W=q[_+1];
o=q[_+2];y=q[_+3];D=q[_+4];m=q[_+5];_+=6;x.j.rx(p,z,g,W,o,y,D,m,X,J,N,0);p=D;z=m}else J.push(O)}return{W:J,r:N}};
x.j.rx=function(b,X,q,N,J,_,p,z,g,W,o,y){var D=Math.sqrt((p-b)*(p-b)+(z-X)*(z-X)),m=Math.sqrt((p-J)*(p-J)+(z-_)*(z-_))+Math.sqrt((J-q)*(J-q)+(_-N)*(_-N))+Math.sqrt((q-b)*(q-b)+(N-X)*(N-X)),k=(D+m)/2;
if(k<=g){W.push("C");o.push(q,N,J,_,p,z)}else{var O=0,L=0,I=0,H=0,Y=0,n=0,w=0,t=0,j=0,E=0,h=0,u=0,Z=0;
L=(b+q)/2;I=(X+N)/2;H=(q+J)/2;Y=(N+_)/2;n=(J+p)/2;w=(_+z)/2;t=(L+H)/2;j=(I+Y)/2;E=(H+n)/2;h=(Y+w)/2;
u=(t+E)/2;Z=(j+h)/2;x.j.rx(b,X,L,I,t,j,u,Z,g,W,o,y+1);x.j.rx(u,Z,E,h,n,w,p,z,g,W,o,y+1)}};x.j.yp=function(b,X){var q=[],N=b.length;
for(var J=0;J<N;J+=2){var _=b[J],p=b[J+1],z=b[(J+2)%N],g=b[(J+3)%N];if(g<p){var W=p;p=g;g=W}if(p<X&&X<g){var o=(X-p)/(g-p);
q.push(_+o*(z-_))}}q.sort(function(y,D){return y-D});return q};x.j.xrE=function(b,X){var q=X.slice(0),N=b.length/2,J=[],_=[];
for(var p=0;p<N;p++){var z=(p+1)%N,g=b[2*p]-b[2*z],W=b[2*p+1]-b[2*z+1];_[p]=Math.sqrt(g*g+W*W)}for(var p=0;
p<N;p++){var o=(p-1+N)%N,z=(p+1)%N,y=X[p],D=y+X[o],m=y+X[z];if(D!=0)q[p]=Math.min(q[p],_[o]*y/D);if(m!=0)q[p]=Math.min(q[p],_[p]*y/m)}for(var p=0;
p<N;p++){var z=(p+1)%N,k=(p+2)%N,O=q[p],L=q[z],I=b[2*p],H=b[2*p+1],Y=b[2*z],n=b[2*z+1],w=b[2*k],t=b[2*k+1],j=_[p],E=_[z],h=x.j.yb(I,H,Y,n,w,t,O,L,j,E);
J.push(h[0],h[1],h[0],h[1],h[2],h[3]);J.push(h[2],h[3],h[4],h[5],h[6],h[7])}return J};x.j.yb=function(b,X,q,N,J,_,p,z,g,W){if(g==null)g=Math.sqrt((q-b)*(q-b)+(N-X)*(N-X));
if(W==null)W=Math.sqrt((J-q)*(J-q)+(_-N)*(_-N));var o=.553,y=0,D=0,m=0,k=0;if(g!=0){y=(q-b)/g;D=(N-X)/g}if(W!=0){m=(J-q)/W;
k=(_-N)/W}var O=b+p*y,L=X+p*D,I=q-z*y,H=N-z*D;return[O,L,I,H,q-z*y*(1-o),N-z*D*(1-o),q+z*m*(1-o),N+z*k*(1-o),q+z*m,N+z*k]};
x.YB=function(){};x.YB.sJ=function(b,X,q,N,J){var _=q.n,p=q.z,z=_*p,g=new Int32Array(z),W=0;for(var o=0;
o<z;o++)if(X[o]!=0){g[o]=W;W++}else if(b[(o<<2)+3]<200){g[o]=-2}else g[o]=-1;if(W==0)return;var y=new x.$v(W,W),D=new Float64Array(3*W),m=1/255,k=[-_,-1,1,_],O=[],L=[];
for(var I=0;I<p;I++)for(var H=0;H<_;H++){var Y=I*_+H,n=Y<<2,o=g[Y],w=o*3,t=0,j=0,E=0;if(o==-1||o==-2)continue;
for(var h=0;h<4;h++){if(h==2){j=E;O[E]=0;L[E]=o;E++}var u=Y+k[h],Z=u<<2,A=g[u];if(h==0&&I==0||h==1&&H==0||h==2&&H==_-1||h==3&&I==p-1||A==-2)continue;
t++;if(A==-1){D[w+0]+=b[Z+0];D[w+1]+=b[Z+1];D[w+2]+=b[Z+2]}else{O[E]=-1;L[E]=A;E++;if(X[Y]==X[u]){D[w+0]+=b[n+0]-b[Z+0];
D[w+1]+=b[n+1]-b[Z+1];D[w+2]+=b[n+2]-b[Z+2]}}}O[j]=t;y.WO(O,L,E)}var P=new Float64Array(3*W);for(var o=0;
o<z;o++)if(g[o]!=-1){var T=o<<2,U=g[o],r=U*3;P[r]=b[T+0];P[r+1]=b[T+1];P[r+2]=b[T+2]}y.xwn(P,D,N,J);
for(var o=0;o<z;o++){var U=g[o],i=U*3,T=o<<2;if(U==-1||b[T+3]!=255)continue;b[T+0]=~~(.5+Math.max(0,Math.min(255,P[i+0])));
b[T+1]=~~(.5+Math.max(0,Math.min(255,P[i+1])));b[T+2]=~~(.5+Math.max(0,Math.min(255,P[i+2])))}};x.rect={};
x.rect.yK=function(b,X){var q=[b],N=[];for(var J=0;J<X.length;J++){var _=X[J],p=!1;for(var z=J+1;z<X.length;
z++){var g=X[z];if(g[0]<=_[0]&&g[1]<=_[1]&&_[2]<=g[2]&&_[3]<=g[3]){p=!0;break}}if(!p)N.push(_)}X=N;for(var J=0;
J<X.length;J++){var _=X[J];for(var z=0;z<q.length;z++){var g=q[z],W=Math.max(_[0],g[0]),o=Math.min(_[2],g[2]),y=Math.max(_[1],g[1]),D=Math.min(_[3],g[3]);
if(W<o&&y<D){var m=[];if(g[1]<_[1]){var k=g.slice(0);k[3]=_[1];m.push(k)}if(g[0]<_[0]){var O=g.slice(0);
O[1]=y;O[2]=_[0];m.push(O)}if(_[2]<g[2]){var L=g.slice(0);L[1]=y;L[0]=_[2];m.push(L)}if(_[3]<g[3]){var I=[W,D,o,g[3]];
m.push(I)}if(m.length!=0){q[z]=m[0];for(var H=1;H<m.length;H++)q.push(m[H])}}}q.push(_);q=x.rect.xrw(q)}q.sort(function(_,g){return _[1]!=g[1]?_[1]-g[1]:_[0]-g[0]});
return q};x.rect.xrw=function(b){b=b.slice(0);for(var X=0;X<b.length;X++){var q=b[X],N=null;if(q[4]!=null)continue;
for(var J=0;J<b.length;J++){var _=b[J];if(X==J||_[4]!=null)continue;var p=q[0]==_[0],z=q[1]==_[1],g=q[2]==_[2],W=q[3]==_[3];
if(z&&W&&(q[2]==_[0]||q[0]==_[2])){N=[Math.min(q[0],_[0]),q[1],Math.max(q[2],_[2]),q[3]]}if(p&&g&&(q[3]==_[1]||q[1]==_[3])){N=[q[0],Math.min(q[1],_[1]),q[2],Math.max(q[3],_[3])]}if(N){b[X]=N;
b.splice(J,1);break}}if(N){X--}}return b};x.rect.YH=function(b){var X=new R;for(var q=0;q<b.length;q++)X=X.Tg(b[q]);
return X};x.rect.xrF=function(b,X){var q=x.rect.YH,N=new UnionFind(b.length),j=1e3,E=1e3;for(var J=0;
J<b.length;J++)for(var _=J+1;_<b.length;_++){if(!X)continue;var p=b[J],z=b[_],D=1e9,m=1e9;if(p.Dj(z)){N.link(J,_);
continue}var g=p.x+p.n,W=p.y+p.z,o=z.x+z.n,y=z.y+z.z;if((g<z.x||o<p.x)&&(W<z.y||y<p.y))continue;if(!(W<z.y||y<p.y))D=Math.min(Math.abs(g-z.x),Math.abs(p.x-o));
if(!(g<z.x||o<p.x))m=Math.min(Math.abs(W-z.y),Math.abs(p.y-y));var k=Math.min(D,m),O=Math.min(p.n,p.z,z.n,z.z);
if(k<.3*O)N.link(J,_)}var L=[],I={};for(var J=0;J<b.length;J++){var H=N.find(J),Y=b[J];if(I[H]==null){I[H]=L.length;
L.push([])}L[I[H]].push(Y)}var n=[],w=[];for(var J=0;J<L.length;J++){n.push(q(L[J]));var t=q(L[J]);t.UI=J;
w.push(t)}w.sort(function(V,F){return Math.max(F.z,F.n)-Math.max(V.z,V.n)});var h=new NETXUS.RectanglePacker(j,E);
while(!0){var u=!1;h.reset(j,E);for(var J=0;J<w.length;J++){var Z=h.findCoords(w[J].n,w[J].z);if(Z){w[J].x=Z.x;
w[J].y=Z.y}else{j=Math.floor(j*1.1);E=Math.floor(E*1.1);u=!0;break}}if(u)continue;break}for(var J=0;
J<L.length;J++){var A=w[J],P=A.UI,T=n[P],U=L[P],r=A.x-T.x,i=A.y-T.y;for(var _=0;_<U.length;_++)U[_].offset(r,i)}};
x.hM=function(){};x.hM.OT=Math.floor(16*window.devicePixelRatio);x.hM.r_={};x.hM.JW=0;x.hM.$E=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
x.hM.xBB=["px","in","cm","mm","%"];x.hM.yS=function(b,X,q){var N=X.Dg,J=[1,N,N/2.54,N/25.4,X.n/100][q];
return b*J};x.hM.zP=function(b,X,q,N,J){var _=q.ht.Ms,p=[1,X,X/2.54,X/25.4,N/100][_],z=[2,3,2,1,2][_];
b=b/p;var g=Math.round(b),W=_==0&&Math.abs(b-g)<1e-6?g+"":b.toFixed(z);if(J)W+=" "+x.hM.xBB[_];return W};
x.hM.xBq=function(b,X,q,N){var J=q.ht.Ms,_=[1,X,X/2.54,X/25.4,N/100][J];b=parseFloat(b)*_;return b};
x.hM.xBa=function(b,X){var q=Math.round(x.hM.OT*.5);x.hM.JW=q;var N=document.createElement("canvas");
N.width=N.height=q;var J=N.getContext("2d");J.font=q*1.5+"px monospace";var _="0 1 2 3 4 5 6 7 8 9 -".split(" ");
for(var p=0;p<_.length;p++){J.fillStyle="#"+x.a_(X);J.fillRect(0,0,q,q);J.fillStyle="#"+x.a_(b);J.fillText(_[p],0,q);
x.hM.r_[_[p]]=J.getImageData(0,0,q,q).data}};x.hM.xBR=function(b,X,q){var N=0,J=0,_=4*x.hM.OT;for(var p=9;
p>=0;p--){var z=Math.pow(10,p);if(5*z*b<=_){N=5*z;J=10;break}if(2*z*b<=_){N=2*z;J=4;break}if(1*z*b<=_){N=1*z;
J=10;break}}if(N==0){N=1;J=10}var g=Math.ceil(N*b),W=x.K(g*x.hM.OT*4);x.Ws(W,4278190080|q);for(var p=0;
p<x.hM.OT;p++)x.hM.rb(W,4*p*g,X);for(var p=0;p<g;p++)x.hM.rb(W,4*((x.hM.OT-1)*g+p),X);if(N==2)J=2;if(N==5)J=5;
if(N>1||N==1&&g>20)for(var p=1;p<J;p++)x.hM.xBF(W,p*(g/J),g,(p&1)==1?.8:.7,X);return{uC:W,step:N}};x.hM.xBF=function(b,X,q,N,J){var X=Math.round(X);
for(var _=Math.round(x.hM.OT*N);_<x.hM.OT-1;_++)x.hM.rb(b,4*(_*q+X),J)};x.hM.rb=function(b,X,q){b[X+0]=q>>16&255;
b[X+1]=q>>8&255;b[X+2]=q&255};x.hM.xBG=function(b,X,q){var N=X&255,J=X>>8&255,_=X>>16&255,I,H,Y,n;X=Math.round(N*.6)<<16|Math.round(J*.6)<<8|Math.round(_*.6);
x.hM.xBa(Math.round(N*.8)<<16|Math.round(J*.8)<<8|Math.round(_*.8),q);var p=this.xBR(b.d,X,q),z=b.X$(0,0),g=b.X$(b.L.n,b.L.z),W=Math.floor(z.x/p.step)*p.step,o=Math.ceil(g.x/p.step)*p.step,y=Math.floor(z.y/p.step)*p.step,D=Math.ceil(g.y/p.step)*p.step,m=b.lm(W,y),k=b.lm(o,y),O=p.step*b.d,L=Math.ceil(O);
I=b.IS.data;H=new R(0,0,b.L.n,x.hM.OT);Y=new R(0,0,L,x.hM.OT);n=new R(0,Math.round(x.hM.OT*.08),x.hM.JW,x.hM.JW);
for(var w=0;w<(o-W)/p.step;w++){Y.x=Math.round(m.x+w*O);x.iX(p.uC,Y,I,H,Y);var t=(W+w*p.step).toString(10);
for(var j=0;j<t.length;j++){n.x=Y.x+3+j*Math.round(x.hM.JW*.8);var E=x.hM.r_[t[j]];x.iX(E,n,I,H,n)}}var h=new Uint32Array(p.uC.buffer),u=new Uint32Array(p.uC.length);
for(var Z=0;Z<L;Z++)for(var A=0;A<x.hM.OT;A++){u[Z*x.hM.OT+A]=h[A*L+Z]}p.uC=new Uint8Array(u.buffer);
I=b.hH.data;H=new R(0,0,x.hM.OT,b.L.z);Y=new R(0,0,x.hM.OT,L);n=new R(Math.round(x.hM.OT*.2),0,x.hM.JW,x.hM.JW);
for(var w=0;w<(D-y)/p.step;w++){Y.y=Math.round(m.y+w*O);x.iX(p.uC,Y,I,H,Y);var t=Math.abs(y+w*p.step).toString(10);
for(var j=0;j<t.length;j++){n.y=Y.y+3+j*Math.round(x.hM.JW*1.15);var E=x.hM.r_[t[j]];x.iX(E,n,I,H,n)}}};
x.scale={};x.scale.wZ=document.createElement("canvas");x.scale.DI=x.scale.wZ.getContext("2d");x.scale.xBo=document.createElement("canvas");
x.scale.xHa=x.scale.xBo.getContext("2d");x.scale.zv=function(b,X,q){var N=x.scale.wZ,J=x.scale.DI;N.width=X;
N.height=q;var _=new ImageData(new Uint8ClampedArray(b.buffer),X,q);J.putImageData(_,0,0);return J.createPattern(N,"repeat")};
x.scale.xHd=function(b,X,q,N,J,_,p,z){var g=x.scale.yH(b,q,N,J,_,p,z);x.KY(g.data,X)};x.scale.xBs=function(b,X,q,N,J,_,p,z){var g=x.scale.yH(b,q,N,J,_,p,z);
x.vM(g.data,X)};x.scale.yH=function(b,X,q,N,J,_,p){var z=x.scale.wZ,g=x.scale.DI;z.width=X;z.height=q;
g.rect(0,0,X,q);g.translate(_,p);g.scale(N,J);g.fillStyle=b;g.fill();return g.getImageData(0,0,X,q)};
x.scale.$C=function(b,X,q,N,J,_,p){if(p<1)x.scale.xqp(b,X,q,N,J,_,Math.round(1/p));else x.scale.xqA(b,X,q,N,J,_,p)};
x.scale.wN=function(b,X,q,N,J,_,p,z){if(z)z=z.be(new R(0,0,X,q));b=new Uint32Array(b.buffer);N=new Uint32Array(N.buffer);
if(p<1)x.scale.xhi(b,X,q,N,J,_,Math.round(1/p),z);else x.scale.xqQ(b,X,q,N,J,_,p)};x.scale.xqA=function(b,X,q,N,J,_,p){for(var z=0;
z<q;z++)for(var g=0;g<X;g++){var W=b[z*X+g],o=Math.min(p,J-g*p),y=Math.min(p,_-z*p);for(var D=0;D<y;
D++)for(var m=0;m<o;m++)N[(p*z+D)*J+p*g+m]=W}};x.scale.xqp=function(b,X,q,N,J,_,p){for(var z=0;z<_;z++)for(var g=0;
g<J;g++){var W=0,o=Math.min(p,X-g*p),y=Math.min(p,q-z*p);for(var D=0;D<y;D++)for(var m=0;m<o;m++)W+=b[(p*z+D)*X+(p*g+m)];
N[z*J+g]=Math.round(W/(o*y))}};x.scale.xqQ=function(b,X,q,N,J,_,p){for(var z=0;z<q;z++)for(var g=0;g<X;
g++){var W=b[z*X+g],o=Math.min(p,J-g*p),y=Math.min(p,_-z*p);for(var D=0;D<y;D++)for(var m=0;m<o;m++)N[(p*z+D)*J+p*g+m]=W}};
x.scale.xhi=function(b,X,q,N,J,_,p,z){var g=0,W=J,o=0,y=_;if(z){g=Math.floor(z.x/p);W=Math.ceil((z.x+z.n)/p);
o=Math.floor(z.y/p);y=Math.ceil((z.y+z.z)/p)}for(var D=o;D<y;D++)for(var m=g;m<W;m++){var k=0,O=0,L=0,I=0,H=Math.min(p,X-m*p),Y=Math.min(p,q-D*p);
for(var n=0;n<Y;n++)for(var w=0;w<H;w++){var t=b[(p*D+n)*X+p*m+w],j=t>>>24;k+=j;O+=j*(t>>>16&255);L+=j*(t>>>8&255);
I+=j*(t&255)}if(k!=0){var E=1/k;N[D*J+m]=k/(H*Y)<<24|O*E<<16|L*E<<8|I*E}else N[D*J+m]=0}};x.p={};x.p.xED=function(b,X,q){var N=128,J=0,_=q.n,p=q.z;
for(var z=0;z<p;z++)for(var g=0;g<_;g++){if(b[J]>=N&&(g==0||b[J-1]<N||(g==_-1||b[J+1]<N)||(z==0||b[J-_]<N)||(z==p-1||b[J+_]<N)))X[J]=255;
J++}};x.p.xEs=function(b,X,q,N,J){var _=q.n,p=q.z,z=0,g=0,W=_,o=p;if(J){z=J.x-q.x;g=J.y-q.y;W=z+J.n;
o=g+J.z}var y=new Uint8Array(X.buffer),D=new Uint32Array(X.buffer);for(var m=g;m<o;m++){for(var k=z;
k<W;k++){var O=m*_+k;if(b[O]>>7==1&&(m==0||b[O-_]>>7==0||k==0||b[O-1]>>7==0||k==_-1||b[O+1]>>7==0||m==p-1||b[O+_]>>7==0)){D[O]=4278190080|((k+m&4)>>>2)*N}}}};
x.p.xEZ=function(b,X,q,N,J,_,p){var z=q.n,g=q.z,W=0,o=0,y=z,D=g;if(J){W=J.x-q.x;o=J.y-q.y;y=W+J.n;D=o+J.z}var m=new Uint8Array(X.buffer),k=new Uint32Array(X.buffer);
for(var O=o;O<D;O++){for(var L=W;L<y;L++){var I=O*z+L,H=b[I];if(_==1)k[I]=255-H>>>1<<24|p&N;else k[I]=255<<24|(H<<16|H<<8|H)&N}}};
x.aV={};x.aV.rK=function(b,X,q){var N,J;if(q=="front"){N=b.rect.clone();J=x.aV.xwA}if(q=="union"){N=b.rect.Tg(X.rect);
J=x.aV.Tg}if(q=="difference"){N=X.rect.clone();J=x.aV.xwx}if(q=="intersection"){N=b.rect.be(X.rect);
J=x.aV.be}if(q=="xor"){N=b.rect.Tg(X.rect);J=x.aV.xwg}if(N.qa())return null;var _=x.K(N.c());x.rS(X.channel,X.rect,_,N);
var p=x.K(N.c());x.rS(b.channel,b.rect,p,N);J(p,_,_);var z=x.E_(_,N);if(z.qa())return null;if(!z.Rj(N)){var g=x.K(z.c());
x.rS(_,N,g,z);_=g;N=z}return{channel:_,rect:N}};x.aV.xwA=function(b,X,q){for(var N=0;N<b.length;N++)q[N]=b[N]};
x.aV.Tg=function(b,X,q){for(var N=0;N<b.length;N++)q[N]=Math.min(b[N]+X[N],255)};x.aV.xwx=function(b,X,q){for(var N=0;
N<b.length;N++)q[N]=Math.max(X[N]-b[N],0)};x.aV.be=function(b,X,q){var N=1/255;for(var J=0;J<b.length;
J++)q[J]=b[J]*X[J]*N};x.aV.xwg=function(b,X,q){var N=1/255;for(var J=0;J<b.length;J++)q[J]=Math.min(b[J]+X[J],255)-b[J]*X[J]*N};
x.$v=function(b,X){this.a=[];this.fC=[0];this.Lv=[];this.Kk=[];this.pA=[];this.rows=b;this.cols=X;this.xKM=!1};
x.$v.prototype.WO=function(b,X,q){var N=this.fC.length-1;for(var J=0;J<q;J++){var _=b[J],p=X[J];if(p==N){this.Kk.push(_);
this.pA.push(_==0?0:1/_)}else{this.a.push(_);this.Lv.push(p*3)}}this.fC.push(this.a.length)};x.$v.prototype.freeze=function(){if(this.xKM)return;
this.xKM=!0;this.xSB=new Float64Array(this.a)};x.$v.prototype.xHl=function(b,X){this.freeze();var q=this.rows,N=this.xSB,J=this.fC,_=this.Lv,p=this.pA;
for(var z=0;z<3500;z++){var g=0;for(var W=0;W<q;W++){var o=X[W],y=J[W],D=J[W+1];if(D-y==4)o-=N[y]*b[_[y]]+N[y+1]*b[_[y+1]]+N[y+2]*b[_[y+2]]+N[y+3]*b[_[y+3]];
else for(var m=y;m<D;m++)o-=N[m]*b[_[m]];b[W]=p[W]*o}}};x.$v.prototype.xwn=function(b,X,q,N){var J=Date.now(),_=1.96;
this.freeze();if(q==null)q=5e-5;if(N==null)N=1e9;var p=1-_,z=this.rows,g=this.xSB,W=this.fC,o=this.Lv,y=this.pA;
while(!0){var D=0;for(var m=0;m<z;m++){var k=m*3,O=X[k],L=X[k+1],I=X[k+2],H=W[m],Y=W[m+1];if(Y-H==4){var n=g[H],w=g[H+1],t=g[H+2],j=g[H+3],E=o[H],h=o[H+1],u=o[H+2],Z=o[H+3];
O-=n*b[E+0]+w*b[h+0]+t*b[u+0]+j*b[Z+0];L-=n*b[E+1]+w*b[h+1]+t*b[u+1]+j*b[Z+1];I-=n*b[E+2]+w*b[h+2]+t*b[u+2]+j*b[Z+2]}else for(var A=H;
A<Y;A++){var n=g[A],E=o[A];O-=n*b[E+0];L-=n*b[E+1];I-=n*b[E+2]}var P=y[m]*_,T=b[k+0]*p+O*P,U=b[k+1]*p+L*P,r=b[k+2]*p+I*P,i=T-b[k+0],V=U-b[k+1],F=r-b[k+2];
D+=.4*i*i+.5*V*V+.1*F*F;b[k+0]=T;b[k+1]=U;b[k+2]=r}if(D/z<q||Date.now()>J+N)break}};x.BJ={};x.BJ.Jo=function(b,X,q){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:b},Vrtc:{t:"doub",v:X},Cnty:{t:"bool",v:q}}}};
x.BJ.w=function(b,X){for(var q=0;q<b.length;q++){var N=b[q].v,J=X.PK(new Ue(N.Hrzn.v,N.Vrtc.v));N.Hrzn.v=Math.round(J.x);
N.Vrtc.v=Math.round(J.y)}};x.BJ.wA={};x.BJ.wA.uH=function(b,X){var q=b.length;for(var N=0;N<q;N++){var J=0,_=Number.NEGATIVE_INFINITY;
for(var p=N;p<q;p++)if(Math.abs(b[p][N])>_){J=p;_=Math.abs(b[p][N])}x.BJ.wA.xwb(b,N,J);for(var p=N+1;
p<q;p++){if(b[N][N]==0)return 1;var z=b[p][N]/b[N][N];for(var g=N;g<q+1;g++)b[p][g]-=b[N][g]*z}}for(var p=q-1;
p>=0;p--){if(b[p][p]==0)return 1;var W=b[p][q]/b[p][p];X[p]=W;for(var g=p-1;g>=0;g--){b[g][q]-=b[g][p]*W;
b[g][p]=0}}return 0};x.BJ.wA.xw_=function(b,X){var q=[];for(var N=0;N<b;N++){q.push([]);for(var J=0;
J<X;J++)q[N].push(0)}return q};x.BJ.wA.xHm=function(b){for(var X=0;X<b.length;X++)console.log(JSON.stringify(b[X]))};
x.BJ.wA.xwb=function(b,X,q){var N=b[X];b[X]=b[q];b[q]=N};x.BJ.yE=function(b,X,q){var N=b.length-1,J=x.BJ.wA.xw_(N+1,N+2);
for(var _=1;_<N;_++){J[_][_-1]=1/(b[_]-b[_-1]);J[_][_]=2*(1/(b[_]-b[_-1])+1/(b[_+1]-b[_]));J[_][_+1]=1/(b[_+1]-b[_]);
J[_][N+1]=3*((X[_]-X[_-1])/((b[_]-b[_-1])*(b[_]-b[_-1]))+(X[_+1]-X[_])/((b[_+1]-b[_])*(b[_+1]-b[_])))}J[0][0]=2/(b[1]-b[0]);
J[0][1]=1/(b[1]-b[0]);J[0][N+1]=3*(X[1]-X[0])/((b[1]-b[0])*(b[1]-b[0]));J[N][N-1]=1/(b[N]-b[N-1]);J[N][N]=2/(b[N]-b[N-1]);
J[N][N+1]=3*(X[N]-X[N-1])/((b[N]-b[N-1])*(b[N]-b[N-1]));x.BJ.wA.uH(J,q)};x.BJ.xwK=function(b,X,q,N){if(b<=X[0])return q[0];
if(b>=X[X.length-1])return q[X.length-1];var J=1;while(X[J]<b)J++;var _=X[J],p=X[J-1],z=q[J],g=q[J-1],W=(b-p)/(_-p),o=N[J-1]*(_-p)-(z-g),y=-N[J]*(_-p)+(z-g),D=(1-W)*g+W*z+W*(1-W)*(o*(1-W)+y*W);
return D};x.BJ.yw=function(b,X,q,N){var J={aX:[b[0]],aD:[X[0]],fl:[]};N[0]=J;for(var _=1;_<b.length-1;
_++){J.aX.push(b[_]);J.aD.push(X[_]);if(q[_]==!1){x.BJ.yE(J.aX,J.aD,J.fl);J={aX:[b[_]],aD:[X[_]],fl:[]}}N[_]=J}J.aX.push(b[_]);
J.aD.push(X[_]);x.BJ.yE(J.aX,J.aD,J.fl);N[_]=J};x.BJ.yP=function(b,X,q,N){if(b<=X[0])return q[0];if(b>=X[X.length-1])return q[X.length-1];
var J=1;while(X[J]<b)J++;var _=N[J-1];return x.BJ.xwK(b,_.aX,_.aD,_.fl)};x.BJ.yi=function(b){var X={aX:[],aD:[],IL:[]};
for(var q=0;q<b.length;q++){X.aX[q]=b[q].v.Hrzn.v;X.aD[q]=b[q].v.Vrtc.v;X.IL[q]=b[q].v.Cnty?b[q].v.Cnty.v:!0}return X};
x.BJ.$l=function(b,X,q){var N=0,J=255;if(q){N=-1e9;J=1e9}var _=x.BJ.yi(b),p=[];x.BJ.yw(_.aX,_.aD,_.IL,p);
var z=[];for(var g=0;g<X;g++)z[g]=1/255*Math.max(N,Math.min(J,x.BJ.yP(g*(255/(X-1)),_.aX,_.aD,p)));return z};
x.BJ.xwH=function(b,X,q){var N=Math.round(b.length/20),J=X-b.length,_=q?(b[N]-b[0])/N:0,p=q?b[0]-J*_:b[b.length-1],g=[];
for(var W=0;W<J;W++)g.push(p+W*_);return q?g.concat(b):b.concat(g)};x.BJ.aR=function(b,X,q){var N=x.BJ.yi(b),J=[];
x.BJ.yw(N.aX,N.aD,N.IL,J);var _=new Uint8Array(X),p=X/256;for(var z=0;z<X;z++)_[z]=Math.max(0,Math.min(X-1,x.BJ.yP(z*p,N.aX,N.aD,J)));
if(q){_[0]=0;if(_[1]>100)_[1]=.4*_[1];if(_[2]>150)_[1]=.7*_[2]}return _};x.BJ.yC=function(b,X){var q=new Uint8Array(b.length);
for(var N=0;N<b.length;N++)q[N]=X[b[N]];return q};x.BJ.FY=function(b,X,q){var N=K.m("canvas","");N.width=X;
N.height=q;var J=N.getContext("2d"),_=x.BJ.aR(b,256);J.scale(X/255,q/255);J.fillStyle="#fff";J.fillRect(0,0,255,255);
J.fillStyle="#333";J.beginPath();J.moveTo(0,255);for(var p=0;p<_.length;p++)J.lineTo(p,255-_[p]);J.lineTo(255,255);
J.closePath();J.fill();return N.toDataURL()};x.style={};x.style.stroke=function(b,X,q,N){var J=q.n,_=q.z,p=new Float64Array(J*_);
x.style.au(b,p,J,_);x.style.rq(X,q,p,q,N)};x.style.rq=function(b,X,q,N,J){var _=X.be(N),p=_.n,z=_.z;
J+=.5;var g=_.x-X.x,W=_.y-X.y,o=X.n,y=_.x-N.x,D=_.y-N.y,m=N.n;for(var k=0;k<z;k++){var O=(k+D)*m+y,L=(k+W)*o+g;
for(var I=0;I<p;I++){var H=Math.max(0,Math.min(1,J-q[O+I]));b[L+I]=Math.round(H*255)}}};x.style.xHk=function(b,X,q,N){for(var J=0;
J<q;J++)for(var _=0;_<X;_++){var p=J*X+_,z=0,g=0,W=b[p];if(_==0||J==0){z=b[p+1]-W;g=b[p+X]-W}else if(_==q-1||J==X-1){z=W-b[p-1];
g=W-b[p-X]}else{z=b[p+1]-b[p-1];g=b[p+X]-b[p-X]}if(z!=0||g!=0){var o=1/Math.sqrt(z*z+g*g);z*=o;g*=o}N[p+p]=z;
N[p+p+1]=g}};x.style.au=function(b,X,q,N){var J=0,_=q*N;for(var p=0;p<_;p++)J|=b[p];if(J==0){X.fill(1e9);
return}var z=x.style.rH(b,q,N);for(var g=0;g<N;g++)for(var W=0;W<q;W++){var p=g*q+W,o=z[p*2],y=z[p*2+1],D=(g+y)*q+W+o;
if(o==0&&y==0){X[p]=0;continue}var m=Math.sqrt(o*o+y*y),k=b[D]*(1/255),O=1/m,L=Math.abs(o)*O,I=Math.abs(y)*O;
if(I>L){var H=I;I=L;L=H}X[p]=m+x.style.xwE(L,I,k)}};x.style.rH=function(b,X,q){var N=!0;for(var J=0;
J<b.length;J++)N=N&&(b[J]==0||b[J]==255);var _=new Int16Array(X*q*2);if(N)x.style.xwP(b,_,X,q);else x.style.xww(b,_,X,q);
return _};x.style.xwE=function(b,X,q){return(.5-q)*b};x.style.xww=function(b,X,q,N){var J=q*N;for(var _=0;
_<J;_++)if(b[_]==0){X[_*2]=16383;X[_*2+1]=16383}for(var p=1;p<=N-1;p++){var _=p*q;for(var z=0;z<=q-1;
z++)x.style.yv(X,b,q,_+z<<1,-1);for(var z=1;z<=q-1;z++)x.style.YE(X,b,q,_+z<<1,-1);for(var z=q-2;z>=0;
z--)x.style.YE(X,b,q,_+z<<1,1)}for(var p=N-2;p>=0;p--){var _=p*q;for(var z=0;z<=q-1;z++)x.style.yv(X,b,q,_+z<<1,1);
for(var z=1;z<=q-1;z++)x.style.YE(X,b,q,_+z<<1,-1);for(var z=q-2;z>=0;z--)x.style.YE(X,b,q,_+z<<1,1)}};
x.style.YE=function(b,X,q,N,J){var _=(N>>>1)+J<<1,p=b[N],z=b[N+1],g=b[_]+J,W=b[_+1],o=g*g+W*W,y=p*p+z*z;
if(W!=16383&&(p==16383||Math.sqrt(o)+(.5-X[(N>>>1)+W*q+g]*(1/255))<Math.sqrt(y)+(.5-X[(N>>>1)+z*q+p]*(1/255)))){b[N]=g;
b[N+1]=W}};x.style.yv=function(b,X,q,N,J){var _=(N>>>1)+J*q<<1,p=b[N],z=b[N+1],g=b[_],W=b[_+1]+J,o=g*g+W*W,y=p*p+z*z;
if(g!=16383&&(p==16383||Math.sqrt(o)+(.5-X[(N>>>1)+W*q+g]*(1/255))<Math.sqrt(y)+(.5-X[(N>>>1)+z*q+p]*(1/255)))){b[N]=g;
b[N+1]=W}};x.style.xwP=function(b,X,q,N){var J=q*N;for(var _=0;_<J;_++)if(b[_]==0){X[_*2]=16383;X[_*2+1]=16383}for(var p=1;
p<=N-1;p++){var _=p*q;for(var z=0;z<=q-1;z++)x.style.yF(X,b,q,_+z<<1,-1);for(var z=1;z<=q-1;z++)x.style.Yi(X,b,q,_+z<<1,-1);
for(var z=q-2;z>=0;z--)x.style.Yi(X,b,q,_+z<<1,1)}for(var p=N-2;p>=0;p--){var _=p*q;for(var z=0;z<=q-1;
z++)x.style.yF(X,b,q,_+z<<1,1);for(var z=1;z<=q-1;z++)x.style.Yi(X,b,q,_+z<<1,-1);for(var z=q-2;z>=0;
z--)x.style.Yi(X,b,q,_+z<<1,1)}};x.style.Yi=function(b,X,q,N,J){var _=(N>>>1)+J<<1,p=b[N],z=b[N+1],g=b[_]+J,W=b[_+1],o=g*g+W*W,y=p*p+z*z;
if(W!=16383&&(p==16383||o<y)){b[N]=g;b[N+1]=W}};x.style.yF=function(b,X,q,N,J){var _=(N>>>1)+J*q<<1,p=b[N],z=b[N+1],g=b[_],W=b[_+1]+J,o=g*g+W*W,y=p*p+z*z;
if(g!=16383&&(p==16383||o<y)){b[N]=g;b[N+1]=W}};x.style.xEl=function(b,X,q,N,J){var _=q*N,p=(q+N+1)*1.01;
for(var z=0;z<_;z++)if(b[z]<=J)X[z]=p;for(var g=1;g<q;g++)X[g]=Math.min(X[g],X[g-1]);for(var W=1;W<N;
W++){var z=W*q;X[z]=Math.min(X[z],Math.min(X[z-q]+1,X[z-q+1]+Math.SQRT2));for(var g=1;g<q-1;g++){var o=X[++z],y=Math.min(X[z-1]+1,Math.min(X[z-q-1]+Math.SQRT2,Math.min(X[z-q]+1,X[z-q+1]+Math.SQRT2)));
if(y<o)X[z]=y}z++;X[z]=Math.min(X[z],Math.min(X[z-1]+1,Math.min(X[z-q-1]+Math.SQRT2,X[z-q]+1)))}for(var g=q-2;
g>=0;g--)X[g+_-q]=Math.min(X[g+_-q],X[g+_-q+1]);for(var W=N-2;W>=0;W--){var z=W*q+q-1;X[z]=Math.min(X[z],Math.min(X[z+q]+1,X[z+q-1]+Math.SQRT2));
for(var g=q-2;g>=1;g--){var o=X[--z],y=Math.min(X[z+1]+1,Math.min(X[z+q-1]+Math.SQRT2,Math.min(X[z+q]+1,X[z+q+1]+Math.SQRT2)));
if(y<o)X[z]=y}z--;X[z]=Math.min(X[z],Math.min(X[z+1]+1,Math.min(X[z+q]+1,X[z+q+1]+Math.SQRT2)))}};x.style.xEj=function(b,X,q,N,J){var _=new Int32Array(q*N);
x.style.xwQ(b,_,q,N,J);x.style.xwl(_,X,q,N)};x.style.xwQ=function(b,X,q,N,J){var _=new Int32Array(N);
for(var p=0;p<q;p++){var z=q+N;for(var g=N-1;g>=0;g--){if(b[g*q+p]>J)z=0;else z++;_[g]=z}z=q+N;for(var g=0;
g<N;g++){if(b[g*q+p]>J)z=0;else z++;X[g*q+p]=z<_[g]?-z:_[g]}}};x.style.xwl=function(b,X,q,N){var J=(q+N)*(q+N),_=new Float64Array(q),p=new Uint16Array(q);
for(var z=0;z<N;z++){var g=z*q,W=0;p[0]=0;_[0]=-J;_[1]=+J;for(var o=1;o<q;o++){var y=b[o+g]*b[o+g]+o*o,D=(y-(b[p[W]+g]*b[p[W]+g]+p[W]*p[W]))/(2*o-2*p[W]);
while(D<=_[W]){W--;D=(y-(b[p[W]+g]*b[p[W]+g]+p[W]*p[W]))/(2*o-2*p[W])}W++;p[W]=o;_[W]=D;_[W+1]=J}W=0;
for(var o=0;o<q;o++){while(_[W+1]<o)W++;var m=p[W]-o,k=b[p[W]+g],O=z*q+o<<1;X[O]=m;X[O+1]=k}}};x.style.xwz=function(b,X,q){if(q)for(var N=0;
N<b.length;N++){var J=b[N];if(J>0)b[N]=Math.max(0,Math.min(255,J+X*2*(x.style.ky(N)-128)))}else for(var N=0;
N<b.length;N++){var J=b[N];if(J>0)b[N]=Math.max(0,Math.min(255,J+Math.min(J*3,X*2*(x.style.ky(N)-128))))}};
x.style.ky=function(b){b=b^61^b>>16;b=b+(b<<3);b=b^b>>4;b=b*668265261;b=b^b>>15;return b&255};x.TL={};
x.TL.X_=function(b,X,q){var N=b.canvas,J=K.u(),_=Math.floor;if(N.width!=_(X*J)||N.height!=_(q*J))K.Ss(N,X,q,b)};
x.TL.$Y=function(b,X,q,N,J,_){x.TL.X_(b,X,q);if(_==null)_=!1;var p=J.channel,z=J.rect,g=!J.isEnabled;
X=Math.floor(X*K.u());q=Math.floor(q*K.u());if(X*q==0)return;var W=b.createImageData(X,q),o=W.data,y=1/X,D=1/q;
for(var m=0;m<q;m++)for(var k=0;k<X;k++){var O=m*X+k,L=O*4,I=Math.round(N.x+k*y*N.n),H=Math.round(N.y+m*D*N.z),Y=0;
if(I<z.x||I>=z.x+z.n||H<z.y||H>=z.y+z.z)Y=J.color;else Y=p[(H-z.y)*z.n+(I-z.x)];Y=255*(255-J.hw)+Y*J.hw>>>8;
if(_)Y=170+Math.round(.4*(Y-170));o[L]=Y;o[L+1]=Y;o[L+2]=Y;o[L+3]=255}b.putImageData(W,0,0);if(g)x.TL.rE(b,X,q)};
x.TL.xan=function(b,X,q,N){b.fillStyle="#eeeeee";b.fillRect(.6*X,.6*q,X,q);b.lineWidth=1.5;var J=.65*X,_=.95*X,p=.65*q,z=.95*q,g=.75*X,W=.85*X,o=.75*q,y=.85*q;
b.beginPath();b.moveTo(J,p);b.lineTo(_,p);b.lineTo(_,z);b.lineTo(J,z);b.lineTo(J,p);b.moveTo(g,o);b.lineTo(W,o);
b.lineTo(W,y);b.lineTo(g,y);b.lineTo(g,o);b.closePath();b.stroke()};x.TL.yl=[];x.TL.xaH=function(b,X,q){var N,J,_,p=K.u();
X=Math.floor(p*X);q=Math.floor(p*q);N=Math.ceil(Math.max(X,q)*.35);J=X-N;_=q-N;var z=x.TL.yl[N];if(z==null){b.save();
b.scale(1/p,1/p);b.fillStyle="#eeeeee";b.fillRect(J,_,X,q);b.lineWidth=1;b.strokeRect(J+2.5,_+2.5,X-J-5,q-_-5);
var g=b.createImageData(3,3);x.Ws(g.data,4278190080);g.data[4*4]=g.data[4*4+1]=g.data[4*4+2]=238;b.putImageData(g,J+1,_+1);
b.putImageData(g,X-4,_+1);b.putImageData(g,J+1,q-4);b.putImageData(g,X-4,q-4);b.restore();x.TL.yl[N]=b.getImageData(J,_,X,q)}else b.putImageData(z,J,_)};
x.TL.xaw=function(b,X,q,N,J){x.TL.X_(b,X,q);X=Math.floor(X*K.u());q=Math.floor(q*K.u());var _=X/N.n;
if(X*q==0)return;b.fillStyle="#999999";b.setTransform(1,0,0,1,0,0);b.clearRect(0,0,X,q);var p=x.TL.ga;
if(p==null){p=x.TL.ga=JSON.parse(JSON.stringify(UZ.FF.default));p.strokeEnabled.v=!0}p.strokeStyleLineWidth.v.val=1*K.u()/_;
b.fillStyle="#ffffff";b.scale(_,_);x.g.rI(J.s,b,0,0);x.g.rI(J.s,b,0,0,p)};x.TL.XI=null;x.TL.$k=function(b,X,q,N,J,_,p,z){x.TL.X_(b,X,q);
X=Math.floor(X*K.u());q=Math.floor(q*K.u());if(X*q==0)return;var g=Math.max(X,q),W=x.TL.XI;if(W==null||W.width<g||W.height<g){x.TL.XI=W=b.createImageData(g,g)}g=W.width;
var o=W.data,y=N.n/X,D=N.z/q,m=1/255,k=_.x,O=_.x+_.n,L=_.y,I=_.y+_.z;for(var H=0;H<q;H++)for(var Y=0;
Y<X;Y++){var n=H*g+Y,w=n*4,t=~~(N.x+Y*y),j=~~(N.y+H*D),E=x.sn(H,Y,2);if(t<k||t>=O||j<L||j>=I){o[w]=E;
o[w+1]=E;o[w+2]=E;o[w+3]=255}else{var h=(j-_.y)*_.n+(t-_.x)<<2,u=J[h+3]*m;o[w]=J[h+0]*u+E*(1-u);o[w+1]=J[h+1]*u+E*(1-u);
o[w+2]=J[h+2]*u+E*(1-u);o[w+3]=255}}if(z!=null)for(var H=0;H<o.length;H+=4)o[H]=o[H+1]=o[H+2]=o[H+z];
b.putImageData(W,0,0);if(p)x.TL.rE(b,X,q)};x.TL.xaz=function(b,X,q,N){x.TL.X_(b,X,q);b.fillStyle=x.TL.vx(N.Clr.v);
b.fillRect(0,0,X,q);x.TL.rP(b,X,q)};x.TL.yW=null;x.TL.xa$=function(b,X,q,N){x.TL.X_(b,X,q);var J=b.canvas.width,_=b.canvas.height,p=x.TL.yW;
if(p==null||p.width!=J||p.height!=_){b.fillStyle="#ffffff";b.fillRect(0,0,X,q);b.fillStyle="#000000";
b.font=""+q*.7+"px serif";b.fillText("T",(X-q*.43)/2,q*.75);b.fillText("T",(X-q*.43)/2,q*.75);x.TL.yW=b.getImageData(0,0,J,_)}else b.putImageData(p,0,0)};
x.TL.xPu=function(b,X,q){x.TL.X_(b,X,q);b.clearRect(0,0,X,q);b.font=q*.7+"px serif";b.fillText(":(",(X-q*.43)/2,q*.7)};
x.TL.xPo=function(b,X,q,N){x.TL.X_(b,X,q);var J=nY.get(N),_=xA.get(nY.names[J]).substring(0,3);b.fillStyle="#ffffff";
b.fillRect(0,0,X,q);b.fillStyle="#000000";b.font=q*.55+"px sans-serif";var p=b.measureText(_);b.fillText(_,(X-p.width)/2,q*.67);
b.fillRect(0,0,X,q*.1);b.fillRect(0,q*.9,X,q*.1)};x.TL.xPm=function(b,X,q,N){x.TL.X_(b,X,q);var J=b.canvas.width,_=b.canvas.height,p=b.getImageData(0,0,J,_);
x.Z.sH(N.Grad.v,new Uint8Array(p.data.buffer),new R(0,0,J,_),[1/J,0,0,1/_],J/2,_/2,!1,0,16711680,65280);
b.putImageData(p,0,0);x.TL.rP(b,X,q)};x.TL.xPV=function(b,X,q,N,J){x.TL.X_(b,X,q);var _=b,p=nM.uY(N.Ptrn.v,J.add.Patt),z=p.h;
x.TL.$k(b,X,q,z,p.Dl,z,!1);x.TL.rP(_,X,q)};x.TL.rE=function(b,X,q){b.strokeStyle="#bb0000";b.lineWidth=3;
b.beginPath();b.moveTo(X*.15,q*.15);b.lineTo(X*.85,q*.85);b.moveTo(X*.85,q*.15);b.lineTo(X*.15,q*.85);
b.closePath();b.stroke()};x.TL.rE=function(b,X,q){b.strokeStyle="#bb0000";b.lineWidth=3;b.beginPath();
b.moveTo(X*.15,q*.15);b.lineTo(X*.85,q*.85);b.moveTo(X*.85,q*.15);b.lineTo(X*.15,q*.85);b.closePath();
b.stroke()};x.TL.rP=function(b,X,q){b.fillStyle="#eeeeee";b.fillRect(0,q*.75,X,q*.25);b.beginPath();
b.moveTo(0,q*.75);b.lineTo(X,q*.75);b.moveTo(X*.1,q*.875);b.lineTo(X*.9,q*.875);b.moveTo(X*.65,q*.825);
b.lineTo(X*.65,q*.95);b.closePath();b.stroke()};x.TL.vx=function(b){var X=x.Z.vx(b),q=Math.round(X.D)<<16|Math.round(X.q)<<8|Math.round(X.b);
return"#"+x.a_(q)};x.g={};x.g.Je=function(b,X,q){var N=[],J=-1;for(var _=0;_<b.length;_++){var p=b[_];
if((p.type==0||p.type==3)&&p.vR!=-1)J++;if(p.type>5||p.type==0||p.type==3)continue;if(X!=null&&X.indexOf(J)==-1)continue;
if(q!=null&&q.indexOf(_)==-1)continue;N.push(p.jk.x);N.push(p.jk.y);N.push(p.P.x);N.push(p.P.y);N.push(p.p_.x);
N.push(p.p_.y)}return N};x.g.ri=function(b,X,q,N){var J=0,_=-1;for(var p=0;p<X.length;p++){var z=X[p];
if((z.type==0||z.type==3)&&z.vR!=-1)_++;if(z.type>5||z.type==0||z.type==3)continue;if(q!=null&&q.indexOf(_)==-1)continue;
if(N!=null&&N.indexOf(p)==-1)continue;z.jk.gM(b[J],b[J+1]);z.P.gM(b[J+2],b[J+3]);z.p_.gM(b[J+4],b[J+5]);
J+=6}};x.g.SC=function(b,X,q,N){var J=x.g.Je(b,q,N);x.j.w(J,X,J);x.g.ri(J,b,q,N)};x.g.xMx=function(b,X,q,N){var J=x.g.Je(b,q,N);
x.GI.apply(X,J);x.g.ri(J,b,q,N)};x.g.xMq=function(b,X,q,N){if(q==null&&N==null){var J=x.g.xMD(b,40);
for(var _=0;_<J.length;_++)b[_]=J[_]}var p=x.g.Je(b,q,N);x.iN.apply(X,p,x.j.Is(p));x.g.ri(p,b,q,N)};
x.g.xMD=function(b,X){var q=[];for(var N=0;N<b.length;N++){var J=b[N];if(J.type>5){q.push(JSON.parse(JSON.stringify(J)));
continue}var _=x.g.xMG(b,N+1,J.length);_=x.j.$B(_,X);var p=x.g.xMo(_);N+=J.length;J=JSON.parse(JSON.stringify(J));
J.length=p.length;q.push(J);for(var z=0;z<p.length;z++)q.push(p[z])}return q};x.g.xMG=function(b,X,q){var N={W:["M"],r:[]},J=b[X],_=b[X+q-1];
N.r.push(J.P.x,J.P.y);for(var p=1;p<q;p++){var z=b[X+p-1],g=b[X+p];N.W.push("C");N.r.push(z.p_.x,z.p_.y,g.jk.x,g.jk.y,g.P.x,g.P.y)}N.W.push("C");
N.r.push(_.p_.x,_.p_.y,J.jk.x,J.jk.y,J.P.x,J.P.y);return N};x.g.xMo=function(b){var X=[],q=b.W,N=b.r,J=0,_=N.length;
X.push({type:2,jk:new Ue(N[_-4],N[_-3]),P:new Ue(N[0],N[1]),p_:new Ue(N[2],N[3])});for(var p=0;p<q.length-2;
p++){var z=p*6+4;X.push({type:2,jk:new Ue(N[z],N[z+1]),P:new Ue(N[z+2],N[z+3]),p_:new Ue(N[z+4],N[z+5])})}return X};
x.g.xMc=function(b){for(var X=0;X<b.length;X++){if(b[X].type>5)continue;var q=b[X].length;if(!(q==4||q==6||q==8)){X+=q;
continue}for(var N=0;N<q;N++){var J=b[X+1+N],_=b[X+1+(N+1)%q],p=Math.min(J.P.x,_.P.x),z=Math.min(J.P.y,_.P.y),g=0,W=0;
if(J.P.x<_.P.x){g=J.P.y-z;W=g-(_.P.x-p)}else{g=_.P.y-z;W=g-(J.P.x-p)}if(Math.abs(W)<.2*g)return g}}return-1};
x.g.Wg=function(b,X){var q=null,N=-1;for(var J=0;J<b.length;J++){if(b[J].type>5)continue;var _=b[J].length;
if((b[J].type==0||b[J].type==3)&&b[J].vR!=-1)N++;if(X!=null&&X.indexOf(N)==-1)continue;if(J==b.length-1)break;
var p=b[J].type==3;if(q==null)q=x.g.yu(b,J+1,_,p);else{var z=x.g.yu(b,J+1,_,p);if(X!=null||b[J].vR==0||b[J].vR==-1||b[J].vR==1){var g=Math.min(q.x,z.x),W=Math.min(q.y,z.y),o=Math.max(q.x+q.n,z.x+z.n),y=Math.max(q.y+q.z,z.y+z.z);
q.x=g;q.y=W;q.n=o-g;q.z=y-W}else if(b[J].vR==2)q=q;else if(b[J].vR==3)q=q.be(z)}J+=_}if(q==null||q.n<0||q.z<0)q=new R(0,0,0,0);
return q};x.g.xMf=new Float64Array(4);x.g.yu=function(b,X,q,N){var J=x.g.xMf;J[0]=1e30;J[1]=1e30;J[2]=-1e30;
J[3]=-1e30;var _=b[X+q-1];if(!N)x.g.yL(_.P.x,_.P.y,_.p_.x,_.p_.y,b[X].jk.x,b[X].jk.y,b[X].P.x,b[X].P.y,J);
for(var p=X;p<X+q-1;p++){var z=b[p],g=b[p+1];if(z.P.Rj(z.p_)&&g.jk.Rj(g.P)){J[0]=Math.min(J[0],Math.min(z.P.x,g.P.x));
J[1]=Math.min(J[1],Math.min(z.P.y,g.P.y));J[2]=Math.max(J[2],Math.max(z.P.x,g.P.x));J[3]=Math.max(J[3],Math.max(z.P.y,g.P.y))}else x.g.yL(z.P.x,z.P.y,z.p_.x,z.p_.y,g.jk.x,g.jk.y,g.P.x,g.P.y,J)}return new R(J[0],J[1],J[2]-J[0],J[3]-J[1])};
x.g.yL=function(b,X,q,N,J,_,p,z,g){var W=1e30,o=1e30,y=-1e30,D=-1e30,m=40,k=q-b,O=N-X,L=J-q,I=_-N,H=p-J,Y=z-_,n=1/m;
for(var w=0;w<m+1;w++){var t=w*n,j=b+t*k,E=X+t*O,h=q+t*L,u=N+t*I,Z=J+t*H,A=_+t*Y,P=j+t*(h-j),T=E+t*(u-E),U=h+t*(Z-h),r=u+t*(A-u),i=P+t*(U-P),V=T+t*(r-T);
if(i<W)W=i;if(V<o)o=V;if(i>y)y=i;if(V>D)D=V}g[0]=Math.min(g[0],W);g[1]=Math.min(g[1],o);g[2]=Math.max(g[2],y);
g[3]=Math.max(g[3],D)};x.g.yt=function(b,X){var q=b.length-3,N=X%q,J=Math.floor(N);if(X<0||J>=q)return null;
var _=b[3+J],p=b[3+(J+1)%q],z=_.P,g=_.p_,W=p.jk,o=p.P,y=N-J,D=1-y,m=D*D*D*z.x+3*D*D*y*g.x+3*D*y*y*W.x+y*y*y*o.x,k=D*D*D*z.y+3*D*D*y*g.y+3*D*y*y*W.y+y*y*y*o.y;
return new Ue(m,k)};x.g.yN=function(b){var X=2,q=x.g.SG(b),N=!1,J=!1;for(var _=2;_<b.length;_++){var p=b[_].vR;
if(p!=null){if(p==2||p==0)N=!0;if(p==-1)J=!0}}if(J){var z=x.j.zn(b);return{LR:Typr.U.pathToSVG({crds:z.r,cmds:z.W},X),vF:N?1:0}}if(N&&b.length<5e3&&q>1)b=x.g.rC(b);
var z=x.j.zn(b);return{LR:Typr.U.pathToSVG({crds:z.r,cmds:z.W},X),vF:N?1:0}};x.g.rC=function(b){x.g.$e();
var X,q=x.g.rF(b),N=[];for(var J=0;J<q.length;J++){var _=q[J][0],p=q[J][1];if(Math.abs(_.area)<1e-5)N.push(_);
else if(X==null)X=_;else{X=X[p](_);X.remove()}}if(X==null)X=new paper.CompoundPath(N);else{if(X.segments)X=new paper.CompoundPath(X);
for(var J=0;J<N.length;J++){X.children.push(N[J])}}var z=b.slice(0,2);z=z.concat(x.g.yj(X));if(z[2])z[2].vR=1;
for(var J=3;J<z.length;J++)if(z[J].vR!=null)z[J].vR=-1;return z};x.g.$e=function(){if(x.g.xMN==null){var b=K.m("canvas");
paper.setup(b);x.g.xMN=!0}};x.g.xiS=function(b,X){x.g.$e();var q=[],N=x.g.rF(b),J=new paper.Path.Rectangle(new paper.Rectangle(X.x,X.y,X.n,X.z));
J.remove();J.fillColor=new paper.Color(1,0,0);for(var _=0;_<N.length;_++)if(J.intersects(N[_][0])||J.contains(N[_][0].segments[0].point))q.push(_);
return q};x.g.hT=function(b,X,q,N){x.g.$e();var J=q?{curves:!0,tolerance:N}:null,_=new paper.Point(X.x,X.y),p=x.g.rF(b);
for(var z=p.length-1;z>=0;z--){var g=p[z][0],W=g.hitTest(_,J);if(W!=null)return{aP:z,rw:q?W.location.index:null}}return{aP:-1}};
x.g.rv=function(b,X){var q=[[],[],[]];for(var N=0;N<b.length;N++){var J=b[N];if(J.type>5||J.type==0||J.type==3)continue;
if(X.gD(J.P))q[0].push(N);if(X.gD(J.jk))q[1].push(N);if(X.gD(J.p_))q[2].push(N)}return q};x.g.xih=function(b,X,q){var N=q.slice(0),J=[null,null],_=-1,g=null;
for(var p=2;p<b.length;p++){if((b[p].type==0||b[p].type==3)&&b[p].vR!=-1)_++;J[p]=q[_]}q=J;var z=b.slice(0,2);
J=q.slice(0,2);for(var p=2;p<b.length;p++){if(b[p].type==0||b[p].type==3){g=b[p];z.push(g);J.push(q[p])}else{if(X.indexOf(p)==-1){z.push(b[p]);
J.push(q[p])}else{g.length--;x.P_.uM(q,p)}}}for(var p=2;p<z.length;p++){var W=z[p];if(W.type!=0&&W.type!=3)continue;
if(W.length==0){if(z[p+1]&&z[p+1].vR==-1){z[p+1].vR=W.vR}J.splice(p,1);z.splice(p,1);p--}}for(var p=0;
p<N.length;p++)if(J.indexOf(N[p])==-1){N.splice(p,1);p--}return z};x.g.xiW=function(b,X){var q=b.slice(0,2),N=-1;
for(var J=2;J<b.length;J++){if((b[J].type==0||b[J].type==3)&&b[J].vR!=-1)N++;if(X.indexOf(N)==-1)q.push(b[J])}return q};
x.g.xif=function(b,X){var q=b.slice(0,2),N=-1;for(var J=2;J<b.length;J++){if((b[J].type==0||b[J].type==3)&&b[J].vR!=-1)N++;
if(X.indexOf(N)!=-1)q.push(b[J])}return q};x.g.xwU=function(b){var X=0;for(var q=0;q<b.length;q++)if(b[q].type==0||b[q].type==3)X=q;
return b[X]};x.g.SG=function(b){var X=-1;for(var q=0;q<b.length;q++)if((b[q].type==0||b[q].type==3)&&b[q].vR!=-1)X++;
return X+1};x.g.wm=function(b,X){var q=-1;for(var N=0;N<b.length;N++)if((b[N].type==0||b[N].type==3)&&b[N].vR!=-1){q++;
if(q==X)return N}return-1};x.g.yO=function(b,X){var q=-1;for(var N=0;N<b.length;N++)if((b[N].type==0||b[N].type==3)&&b[N].vR!=-1){if(N>=X)return q;
q++}return q};x.g.rR=function(b,X){var q=-1,N=0;for(var J=0;J<b.length;J++){if((b[J].type==0||b[J].type==3)&&b[J].vR!=-1)q++;
if(q==X)N++}return N};x.g.yj=function(b){var X=b.segments?[b]:b.children,q=[];for(var N=0;N<X.length;
N++){var J=X[N],_=J.segments,p=J.closed?0:3,z=q.length,g=null;if(_.length<=1)continue;q.push({type:p,length:_.length,vR:0,ap:2});
for(var W=0;W<_.length;W++){var o=_[W],y=new Ue(o.handleIn.x,o.handleIn.y),D=new Ue(o.handleOut.x,o.handleOut.y),m=new Ue(o.point.x,o.point.y),k={type:p+1,jk:m.add(y),P:m,p_:m.add(D)};
if(g==null)g=k;q.push(k);if(W+1==_.length&&Ue.NH(g.P,k.P)<1e-5){q.pop();q[z].length--;g.jk=k.jk;if(p==3)for(var O=z;
O<q.length;O++)q[O].type-=3}}}return q};x.g.rF=function(b){x.g.$e();var X=[],q,N=new paper.Color(1,0,0);
for(var J=0;J<b.length;J++){if(b[J].type>5)continue;var _=b[J].length,p;if(J==b.length-1)break;var z=b[J].type==3;
if(J==2){if(!x.g.yA(b))p="subtract";else p="unite"}else{if(b[J].vR==0)p="exclude";if(b[J].vR==1)p="unite";
if(b[J].vR==2)p="subtract";if(b[J].vR==3)p="intersect"}if(b[J].vR!=-1)q=[];for(var g=0;g<_;g++){var W=b[J+1+g],o=W.jk.cB(W.P),y=W.p_.cB(W.P);
q.push([[W.P.x,W.P.y],[o.x,o.y],[y.x,y.y]])}if(b[J+1+_]==null||b[J+1+_].vR!=-1){var D=new paper.Path(q);
D.remove();D.closed=!z;D.fillRule="evenodd";D.fillColor=N;X.push([D,p])}J+=_}return X};x.g.rL=function(b){for(var X=0;
X<b.length;X++){var q=b[X];if(q.P==null)continue;if(!q.P.Rj(q.jk)||!q.P.Rj(q.p_))return!1}return!0};
x.g.xwy=function(b){if(b.length<=5)return 0;var X=0,q=b.length-3-1;for(var N=0;N<q;N++){var J=b[3+N],_=b[3+N+1];
if(J.type==0||_.type==0)return 0;X+=(_.P.x-J.P.x)*(J.P.y+_.P.y)}X+=(b[3].P.x-b[3+q].P.x)*(b[3+q].P.y+b[3+1].P.y);
return-X*.5};x.g.yA=function(b){if(b.length==2)return b[1].all==0;var X=b[2];if(b[1].all==1){if(X.vR==1||X.vR==3)return!0;
return!1}else{if(X.vR==1||X.vR==3||X.vR==0)return!0;return!1}};x.g.xie=0;x.g.yG=0;x.g.xwe=0;x.g.xCg=function(b,X,q,N){var J=x.DO,_=x.L;
J.width=q.n;J.height=q.z;if(!x.g.yA(b))_.fillRect(0,0,q.n,q.z);var p=q.c();x.g.xie+=p;if(p>x.g.yG){x.g.yG=p}x.g.rI(b,_,-q.x,-q.y,N);
if(q.qa())return;var z=_.getImageData(0,0,q.n,q.z);x.iJ(z.data,X,3)};x.g.rI=function(b,X,q,N,J){if(J!=null&&J.fillEnabled.v){var _=!1,p=!1,z=0;
for(var g=0;g<b.length;g++){var W=b[g].vR;if(W!=null)z++;if(W==-1)_=!0;if(W>0)p=!0}if(!_&&z<20)b=x.g.rC(b)}for(var g=0;
g<b.length;g++){if(b[g].type>5)continue;var o=b[g].length;if(o==0)continue;if(g==b.length-1)break;var y=b[g].type==3;
if(g==2){if(!x.g.yA(b))X.globalCompositeOperation="destination-out";else X.globalCompositeOperation="source-over"}else{var D;
if(b[g].vR==0)D="xor";if(b[g].vR==1)D="source-over";if(b[g].vR==2)D="destination-out";if(b[g].vR==3)D="source-in";
if(b[g].vR!=-1&&J==null)X.globalCompositeOperation=D}if(b[g].vR!=-1){X.beginPath();if(J){var m=J.strokeStyleLineWidth.v.val,k=J.strokeStyleLineAlignment.v.strokeStyleLineAlignment,O=J.strokeStyleLineCapType.v.strokeStyleLineCapType,L=J.strokeStyleLineJoinType.v.strokeStyleLineJoinType,I=J.strokeStyleMiterLimit.v,H=[],Y=J.strokeStyleLineDashSet.v;
for(var n=0;n<Y.length;n++)H.push(Y[n].v.val*m);X.setLineDash(H);X.lineCap=["butt","round","square"][UZ.FF.RA.indexOf(O)];
X.lineJoin=["miter","round","bevel"][UZ.FF.join.indexOf(L)];X.lineWidth=UZ.FF.Rb.indexOf(k)==1?m:m*=2;
X.miterLimit=I}}x.g.xCh(X,b,g+1,o,q,N,y);if(y){}else X.closePath();if(b[g+1+o]==null||b[g+1+o].vR!=-1){if(J)X.stroke();
else X.fill("evenodd")}g+=o}};x.g.xCh=function(b,X,q,N,J,_,p){var z=X[q],g=null;b.moveTo(z.P.x+J,z.P.y+_);
for(var W=q;W<q+N-1;W++){z=X[W];g=X[W+1];b.bezierCurveTo(z.p_.x+J,z.p_.y+_,g.jk.x+J,g.jk.y+_,g.P.x+J,g.P.y+_)}if(!p){z=X[W];
g=X[q];b.bezierCurveTo(z.p_.x+J,z.p_.y+_,g.jk.x+J,g.jk.y+_,g.P.x+J,g.P.y+_)}};x.g.Yu=function(b,X,q){var N=[],J=q?4:1,_=!1;
if(X!=null)for(var p=0;p<X.length;p++)if(X[p]!=0){_=!0;break}if(X!=null&&_){var z=x.j.xrE(b,X),g=z.length/6;
for(var p=0;p<g;p++){var W=p*6,o=(p-1+g)%g*6,y=z[W],D=z[W+1],m=z[W+2],k=z[W+3],O=z[o+4],L=z[o+5];N.push({type:J,jk:new Ue(O,L),P:new Ue(y,D),p_:new Ue(m,k)})}}else{for(var p=0;
p<b.length;p+=2){var I=new Ue(b[p],b[p+1]);N.push({type:J,jk:I.clone(),P:I.clone(),p_:I.clone()})}}return N};
x.g.rT=function(b,X){x.g.$e();var q=new paper.Path;q.remove();var N=b.length-1,J=Math.sqrt((b[N-1]-b[0])*(b[N-1]-b[0])+(b[N]-b[1])*(b[N]-b[1]))<3;
q.closed=J;for(var _=0;_<b.length;_+=2)q.add(new paper.Point(b[_],b[_+1]));q.simplify(X);var p=[{type:6},{type:8,all:0}];
p=p.concat(x.g.yj(q));return p};x.g.xCX=function(b,X,q){var N=b[X].length,J=b[X].type,_=0,p=b.slice(X+1,X+1+N);
for(var z=0;z<N;z++){var g=q[z];if(g!=0){var W=p[(z-1+N)%N].P,o=p[(z+0+N)%N].P,y=p[(z+1+N)%N].P;g=Math.min(g,Ue.NH(W,o)/2,Ue.NH(o,y)/2);
var D=x.j.yb(W.x,W.y,o.x,o.y,y.x,y.y,0,g),m={type:J+1,jk:new Ue(D[2],D[3]),P:new Ue(D[2],D[3]),p_:new Ue(D[4],D[5])},k={type:J+1,jk:new Ue(D[6],D[7]),P:new Ue(D[8],D[9]),p_:new Ue(D[8],D[9])};
b.splice(X+_+1,1,m,k);_++;b[X].length++}_++}};x.g.rL=function(b){for(var X=0;X<b.length;X++){var q=b[X],N=q.type;
if(N==1||N==2||N==4||N==5)if(!q.P.Rj(q.jk)||!q.P.Rj(q.p_))return!1}return!0};x.g.xvE=function(b){if(b.length!=7||!x.g.rL(b))return!1;
for(var X=0;X<4;X++){var q=!0;for(var N=0;N<4;N++){var J=b[3+(X+N&3)],_=b[3+(X+N+1&3)];if(J.P.x!=_.P.x&&J.P.y!=_.P.y)q=!1}if(q)return!0}return!1};
x.g.lQ={};x.g.lQ.zA=function(b,X,q){var N=[{type:6},{type:8,all:0}],J=null;N.push({type:q?3:0,vR:1,length:0,Q_:0,Qb:0,ap:1});
if(X==0)J==null;else if(X instanceof Array)J=X;else{J=[];for(var _=0;_<b.length;_+=2)J.push(X)}N=N.concat(x.g.Yu(b,J,q));
N[2].length=N.length-3;return N};x.g.lQ.xva=function(b,X,q,N,J){var _=[],p=[],z=.553,g=1,W=-1;_.push({type:1,jk:new Ue(0,z),P:new Ue(0,0),p_:new Ue(0,-z)});
J+=2;for(var o=0;o<J;o++){var y={type:1};if(o==0){y.P=new Ue(1,-1);y.jk=new Ue(1-z,-1);y.p_=new Ue(1+z,-1)}else{var D=-(o+2)*Math.PI/2,m=1+((o&1)==1?o-1:o),k=Math.sin(D),O=Math.cos(D);
g+=m*(k-O);W+=m*(O+k);y.P=new Ue(g,W);y.jk=new Ue(g+m*O*z,W-m*k*z);if((o&1)==1)m+=2;y.p_=new Ue(g-m*O*z,W+m*k*z)}var L={type:1,jk:new Ue(-y.p_.x,-y.p_.y),P:new Ue(-y.P.x,-y.P.y),p_:new Ue(-y.jk.x,-y.jk.y)};
_.push(y);if(o<J-2)p.push(L)}p.reverse();_=_.concat(p);var I=[{type:6},{type:8,all:0}];I.push({type:0,vR:1,length:_.length,Q_:0,Qb:0,ap:1});
I=I.concat(_);var H=new nQ(q/J,0,0,q/J,0,0);H.rotate(N);H.translate(b,X);x.g.SC(I,H);return I};x.g.lQ.Rect=function(b,X,q,N,J){var _=[b,X,b+q,X,b+q,X+N,b,X+N];
return x.g.lQ.zA(_,J)};x.g.lQ.rt=function(b,X,q,N,J,_){var p=[],z=2*Math.PI/J;for(var g=0;g<J;g++)p.push(Math.cos(g*z),Math.sin(g*z));
var W=new nQ(q,0,0,q,0,0);W.rotate(N);W.translate(b,X);x.j.w(p,W,p);return x.g.lQ.zA(p,_)};x.g.lQ.xvM=function(b,X,q,N,J,_,p){var z=[],g=Math.PI/J;
for(var W=0;W<J*2;W++){var o=(W&1)==0?1:p;z.push(o*Math.cos(W*g),o*Math.sin(W*g))}var y=new nQ(q,0,0,q,0,0);
y.rotate(N);y.translate(b,X);x.j.w(z,y,z);return x.g.lQ.zA(z,_)};x.g.lQ.aI=function(b,X,q,N,J){return x.g.lQ.yo(0,b,X,q,N,J)};
x.g.lQ.xvv=function(b,X,q,N,J,_){return x.g.lQ.yo(1,b,X,q,N,J,_)};x.g.lQ.yo=function(b,X,q,N,J,_,p){var z=Math.sqrt((N-X)*(N-X)+(J-q)*(J-q)),g;
_/=2;if(b==0)g=[-_,0,_,0,_,z,-_,z];else{var W=_*2*p*1.3/1.5,o=_*p;g=[-_,0,_,0,_,z-W,o,z-W,0,z,-o,z-W,-_,z-W]}var y=new nQ(1,0,0,1,0,0);
y.rotate(Math.atan2(-J+q,N-X)+Math.PI/2);y.translate(X,q);x.j.w(g,y,g);return x.g.lQ.zA(g,0)};x.g.lQ.tw=function(b,X,q,N){var J=[{type:6},{type:8,all:0}],y=.553;
J.push({type:0,vR:1,length:4,Q_:0,Qb:0,ap:1});var _=b,p=X,z=b+q,g=X+N,b=(_+z)/2,X=(p+g)/2,W=(_-z)/2,o=(p-g)/2;
J.push({type:1,jk:new Ue(b-y*W,X-o),P:new Ue(b,X-o),p_:new Ue(b+y*W,X-o)});J.push({type:1,jk:new Ue(b+W,X-y*o),P:new Ue(b+W,X),p_:new Ue(b+W,X+y*o)});
J.push({type:1,jk:new Ue(b+y*W,X+o),P:new Ue(b,X+o),p_:new Ue(b-y*W,X+o)});J.push({type:1,jk:new Ue(b-W,X+y*o),P:new Ue(b-W,X),p_:new Ue(b-W,X-y*o)});
return J};x.g.lQ.xvQ=function(b,X,q,N,J){var _=[{type:6},{type:8,all:0}];_.push({type:3,vR:1,length:5,Q_:0,Qb:0,ap:1});
var p=(J-N)/4;for(var z=0;z<5;z++){var g=z*p,W=Math.cos(g),o=Math.sin(g),y=.553*(p/(Math.PI/2)),D=o*y,m=-W*y,k=new Ue(W,o);
_.push({type:4,jk:z==0?k.clone():new Ue(W+D,o+m),P:k,p_:z==4?k.clone():new Ue(W-D,o-m)})}var O=new nQ;
O.rotate(-N);O.scale(q,q);O.translate(b,X);x.g.SC(_,O);return _};x.Gg={};x.Gg.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15]};
x.Gg.tM=function(b){var X=b.warpStyle.v.warpStyle;if(X=="warpNone")return!0;else if(X=="warpCustom"){var q=!1,N=b.customEnvelopeWarp.v.meshPoints.v.arr,J=N[0].arr,_=N[1].arr;
for(var p=0;p<4;p++)for(var z=0;z<4;z++){if(Math.abs(J[p]-J[z*4+p])>1||Math.abs(_[p*4]-_[p*4+z])>1)q=!0}return!q}else return b.warpValue.v==0&&b.warpPerspective.v==0&&b.warpPerspectiveOther.v==0};
x.Gg.K=function(b){var X={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(b){X.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:b.y}},Left:{t:"UntF",v:{type:"#Pxl",val:b.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:b.y+b.z}},Rght:{t:"UntF",v:{type:"#Pxl",val:b.x+b.n}}}};
X.uOrder={t:"long",v:4};X.vOrder={t:"long",v:4}}return X};x.Gg.xvu=function(b,X,q,N){for(var J=0;J<b.length;
J+=2){var _=b[J],p=b[J+1],z=(_-X.x)/X.n,g=(p-X.y)/X.z,W=(1-q)/2,o=1-W,y=W+z*(o-W);g=.5+(g-.5)*y*2;var D=(1-N)/2,m=1-D,k=D+g*(m-D);
z=.5+(z-.5)*k*2;_=X.x+z*X.n;p=X.y+g*X.z;b[J]=_;b[J+1]=p}};x.Gg.yf=function(b,X){var q=[],N=[];for(var J=0;
J<b.length;J+=2){q.push(b[J]);N.push(b[J+1])}var _=[];_.push({id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:q});
_.push({id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:N});X.warpStyle.v.warpStyle="warpCustom";X.customEnvelopeWarp={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:_}}}}};
x.Gg.Pg=function(b,X){if(X==null){var q=b.bounds.v,N=q.Left.v.val,J=q.Rght.v.val,_=q.Top.v.val,p=q.Btom.v.val;
X=new R(N,_,J-N,p-_)}if(X.qa())X.n=X.z=1;var z=[],g=b.warpStyle.v.warpStyle;if(g=="warpCustom"){var W=b.customEnvelopeWarp.v.meshPoints.v.arr,o=W[0].arr,y=W[1].arr;
for(var D=0;D<16;D++)z.push(o[D],y[D])}else z=x.Gg.Gg(X,g,b.warpRotate.v.Ornt=="Hrzn",b.warpValue.v/100,b.warpPerspective.v/100,b.warpPerspectiveOther.v/100);
return z};x.Gg.Gg=function(b,X,q,N,J,_){var p=x.iN.K(b.x,b.y,b.n,b.z);if(X=="warpNone")return p;var z=JSON.parse(JSON.stringify(b)),g=new nQ;
if(!q){g.translate(-b.x,-b.y);g.rotate(-Math.PI/2);g.translate(b.z,0);x.j.w(p,g,p);b=new R(0,0,b.z,b.n);
p=x.iN.sI(p,!1)}x.Gg.xvT(p,b,X,N,J,_);if(!q){p=x.iN.sI(p,!0);b=z;g.Kn();x.j.w(p,g,p)}if(N==0)x.Gg.xvu(p,b,J,_);
else{var g=new nQ(1/b.n,0,0,1/b.z,-b.x,-b.y);g.translate(-.5,-.5);x.j.w(p,g,p);x.Gg.xvt(p,_,J);g.Kn();
x.j.w(p,g,p)}return p};x.Gg.xvT=function(b,X,q,N,J,_){for(var p=0;p<4;p++){for(var z=0;z<4;z++){var g=2*(4*p+z),W=b[g]-X.x,o=b[g+1]-X.y,y=W,D=o;
if(N!=0){var m=X.n/2,k=X.z/2;y-=m;D-=k;var O=y,L=y,I=-k,H=k,Y=Math.abs(N),n=Math.tan((1-Y)*Math.PI/2),w=Math.sqrt(n*n+1),t=Math.atan2(1,n),j=y/m*t,E=m*w,h=m*w+X.z,u=Math.cos(t),Z=Math.sin(t),A=x.Gg.xRn(u,Z),P=x.Gg.xRh(u,Z),T=-n*m+A*E;
if(q=="warpArc"){O=Math.sin(j)*h;I=n*m-Math.cos(t)*h+k;L=Math.sin(j)*E;H=n*m-Math.cos(t)*E+k;if(z==1||z==2){O=z==1?-P*h:P*h;
L=z==1?-P*E:P*E;I=n*m+k-A*h;H=n*m+k-A*E}if(N<0){var U=O;O=L;L=U;U=I;I=-H;H=-U}}if(q=="warpArcLower"){if(z==1||z==2){L=z==1?-P*E:P*E;
H=N<0?k-T:k+T}}if(q=="warpArcUpper"||q=="warpArch"||q=="warpBulge"){if(z==1||z==2){O=z==1?-P*E:P*E;I=N<0?-k+T:-k-T}if(q=="warpArch"){L=O;
H=I+2*k}if(q=="warpBulge"){L=O;H=-I}}if(q=="warpFish"||q=="warpFlag"||q=="warpWave"){if(z==1){I-=N*4*k;
H+=N*4*k}if(z==2){I+=N*4*k;H-=N*4*k}if(q=="warpFlag"||q=="warpWave")I=H-2*k}if(q=="warpRise"){if(z<2)I=-k+N*k*4;
H=I+2*k}var r=(D+k)/X.z;y=O+r*(L-O);D=I+r*(H-I);if(q=="warpWave"){if(p==0)D=-k;if(p==3)D=k;if(p==1||p==2)D=2*k*(p/3-.5)*(1/3)+D*(2/3)}if(q=="warpFisheye"){if((p==1||p==2)&&(z==1||z==2)){y=y+4*y*N;
D=D+4*D*N}}if(q=="warpInflate"){var i=2/3;if((p==1||p==2)&&(z==1||z==2)){y=y+.5*y*N;D=D+.5*D*N}else if(p==1||p==2)y=y+i*y*N;
else if(z==1||z==2)D=D+i*D*N}if(q=="warpSqueeze"){var i=2/3;if((p==1||p==2)&&(z==1||z==2)){if(N>0)y=y-i*y*N;
else D=D+i*D*N}else if(p==1||p==2)y=y-i*y*N;else if(z==1||z==2)D=D+i*D*N}if(q=="warpTwist"){if((p==1||p==2)&&(z==1||z==2)){var V=N*Math.PI/2,w=1+Math.abs(N)*2,F=y*Math.cos(V)-D*Math.sin(V),B=y*Math.sin(V)+D*Math.cos(V);
y=F*w;D=B*w}}if(q=="warpShellLower"||q=="warpShellUpper"){if(q=="warpShellUpper"){p=3-p;D=-D}if(p>2||p==2&&(z==0||z==3)){if(N>0){var $=E+p/3*2*k;
y=Math.sin(j)*$;D=-n*m-k+Math.cos(j)*$;if(z==1||z==2){y=z==1?-P*$:P*$;D=-n*m-k+A*$}}else{if((z==1||z==2)&&p==3){y=z==1?-P*E:P*E;
D=n*m-A*E+k}else if(p==2){D=k-k*(2/3)*Math.cos(j);y=y+k*(2/3)*Math.sin(j)}}}if(q=="warpShellUpper"){p=3-p;
D=-D}}y+=m;D+=k}W=y,o=D;b[g]=W+X.x;b[g+1]=o+X.y}}};x.Gg.xvt=function(b,X,q){var N=[];for(var J=0;J<4;
J++)N.push(1-q+J/3*2*q);var _=[];for(var J=0;J<4;J++)_.push(1-X+J/3*2*X);var p=[0,0,0,0],z=[0,0,0,0];
for(var g=0;g<4;g++)for(var J=0;J<4;J++){var W=2*(4*g+J),o=b[W],y=b[W+1];p[J]+=o/4;z[J]+=y/4}for(var g=0;
g<4;g++)for(var J=0;J<4;J++){var D=N[J],W=2*(4*g+J),o=b[W],y=b[W+1],m=p[J],k=z[J];b[W]=m+D*(o-m);b[W+1]=k+D*(y-k)}var O=b.slice(0);
for(var g=0;g<4;g++)for(var J=1;J<3;J++){var W=2*(4*g+J),o=b[W],y=b[W+1],L=W+(J==1?-2:2),I=b[L],H=b[L+1];
b[W]=o-I;b[W+1]=y-H}var Y=b[0],n=b[1],w=b[8],t=b[9],j=b[16],E=b[17],h=b[24],u=b[25],Z=b[6],A=b[7],P=b[14],T=b[15],U=b[22],r=b[23],i=b[30],V=b[31],F=Z-Y,B=A-n,$=P-w,l=T-t,v=U-j,C=r-E,f=i-h,nx=V-u;
for(var g=0;g<4;g++){var nA=2*g*4,nU=0,nn=0,nH=g==1?.33:.66,d=1-nH;if(g==0){nU=F;nn=B}if(g==1){nU=d*F+nH*-f;
nn=d*B+nH*-nx}if(g==2){nU=d*F+nH*-f;nn=d*B+nH*-nx}if(g==3){nU=-f;nn=-nx}b[nA]=b[nA]+nU/2;b[nA+1]=b[nA+1]+nn/2;
b[nA+6]=b[nA+6]-nU/2;b[nA+7]=b[nA+7]-nn/2}for(var g=0;g<4;g++)for(var J=1;J<3;J++){var W=2*(4*g+J),o=b[W],y=b[W+1],L=W+(J==1?-2:2),I=b[L],H=b[L+1],D=2*g/3;
b[W]=I+D*o;b[W+1]=H+D*y}for(var g=1;g<3;g++)for(var J=1;J<3;J++){var W=2*(4*g+J),o=b[W],y=b[W+1],np=g==1?-8:-16,a=g==1?16:8,nb=b[W+np],nK=b[W+np+1],nq=b[W+a],nS=b[W+a+1],D=g/3;
o=(1-D)*nb+D*nq;y=(1-D)*nK+D*nS;b[W]=o;b[W+1]=y}x.j.Se(O,b,b,X)};x.Gg.xRn=function(b,X){return(4-b)*(1/3)};
x.Gg.xRh=function(b,X){return(1-b)*(3-b)/(3*X)};x.uS={};x.uS.$C=function(b,X,q,N,J,_,p,z,g,W){var o=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],y=1/g,D=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],m=new Uint32Array(6);
for(var k=0;k<z;k++){for(var L=0;L<p;L++){var I=3*(k*p+L),Y=k+_,n=L+J;m[0]=0;m[1]=0;m[2]=0;m[3]=0;m[4]=0;
m[5]=0;for(var w=0;w<16;w+=2){var t=n+D[w],j=Y+D[w+1],E=t-g*~~(t*y),h=j-g*~~(j*y),u=W[h*g+E];m[u]+=b[j*X+t];
m[u+3]++}var t=n,j=Y,E=t-g*~~(t*y),h=j-g*~~(j*y),u=W[h*g+E];m[u]=b[Y*X+n];m[u+3]=1;N[I]=m[0]*o[m[3]];
N[I+1]=m[1]*o[m[4]];N[I+2]=m[2]*o[m[5]]}}};x.uS.ys=function(b,X,q){for(var N=0;N<q;N+=2)b[X+N]=b[X+N+1];
X=X+q;for(var N=0;N<q;N+=2)b[X+N+1]=b[X+N]};x.uS.y$=function(b,X,q,N){for(var J=0;J<N;J+=2){var _=X+J*q;
b[_]=b[_+q];b[_+q+1]=b[_+1]}};x.uS.eA=function(b,X,q,N,J,_){var p=N[J],z=N[J+1],g=N[_],W=N[_+1],o=z+g>>>1;
b[X]=b[X+3]=b[q]=b[q+3]=p;b[X+1]=o;b[X+4]=z;b[q+1]=g;b[q+4]=o;b[X+2]=b[X+5]=b[q+2]=b[q+5]=W};x.uS.xRI=function(b,X,q,N,J,_){var p=_*3;
for(var z=0;z<_;z+=2){var g=X+z,W=J+z*3;x.uS.eA(N,W,W+p,b,g,g+q)}};x.uS.xRD=function(b,X,q,N,J,_,p){var z=_*3;
for(var g=0;g<p;g+=2){var W=X+g*q,o=J+g*_*3;x.uS.eA(N,o,o+z,b,W,W+q)}};x.uS.eg=function(b,X,q){var N=b[X-q-q],J=b[X-q],_=b[X-2],p=b[X-1],z=b[X],g=b[X+1],W=b[X+2],o=b[X+q],y=b[X+q+q],D=Math.abs(J-o),m=Math.abs(p-g),k=Math.abs(z-N)*2+D,O=Math.abs(z-W)*2+m,L=Math.abs(z-_)*2+m,I=Math.abs(z-y)*2+D,H=Math.min(k,Math.min(O,Math.min(L,I)));
if(H==k)return J*3+o+z-N>>2;if(H==O)return g*3+p+z-W>>2;if(H==L)return p*3+g+z-_>>2;return o*3+J+z-y>>2};
x.uS.PA=function(b,X,q,N,J){if(b<X&&X<q||b>X&&X>q)return~~(.5+N+(J-N)*(X-b)/(q-b));else return(N+J>>1)+(X+X-b-q>>2)};
x.uS.ep=function(b,X,q,N){var J=X[q-N-1],_=X[q-N+1],p=X[q],z=X[q+N-1],g=X[q+N+1],W=b[q-N-1],o=b[q-N+1],y=b[q],D=b[q+N-1],m=b[q+N+1],k=Math.abs(o-D)+Math.abs(b[q-N-N+2]-y)+Math.abs(y-b[q+N+N-2])+Math.abs(_-p)+Math.abs(p-z),O=Math.abs(W-m)+Math.abs(b[q-N-N-2]-y)+Math.abs(y-b[q+N+N+2])+Math.abs(J-p)+Math.abs(p-g);
if(k<O)return x.uS.PA(_,p,z,o,D);else return x.uS.PA(J,p,g,W,m)};x.uS.YL=function(b,X,q,N,J,_){b[X+0]=q[J];
b[X+1]=N[J];b[X+2]=x.uS.ep(q,N,J,_)};x.uS.YV=function(b,X,q,N,J,_){var p=N[J];b[X+0]=x.uS.PA(N[J-1],p,N[J+1],q[J-1],q[J+1]);
b[X+1]=p;b[X+2]=x.uS.PA(N[J-_],p,N[J+_],q[J-_],q[J+_])};x.uS.Ys=function(b,X,q,N,J,_){var p=N[J];b[X+0]=x.uS.PA(N[J-_],p,N[J+_],q[J-_],q[J+_]);
b[X+1]=p;b[X+2]=x.uS.PA(N[J-1],p,N[J+1],q[J-1],q[J+1])};x.uS.Y$=function(b,X,q,N,J,_){b[X+0]=x.uS.ep(q,N,J,_);
b[X+1]=N[J];b[X+2]=q[J]};x.uS.xRk=function(b,X,q,N,J,_,p,z,g){var W=Date.now(),o=2,y=X-2,D=2;if((J&1)==1){o++;
y--}var m=q-2;if((_&1)==1){D++;m--}if(g==1||g==3){o++;y--}var k=b.slice(0);x.uS.ys(k,0,X);x.uS.y$(k,0,X,q);
x.uS.y$(k,X-2,X,q);x.uS.ys(k,(q-2)*X,X);for(var L=D;L<m;L+=2)for(var I=o;I<y;I+=2){var Y=L*X+I,n=x.uS.eg(k,Y,X),w=x.uS.eg(k,Y+X+1,X);
k[Y]=Math.max(0,n);k[Y+X+1]=Math.max(0,w)}var t=p,j=z;if(_+z==q){j-=2;x.uS.xRI(b,(q-2)*X+J,X,N,(z-2)*p*3,p)}if(J+p==X){t-=2;
x.uS.xRD(b,_*X+J+p-2,X,N,(p-2)*3,p,z)}if(g==0)for(var L=0;L<j;L+=2)for(var I=0;I<t;I+=2){var E=(L+_)*X+I+J,h=(L*p+I)*3;
x.uS.YL(N,h,b,k,E,X);x.uS.YV(N,h+3,b,k,E+1,X);E+=X;h+=3*p;x.uS.Ys(N,h,b,k,E,X);x.uS.Y$(N,h+3,b,k,E+1,X)}else if(g==1)for(var L=0;
L<j;L+=2)for(var I=0;I<t;I+=2){var E=(L+_)*X+I+J,h=(L*p+I)*3;x.uS.YV(N,h,b,k,E,X);x.uS.YL(N,h+3,b,k,E+1,X);
E+=X;h+=3*p;x.uS.Y$(N,h,b,k,E,X);x.uS.Ys(N,h+3,b,k,E+1,X)}else if(g==2)for(var L=0;L<j;L+=2)for(var I=0;
I<t;I+=2){var E=(L+_)*X+I+J,h=(L*p+I)*3;x.uS.Y$(N,h,b,k,E,X);x.uS.Ys(N,h+3,b,k,E+1,X);E+=X;h+=3*p;x.uS.YV(N,h,b,k,E,X);
x.uS.YL(N,h+3,b,k,E+1,X)}else if(g==3)for(var L=0;L<j;L+=2)for(var I=0;I<t;I+=2){var E=(L+_)*X+I+J,h=(L*p+I)*3;
x.uS.Ys(N,h,b,k,E,X);x.uS.Y$(N,h+3,b,k,E+1,X);E+=X;h+=3*p;x.uS.YL(N,h,b,k,E,X);x.uS.YV(N,h+3,b,k,E+1,X)}};
x.raw={};x.raw.xRy=function(b){var X=b.width,q=b.height,N=Date.now(),J=x.raw.xFC(b),_=0,p=0;x.raw.rz(2,b,J,X,q);
var z=X,g=q;if(b.t50829){var W=b.t50829;_=W[1];p=W[0];z=W[3];g=W[2]}if(b.t50719){var o=b.t50719;_+=o[0]>>1<<1;
p+=o[1]>>1<<1}if(b.t50720){var y=b.t50720;z=_+y[0];g=p+y[1]}var D=z-_,m=g-p,k=new Float32Array(D*m*3);
if(b.t277[0]==1){var L=b.t33421;if(L.length!=2||L[0]!=2||L[1]!=2){console.log("Unknown CFA pattern size",L);
x.uS.$C(J,X,q,k,_,p,D,m,L[0],b.t33422)}else{var I=b.t33422.join(","),Y=0;if(I=="0,1,1,2")Y=0;else if(I=="1,0,2,1")Y=1;
else if(I=="2,1,1,0")Y=2;else if(I=="1,2,0,1")Y=3;else throw"Unknown CFA pattern "+I;if((D&1)!=0||(m&1)!=0)throw"e";
x.uS.xRk(J,X,q,k,_,p,D,m,Y)}}else{for(var n=0;n<m;n++)for(var w=0;w<D;w++){var t=((n+p)*X+w+_)*3,j=(n*D+w)*3;
k[j+0]=J[t+0];k[j+1]=J[t+1];k[j+2]=J[t+2]}}var E=k,h=k.length,u=x.raw.xFT(b),Z=1/u;for(var A=0;A<h;A+=3){k[A]=Math.min(1,E[A]*Z);
k[A+1]=Math.min(1,E[A+1]*Z);k[A+2]=Math.min(1,E[A+2]*Z)}x.raw.rz(3,b,k,D,m);var P=b.qo,T=D,U=m;if(P==1||P==9){}else{var r=x.raw.eK(P,D,m),j=0;
T=r[0];U=r[1];var i=k.slice(0);for(var n=0;n<U;n++)for(var w=0;w<T;w++){var V=r[2]*w+r[3]*n+r[4],F=r[5]*w+r[6]*n+r[7],t=(F*D+V)*3;
k[j]=i[t];k[j+1]=i[t+1];k[j+2]=i[t+2];j+=3}}return{Dl:k,gl:T,gz:U}};x.raw.eK=function(b,X,q){var N=X,J=q;
if(b==3)return[X,q,-1,0,X-1,0,-1,q-1];else if(b==6)return[q,X,0,1,0,-1,0,q-1];else if(b==8)return[q,X,0,-1,X-1,1,0,0];
else throw"unknown orientation "+b};x.raw.rJ=function(b,X,q,N){var J=b.Dl,_=Math.round(J.length/3),p=bq.xQO(N[0],N[1]),z=x.raw.xFO(q,p),g=x.sy.multiply(x.sy.SR,z),W=Math.pow(2,N[2]+(q.t50730?q.t50730[0]:0));
g=x.sy.multiply(g,x.sy.sO(W,W,W));var o=q.t50728,y=[o[1]/o[0],o[2]/o[0],o[0]/o[1],o[2]/o[1],o[0]/o[2],o[1]/o[2]],D=new Float64Array(1e3);
for(var m=0;m<1e3;m++){var k=m*(1/999);k=m==999?1:x.bg(m*(1/999));k=x.raw.Hb.xFn(k,N[3]/100);D[m]=k}var O=Date.now();
for(var m=0;m<_;m++){var L=m<<2,I=L-m,H=J[I],Y=J[I+1],n=J[I+2];if(Y>=.92){var w=Math.min(H,n);if(w==H){Y=Math.max(Y,y[0]*H);
n=Math.max(n,y[1]*H)}else{H=Math.max(H,y[4]*n);Y=Math.max(Y,y[5]*n)}}var t=g[0]*H+g[1]*Y+g[2]*n,j=g[4]*H+g[5]*Y+g[6]*n,h=g[8]*H+g[9]*Y+g[10]*n;
if(t<0)t=0;else if(t>1)t=1;if(j<0)j=0;else if(j>1)j=1;if(h<0)h=0;else if(h>1)h=1;t=D[~~(t*999)];j=D[~~(j*999)];
h=D[~~(h*999)];X[L]=~~(.5+t*255);X[L+1]=~~(.5+j*255);X[L+2]=~~(.5+h*255)}};x.raw.Hb={xFn:function(b,X){var q=.5-.5*Math.cos(b*3.2),N=0;
if(X>0){var J=b*.2;N=J*b+(1-J)*q}else{var _=Math.pow(b,.33);N=(1-_)*_+_*(b+(b-q)*.63)}var p=Math.abs(X);
return p*N+(1-p)*b},xwZ:function(b,X){var q=0;if(X>0){var N=b*1.47,J=Math.pow(b,2.4);q=Math.min(1,J*b+(1-J)*N)}else{var N=b*.68,J=Math.pow(b,3);
q=J*b*.5+(1-J)*N}var _=Math.abs(X);return _*q+(1-_)*b},xaA:function(b,X){var q=0;if(X>0){var N=Math.pow(b,.3),J=b;
q=(1-b)*N+b*J}else{var N=Math.pow(b,2.5),_=b,J=b;q=Math.min(1,(1-_)*N+_*J)}var p=Math.abs(X);return p*q+(1-p)*b}};
x.raw.xFC=function(b){var X=b.width,q=b.height,N=X*q*b.t277,J=new Uint16Array(N),_=null,p=0;x.raw.xFN(b,J);
x.raw.rz(1,b,J,X,q);if(b.t50712){_=b.t50712;p=_.length-1;if(_[p]>65535)throw"too big values"}var z=x.raw.eq(b),g=x.raw.eH(b);
if(_==null)for(var W=0;W<N;W++)J[W]=Math.max(0,J[W]-z);else for(var W=0;W<N;W++){var o=J[W];if(o>p)o=p;
o=_[o];J[W]=Math.max(0,o-z)}return J};x.raw.eq=function(b){var X=b.t50714,q=X?X[0]:0,N=b.t50715,J=b.t50716;
if(N)q+=N[0];if(J)q+=J[0];return Math.round(q)};x.raw.eH=function(b){var X=null,q=0;if(b.t50712){X=b.t50712;
q=X.length-1}var N=b.t50717[0];if(X)N=Math.min(N,X[q]);return N};x.raw.xFT=function(b){var X=x.raw.eq(b),q=x.raw.eH(b);
return q-X};x.raw.xFN=function(b,X){var q=X.length,N=b.data,J=b.t258[0];if(J!=16&&J!=14&&J!=12&&J!=10&&J!=8)throw"Unsupported Bits Per Sample:"+J;
J=Math.round(N.length*8/q);if(J==16&&b.isLE){x.vM(N,X);return}for(var _=0;_<q;_+=2){var p=0,z=0,g=0;
if(J==16){p=_<<1;z=N[p]<<8|N[p+1];g=N[p+2]<<8|N[p+3]}else if(J==14){var W=_*14,o=W>>>3,y=N[o]<<24|N[o+1]<<16|N[o+2]<<8|N[o+3];
if((W&7)==0){z=y>>>18;g=y>>>4&16383}else{z=y>>>14&16383;g=y&16383}}else if(J==12){p=_+(_>>>1);z=N[p]<<4|N[p+1]>>4;
g=(N[p+1]&15)<<8|N[p+2]}else if(J==10){var W=_*10,o=W>>>3;if((W&7)==0){z=(N[o]<<2|N[o+1]>>6)&1023;g=(N[o+1]<<4|N[o+2]>>4)&1023}else{z=(N[o]<<6|N[o+1]>>2)&1023;
g=(N[o+1]<<8|N[o+2]>>0)&1023}}else if(J==8){p=_;z=N[p];g=N[p+1]}X[_]=z;X[_+1]=g}};x.raw.rz=function(b,X,q,N,J){var _=X["t"+[51008,51009,51022][b-1]],o=0;
if(_==null)return;var p=N*J,z=e.o,g=e.V$,W=new Uint8Array(_),y=e.o(W,o);o+=4;for(var D=0;D<y;D++){var m=z(W,o);
o+=4;var k=z(W,o);o+=4;var O=z(W,o);o+=4;var L=z(W,o);o+=4;if(!1){}else if(m==1&&b==3){var I=o,H=z(W,I);
I+=4;var Y=g(W,I);I+=8;var n=g(W,I);I+=8;var w=g(W,I);I+=8;var t=g(W,I);I+=8;var j=g(W,I);I+=8;var E=g(W,I);
I+=8;I+=(H-1)*8*6;var h=g(W,I);I+=8;var u=g(W,I);I+=8;var Z=h*N,A=u*J,P=Math.max(Z,N-Z),T=Math.max(A,J-A),U=Math.sqrt(P*P+T*T),r=1/U,i=q.slice(0);
for(var V=0;V<J;V++)for(var F=0;F<N;F++){var B=(F+.5-Z)*r,$=(V+.5-A)*r,l=B*B+$*$,v=Y+n*l+w*(l*l)+t*(l*l)*l,C=j*(2*B*$)+E*(l+2*B*B),f=E*(2*B*$)+j*(l+2*$*$),nx=~~(Z+U*(v*B+C)),nA=~~(A+U*(v*$+f)),nU=(nA*N+nx)*3,nn=(V*N+F)*3;
q[nn]=i[nU];q[nn+1]=i[nU+1];q[nn+2]=i[nU+2]}}else if(m==3&&b==3){var I=o,nH=g(W,I);I+=8;var d=g(W,I);
I+=8;var np=g(W,I);I+=8;var a=g(W,I);I+=8;var nb=g(W,I);I+=8;var h=g(W,I);I+=8;var u=g(W,I);I+=8;var Z=h*N,A=u*J,P=Math.max(Z,N-Z),T=Math.max(A,J-A),U=Math.sqrt(P*P+T*T),r=1/U;
for(var V=0;V<J;V++)for(var F=0;F<N;F++){var B=(F+.5-Z)*r,$=(V+.5-A)*r,l=B*B+$*$,nK=1+(nH+(d+(np+(a+nb*l)*l)*l)*l)*l,nn=(V*N+F)*3;
q[nn]=nK*q[nn];q[nn+1]=nK*q[nn+1];q[nn+2]=nK*q[nn+2]}}else if(m==4&&b==1){var I=o,nq=z(W,I);I+=4;var nS=z(W,I);
I+=4;for(var nB=0;nB<p;nB++)if(q[nB]==nq)q[nB]=q[nB-2]+q[nB+2]>>1}else if(m==5&&b==1){var I=o,nE=z(W,I);
I+=4;var nh=z(W,I);I+=4;var nv=z(W,I);I+=4;for(var nB=0;nB<nh;nB++){var nC=z(W,I);I+=4;var nR=z(W,I);
I+=4;var nB=nC*N+nR;q[nB]=q[nB-2]+q[nB+2]>>1}}else if(m==7&&b==1){var I=o,nu=e.GK(W,I);I+=16;var nF=z(W,I);
I+=4;var nP=z(W,I);I+=4;var ni=z(W,I),nw=z(W,I+4);I+=8;var nO=z(W,I);I+=4;var nT=new Uint16Array(nO);
for(var nB=0;nB<nO;nB++)nT[nB]=e.Dt(W,I+2*nB);var nI=nu.n,gu=nu.z;for(var V=0;V<gu;V+=ni)for(var F=0;
F<nI;F+=nw){var nB=(nu.y+V)*N+(nu.x+F);q[nB]=nT[q[nB]]}}else if(m==9&&b==2){var I=o,nu=e.GK(W,I),_x=!0;
I+=16;var nF=z(W,I);I+=4;var nP=z(W,I);I+=4;var ni=z(W,I),nw=z(W,I+4);I+=8;var nN=z(W,I),xn=z(W,I+4);
I+=8;var nL=g(W,I),nV=g(W,I+8);I+=16;var nX=g(W,I),xY=g(W,I+8);I+=16;var ny=z(W,I);I+=4;if(ny!=1)throw"more than one map plane";
var xp=nN*xn,nW=new Float32Array(xp);for(var nk=0;nk<xp;nk++)nW[nk]=e.jJ(W,I+nk*4);for(var nk=0;nk<xp;
nk++)if(nW[nk]!=1)_x=!1;if(!_x){var nI=nu.n,gu=nu.z,xI=.9999*(xn-1)/nI,nZ=.9999*(nN-1)/gu;for(var V=0;
V<gu;V+=ni)for(var F=0;F<nI;F+=nw){var nB=(nu.y+V)*N+(nu.x+F),gC=F*xI,_q=V*nZ,gb=Math.floor(gC),xE=Math.floor(_q),xC=gC-gb,pq=_q-xE,nn=xE*xn+gb,xB=nW[nn]*(1-xC)+nW[nn+1]*xC,_r=nW[nn+xn]*(1-xC)+nW[nn+1+xn]*xC,_h=xB*(1-pq)+_r*pq;
q[nB]=~~(q[nB]*_h+.5)}}}else console.log("Unknown opcode "+m+" in OpcodeList"+b+". Length: "+L);o+=L}};
x.raw.xFO=function(b,X){var q=bq.eM(X),N=x.raw.eE(b,X),J=x.sy.Kn(N),_=bq.xdd(q,bq.eM(bq.xQz)),p=x.sy.multiply(_,J);
return p};x.raw.xQt=function(b){var X=b.t50728.slice(0),N=1;X.push(0);var q={x:.34567,y:.3585};do{var J=x.sy.Kn(x.raw.eE(b,q)),_=x.sy.un(J,X),p=bq.xQk(_);
N=Math.abs(q.x-p.x)+Math.abs(q.y-p.y);q=p}while(N>1e-7);return q};x.raw.eE=function(b,X){var q=bq.ea(X),N=x.raw.xQJ,J=b.t50779?b.t50779[0]:0,_=N(b.t50721,b.t50722,b.t50778[0],J,q.Lu),p=N(b.t50723,b.t50724,b.t50778[0],J,q.Lu);
p=p||[1,0,0,0,1,0,0,0,1];var z=b.t50727?[b.t50727[0],0,0,0,b.t50727[1],0,0,0,b.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return x.sy.multiply(x.sy.Jb(z),x.sy.multiply(x.sy.Jb(p),x.sy.Jb(_)))};x.raw.xQJ=function(b,X,q,N,J){if(!b&&!X){return null}else if(b&&!X){return b}else if(J<q){return b}else if(J>N){return X}else{var _=(1/J-1/N)/(1/q-1/N),p=1-_,z=[];
for(var g=0;g<9;g++)z[g]=b[g]*_+X[g]*p;return z}};var bq={};bq.xQz={x:.34567,y:.3585};bq.ew=[{D:0,Gf:.18006,Qk:.26352,vd:-.24341},{D:10,Gf:.18066,Qk:.26589,vd:-.25479},{D:20,Gf:.18133,Qk:.26846,vd:-.26876},{D:30,Gf:.18208,Qk:.27119,vd:-.28539},{D:40,Gf:.18293,Qk:.27407,vd:-.3047},{D:50,Gf:.18388,Qk:.27709,vd:-.32675},{D:60,Gf:.18494,Qk:.28021,vd:-.35156},{D:70,Gf:.18611,Qk:.28342,vd:-.37915},{D:80,Gf:.1874,Qk:.28668,vd:-.40955},{D:90,Gf:.1888,Qk:.28997,vd:-.44278},{D:100,Gf:.19032,Qk:.29326,vd:-.47888},{D:125,Gf:.19462,Qk:.30141,vd:-.58204},{D:150,Gf:.19962,Qk:.30921,vd:-.70471},{D:175,Gf:.20525,Qk:.31647,vd:-.84901},{D:200,Gf:.21142,Qk:.32312,vd:-1.0182},{D:225,Gf:.21807,Qk:.32909,vd:-1.2168},{D:250,Gf:.22511,Qk:.33439,vd:-1.4512},{D:275,Gf:.23247,Qk:.33904,vd:-1.7298},{D:300,Gf:.2401,Qk:.34308,vd:-2.0637},{D:325,Gf:.24792,Qk:.34655,vd:-2.4681},{D:350,Gf:.25591,Qk:.34951,vd:-2.9641},{D:375,Gf:.264,Qk:.352,vd:-3.5814},{D:400,Gf:.27218,Qk:.35407,vd:-4.3633},{D:425,Gf:.28039,Qk:.35577,vd:-5.3762},{D:450,Gf:.28863,Qk:.35714,vd:-6.7262},{D:475,Gf:.29685,Qk:.35823,vd:-8.5955},{D:500,Gf:.30505,Qk:.35907,vd:-11.324},{D:525,Gf:.3132,Qk:.35968,vd:-15.628},{D:550,Gf:.32129,Qk:.36011,vd:-23.325},{D:575,Gf:.32931,Qk:.36038,vd:-40.77},{D:600,Gf:.33724,Qk:.36051,vd:-116.45}];
bq.ea=function(b){var X=bq.ew,q=2*b.x/(1.5-b.x+6*b.y),N=3*b.y/(1.5-b.x+6*b.y),J=0,_=0,p=0;for(;p<31;
p++){J=N-X[p].Qk-X[p].vd*(q-X[p].Gf);if(p>0&&J<0){break}_=J}while(p>=X.length)p--;J/=Math.sqrt(1+X[p].vd*X[p].vd);
_/=Math.sqrt(1+X[p-1].vd*X[p-1].vd);var z=_/(_-J),g=1e6/((X[p].D-X[p-1].D)*z+X[p-1].D),W=q-((X[p].Gf-X[p-1].Gf)*z+X[p-1].Gf),o=N-((X[p].Qk-X[p-1].Qk)*z+X[p-1].Qk),y=Math.sqrt(1+X[p].vd*X[p].vd),D=1/y,m=X[p].vd/y,k=Math.sqrt(1+X[p-1].vd*X[p-1].vd),O=1/k,L=X[p-1].vd/k,I=(D-O)*z+O,H=(m-L)*z+L,Y=Math.sqrt(I*I+H*H);
I/=Y;H/=Y;var n=(W*I+o*H)*-3e3;return{Lu:g,fj:n}};bq.xQO=function(b,X){var q=bq.ew,N=1e6/b,J=1;for(;
J<31;J++){if(N<q[J].D){break}}var _=(q[J].D-N)/(q[J].D-q[J-1].D),p=(q[J-1].Gf-q[J].Gf)*_+q[J].Gf,z=(q[J-1].Qk-q[J].Qk)*_+q[J].Qk,g=Math.sqrt(1+q[J].vd*q[J].vd),W=1/g,o=q[J].vd/g,y=Math.sqrt(1+q[J-1].vd*q[J-1].vd),D=1/y,m=q[J-1].vd/y,k=(D-W)*_+W,O=(m-o)*_+o,L=Math.sqrt(k*k+O*O);
k/=L;O/=L;p+=k*X/-3e3;z+=O*X/-3e3;return{x:1.5*p/(p-4*z+2),y:z/(p-4*z+2)}};bq.xQk=function(b){var X=b[0]+b[1]+b[2];
return{x:b[0]/X,y:b[1]/X}};bq.eM=function(b){return{x:b.x/b.y,y:1,as:(1-b.x-b.y)/b.y}};bq.xdd=function(b,X){var q=x.sy.Jb([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),N=[b.x,b.y,b.as,0],J=[X.x,X.y,X.as,0];
N=x.sy.un(q,N);J=x.sy.un(q,J);var _=J[0]/N[0],p=J[1]/N[1],z=J[2]/N[2],g=x.sy.Jb([_,0,0,0,p,0,0,0,z]),W=x.sy.Kn(q);
return x.sy.multiply(x.sy.multiply(W,g),q)};x.raw.b$={};x.raw.rN=function(b){b*=8;var X=[8,10,12,14,16];
for(var q in x.raw.Ye){var N=x.raw.Ye[q];if(N.length==4)continue;var J=N[4],_=N[5];for(var p=0;p<X.length;
p++)if(J*_*X[p]==b)return[q,X[p]]}var z=[[4e3,3e3]];for(var p=0;p<z.length;p++){var N=z[p],J=N[0],_=N[1];
for(var p=0;p<X.length;p++)if(J*_*X[p]==b)return[N,X[p]]}return null};x.raw.xdl=function(b){var b=new Uint8Array(b);
for(var X=0;X<b.length;X+=2){var q=b[X];b[X]=b[X+1];b[X+1]=q}var N=x.raw.rN(b.length),J=x.raw.Ye[N[0]];
if(J==null)J=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,N[0][0],N[0][1]];var _=J[4],p=J[5],z=Math.max(J[2],116),g={data:b,qo:1,width:_,height:p,t256:[_],t257:[p],t258:[N[1]],t277:[1],t33421:[2,2],t33422:x.raw.ed[J[1]],t50706:[1,2,0,0],t50714:[z,z,z,z],t50717:[J[3]],t50721:J[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var X=0;X<9;X++)g.t50721[X]/=1e4;return g};x.raw.eQ=function(b){if(b==null||b.length==0||typeof b[0]=="number")return b;
var X=[];for(var q=0;q<b.length;q++)X[q]=b[q][1]==0?0:b[q][0]/b[q][1];return X};x.raw.ed=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];
x.raw.normalize=function(b,X){if(b.t50706!=null){var q=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965];
for(var N=0;N<q.length;N++)if(b["t"+q[N]]!=null)b["t"+q[N]]=x.raw.eQ(b["t"+q[N]]);return}var J=b.t258[0],_=b.exifIFD,X=new Uint8Array(X);
b.t50706=[1,2,0,0];var p=b.t272[0].trim();if(p.indexOf(" ")==-1)p=b.t271[0].trim()+" "+p;b.t50708=[p];
var z=x.raw.Ye,g=z[p.toLowerCase()];if(g==null)for(var W in z)if(p.toLowerCase().startsWith(W))g=z[W];
if(g==null)throw p;var o=g[2];b.t50714=[o,o,o,o];b.t50717=[g[3]];b.t50721=g[0].slice(0);for(var N=0;
N<9;N++)b.t50721[N]=b.t50721[N]*(1/1e4);b.t50723=[1,0,0,0,1,0,0,0,1];if(b.t50728==null)b.t50728=[.35,1,.6];
b.t50778=[17];if(b.t271[0].startsWith("SONY")){var y=UTIF["_bin"+(b.isLE?"LE":"BE")],D=b.t28688,Y;if(JSON.stringify(D)!="[8000,10400,12900,14100]")console.log(D);
if(D){var m=[0,0,0,0,0,4095],k=new Uint16Array(16385);for(var N=0;N<4;N++){var O=D[N]>>>2;m[N+1]=O;if(O>4095)throw"e"}for(var N=0;
N<16385;N++)k[N]=N;for(var N=0;N<5;N++)for(var L=m[N]+1;L<=m[N+1];L++)k[L]=k[L-1]+(1<<N);var I=X.length*8<b.width*b.height*J;
if(I)b.t50712=k}else console.log("no curve");var H=b.dngPrvt;if(H){var n=H.t29184[0],w=H.t29185[0],t=(b.isLE?e.Gs:e.o)(H.t29217,0),j=new Uint32Array(X.slice(n,n+(w&4294967292)).buffer),E=new Uint32Array(w>>>2);
x.raw.xdW(j,E,w>>>2,t);var h=new Uint8Array(n+w);h.set(new Uint8Array(E.buffer),n);var u=[];UTIF._readIFD(y,h,n,u,0,!1);
var Z=u.pop(),A=Z.t29458;b.t50728=[A[1]/A[0],1,A[1]/A[3]];b.t50730=[.5];var P=Z.t29891;b.t50829=[P[1],P[0],P[3],P[2]]}else if(_.makerNote&&_.makerNote.t8208){var Y=_.makerNote,T=Y.t8208,U=T.length,r=0,i=new Uint8Array(256);
for(var N=249;N<256;N++)i[N]=N;for(var N=0;N<249;N++)i[N*N*N%249]=N;for(var N=0;N<U;N++)T[N]=i[T[N]];
if(U==6604)r=612;else throw"e";var A=[];for(var N=0;N<3;N++)A.push(e.It(T,r+N*2));console.log(A);b.t50728=[A[1]/A[0],1,A[1]/A[2]]}else console.log("no white balance");
if(b.width*b.height*1.5==b.t279[0]){o=o>>>2;b.t50714=[o,o,o,o];b.t50717=[g[3]>>>2]}}else if(b.t271[0].startsWith("Canon")){var X=b.data,V=X.slice(0),F=b.t50752,B=[],l=0;
if(F==null||F[0]==0&&F[1]==0)B.push(b.width);else{for(var N=0;N<F[0];N++)B.push(F[1]);B.push(F[2])}var $=b.width*2;
for(var v=0;v<B.length;v++){var C=B[v],f=2*l,nx=2*C;for(var nA=0;nA<b.height;nA+=2){var nU=nA*$+f,nn=b.height*f+(nA>>1)*nx*2;
for(var N=0;N<nx;N++){X[nU+N]=V[nn+N];X[nU+N+$]=V[nn+N+nx]}}l+=C}var Y=_.makerNote;if(Y.t16385){var nH=Y.t224,a=0;
if(nH){b.t50719=[nH[5],nH[6]];b.t50720=[nH[7]+1-nH[5],nH[8]+1-nH[6]]}var d=Y.t16385,np=d.length;if(np==582)a=1;
else if(np==653)a=2;else if(np==796)a=3;else if([692,674,702,1227,1250,1251,1337,1338,1346].indexOf(np)!=-1)a=4;
else if(np==5120){a=5;d=new Int16Array(d.slice(0).buffer)}else if(np==1273||np==1275)a=6;else if([1312,1313,1316,1506].indexOf(np)!=-1)a=7;
else if([1560,1592,1353,1602].indexOf(np)!=-1)a=8;else throw"e"+np;var nb=d[0],nK=[null,[25,166],[34,286],[63,196],[63],[71,nb==-4?333:264],[63,251],[63,nb==10?504:728],[63,326]],r=nK[a][0],nq=nK[a][1];
if(a==4){if(d[0]==2)nq=231;else if(d[0]==3)nq=231;else if(d[0]==4)nq=231;else if(d[0]==5)nq=231;else if(d[0]==6)nq=231;
else if(d[0]==7)nq=231;else if(d[0]==9)nq=231;else throw"e"}b.t50728=[d[r+1]/d[r],1,d[r+1]/d[r+3]];var o=nq==null?1024:d[nq];
b.t50714=[o,o,o,o]}else{b.t50728=[.4,1,.6]}}else if(b.t271[0].startsWith("NIKON")){var Y=_.makerNote,nS=b.isLE?e.It:e.aF,nR=0,nu=0,nO,nX=0;
if(Y.t61){var nB=Y.t61,nE=[];for(var N=0;N<4;N++)nE[N]=nB[N]/Math.pow(2,14-J);b.t50714=nE}if(Y.t3585){var nh=Y.t3585,N=0,n=22;
while(n<nh.length&&N!=-4){var nv=e.Gs(nh,n);n+=4;n+=14;N=e.Gs(nh,n)-4;n+=4;if(nv==1990472198){if(nh[n]!=0)throw"Flip"}if(nv==1990472199){var nC=e.It(nh,n);
if(nC==0)b.qo=1;else if(nC==270)b.qo=8;else throw"e "+nC}n+=N}}if(Y.t183){var nF=Y.t183,nP=[];for(var N=0;
N<6;N++)nP.push(nS(nF,16+N*2));nR=nP[0];nu=nP[1]}if(Y.t3614){var ni=Y.t3614;nR=e.Gs(ni,8);nu=e.Gs(ni,12)}if(nR!=0){if(nR<nu){var nw=nR;
nR=nu;nu=nw}var l=b.width-nR>>>1,nA=b.height-nu>>>1;b.t50829=[nA,l,nA+nu,l+nR]}if(Y.t12){var nT=x.raw.eQ(Y.t12);
nO=[1/nT[0],1,1/nT[1]]}else if(Y.t151){var nI=x.raw.xdL(Y,151),gu=nI[0],nN=nI[1],xn=nI[2];if(gu=="0100"&&nN>=80)throw"e";
else if(gu=="0103"&&nN>=26){var nL=[];for(var N=0;N<4;N++)nL.push(nS(xn,16+N*2));nO=[nL[1]/nL[0],1,nL[3]/nL[2]]}else if(gu=="0204"&&nN>=564||gu=="0205"&&nN>=284){var n=gu=="0204"?6:14,nL=[];
for(var N=0;N<4;N++)nL.push(nS(xn,n+N*2));nO=[nL[1]/nL[0],1,nL[1]/nL[3]]}else throw"e"}else console.log("no white balance info");
if(p=="NIKON D1")nO=[1,1,1];if(nO)b.t50728=nO;var nV=Y.t150?Y.t150:Y.t140;if(nV){var xY=nV[nX++],ny=nV[nX++],nk;
if(xY==73||ny==88)nX+=2110;nX+=8;var xp=1<<J&32767,nW=nS(nV,nX);nX+=2;var k=[];if(nW>1)nk=Math.floor(xp/(nW-1));
if(xY==68&&ny==32&&nk>0){for(N=0;N<nW;N++){k[N*nk]=nS(nV,nX);nX+=2}for(N=0;N<xp;N++)k[N]=Math.floor((k[N-N%nk]*(nk-N%nk)+k[N-N%nk+nk]*(N%nk))/nk)}else if(xY!=70&&nW<=16385){xp=nW;
for(var N=0;N<nW;N++)k[N]=nS(nV,nX+2*N);nX+=2*nW}if(k.length!=0)b.t50712=new Uint16Array(k)}}else if(p.startsWith("FujiFilm")){}else alert("Unknown camera "+p)};
x.raw.xdW=function(b,X,q,N){if(0==q)return;var J=new Uint32Array(128),_=new Uint8Array(J.buffer),p=127,z=0,g=0;
for(var p=0;p<4;p++)J[p]=N=(N*15625>>>0)*3125+1>>>0;J[3]=J[3]<<1|(J[0]^J[2])>>>31;for(var p=4;p<127;
p++)J[p]=(J[p-4]^J[p-2])<<1|(J[p-3]^J[p-1])>>>31;for(var p=0;p<127;p++)J[p]=e.o(_,p*4);for(;q>0;q--){J[p&127]=J[p+1&127]^J[p+1+64&127];
var W=J[p&127],o=b[z];o^=W;X[g]=o;z++;g++;p++}};x.raw.xdu=function(b,X){var q=e.uT(X,0,4),N=x.raw.xlM;
for(var J=0;J<N.length;J++)if(N[J][0]==b&&q.startsWith(N[J][1])&&(N[J][2]==0||N[J][2]==X.length))return N[J];
throw"e"};x.raw.xdY=function(b){if(b.t29==null)return[];var X=x.raw.xli,q=x.raw.xlm,N=b.t29[0],J=0,z=0;
for(var _=0;_<N.length;_++){var p=N.charCodeAt(_);J=J*10+(48<=p&&p<=57?p-48:p%10)}var g=b.t167[0];for(var _=0;
_<4;_++)z^=g>>>(_<<3)&255;var W=X[J&255],o=q[z&255];return[W,o,96]};x.raw.xdL=function(b,X){var q=b["t"+X],N=q.length,J=x.raw.xdu(X,q),_=e.uT(q,0,4),p,z=J[4];
if(z==null)p=q.slice(4);else{p=new Uint8Array(N-z);var g=x.raw.xdY(b),W=g[0],o=g[1],y=g[2];for(var D=0;
D<p.length;D++){o=o+W*y++&255;p[D]=q[z++]^o}}return[_,N,p]};x.raw.xlM=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
x.raw.xli=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
x.raw.xlm=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
x.raw.Ye={"canon eos 100d":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2048,15e3],"canon eos rebel sl1":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2048,15e3],"canon eos kiss x7":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2048,15e3],"canon eos 200d":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2049,14338],"canon eos rebel sl2":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2049,14338],"canon eos kiss x9":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2049,14338],"canon eos 300d":[[8197,-2e3,-1118,-6714,14335,2592,-2536,3178,8266],1,126,4e3],"canon eos digital rebel":[[8197,-2e3,-1118,-6714,14335,2592,-2536,3178,8266],1,126,4e3],"canon eos kiss digital":[[8197,-2e3,-1118,-6714,14335,2592,-2536,3178,8266],1,126,4e3],"canon eos d30":[[9805,-2689,-1312,-5803,13064,3068,-2438,3075,8775],1,126,4095],"canon eos d60":[[6188,-1341,-890,-7168,14489,2937,-2640,3228,8483],1,127,4e3],"canon eos 10d":[[8197,-2e3,-1118,-6714,14335,2592,-2536,3178,8266],1,127,4e3],"canon eos 20d":[[6599,-537,-891,-8071,15783,2424,-1983,2234,7462],1,126,4095],"canon eos 30d":[[6257,-303,-1e3,-7880,15621,2396,-1714,1904,7046],1,127,3398],"canon eos 350d":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos digital rebel xt":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos kiss digital n":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos 350d":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos 350d digital":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos 40d":[[6071,-747,-856,-7653,15365,2441,-2025,2553,7315],1,1021,13600],"canon eos 450d":[[5784,-262,-821,-7539,15064,2672,-1982,2681,7427],1,1020,14500],"canon eos digital rebel xsi":[[5784,-262,-821,-7539,15064,2672,-1982,2681,7427],1,1020,14500],"canon eos kiss digital x2":[[5784,-262,-821,-7539,15064,2672,-1982,2681,7427],1,1020,14500],"canon eos kiss x2":[[5784,-262,-821,-7539,15064,2672,-1982,2681,7427],1,1020,14500],"canon eos 50d":[[4920,616,-593,-6493,13964,2784,-1774,3178,7005],3,1020,13653],"canon eos 60d":[[6719,-994,-925,-4408,12426,2211,-887,2129,6051],3,2026,14200],"canon eos 70d":[[7034,-804,-1014,-4420,12564,2058,-851,1994,5758],1,2026,13653],"canon eos 80d":[[7457,-671,-937,-4849,12495,2643,-1213,2354,5492],1,512,11892],"canon eos 700d":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2052,15e3],"canon eos rebel t5i":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2052,15e3],"canon eos kiss x7i":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2052,15e3],"canon eos 750d":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos rebel t6i":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos kiss x8i":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos 800d":[[6970,-512,-968,-4425,12161,2553,-739,1982,5601],1,2049,14338],"canon eos rebel t7i":[[6970,-512,-968,-4425,12161,2553,-739,1982,5601],1,2049,14338],"canon eos kiss x9i":[[6970,-512,-968,-4425,12161,2553,-739,1982,5601],1,2049,14338],"canon eos 760d":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos rebel t6s":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos 8000d":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos 77d":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2048,14338],"canon eos 9000d":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2048,14338],"canon eos 500d":[[4763,712,-646,-6821,14399,2640,-1921,3276,6561],1,1020,16e3],"canon eos rebel t1i":[[4763,712,-646,-6821,14399,2640,-1921,3276,6561],1,1020,16e3],"canon eos kiss x3":[[4763,712,-646,-6821,14399,2640,-1921,3276,6561],1,1020,16e3],"canon eos 550d":[[6941,-1164,-857,-3825,11597,2534,-416,1540,6039],0,2048,15831],"canon eos rebel t2i":[[6941,-1164,-857,-3825,11597,2534,-416,1540,6039],0,2048,15831],"canon eos kiss x4":[[6941,-1164,-857,-3825,11597,2534,-416,1540,6039],0,2048,15831],"canon eos 600d":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2026,13584],"canon eos rebel t3i":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2026,13584],"canon eos kiss x5":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2026,13584],"canon eos 650d":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2026,13584],"canon eos rebel t4i":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2026,13584],"canon eos kiss x6i":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2026,13584],"canon eos 5d":[[6347,-479,-972,-8297,15954,2480,-1968,2131,7649],1,127,3692],"canon eos 5d mark ii":[[4716,603,-830,-7798,15474,2480,-1496,1937,6651],3,1024,12995],"canon eos 5d mark iii":[[6722,-635,-963,-4287,12460,2028,-908,2162,5668],1,2060,16383],"canon eos 5d mark iv":[[6446,-366,-864,-4436,12204,2513,-952,2496,6348],1,2049,14448],"canon eos 5ds":[[6250,-711,-808,-5153,12794,2636,-1249,2198,5610],1,2048,15181],"canon eos 5ds r":[[6250,-711,-808,-5153,12794,2636,-1249,2198,5610],1,2048,15181],"canon eos 6d":[[7034,-804,-1014,-4420,12564,2058,-851,1994,5758],1,2048,15e3],"canon eos 6d mark ii":[[6875,-970,-932,-4691,12459,2501,-874,1953,5809],1,2049,14558],"canon eos 7d":[[6844,-996,-856,-3876,11761,2396,-593,1772,6198],3,1025,8150],"canon eos 7d mark ii":[[7268,-1082,-969,-4186,11839,2663,-825,2029,5839],1,2047,13400],"canon eos 1000d":[[6771,-1139,-977,-7818,15123,2928,-1244,1437,7533],1,255,3650],"canon eos digital rebel xs":[[6771,-1139,-977,-7818,15123,2928,-1244,1437,7533],1,255,3650],"canon eos kiss digital f":[[6771,-1139,-977,-7818,15123,2928,-1244,1437,7533],1,255,3650],"canon eos 1100d":[[6444,-904,-893,-4563,12308,2535,-903,2016,6728],1,2036,15500],"canon eos rebel t3":[[6444,-904,-893,-4563,12308,2535,-903,2016,6728],1,2036,15500],"canon eos 1200d":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2046,12279],"canon eos rebel t5":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2046,12279],"canon eos kiss x70":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2046,12279],"canon eos 1300d":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2048,15e3],"canon eos rebel t6":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2048,15e3],"canon eos kiss x80":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2048,15e3],"canon eos 2000d":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],3,2048,15092],"canon eos rebel t7":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],3,2048,15092],"canon eos 1500d":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],3,2048,15092],"canon eos 4000d":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2051,15e3],"canon eos rebel t100":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2051,15e3],"canon eos 3000d":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2051,15e3],"canon eos 400d":[[7054,-1501,-990,-8156,15544,2812,-1278,1414,7796],1,255,3726],"canon eos digital rebel xti":[[7054,-1501,-990,-8156,15544,2812,-1278,1414,7796],1,255,3726],"canon eos kiss digital x":[[7054,-1501,-990,-8156,15544,2812,-1278,1414,7796],1,255,3726],"canon eos m":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2026,13584],"canon eos m2":[[6400,-480,-888,-5294,13416,2047,-1296,2203,6137],1,2026,13584],"canon eos m3":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2048,16e3],"canon eos m5":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,2048,16e3],"canon eos m6":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,2048,16e3],"canon eos m10":[[6400,-480,-888,-5294,13416,2047,-1296,2203,6137],1,2048,16e3],"canon eos m100":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,2048,16e3],"canon eos-1d":[[6806,-179,-1020,-8097,16415,1687,-3267,4236,7690],2,0,3588],"canon eos-1ds":[[4374,3631,-1743,-7520,15212,2472,-2892,3632,8161],2,0,3500],"canon eos d2000c":[[24542,-10860,-3401,-1490,11370,-297,2858,-605,3225],2,96,4095],"canon eos-1d mark ii":[[6264,-582,-724,-8312,15948,2504,-1744,1919,8664],1,127,3700],"canon eos-1d mark ii n":[[6240,-466,-822,-8180,15825,2500,-1801,1938,8042],1,127,3700],"canon eos-1d mark iii":[[6291,-540,-976,-8350,16145,2311,-1714,1858,7326],1,1023,15100],"canon eos-1d mark iv":[[6014,-220,-795,-4109,12014,2361,-561,1824,5787],3,2e3,13e3],"canon eos-1ds mark ii":[[6517,-602,-867,-8180,15926,2378,-1618,1771,7633],3,126,4060],"canon eos-1ds mark iii":[[5859,-211,-930,-8255,16017,2353,-1732,1887,7448],1,1021,15100],"canon eos-1d x":[[6847,-614,-1014,-4669,12737,2139,-1197,2488,6846],1,2050,15100],"canon eos-1d x mark ii":[[7596,-978,-967,-4808,12571,2503,-1398,2567,5752],1,2048,14888],"canon powershot pro1":[[10062,-3522,-999,-7643,15117,2730,-765,817,7323],1,129,4095],"canon powershot g1":[[-4778,9467,2172,4743,-1141,4344,-5146,9908,6077,-1566,11051,557],0,31,1023],"canon powershot g2":[[9087,-2693,-1049,-6715,14382,2537,-2291,2819,7790],1,0,1023],"canon powershot g3":[[9212,-2781,-1073,-6573,14189,2605,-2300,2844,7664],1,0,4095],"canon powershot g3 x":[[9701,-3857,-921,-3149,11537,1817,-786,1817,5147],1,2047,16e3],"canon powershot g5":[[9757,-2872,-933,-5972,13861,2301,-1622,2328,7212],1,0,4095],"canon powershot g5 x":[[9602,-3823,-937,-2984,11495,1675,-407,1415,5049],1,2047,16e3],"canon powershot g6":[[9877,-3775,-871,-7613,14807,3072,-1448,1305,7485],1,128,4095],"canon powershot g7 x":[[9602,-3823,-937,-2984,11495,1675,-407,1415,5049],1,511,4e3],"canon powershot g7 x mark ii":[[9602,-3823,-937,-2984,11495,1675,-407,1415,5049],1,2047,16e3],"canon powershot g1 x":[[7378,-1255,-1043,-4088,12251,2048,-876,1946,5805],1,0,16383],"canon powershot g1 x mark ii":[[7378,-1255,-1043,-4088,12251,2048,-876,1946,5805],1,0,16e3],"canon powershot g1 x mark iii":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,2048,16e3],"canon powershot g12":[[13244,-5501,-1248,-1508,9858,1935,-270,1083,4366],1,120,4095],"canon powershot g11":[[12177,-4817,-1069,-1612,9864,2049,-98,850,4471],1,120,4095],"canon powershot g10":[[11093,-3906,-1028,-5047,12492,2879,-1003,1750,5561],3,128,4095],"canon powershot g9":[[7368,-2141,-598,-5621,13254,2625,-1418,1696,5743],1,125,4095],"canon powershot g9 x":[[9602,-3823,-937,-2984,11495,1675,-407,1415,5049],1,2047,16e3],"canon powershot g9 x mark ii":[[10056,-4131,-944,-2576,11143,1625,-238,1294,5179],1,2048,16e3],"canon powershot g15":[[7474,-2301,-567,-4056,11456,2975,-222,716,4181],3,500,2800],"canon powershot g16":[[8020,-2687,-682,-3704,11879,2052,-965,1921,5556],1,0,4095],"canon powershot sx1 is":[[6578,-259,-502,-5974,13030,3309,-308,1058,4970],1,125,4095],"canon powershot s30":[[10566,-3652,-1129,-6552,14662,2006,-2197,2581,7670],1,31,1023],"canon powershot s40":[[8510,-2487,-940,-6869,14231,2900,-2318,2829,9013],1,0,1023],"canon powershot s45":[[8163,-2333,-955,-6682,14174,2751,-2077,2597,8041],1,129,4095],"canon powershot s50":[[8882,-2571,-863,-6348,14234,2288,-1516,2172,6569],1,129,4095],"canon powershot s60":[[8795,-2482,-797,-7804,15403,2573,-1422,1996,7082],1,129,4095],"canon powershot s70":[[9976,-3810,-832,-7115,14463,2906,-901,989,7889],1,129,4095],"canon powershot s90":[[12374,-5016,-1049,-1677,9902,2078,-83,852,4683],1,125,4095],"canon powershot s95":[[13440,-5896,-1279,-1236,9598,1931,-180,1001,4651],1,125,4095],"canon powershot s100":[[7968,-2565,-636,-2873,10697,2513,180,667,4211],3,125,4095],"canon powershot s110":[[8039,-2643,-654,-3783,11230,2930,-206,690,4194],3,500,3072],"canon powershot s120":[[6961,-1685,-695,-4625,12945,1836,-1114,2152,5518],1,0,4e3],"canon powershot sx50 hs":[[12432,-4753,-1247,-2110,10691,1629,-412,1623,4926],1,127,4095],"canon powershot sx60 hs":[[13161,-5451,-1344,-1989,10654,1531,-47,1271,4955],1,128,4e3],"nikon d100":[[5902,-933,-782,-8983,16719,2354,-1402,1455,6464],2,0,4095],"nikon d1":[[16772,-4726,-2141,-7611,15713,1972,-2846,3494,9521],0,0,4095],"nikon d1h":[[7577,-2166,-926,-7454,15592,1934,-2377,2808,8606],0,0,4095],"nikon d1x":[[7702,-2245,-975,-9114,17242,1875,-2679,3055,8521],0,0,4095],"nikon d200":[[8367,-2248,-763,-8758,16447,2422,-1527,1550,8053],2,0,3880],"nikon d2h":[[5710,-901,-615,-8594,16617,2024,-2975,4120,6830],3,0,3880],"nikon d2hs":[[5710,-901,-615,-8594,16617,2024,-2975,4120,6830],3,0,3880],"nikon d2x":[[10231,-2769,-1255,-8301,15900,2552,-797,680,7148],1,0,3880],"nikon d2xs":[[10231,-2769,-1255,-8301,15900,2552,-797,680,7148],1,0,3880],"nikon d3":[[8139,-2171,-663,-8747,16541,2295,-1925,2008,8093],1,0,15892],"nikon d3s":[[8828,-2406,-694,-4874,12603,2541,-660,1509,7587],1,0,15520],"nikon d3x":[[7171,-1986,-648,-8085,15555,2718,-2170,2512,7457],1,0,15892],"nikon d300":[[9030,-1992,-715,-8465,16302,2255,-2689,3217,8069],1,0,15236],"nikon d300s":[[9030,-1992,-716,-8465,16302,2256,-2689,3217,8069],1,0,15236],"nikon d3000":[[8736,-2458,-935,-9075,16894,2251,-1354,1242,8263],3,0,3880],"nikon d3200":[[7013,-1408,-635,-5268,12902,2640,-1470,2801,7379],1,0,3880],"nikon d3300":[[6988,-1384,-714,-5631,13410,2447,-1485,2204,7318],1,150,3880],"nikon d3400":[[6988,-1384,-714,-5631,13410,2447,-1485,2204,7318],1,150,3880],"nikon d3500":[[8821,-2938,-785,-4178,12142,2287,-824,1651,6860],1,150,3972],"nikon d4":[[8598,-2848,-857,-5618,13606,2195,-1002,1773,7137],1,0,15520],"nikon d5":[[9200,-3522,-992,-5755,13803,2117,-753,1486,6338],1,400,15520],"nikon z 6":[[8210,-2534,-683,-5355,13338,2212,-1143,1929,6464],1,1008,15520],"nikon z 7":[[10405,-3755,-1270,-5461,13787,1793,-1040,2015,6785],1,1008,15520],"nikon df":[[8598,-2848,-857,-5618,13606,2195,-1002,1773,7137],1,0,15520],"nikon d5100":[[8198,-2239,-724,-4871,12389,2798,-1043,2050,7181],1,0,15892],"nikon d3100":[[7911,-2167,-813,-5327,13150,2408,-1288,2483,7968],3,0,3880],"nikon d40":[[6992,-1668,-806,-8138,15748,2543,-874,850,7897],0,0,3880],"nikon d40x":[[8819,-2543,-911,-9025,16928,2151,-1329,1213,8449],3,0,3880],"nikon d50":[[7732,-2422,-789,-8238,15884,2498,-859,783,7330],0,0,4095],"nikon d500":[[8813,-3210,-1036,-4703,12868,2021,-1054,1940,6129],1,400,15520],"nikon d5000":[[7309,-1403,-519,-8474,16008,2622,-2433,2826,8064],3,0,3767],"nikon d5200":[[8322,-3112,-1047,-6367,14342,2179,-988,1638,6394],1,0,15892],"nikon d5300":[[6988,-1384,-714,-5631,13410,2447,-1485,2204,7318],1,150,3972],"nikon d5500":[[8821,-2938,-785,-4178,12142,2287,-824,1651,6860],1,150,3972],"nikon d5600":[[8821,-2938,-785,-4178,12142,2287,-824,1651,6860],1,150,3972],"nikon d60":[[8736,-2458,-935,-9075,16894,2251,-1354,1242,8263],3,0,3880],"nikon d600":[[8178,-2245,-609,-4857,12394,2776,-1207,2086,7298],1,0,15520],"nikon d610":[[8178,-2245,-609,-4857,12394,2776,-1207,2086,7298],1,0,15520],"nikon d70":[[7732,-2422,-789,-8238,15884,2498,-859,783,7330],0,0,4095],"nikon d700":[[8139,-2171,-663,-8747,16541,2295,-1925,2008,8093],1,0,3972],"nikon d750":[[9020,-2890,-715,-4535,12436,2348,-934,1919,7086],1,150,3880],"nikon d7000":[[8198,-2239,-724,-4871,12389,2798,-1043,2050,7181],1,0,15892],"nikon d7100":[[8322,-3112,-1047,-6367,14342,2179,-988,1638,6394],1,0,15892],"nikon d7200":[[8322,-3112,-1047,-6367,14342,2179,-988,1638,6394],1,600,15892],"nikon d7500":[[8813,-3210,-1036,-4703,12868,2021,-1054,1940,6129],1,100,3880],"nikon d70s":[[7732,-2422,-789,-8238,15884,2498,-859,783,7330],0,0,4095],"nikon d80":[[8629,-2410,-883,-9055,16940,2171,-1490,1363,8520],3,0,3880],"nikon d800":[[7866,-2108,-555,-4869,12483,2681,-1176,2069,7501],1,0,15520],"nikon d800e":[[7866,-2108,-555,-4869,12483,2681,-1176,2069,7501],1,0,15520],"nikon d810":[[9369,-3195,-791,-4488,12430,2301,-893,1796,6872],1,150,3880],"nikon d850":[[10405,-3755,-1270,-5461,13787,1793,-1040,2015,6785],1,100,3880],"nikon d4s":[[8598,-2848,-857,-5618,13606,2195,-1002,1773,7137],1,192,3880],"nikon d90":[[7309,-1403,-519,-8474,16008,2622,-2434,2826,8064],3,0,3767],"nikon 1 j1":[[8994,-2667,-865,-4594,12324,2552,-699,1786,6260],1,0,3300],"nikon 1 j2":[[8994,-2667,-865,-4594,12324,2552,-699,1786,6260],1,0,4095],"nikon 1 j3":[[6588,-1305,-693,-3277,10987,2634,-355,2016,5106],1,0,4095],"nikon 1 j4":[[5958,-1559,-571,-4021,11453,2939,-634,1548,5087],1,200,4e3],"nikon 1 j5":[[7520,-2518,-645,-3844,12102,1945,-913,2249,6835],1,200,3800],"nikon 1 s1":[[8994,-2667,-865,-4594,12324,2552,-699,1786,6260],1,0,3300],"nikon 1 s2":[[6612,-1342,-618,-3338,11055,2623,-174,1792,5075],1,200,4095],"nikon 1 v1":[[8994,-2667,-865,-4594,12324,2552,-699,1786,6260],1,0,3300],"nikon 1 v2":[[6588,-1305,-693,-3277,10987,2634,-355,2016,5106],1,0,4095],"nikon 1 v3":[[5958,-1559,-571,-4021,11453,2939,-634,1548,5087],1,200,4e3],"nikon 1 aw1":[[6588,-1305,-693,-3277,10987,2634,-355,2016,5106],1,0,4095],"nikon e5400":[[9349,-2987,-1001,-7919,15766,2266,-2098,2680,6839],0,0,4095],"nikon e5700":[[-5368,11478,2368,5537,-113,3148,-4969,10021,5782,778,9028,211],0,0,4095],"nikon coolpix p330":[[10321,-3920,-931,-2750,11146,1824,-442,1545,5539],1,3200,65e3],"nikon coolpix p340":[[10321,-3920,-931,-2750,11146,1824,-442,1545,5539],1,200,3800],"nikon coolpix a":[[8198,-2239,-724,-4871,12389,2798,-1043,2050,7181],1,0,15892],"nikon coolpix b700":[[14387,-6014,-1299,-1357,9975,1616,467,1047,4744],1,200,4e3],"nikon coolpix p6000":[[9698,-3367,-914,-4706,12584,2368,-837,968,5801],1,0,4095],"nikon coolpix p7000":[[11432,-3679,-1111,-3169,11239,2202,-791,1380,4455],1,0,4095],"nikon coolpix p7100":[[11053,-4269,-1024,-1976,10182,2088,-526,1263,4469],1,0,3800],"nikon coolpix p7700":[[10321,-3920,-931,-2750,11146,1824,-442,1545,5539],1,3200,65e3],"nikon coolpix p7800":[[10321,-3920,-931,-2750,11146,1824,-442,1545,5539],1,3200,65e3],"nikon coolpix p1000":[[14294,-6116,-1333,-1628,10219,1637,-14,1158,5022],1,200,4095],"panasonic dmc-cm1":[[8770,-3194,-820,-2871,11281,1803,-513,1552,4434],1,142,4095],"panasonic dmc-fx150":[[9082,-2907,-925,-6119,13377,3058,-1797,2641,5609],0,15,3986],"panasonic dmc-fz28":[[10109,-3488,-993,-5412,12812,2916,-1305,2140,5543],0,15,3986],"panasonic dmc-fz150":[[11904,-4541,-1189,-2355,10899,1662,-296,1586,4289],3,145,3956],"panasonic dmc-fz200":[[8112,-2563,-740,-3730,11784,2197,-941,2075,4933],3,150,3956],"panasonic dmc-fz2000":[[7386,-2443,-743,-3437,11864,1757,-608,1660,4766],3,142,2095],"panasonic dmc-fz2500":[[7386,-2443,-743,-3437,11864,1757,-608,1660,4766],3,142,2095],"panasonic dmc-fz300":[[8378,-2798,-769,-3068,11410,1877,-538,1792,4623],3,143,4095],"panasonic dmc-g1":[[8199,-2065,-1056,-8124,16156,2033,-2458,3022,7220],3,15,3986],"panasonic dmc-g2":[[10113,-3400,-1114,-4765,12683,2317,-377,1437,6710],3,0,3900],"panasonic dmc-g10":[[10113,-3400,-1114,-4765,12683,2317,-377,1437,6710],3,0,3900],"panasonic dmc-gh1":[[6299,-1466,-532,-6535,13852,2969,-2331,3112,5984],3,0,3986],"panasonic dmc-gh3":[[6559,-1752,-491,-3672,11407,2586,-962,1875,5130],3,155,3956],"panasonic dmc-gh4":[[7122,-2108,-512,-3155,11201,2231,-541,1423,5045],0,142,4095],"panasonic dmc-gf1":[[7888,-1902,-1011,-8106,16085,2099,-2353,2866,7330],3,15,3986],"panasonic dmc-gf2":[[7888,-1902,-1011,-8106,16085,2099,-2353,2866,7330],3,150,3956],"panasonic dmc-gm1":[[6770,-1895,-744,-5232,13145,2303,-1664,2691,5703],0,143,3971],"panasonic dmc-gm5":[[8238,-3244,-679,-3921,11814,2384,-836,2022,5852],0,143,4095],"panasonic dmc-g3":[[6763,-1919,-863,-3868,11515,2684,-1216,2387,5879],2,143,3956],"panasonic dmc-g5":[[7798,-2562,-740,-3879,11584,2613,-1055,2248,5434],0,150,3956],"panasonic dmc-g6":[[8294,-2891,-651,-3869,11590,2595,-1183,2267,5352],0,142,3956],"panasonic dmc-g7":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g70":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g8":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g80":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g81":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g85":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-gf3":[[9051,-2468,-1204,-5212,13276,2121,-1197,2510,6890],3,150,3956],"panasonic dmc-gf5":[[8228,-2945,-660,-3938,11792,2430,-1094,2278,5793],3,150,3956],"panasonic dmc-gf6":[[8130,-2801,-946,-3520,11289,2552,-1314,2511,5791],2,150,3956],"panasonic dmc-gf7":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-gh2":[[7780,-2410,-806,-3913,11724,2484,-1018,2390,5298],3,15,3800],"panasonic dmc-fz35":[[9938,-2780,-890,-4604,12393,2480,-1117,2304,4620],0,150,3986],"panasonic dmc-fz38":[[9938,-2780,-890,-4604,12393,2480,-1117,2304,4620],0,150,3986],"panasonic dmc-fz45":[[13639,-5535,-1371,-1698,9633,2430,316,1152,4108],3,150,3986],"panasonic dmc-fz40":[[13639,-5535,-1371,-1698,9633,2430,316,1152,4108],3,150,3986],"panasonic dmc-fz70":[[11532,-4324,-1066,-2375,10847,1749,-564,1699,4351],1,120,3971],"panasonic dmc-fz72":[[11532,-4324,-1066,-2375,10847,1749,-564,1699,4351],1,120,3971],"panasonic dmc-fz100":[[16197,-6146,-1761,-2393,10765,1869,366,2238,5248],3,120,3986],"panasonic dmc-fz1000":[[7830,-2696,-763,-3325,11667,1866,-641,1712,4824],3,143,4095],"panasonic dmc-gx1":[[6763,-1919,-863,-3868,11515,2684,-1216,2387,5879],2,150,3956],"panasonic dmc-gx7":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,150,3956],"panasonic dmc-gx8":[[7564,-2263,-606,-3148,11239,2177,-540,1435,4853],3,143,4095],"panasonic dmc-gx85":[[7771,-3020,-629,-4029,11950,2345,-821,1977,6119],0,143,4095],"panasonic dmc-gx80":[[7771,-3020,-629,-4029,11950,2345,-821,1977,6119],0,143,4095],"panasonic dmc-gx7mk2":[[7771,-3020,-629,-4029,11950,2345,-821,1977,6119],0,143,4095],"panasonic dmc-lf1":[[9379,-3267,-816,-3227,11560,1881,-926,1928,5340],1,143,3971],"panasonic dmc-lx3":[[8128,-2668,-655,-6134,13307,3161,-1782,2568,6083],0,15,3971],"panasonic dmc-lx15":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,143,4095],"panasonic dmc-lx9":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,143,4095],"panasonic dmc-lx10":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,143,4095],"leica c (typ 112)":[[9379,-3267,-816,-3227,11560,1881,-926,1928,5340],1,146,3956],"leica digilux 2":[[11340,-4069,-1275,-7555,15266,2448,-2960,3426,7685],1,0,4095],"leica d-lux 3":[[8048,-2810,-623,-6450,13519,3272,-1700,2146,7049],0,0,3986],"leica v-lux 1":[[7906,-2709,-594,-6231,13351,3220,-1922,2631,6537],0,0,3986],"panasonic dmc-l10":[[8025,-1942,-1050,-7920,15904,2100,-2456,3005,7039],3,0,3986],"panasonic dmc-fz30":[[10976,-4029,-1141,-7918,15491,2600,-1670,2071,8246],1,0,3971],"panasonic dmc-fz50":[[7906,-2709,-594,-6231,13351,3220,-1922,2631,6537],0,0,3986],"panasonic dmc-fz8":[[8986,-2755,-802,-6341,13575,3077,-1476,2144,6379],1,0,3986],"panasonic dmc-fz18":[[9932,-3060,-935,-5809,13331,2753,-1267,2155,5575],0,0,3986],"panasonic dmc-l1":[[8054,-1885,-1025,-8349,16367,2040,-2805,3542,7629],3,0,3986],"panasonic dmc-lx2":[[8048,-2810,-623,-6450,13519,3272,-1700,2146,7049],0,0,3986],"leica d-lux 4":[[8128,-2668,-655,-6134,13307,3161,-1782,2568,6083],0,15,3971],"panasonic dmc-lx5":[[10909,-4295,-948,-1333,9306,2399,22,1738,4582],2,150,3986],"leica d-lux 5":[[10909,-4295,-948,-1333,9306,2399,22,1738,4582],2,150,3986],"panasonic dmc-lx7":[[10148,-3743,-991,-2837,11366,1659,-701,1893,4899],2,150,3971],"leica d-lux 6":[[10148,-3743,-991,-2837,11366,1659,-701,1893,4899],2,150,3971],"leica d-lux (typ 109)":[[8844,-3538,-768,-3709,11762,2200,-698,1792,5220],0,143,4095],"panasonic dmc-lx1":[[10704,-4187,-1230,-8314,15952,2501,-920,945,8927],1,0,3971],"panasonic dmc-lx100":[[8844,-3538,-768,-3709,11762,2200,-698,1792,5220],0,143,4095],"panasonic dc-lx100m2":[[8585,-3127,-833,-4005,12250,1953,-650,1494,4862],0,143,4095],"panasonic dmc-tz60":[[8607,-2822,-808,-3755,11930,2049,-820,2060,5224],1,145,3971],"panasonic dmc-tz61":[[8607,-2822,-808,-3755,11930,2049,-820,2060,5224],1,145,3971],"panasonic dmc-zs40":[[8607,-2822,-808,-3755,11930,2049,-820,2060,5224],1,145,3971],"panasonic dmc-tz71":[[8802,-3135,-789,-3151,11468,1904,-550,1745,4810],1,143,3971],"panasonic dmc-zs50":[[8802,-3135,-789,-3151,11468,1904,-550,1745,4810],1,143,3971],"panasonic dmc-tz70":[[8802,-3135,-789,-3151,11468,1904,-550,1745,4810],1,143,3971],"panasonic dmc-tz81":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,142,4095],"panasonic dmc-zs60":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,142,4095],"panasonic dmc-tz80":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,142,4095],"panasonic dmc-tz85":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,142,4095],"panasonic dmc-tz100":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-zs100":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-zs110":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-tz101":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-tz110":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-tx1":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dc-fz82":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,143,4095],"panasonic dc-fz80":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,143,4095],"panasonic dmc-fz80":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,143,4095],"panasonic dmc-fz85":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,143,4095],"panasonic dc-gh5":[[7641,-2336,-605,-3218,11299,2187,-485,1338,5121],1,143,4095],"panasonic dc-gh5s":[[6929,-2355,-708,-4192,12534,1828,-1097,1989,5195],1,510,8e3],"panasonic dc-g9":[[7685,-2375,-634,-3687,11700,2249,-748,1546,5111],1,148,4095],"panasonic dc-gf9":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dc-gx800":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dc-gx850":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dc-gx9":[[7564,-2263,-606,-3148,11239,2177,-540,1435,4853],0,143,4095],"panasonic dc-tz90":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-zs70":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-fz91":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-fz92":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-fz93":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-tz202":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dc-tz200":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"pentax k100d":[[11095,-3157,-1324,-8377,15834,2720,-1108,947,11688],1,127,3950],"pentax k110d":[[11095,-3157,-1324,-8377,15834,2720,-1108,947,11688],1,127,4095],"pentax k100d super":[[11095,-3157,-1324,-8377,15834,2720,-1108,947,11688],1,127,4095],"pentax *ist d":[[9651,-2059,-1189,-8881,16512,2487,-1460,1345,10687],1,128,4095],"pentax *ist dl":[[10829,-2838,-1115,-8339,15817,2696,-837,680,11939],1,128,4095],"pentax *ist dl2":[[10504,-2438,-1189,-8603,16207,2531,-1022,863,12242],1,127,3950],"pentax *ist ds":[[10371,-2333,-1206,-8688,16231,2602,-1230,1116,11282],1,128,3950],"pentax k10d":[[9566,-2863,-803,-7170,15172,2112,-818,803,9705],1,0,4095],"pentax k20d":[[9427,-2714,-868,-7493,16092,1373,-2199,3264,7180],0,0,4095],"pentax k200d":[[9186,-2678,-907,-8693,16517,2260,-1129,1094,8524],1,0,4095],"pentax k-s1":[[8512,-3211,-787,-4167,11966,2487,-638,1288,6054],1,32,4062],"pentax k-s2":[[8662,-3280,-798,-3928,11771,2444,-586,1232,6054],1,0,3839],"pentax k-70":[[8113,-2078,-1275,-4359,12953,1514,-1091,1955,6044],1,64,16319],"pentax k-1":[[8827,-2829,-1238,-3611,12203,1549,-897,1687,6291],1,64,16316],"pentax k-1 mark ii":[[8952,-2869,-1256,-3612,12204,1550,-934,1757,6549],1,64,16316],"pentax k-3":[[7415,-2052,-721,-5186,12788,2682,-1446,2157,6773],1,1,15868],"pentax k-3 ii":[[7415,-2052,-721,-5186,12788,2682,-1446,2157,6773],1,1,15865],"pentax k-5":[[8713,-2833,-743,-4342,11900,2772,-722,1543,6247],0,512,16383],"pentax k-5 ii":[[8170,-2725,-639,-4440,12017,2744,-771,1465,6599],0,512,16383],"pentax k-5 ii s":[[8170,-2725,-639,-4440,12017,2744,-771,1465,6599],0,512,15863],"pentax k-7":[[9142,-2947,-678,-8648,16967,1663,-2224,2898,8615],0,0,4095],"pentax k-m":[[11057,-3604,-1155,-5152,13046,2329,-282,375,8104],1,0,4095],"pentax k-x":[[8843,-2837,-625,-5025,12644,2668,-411,1234,7410],0,41,4095],"pentax k-r":[[9895,-3077,-850,-5304,13035,2521,-883,1768,6936],0,64,4e3],"pentax kp":[[8617,-3228,-1034,-4674,12821,2044,-803,1577,5728],1,128,16254],"pentax k2000":[[11057,-3604,-1155,-5152,13046,2329,-282,375,8104],1,0,4095],"pentax 645d":[[9814,-2716,-1439,-5049,13907,1166,-1830,3836,5706],0,0,15767],"pentax 645z":[[9551,-3012,-1235,-3685,12133,1721,-1019,1887,6544],1,1,16316],"samsung ex2f":[[10648,-3897,-1055,-2022,10573,1668,-492,1611,4742],1,0,4095],"samsung ex1":[[8898,-2498,-994,-3144,11328,2066,-760,1381,4576],1,0,16383],"samsung nx1":[[10686,-4042,-1052,-3595,13238,276,-464,1259,5931],2,1024,16100],"samsung nx5":[[10332,-3234,-1168,-6111,14639,1520,-1352,2647,8331],0,0,4095],"samsung nx10":[[10332,-3234,-1168,-6111,14639,1520,-1352,2647,8331],0,0,4095],"samsung nx11":[[10332,-3234,-1168,-6111,14639,1520,-1352,2647,8331],0,0,4095],"samsung nx100":[[10332,-3234,-1168,-6111,14639,1520,-1352,2647,8331],0,0,4095],"samsung nx1000":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx1100":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx20":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx200":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx210":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx2000":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],2,0,4095],"samsung nx30":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],2,0,4095],"samsung nx300":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],2,0,4095],"samsung nx300m":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],2,0,4095],"samsung nx3000":[[8060,-2933,-761,-4504,12890,1762,-630,1489,5227],2,0,4095],"samsung nx500":[[10686,-4042,-1052,-3595,13238,276,-464,1259,5931],2,1024,16100],"samsung ek-gn120":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],3,0,4095],"samsung wb2000":[[12093,-3557,-1155,-1e3,9534,1733,-22,1787,4576],1,0,4095],"sony dsc-rx0":[[9396,-3507,-843,-2497,11111,1572,-343,1355,5089],1,800,16620],"sony dsc-rx10":[[6679,-1825,-745,-5047,13256,1953,-1580,2422,5183],1,800,16300],"sony dsc-rx10m2":[[6679,-1825,-745,-5047,13256,1953,-1580,2422,5183],1,800,16300],"sony dsc-rx10m3":[[6679,-1825,-745,-5047,13256,1953,-1580,2422,5183],1,800,16300],"sony dsc-rx10m4":[[7699,-2566,-629,-2967,11270,1928,-378,1286,4807],1,800,16380],"sony dsc-rx100":[[8651,-2754,-1057,-3464,12207,1373,-568,1398,4434],1,800,16620],"sony dsc-rx100m2":[[6596,-2079,-562,-4782,13016,1933,-970,1581,5181],1,800,16300],"sony dsc-rx100m3":[[6596,-2079,-562,-4782,13016,1933,-970,1581,5181],1,800,16300],"sony dsc-rx100m4":[[6596,-2079,-562,-4782,13016,1933,-970,1581,5181],1,800,16300],"sony dsc-rx100m5":[[6596,-2079,-562,-4782,13016,1933,-970,1581,5181],1,800,16300],"sony dsc-rx100m5a":[[11176,-4700,-965,-4004,12184,2032,-763,1726,5876],1,800,16300],"sony dsc-rx100m6":[[7325,-2321,-596,-3494,11674,2055,-668,1562,5031],1,800,16300],"sony dsc-rx1r":[[6344,-1612,-462,-4863,12477,2681,-865,1786,6899],1,512,33192],"sony dsc-rx1rm2":[[6629,-1900,-483,-4618,12349,2550,-622,1381,6514],1,512,16300],"sony dslr-a100":[[9437,-2811,-774,-8405,16215,2290,-710,596,7181],2,0,4095],"sony dslr-a200":[[9847,-3091,-928,-8485,16345,2225,-715,595,7103],1,0,4095],"sony dslr-a230":[[9847,-3091,-928,-8485,16345,2225,-715,595,7103],1,0,4095],"sony dslr-a290":[[6038,-1484,-579,-9145,16746,2512,-875,746,7218],1,0,4095],"sony dslr-a300":[[9847,-3091,-928,-8485,16345,2225,-715,595,7103],1,0,4095],"sony dslr-a330":[[9847,-3091,-929,-8485,16346,2225,-714,595,7103],1,0,4095],"sony dslr-a350":[[6038,-1484,-578,-9146,16746,2513,-875,746,7217],1,0,4095],"sony dslr-a380":[[6038,-1484,-579,-9145,16746,2512,-875,746,7218],1,0,4095],"sony dslr-a390":[[6038,-1484,-579,-9145,16746,2512,-875,746,7218],1,0,4095],"sony dslr-a450":[[4950,-580,-103,-5228,12542,3029,-709,1435,7371],1,500,16e3],"sony dslr-a500":[[6046,-1127,-278,-5574,13076,2786,-691,1419,7625],0,500,16600],"sony dslr-a550":[[4950,-580,-103,-5228,12542,3029,-709,1435,7371],0,512,16372],"sony dslr-a560":[[4950,-580,-103,-5228,12542,3029,-709,1435,7371],0,476,16596],"sony dslr-a580":[[5932,-1492,-411,-4813,12285,2856,-741,1524,6739],0,520,16596],"sony dslr-a700":[[5775,-805,-359,-8574,16295,2391,-1943,2341,7249],0,520,16383],"sony dslr-a850":[[5413,-1162,-365,-5665,13098,2866,-608,1179,8440],0,500,15e3],"sony dslr-a900":[[5209,-1072,-397,-8845,16120,2919,-1618,1803,8654],1,520,16383],"sony nex-3":[[6907,-1256,-645,-4940,12621,2320,-1710,2581,6230],1,520,16360],"sony nex-3n":[[6129,-1545,-418,-4930,12490,2743,-977,1693,6615],1,520,16596],"sony nex-5":[[6807,-1350,-342,-4216,11649,2567,-1089,2001,6420],1,520,16383],"sony nex-5n":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16596],"sony nex-5r":[[6129,-1545,-418,-4930,12490,2743,-977,1693,6615],1,520,16596],"sony nex-5t":[[6129,-1545,-418,-4930,12490,2743,-977,1693,6615],1,512,16300],"sony nex-6":[[6129,-1545,-418,-4930,12490,2743,-977,1693,6615],1,520,16596],"sony nex-7":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,512,16300],"sony nex-c3":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16596],"sony nex-f3":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16360],"sony ilce-3000":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-3500":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-5000":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-5100":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-6000":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-6300":[[5973,-1695,-419,-3826,11797,2293,-639,1398,5789],1,512,16300],"sony ilce-6500":[[5973,-1695,-419,-3826,11797,2293,-639,1398,5789],1,512,16300],"sony ilce-7":[[5271,-712,-347,-6153,13653,2763,-1601,2366,7242],1,512,16300],"sony ilce-7m2":[[5271,-712,-347,-6153,13653,2763,-1601,2366,7242],1,512,16300],"sony ilce-7m3":[[7374,-2389,-551,-5435,13162,2519,-1006,1795,6552],1,512,16300],"sony ilce-7r":[[4913,-541,-202,-6130,13513,2906,-1564,2151,7183],1,512,16300],"sony ilce-7rm2":[[6629,-1900,-483,-4618,12349,2550,-622,1381,6514],1,512,16300],"sony ilce-7rm3":[[6640,-1847,-503,-5238,13010,2474,-993,1673,6527],1,512,16383],"sony ilce-7s":[[5838,-1430,-246,-3497,11477,2297,-748,1885,5778],1,512,16300],"sony ilce-7sm2":[[5838,-1430,-246,-3497,11477,2297,-748,1885,5778],1,512,16300],"sony ilce-9":[[6389,-1703,-378,-4562,12265,2587,-670,1489,6550],1,512,16383],"sony dsc-rx1":[[6344,-1612,-462,-4863,12477,2681,-865,1786,6899],1,520,16628],"sony slt-a33":[[6069,-1221,-366,-5221,12779,2734,-1024,2066,6834],1,520,16596],"sony slt-a35":[[5986,-1618,-415,-4557,11820,3120,-681,1404,6971],1,545,16596],"sony slt-a37":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16500],"sony slt-a55":[[5932,-1492,-411,-4813,12285,2856,-741,1524,6739],1,520,16596],"sony slt-a55v":[[5932,-1492,-411,-4813,12285,2856,-741,1524,6739],1,520,16596],"sony slt-a57":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16596],"sony slt-a58":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16596],"sony slt-a65":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,520,16596],"sony slt-a65v":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,520,16596],"sony slt-a77":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,520,16596],"sony slt-a77v":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,520,16596],"sony ilca-77m2":[[5991,-1732,-443,-4100,11989,2381,-704,1467,5992],1,512,16300],"sony ilca-68":[[6435,-1903,-536,-4722,12449,2550,-663,1363,6517],1,512,16300],"sony ilca-99m2":[[6660,-1918,-471,-4613,12398,2485,-649,1433,6447],1,512,16300],"sony slt-a99":[[6344,-1612,-462,-4863,12477,2681,-865,1786,6899],1,520,16596],"sony slt-a99v":[[6344,-1612,-462,-4863,12477,2681,-865,1786,6899],1,520,16596],"sinar hy6":[[16442,-2956,-2422,-2877,12128,750,-1136,6066,4559],1,0,0],"fujifilm finepix s6000fd":[[12628,-4887,-1401,-6861,14996,1962,-2198,2782,7091],3,0,15872],"fujifilm finepix s100fs":[[11521,-4355,-1065,-6524,13767,3058,-1466,1984,6045],3,512,16383],"fujifilm finepix s200exr":[[11401,-4498,-1312,-5088,12751,2613,-838,1568,5941],1,519,16250],"fujifilm finepix f600exr":[[13690,-5358,-1474,-3369,11600,1998,-132,1554,4395],1,256,3900],"fujifilm finepix f700":[[10004,-3219,-1201,-7036,15047,2107,-1863,2565,7736],3,0,16383],"fujifilm finepix f770exr":[[13690,-5358,-1474,-3369,11600,1998,-132,1554,4395],1,256,3900],"fujifilm finepix f900exr":[[12085,-4727,-953,-3257,11489,2002,-511,2046,4592],0,256,3900],"fujifilm finepix e550":[[11044,-3888,-1120,-7248,15168,2208,-1531,2277,8069],3,0,15875],"fujifilm is-1":[[21461,-10807,-1441,-2332,10599,1999,289,875,7703],3,0,15872],"fujifilm finepix s3pro":[[11807,-4612,-1294,-8927,16968,1988,-2120,2741,8006],3,0,15872],"fujifilm finepix s5pro":[[12300,-5110,-1304,-9117,17143,1998,-1947,2448,8100],3,0,15872],"fujifilm finepix s5600":[[9636,-2804,-988,-7442,15040,2589,-1803,2311,8621],3,0,15872],"fujifilm finepix e900":[[9183,-2526,-1078,-7461,15071,2574,-2022,2440,8639],3,0,15872],"fujifilm finepix s2pro":[[12492,-4690,-1402,-7033,15423,1647,-1507,2111,7697],3,128,4095],"fujifilm finepix s5000":[[8754,-2732,-1019,-7204,15069,2276,-1702,2334,6982],3,0,15872],"fujifilm finepix s5200":[[9636,-2804,-988,-7442,15040,2589,-1803,2311,8621],3,0,15872],"fujifilm finepix s5500":[[11940,-4431,-1255,-6766,14428,2542,-993,1165,7421],1,0,15872],"fujifilm finepix s6500fd":[[12628,-4887,-1401,-6861,14996,1962,-2198,2782,7091],3,0,15872],"fujifilm finepix s9500":[[10491,-3423,-1145,-7385,15027,2538,-1809,2275,8692],3,0,15872],"fujifilm finepix s9000":[[10491,-3423,-1145,-7385,15027,2538,-1809,2275,8692],3,0,15872],"fujifilm finepix s9600":[[12343,-4515,-1285,-7165,14899,2435,-1895,2496,8800],3,0,15872],"fujifilm finepix s9600fd":[[12343,-4515,-1285,-7165,14899,2435,-1895,2496,8800],3,0,15872],"fujifilm finepix hs10 hs11":[[12440,-3954,-1183,-1123,9674,1708,-83,1614,4086],0,50,3900],"fujifilm finepix hs20exr":[[13690,-5358,-1474,-3369,11600,1998,-132,1554,4395],1,256,3900],"fujifilm finepix hs30exr":[[13690,-5358,-1474,-3369,11600,1998,-132,1554,4395],1,258,3900],"fujifilm finepix hs50exr":[[12085,-4727,-953,-3257,11489,2002,-511,2046,4592],0,256,3900],"fujifilm finepix x100":[[12161,-4457,-1069,-5034,12874,2400,-795,1724,6904],0,254,4e3],"fujifilm finepix x10":[[13509,-6199,-1254,-4430,12733,1865,-331,1441,5022],0,256,4e3],"fujifilm x-s1":[[13509,-6199,-1254,-4430,12733,1865,-331,1441,5022],0,260,4e3],"fujifilm gfx 50s":[[11756,-4754,-874,-3056,11045,2305,-381,1457,6006],1,65,16383],"fujifilm x-pro1":[[10413,-3996,-993,-3721,11640,2361,-733,1540,6011],2,256,4094],"fujifilm x-pro2":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1024,16383],"fujifilm x70":[[10450,-4329,-878,-3217,11105,2421,-752,1758,6519],1,1024,16383],"fujifilm xf1":[[13509,-6199,-1254,-4430,12733,1865,-331,1441,5022],0,257,4e3],"fujifilm x-e1":[[10413,-3996,-993,-3721,11640,2361,-733,1540,6011],2,255,4094],"fujifilm x20":[[11768,-4971,-1133,-4904,12927,2183,-480,1723,4605],3,257,4094],"fujifilm x30":[[12328,-5256,-1144,-4469,12927,1675,-87,1291,4351],3,257,4094],"fujifilm x100f":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1024,16383],"fujifilm x100s":[[10592,-4262,-1008,-3514,11355,2465,-870,2025,6386],1,1024,16383],"fujifilm x100t":[[10592,-4262,-1008,-3514,11355,2465,-870,2025,6386],1,1024,16383],"fujifilm x-h1":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1024,16383],"fujifilm x-m1":[[10413,-3996,-993,-3721,11640,2361,-733,1540,6011],2,256,4094],"fujifilm x-a1":[[11086,-4555,-839,-3512,11310,2517,-815,1341,5940],1,256,4094],"fujifilm x-a2":[[10763,-4560,-917,-3346,11311,2322,-475,1135,5843],1,256,4094],"fujifilm x-a3":[[12407,-5222,-1086,-2971,11116,2120,-294,1029,5284],1,1024,16383],"fujifilm x-a5":[[11673,-4760,-1041,-3988,12058,2166,-771,1417,5569],1,1024,16383],"fujifilm xq1":[[9252,-2704,-1064,-5893,14265,1717,-1101,2341,4349],3,257,4094],"fujifilm xq2":[[9252,-2704,-1064,-5893,14265,1717,-1101,2341,4349],3,257,4094],"fujifilm x-e2":[[8458,-2451,-855,-4597,12447,2407,-1475,2482,6526],1,1024,16383],"fujifilm x-e3":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1023,16383],"fujifilm x-e2s":[[11562,-5118,-961,-3022,11007,2311,-525,1569,6097],1,1024,16383],"fujifilm x-t1":[[8458,-2451,-855,-4597,12447,2407,-1475,2482,6526],1,1024,16383],"fujifilm x-t2":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1024,16383],"fujifilm x-t3":[[16393,-7740,-1436,-4238,12131,2371,-633,1424,6553],2,1022,16383],"fujifilm x-t10":[[8458,-2451,-855,-4597,12447,2407,-1475,2482,6526],1,1024,16383],"fujifilm x-t20":[[10592,-4262,-1008,-3514,11355,2465,-870,2025,6386],1,1024,16383],"fujifilm x-t30":[[16393,-7740,-1436,-4238,12131,2371,-633,1424,6553],2,1022,16383],"fujifilm x-t100":[[11673,-4760,-1041,-3988,12058,2166,-771,1417,5569],1,1024,16383],"minolta dimage a1":[[9274,-2547,-1167,-8220,16323,1943,-2273,2720,8340],1,0,3965],"minolta dimage 5":[[8983,-2942,-963,-6556,14476,2237,-2426,2887,8014],1,0,3965],"minolta dimage 7":[[9144,-2777,-998,-6676,14556,2281,-2470,3019,7744],1,0,3965],"minolta dimage 7i":[[10880,-3638,-1186,-6496,14313,2364,-2456,3092,7485],1,0,3965],"minolta dimage 7hi":[[11368,-3894,-1242,-6521,14358,2339,-2475,3056,7285],1,0,3965],"sony dsc-f828":[[7924,-1910,-777,-8226,15459,2998,-1517,2199,6818,-7242,11401,3481],0,495,16383],"sony dsc-hx99":[[13076,-5686,-1481,-4027,12851,1251,-167,725,4937],1,800,16300],"sony dsc-r1":[[8512,-2641,-694,-8042,15670,2526,-1821,2117,7414],2,511,16383],"mamiya zd":[[7645,2579,-1363,-8689,16717,2015,-3712,5941,5961],1,0,4e3],"leaf aptus 22":[[8236,1746,-1314,-8251,15953,2428,-3673,5786,5771],1,0,16191],"leaf credo 40":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,16383],"leaf credo 60":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,16383],"leaf credo 80":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,16383],"leaf aptus-ii 5":[[1846,7955,-1222,-12994,19563,3596,-2035,3340,5136],2,0,15e3],"phase one p30":[[4516,-245,-37,-7020,14976,2173,-3206,4671,7087],2,0,16383],"phase one p65+":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,16383],"phase one iq140":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,65535],"phase one iq250":[[3984,0,0,0,1e4,0,0,0,7666],1,1024,65535],"kodak dcs pro slr/n":[[5494,2393,-232,-6427,13850,2846,-1876,3997,5445],2,0,4095],"kodak dcs pro 14n":[[5494,2393,-232,-6427,13850,2846,-1876,3997,5445],2,0,3700],"kodak dcs pro 14nx":[[5494,2393,-232,-6427,13850,2846,-1876,3997,5445],2,0,3700],"kodak dcs460":[[10592,-2206,-967,-1944,11685,230,2206,670,1273],2,7,6664],"kodak dcs520c":[[24542,-10860,-3401,-1490,11370,-297,2858,-605,3225],2,176,4095],"kodak dcs560c":[[20482,-7172,-3125,-1033,10410,-285,2542,226,3136],2,208,4095],"kodak dcs760c":[[16623,-6309,-1411,-4344,13923,323,2285,274,2926],2,0,3500],"kodak p880":[[12805,-4662,-1376,-7480,15267,2360,-1626,2194,7904],0,0,4095],"kodak easyshare z980 digital camera":[[11313,-3559,-1101,-3893,11891,2257,-1214,2398,4908],1,0,4095],"kodak z1015 is":[[11265,-4286,-992,-4694,12343,2647,-1090,1523,5447],0,0,4095],"epson r-d1":[[6827,-1878,-732,-8429,16012,2564,-704,592,7145],1,63,4095],"hasselblad cfv-50":[[5656,-659,-346,-3923,12306,1791,-1602,3509,5442],1,256,65535],"hasselblad h3d":[[3857,452,-46,-6008,14477,1596,-2627,4481,5718],1,0,31456],"hasselblad h5d-40":[[6159,-1402,-177,-5439,12762,3007,-955,2200,7104],1,256,62914],"hasselblad h5d-50c":[[4932,-835,141,-4878,11868,3437,-1138,1961,7067],1,256,62914],"canon powershot a610":[[15591,-6402,-1592,-5365,13198,2168,-1300,1824,5075],1,0,1023,2672,1968],"canon powershot s3 is":[[14062,-5199,-1446,-4712,12470,2243,-1286,2028,4836],1,0,1023,2888,2136],"canon powershot a620":[[15265,-6193,-1558,-4125,12116,2010,-888,1639,5220],1,0,1023,3152,2340],"canon powershot a720 is":[[14573,-5482,-1546,-1266,9799,1468,-1040,1912,3810],3,0,1023,3336,2480],"canon powershot a630":[[14201,-5308,-1757,-6087,14472,1617,-2191,3105,5348],1,0,1023,3344,2484],"canon powershot a640":[[13124,-5329,-1390,-3602,11658,1944,-1612,2863,4885],1,0,1023,3736,2772],"canon powershot a650":[[9427,-3036,-959,-2581,10671,1911,-1039,1982,4430],1,0,1023,4104,3048],"canon powershot sx110 is":[[14134,-5576,-1527,-1991,10719,1273,-1158,1929,3581],1,0,4095,3720,2772],"gitup git2":[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],1,3200,65535,4608,3456],"gitup git2p":[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],1,4160,65535,4624,3488],"paralenz dive camera":[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],1,1024,16383,3840,2160],"sjcam sj6 legend":[[9489,-3814,-225,-6650,13742,3236,-627,797,7550],1,0,4095,4024,3036]};
x.Wa={};x.Wa.Wa=function(b,X,q){var N=b.n,J=b.z,_=1/N,p=N*J,z=Date.now(),g=!1;if(g)console.log("expand known",Date.now()-z);
z=Date.now();var W=x.Wa.el(q,N,J,255),o=x.Wa.el(q,N,J,0),y=function(nF,nP){var ni=nF<<2,nw=nP<<2;return X[ni]+X[ni+1]+X[ni+2]-(X[nw]+X[nw+1]+X[nw+2])};
W.sort(y);o.sort(y);var D=x.K(p),m=x.K(p),k=[],O=new Uint32Array(N*J);x.Ws(O,4294967295);for(var L=0;
L<p;L++)if(q[L]==0)m[L]=255;else if(q[L]==255)D[L]=255;else{O[L]=k.length;k.push(L)}if(g)console.log("Unknown:",k.length,W.length,o.length);
if(g)console.log(Date.now()-z);z=Date.now();var I=x.style.rH(D,N,J),H=x.style.rH(m,N,J),Y=new Float32Array(k.length),n=new Float32Array(k.length),w=new Uint32Array(k.length),t=new Uint32Array(k.length),j=new Float32Array(k.length);
if(g)console.log("D trf",Date.now()-z);z=Date.now();for(var L=0;L<k.length;L++){var E=k[L],h=~~(E*_),u=E-h*N,Z=I[E<<1],A=I[(E<<1)+1];
Y[L]=1/Math.sqrt(Z*Z+A*A);var P=H[E<<1],T=H[(E<<1)+1];n[L]=1/Math.sqrt(P*P+T*T);var U=Math.floor(Math.random()*W.length),r=Math.floor(Math.random()*o.length);
w[L]=U;t[L]=r;j[L]=x.Wa.tL(E,W[U],o[r],N,_,X,Y[L],n[L],1e9)}var i=[-N,-1,1,N],V=x.Wa.tL;for(var F=0;
F<10;F++){var B=Math.pow(.5,F);for(var L=0;L<k.length;L++){var E=k[L],h=~~(E*_),u=E-h*N,$=Y[L],l=n[L],v=j[L],U=w[L],r=t[L],nn=1;
for(var C=0;C<4;C++){if(C==0&&h==0||C==1&&u==0||C==2&&u==N-1||C==3&&h==J-1)continue;var f=O[E+i[C]];
if(f==4294967295)continue;var nx=w[f],nA=t[f];if(nx==U&&nA==r)continue;var nU=V(E,W[nx],o[nA],N,_,X,$,l,v);
if(nU<v){v=nU;U=nx;r=nA}}for(var nH=0;nH<1;nH++){var d=~~(W.length*nn),np=~~(o.length*nn);nn*=.5;var a=Math.max(0,U-d),nb=Math.min(U+d,W.length-1),nK=Math.max(0,r-np),nq=Math.min(r+np,o.length-1),nS=a+~~(Math.random()*(nb-a)),nB=nK+~~(Math.random()*(nq-nK)),nU=V(E,W[nS],o[nB],N,_,X,$,l,v);
if(nU<v){v=nU;U=nS;r=nB}}j[L]=v;w[L]=U;t[L]=r}}if(g)console.log(Date.now()-z);z=Date.now();var nE=q.slice(0);
for(var L=0;L<k.length;L++)nE[k[L]]=~~(.5+255*x.Wa.alpha(k[L],W[w[L]],o[t[L]],X));nE=x.eO.xWx(nE,X,new R(0,0,N,J),16,.01*.01);
if(g)console.log("guided filter",Date.now()-z);z=Date.now();for(var L=0;L<p;L++)if(q[L]==255||q[L]==0)nE[L]=q[L];
var nh=X.slice(0);for(var L=0;L<k.length;L++){var nv=k[L],U=W[w[L]],v=j[L],nC=nv<<2,nR=nE[nv],nu=(nR>=250?nv:U)<<2;
nh[nC]=X[nu];nh[nC+1]=X[nu+1];nh[nC+2]=X[nu+2]}x.qR(nE,nh,3);if(g)console.log(Date.now()-z);z=Date.now();
return nh};x.Wa.tL=function(b,X,q,N,J,_,p,z,g){var W=~~(b*J),o=b-W*N,y=~~(X*J),D=X-y*N,m=~~(q*J),k=q-m*N,O=Math.sqrt((o-D)*(o-D)+(W-y)*(W-y))*p,L=Math.sqrt((o-k)*(o-k)+(W-m)*(W-m))*z,P=0;
if(O+L>=g)return 1e9;var I=b<<2,H=X<<2,Y=q<<2,n=_[I],w=_[I+1],t=_[I+2],j=_[H],E=_[H+1],h=_[H+2],u=_[Y],Z=_[Y+1],A=_[Y+2];
if(j!=u||E!=Z||h!=A){var T=j-u,U=E-Z,r=h-A,i=n-u,V=w-Z,F=t-A,B=(i*T+V*U+F*r)/(T*T+U*U+r*r);B=Math.max(0,Math.min(1,B));
var $=n-(B*j+(1-B)*u),l=w-(B*E+(1-B)*Z),v=t-(B*h+(1-B)*A);P=Math.sqrt($*$+l*l+v*v)}return P+O+L};x.Wa.alpha=function(b,X,q,N){var J=b<<2,_=X<<2,p=q<<2,z=N[J],g=N[J+1],W=N[J+2],o=N[_],y=N[_+1],D=N[_+2],m=N[p],k=N[p+1],O=N[p+2];
if(o==m&&y==k&&D==O)return 1;var L=o-m,I=y-k,H=D-O,Y=z-m,n=g-k,w=W-O,t=(Y*L+n*I+w*H)/(L*L+I*I+H*H);return Math.max(0,Math.min(1,t))};
x.Wa.xaB=function(b){};x.Wa.el=function(b,X,q,N){var J=[];for(var _=0;_<q;_++)for(var p=0;p<X;p++){var z=_*X+p;
if(b[z]==N&&(_!=0&&b[z-X]!=N&&b[z-X]!=255-N||_>1&&b[z-X-X]!=N&&b[z-X-X]!=255-N||_!=q-1&&b[z+X]!=N&&b[z+X]!=255-N||_<q-2&&b[z+X+X]!=N&&b[z+X+X]!=255-N||p!=0&&b[z-1]!=N&&b[z-1]!=255-N||p>1&&b[z-1-1]!=N&&b[z-1-1]!=255-N||p!=X-1&&b[z+1]!=N&&b[z+1]!=255-N||p<X-2&&b[z+1+1]!=N&&b[z+1+1]!=255-N))J.push(z)}return J};
x.Wa.xaM=function(b,X,q,N){var J=b.slice(0),_=Math.round((q+N)/400);for(var p=0;p<N;p++)for(var z=0;
z<q;z++){var g=p*q+z;if(b[g]==0||b[g]==255)continue;var W=X[g<<2],o=X[(g<<2)+1],y=X[(g<<2)+2],D=Math.max(0,z-_),m=Math.min(z+_+1,q),k=Math.max(0,p-_),O=Math.min(p+_+1,N);
for(var L=k;L<O;L++)for(var I=D;I<m;I++){var H=L*q+I;if(b[H]==0||b[H]==255){var Y=X[H<<2]-W,n=X[(H<<2)+1]-o,w=X[(H<<2)+2]-y;
if(Y*Y+n*n+w*w<15){J[g]=b[H];L=O;break}}}}return J};x.eO={};x.eO.xai=function(b,X,q,N,J){var _=q.n,p=q.z,z=_*p,g=x.eO.eW,W=x.K(z*4),o;
x.Ws(W,4294967295);var y=q,D=b,m=X,k=N;x.qR(b,W,0);o=x.HD(W,q);o=x.HD(o.Dl,o.rect);y=o.rect;k=N>>>2;
console.log(y,k);D=x.K(y.c());x.iJ(o.Dl,D,0);x.qR(X,W,0);o=x.HD(W,q);o=x.HD(o.Dl,o.rect);m=x.K(y.c());
x.iJ(o.Dl,m,0);var O=x.eO.xle(D,m,y,k,J),L=O[0],I=O[1],H=new R(0,0,y.n*2,y.z*2);L=g(L,y,H,!0);L=g(L,H,q,!0);
I=g(I,y,H,!0);I=g(I,H,q,!0);var Y=x.K(z);for(var n=0;n<z;n++)Y[n]=Math.max(0,Math.min(255,Math.floor(.5+(L[n]*X[n]+255*I[n]))));
return Y};x.eO.eW=function(b,X,q,N){var J=q.n,_=q.z,p=X.n,z=X.z,g=x.eO.wC,W=new Float32Array(J*_);for(var o=0;
o<z;o++){var y=(o+o)*J;for(var D=0;D<p;D++){if(!0||D==0||o==0||D==p-1||o==z-1)W[y]=W[y+1]=W[y+J]=W[y+J+1]=b[o*p+D];
else{W[y]=g(D+.25,o+.25,b,p,z);W[y+1]=g(D+.75,o+.25,b,p,z);W[y+J]=g(D+.25,o+.75,b,p,z);W[y+J+1]=g(D+.75,o+.75,b,p,z)}y+=2}}return W};
x.eO.wC=function(b,X,q,N,J){b-=.499999;X-=.499999;var _=Math.floor(b),p=Math.floor(X),z=p*N+_,g=b-_,W=X-p,o=(1-W)*(1-g),y=(1-W)*g,D=W*(1-g),m=W*g;
if(q[z]==null||q[z+N+1]==null){console.log(b,X,N,J);throw"e"}return o*q[z+0]+y*q[z+1]+D*q[z+N+0]+m*q[z+N+1]};
x.eO.xle=function(b,X,q,N,J){var _=q.n,p=q.z,z=_*p,g=x.eO.eu,W=x.eO.K,o=x.blur.Kw,y=x.eO.rf,X=g(X),b=g(b),D=W(z);
o(X,D,q,N);var m=W(z);o(b,m,q,N);var k=W(z);y(X,X,k);o(k,k,q,N);var O=W(z);y(X,b,O);o(O,O,q,N);var L=W(z),I=W(z);
for(var H=0;H<z;H++){var Y=D[H],n=m[H],w=k[H]-Y*Y,t=O[H]-Y*n,j=t/(w+J),E=n-j*Y;L[H]=j;I[H]=E}var h=W(z);
o(L,h,q,N);var u=W(z);o(I,u,q,N);return[h,u]};x.eO.xWx=function(b,X,q,N,J){var _=q.n,p=q.z,z=_*p,g=x.eO.eW,W=Date.now(),o=!1,y=q,D=b,m=X,k=N;
y=new R(0,0,_>>>2,p>>>2);k=N>>>2;D=x.eO.xWr(b,_,p);m=x.eO.xWH(X,_,p);if(o)console.log(Date.now()-W);
W=Date.now();var O=x.eO.xWw(D,m,y,k,J),L=O[0],I=O[1],H=O[2],Y=O[3];if(o)console.log(Date.now()-W);W=Date.now();
var n=x.K(z);for(var w=0;w<p;w++)for(var t=0;t<_;t++){var j=w*_+t,E=(w>>>2)*(_>>>2)+(t>>>2),h=j<<2,u=L[E]*X[h]+I[E]*X[h+1]+H[E]*X[h+2]+Y[E]*255;
n[j]=Math.max(0,Math.min(255,~~(.5+u)))}if(o)console.log(Date.now()-W);W=Date.now();return n};x.eO.xWr=function(b,X,q){var N=X>>>2,J=q>>>2,_=x.K(X*q);
for(var p=0;p<J;p++)for(var z=0;z<N;z++)_[p*N+z]=b[p*X+z<<2];return _};x.eO.xWH=function(b,X,q){var N=X>>>2,J=q>>>2,_=x.K(X*q*4);
for(var p=0;p<J;p++)for(var z=0;z<N;z++){var g=p*N+z<<2,W=p*X+z<<4;_[g]=b[W];_[g+1]=b[W+1];_[g+2]=b[W+2];
_[g+3]=b[W+3]}return _};x.eO.xWw=function(b,X,q,N,J){var _=q.n,p=q.z,z=_*p,g=x.eO.eu,W=x.eO.K,o=x.blur.Kw,y=x.eO.rf,b=g(b),D=new x.Sm(_*p);
x.KY(X,D);var X=[g(D.D),g(D.q),g(D.b)],m=x.eO.xWa(b,X,q,N,J),k=W(z);o(b,k,q,N);var O=W(z);y(X[0],b,O);
o(O,O,q,N);var L=W(z);y(X[1],b,L);o(L,L,q,N);var I=W(z);y(X[2],b,I);o(I,I,q,N);var H=W(z),Y=W(z),n=W(z),w=W(z);
for(var t=0;t<z;t++){var j=k[t],E=m.LY[t],h=m.LO[t],u=m.LD[t],Z=O[t]-E*j,A=L[t]-h*j,P=I[t]-u*j;H[t]=m.xrO[t]*Z+m.Lc[t]*A+m.IU[t]*P;
Y[t]=m.Lc[t]*Z+m.xBd[t]*A+m.Ir[t]*P;n[t]=m.IU[t]*Z+m.Ir[t]*A+m.xqH[t]*P;w[t]=j-H[t]*E-Y[t]*h-n[t]*u}o(H,H,q,N);
o(Y,Y,q,N);o(n,n,q,N);o(w,w,q,N);return[H,Y,n,w]};x.eO.xWa=function(b,X,q,N,J){var _=q.n,p=q.z,z=_*p,g=x.eO.K,W=x.blur.Kw,o=x.eO.rf,y={};
y.LY=g(z);W(X[0],y.LY,q,N);y.LO=g(z);W(X[1],y.LO,q,N);y.LD=g(z);W(X[2],y.LD,q,N);var D=g(z);o(X[0],X[0],D);
W(D,D,q,N);var m=g(z);o(X[0],X[1],m);W(m,m,q,N);var k=g(z);o(X[0],X[2],k);W(k,k,q,N);var O=g(z);o(X[1],X[1],O);
W(O,O,q,N);var L=g(z);o(X[1],X[2],L);W(L,L,q,N);var I=g(z);o(X[2],X[2],I);W(I,I,q,N);y.xrO=D;y.Lc=m;
y.IU=k;y.xBd=O;y.Ir=L;y.xqH=I;for(var H=0;H<z;H++){var Y=y.LY[H],n=y.LO[H],w=y.LD[H],t=D[H]-Y*Y+J,j=m[H]-Y*n,E=k[H]-Y*w,h=O[H]-n*n+J,u=L[H]-n*w,Z=I[H]-w*w+J,A=h*Z-u*u,P=u*E-j*Z,T=j*u-h*E,U=t*Z-E*E,r=E*j-t*u,i=t*h-j*j,V=A*t+P*j+T*E,F=1/V;
y.xrO[H]=A*F;y.Lc[H]=P*F;y.IU[H]=T*F;y.xBd[H]=U*F;y.Ir[H]=r*F;y.xqH[H]=i*F}return y};x.eO.K=function(b){return new Float32Array(b)};
x.eO.eu=function(b){var X=b.length,q=new Float32Array(X);for(var N=0;N<X;N++)q[N]=b[N]*(1/255);return q};
x.eO.rf=function(b,X,q){for(var N=0;N<b.length;N++)q[N]=b[N]*X[N]};x.Gt={};x.Gt.rk=function(b,X,q,N){var J=b[X]-q[N],_=b[X+1]-q[N+1],p=b[X+2]-q[N+2];
return Math.sqrt(J*J+_*_+p*p)*(1/441.7)};x.Gt.getSelection=function(b,X,q){var N=X*q,J=x.K(N),_=!1,p=Math.round(q*.7),z=1,g=new Uint32Array(12),W=x.K(12);
for(var o=0;o<p;o++)for(var y=0;y<X;y++){if(y<z||o<z||y>X-z-1||o>q-z-1){var D=o*X+y,m=D<<2,k=0;if(o<z)k=4;
else if(y>X-z-1)k=8;g[k]+=b[m];g[k+1]+=b[m+1];g[k+2]+=b[m+2];g[k+3]++;J[D]=255}}for(var D=0;D<12;D+=4)for(var O=0;
O<3;O++)W[D+O]=g[D+O]/g[D+3];var L=new Float32Array(N);for(var D=0;D<N;D++){var m=D*4,I=x.Gt.rk(b,m,W,0),H=x.Gt.rk(b,m,W,4),Y=x.Gt.rk(b,m,W,8),n=Math.max(I,Math.max(H,Y));
L[D]=I+H+Y-n}x.Gt.rV(L);var w=Date.now(),t=new Float32Array(N),j=[],E=x.K(N);for(var D=0;D<3;D++){x.iJ(b,E,D);
var h=new Uint16Array(N);j.push(h);x.Gt.xWM(E,J,X,q,h)}if(_)console.log("MBD",Date.now()-w);w=Date.now();
for(var D=0;D<N;D++)t[D]=j[0][D]+j[1][D]+j[2][D];x.Gt.rV(t);for(var D=0;D<N;D++)t[D]+=.4*L[D];var u=X>>>1,p=q>>>1,Z=1/Math.sqrt(u*u+p*p);
for(var o=0;o<q;o++)for(var y=0;y<X;y++){var A=y-u,P=o-p,T=1-Math.sqrt(A*A+P*P)*Z;t[o*X+y]*=T}if(_)console.log("Centeredness",Date.now()-w);
w=Date.now();for(var D=0;D<N;D++)J[D]=t[D]*255;var U=Math.round(X/120),r=Math.round(U*.8);if(_)console.log(U,r);
x.vh.EN(J,E,X,q,U,x.vh.s$,[]);J.set(E);if(_)console.log("erosion",Date.now()-w);w=Date.now();for(var D=0;
D<N;D++)t[D]=J[D];x.Gt.rV(t);var i=x.K(256);for(var D=0;D<256;D++)i[D]=256/(1+Math.exp(-20*(D/255-.5)));
for(var D=0;D<N;D++){var V=~~(t[D]*255+.5);J[D]=i[V]}if(_)console.log("Simoid",Date.now()-w);w=Date.now();
return J};x.Gt.rV=function(b){var X=b.length,q=0;for(var N=0;N<X;N++)q=Math.max(q,b[N]);var J=1/q;for(var N=0;
N<X;N++)b[N]=b[N]*J};x.Gt.xWM=function(b,X,q,N,J){var _=q*N,p=b.slice(0),z=b.slice(0);for(var g=0;g<_;
g++)J[g]=X[g]==255?0:65535;x.Gt.eY(b,z,p,J,q,N);x.Gt.eI(b,z,p,J,q,N);x.Gt.eY(b,z,p,J,q,N);x.Gt.eI(b,z,p,J,q,N);
return J};x.Gt.eY=function(b,X,q,N,J,_){for(var p=1;p<J;p++)x.Gt.an(p,-1,b,X,q,N);for(var z=1;z<_;z++){x.Gt.an(z*J,-J,b,X,q,N);
for(var p=1;p<J;p++){var g=z*J+p;x.Gt.an(g,-1,b,X,q,N);x.Gt.an(g,-J,b,X,q,N)}}};x.Gt.eI=function(b,X,q,N,J,_){for(var p=J-2;
p>=0;p--)x.Gt.an(J*_-J+p,1,b,X,q,N);for(var z=_-2;z>=0;z--){x.Gt.an(z*J+J-1,J,b,X,q,N);for(var p=J-2;
p>=0;p--){var g=z*J+p;x.Gt.an(g,1,b,X,q,N);x.Gt.an(g,J,b,X,q,N)}}};x.Gt.an=function(b,X,q,N,J,_){var p=b+X,z=q[b],g=N[p],W=J[p];
if(g<z)g=z;else if(z<W)W=z;var o=g-W;if(_[p]!=65535&&o<_[b]){_[b]=o;N[b]=g;J[b]=W}};x.OB={};x.OB.xWd=function(b,X,q,N,J){var _=x.OB.eT(b.buffer,X,q).BF,p=Date.now(),z=new Uint32Array(_.length);
for(var g=0;g<_.length;g++)z[g]=_[g].Yb;var W=UPNG.quantize.getKDtree(new Uint8Array(z.buffer),N),o=[X,1,-X,-1,X+1,-X+1,-X-1,X-1,X+X,2,-X-X,-2,X+X-1,X+X+1,X+2,-X+2,-X-X+1,-X-X-1,-X-2,X-2,X+X+2,-X-X+2-X-X-2,X+X-2],y=new Uint8Array(X*q),D=b;
for(var m=0;m<q;m++)for(var k=0;k<X;k++){var g=m*X+k<<2,O=D[g]*(1/255),L=D[g+1]*(1/255),I=D[g+2]*(1/255),H=D[g+3]*(1/255),Y=x.OB.Lp(W,O,L,I,H,J);
if(Y==null){var n=[],w=0;while(w<20){var j=m*X+k+o[w]<<2,E=D[j]*(1/255),h=D[j+1]*(1/255),u=D[j+2]*(1/255),Z=D[j+3]*(1/255),P=x.OB.Lp(W,E,h,u,Z,.005);
if(P!=null){if(n.indexOf(P)==-1){n.push(P);P.hi=1}else P.hi++}w++}n.sort(function(H,I){return I.hi-H.hi});
while(n.length!=0&&n[n.length-1].hi<3)n.pop();if(n.length==0)Y=x.OB.Lp(W,O,L,I,H,100);else if(n.length==1)Y=n[0];
else if(n.length==2){var T=n[0],U=n[1],r=T.est.q,i=U.est.q,V=i[0]-r[0],F=i[1]-r[1],B=i[2]-r[2],$=i[3]-r[3],l=O-r[0],v=L-r[1],C=I-r[2],f=H-r[3],nx=V*V+F*F+B*B+$*$,nA=l*l+v*v+C*C+f*f,nU=(l*V+v*F+C*B+f*$)/nx,nn=nA-nU*nU*nx;
if(nn<.5)Y=nU<.5?T:U;else{Y=x.OB.Lp(W,O,L,I,H,100)}}else{var T=n[0],U=n[1],nH=n[2],r=T.est.q,i=U.est.q,d=nH.est.q,np=r[0]-d[0],a=r[1]-d[1],nb=r[2]-d[2],nK=r[3]-d[3],nq=i[0]-d[0],nS=i[1]-d[1],nB=i[2]-d[2],nE=i[3]-d[3],nh=d[0]-O,nv=d[1]-L,nC=d[2]-I,nR=d[3]-H,nu=np*np+a*a+nb*nb+nK*nK,nF=np*nq+a*nS+nb*nB+nK*nE,nP=nh*np+nv*a+nC*nb+nR*nK,ni=np*nq+a*nS+nb*nB+nK*nE,nw=nq*nq+nS*nS+nB*nB+nE*nE,nO=nh*nq+nv*nS+nC*nB+nR*nE,nT=1/(nF*ni-nu*nw),nU=(nw*nP-nO*nF)*nT,nI=(nO*nu-nP*ni)*nT,gu=1-nU-nI,nN=Math.max(nU,nI,gu);
if(nN==nU)Y=T;else if(nN==nI)Y=U;else Y=nH}}y[g>>2]=Y.ind}return{Bl:y,BF:W[1]}};x.OB.eT=function(b,X,q){var N=[],J={},_=X-1,p=q-1,z=0,g=new Uint32Array(b),W=[-X-1,-X,-X+1,-1,1,X-1,X,X+1,X+X,2,-X-X,-2,X+X-1,X+X+1,X+2,-X+2,-X-X+1,-X-X-1,-X-2,X-2,X+X+2,-X-X+2-X-X-2,X+X-2];
for(var o=1;o<p;o++)for(var y=1;y<_;y++){var D=o*X+y,m=g[D],k=!0;for(var O=0;O<8;O++)k=k&&g[D+W[O]]==m;
if(k){z++;var L=J[m];if(L==null){J[m]=N.length;N.push({Yb:m,FK:1})}else N[L].FK++}}return{BF:N,xMO:z}};
x.OB.Lp=function(b,X,q,N,J,_){var p=UPNG.quantize.getNearest(b[0],X,q,N,J);return x.OB.xWz(p,X,q,N,J)<_?p:null};
x.OB.xWz=function(b,X,q,N,J){var _=b.est.q,p=X-_[0],z=q-_[1],g=N-_[2],W=J-_[3];return p*p+z*z+g*g+W*W};
x.OB.xaC=function(b,X,q,N){var J=x.OB.xWO(b,X,q,N),_=J.Bl,p=J.BF,z=J.xMV,g=UPNG.quantize.getKDtree(new Uint8Array(z.buffer.slice(0)),200),W=[];
for(var o=0;o<p.length;o++){var y=p[o].JO,D=y[0],m=y[1],k=y[2],O=y[3];if(Math.min(D,m,k,O)<0)throw"e";
var L=UPNG.quantize.getNearest(g[0],D/255,m/255,k/255,O/255);W.push(g[1].indexOf(L))}for(var o=0;o<X*q;
o++)_[o]=W[_[o]];return{Bl:_,BF:g[1]}};x.OB.xWO=function(b,X,q,N){var J=X*q,_=2*J,p=x.OB.xWs(b,X,q),z=65535+1,g=new Uint32Array(z),y=0;
for(var W=0;W<_;W++)g[p[W]]++;var o=new Uint32Array(z);for(var W=0;W<z;W++){o[W]=y;y+=g[W]}var D=new Uint32Array(_);
for(var W=0;W<_;W++){var m=p[W];D[o[m]]=W;o[m]++}var k=new UnionFind(J),O=new Uint16Array(J),L=new Uint32Array(J);
for(var W=0;W<J;W++)L[W]=1;var I=J,H=1e5/(N*10);for(var Y=0;Y<_;Y++){var n=D[Y],w=p[n];if(w==65535)continue;
var W=n>>1,t=W+((n&1)==0?1:X),j=k.find(W),E=k.find(t),h=Math.min(O[j]+H/Math.sqrt(L[j]),O[E]+H/Math.sqrt(L[E]));
if(j!=E&&w<=h){k.link(W,t);I--;var u=k.find(W);L[u]=L[j]+L[E];O[u]=w}}var Z=[],A={},P=new Uint16Array(J);
for(var W=0;W<J;W++){var u=k.find(W),T=A[u];if(T==null){A[u]=T=Z.length;Z.push({FK:0,JO:[0,0,0,0]})}Z[T].FK++;
for(var t=0;t<4;t++)Z[T].JO[t]+=b[(W<<2)+t];P[W]=T}var U=new Uint32Array(Z.length);for(var W=0;W<Z.length;
W++){var T=Z[W];for(var t=0;t<4;t++)T.JO[t]=Math.round(T.JO[t]/T.FK);U[W]=T.JO[3]<<24|T.JO[2]<<16|T.JO[1]<<8|T.JO[0]}return{Bl:P,BF:Z,xMV:U}};
x.OB.xWs=function(b,X,q){var N=new Uint16Array(X*q*2);for(var J=0;J<q;J++)for(var _=0;_<X;_++){var p=J*X+_;
N[p+p]=_<X-1?x.OB.eN(b,p,p+1):65535;N[p+p+1]=J<q-1?x.OB.eN(b,p,p+X):65535}return N};x.OB.eN=function(b,X,q){var N=X<<2,J=q<<2,_=b[N],p=b[N+1],z=b[N+2],g=b[N+3],W=b[J],o=b[J+1],y=b[J+2],D=b[J+3],m=_-W,k=p-o,O=z-y,L=g-D;
return m*m+k*k+O*O+L*L>>2};x.OB.ej=function(){function b(I,H,Y,n,w,t){var j=[],E=t,h=t,u=t>>>2;for(var Z=0;
Z<w;Z++)for(var A=0;A<n;A++){var P=~~((A+.5)*E),T=~~((Z+.5)*h),U=1e9,r=Math.max(0,P-u),i=Math.min(H,P+u+1),V=Math.max(0,T-u),F=Math.min(Y,T+u+1);
for(var B=V;B<F;B++)for(var $=r;$<i;$++){var l=X(I,H,$,B);if(l<U){P=$;T=B;U=l}}var v=(T*H+P)*4;j.push(I[v],I[v+1],I[v+2],P,T)}return j}function X(I,H,Y,n){var w=(n*H+Y)*4,t=H*4,j=q(I,w-4,w)+q(I,w,w+4),E=q(I,w-t,w)+q(I,w,w+t);
return j+E}function q(I,H,Y){var n=I[H]-I[Y],w=I[H+1]-I[Y+1],t=I[H+2]-I[Y+2];return n*n+w*w+t*t}var N=0,J=0;
function _(I,H,Y,n){J++;if(n<N)N=n;I[n].push(H,Y)}function p(I){J--;while(I[N].length==0)N++}function z(I,H,Y){N=0;
J=0;var n=H*Y,w=Math.round(Math.min(H,Y)/50),t=30/w,j=Math.floor(H/w),E=Math.floor(Y/w),h=j*E,U=0,r=16;
if(h>65535)throw"e";var u=new Uint16Array(n);for(var Z=0;Z<n;Z++)u[Z]=65535;var A=b(I,H,Y,j,E,w),P=[];
for(var Z=0;Z<1e3+Y;Z++)P.push([]);var T=[0,1,0,-1,-1,0,1,0],i=Math.min(E,5),V=new Uint32Array(h*6);
for(var F=0;F<E;F+=i){var B=Math.min(F+i+1,E);for(var $=F;$<B;$++)for(var l=0;l<j;l++){var Z=$*j+l,v=Z*5,C=A[v+4]<<16|A[v+3];
_(P,C,Z,A[v+4]>>>r)}var f=Math.min(Y,B*w);if(F+i>=E)f=Y;while(J!=0){p(P);var nx=P[N].pop(),nA=P[N].pop(),nU=nA>>>16,nn=nA&65535,Z=nU*H+nn;
if(u[Z]==65535){var nH=nx*6,d=Z<<2;u[Z]=nx;V[nH]+=I[d];V[nH+1]+=I[d+1];V[nH+2]+=I[d+2];V[nH+3]+=nn;V[nH+4]+=nU;
V[nH+5]++;var np=nU>>>r;if(nU!=f-1&&u[Z+H]==65535)_(P,nU+1<<16|nn,nx,g(I,H,t,nn,nU+1,V,nH)+np);if(nU!=0&&u[Z-H]==65535)_(P,nU-1<<16|nn,nx,g(I,H,t,nn,nU-1,V,nH)+np);
if(nn!=0&&u[Z-1]==65535)_(P,nU<<16|nn-1,nx,g(I,H,t,nn-1,nU,V,nH)+np);if(nn!=H-1&&u[Z+1]==65535)_(P,nU<<16|nn+1,nx,g(I,H,t,nn+1,nU,V,nH)+np)}}if(f!=nU){var a=(F+i)*j;
V.fill(0,a*6,(a+j)*6);for(var nU=(F+i-2)*w;nU<f;nU++)for(var nn=0;nn<H;nn++){var Z=nU*H+nn;if(u[Z]>=a){u[Z]=65535}}}}return{Bl:u,wz:h,hW:V}}x.OB.rT=function(I,H,Y,n,w){var t=I.wz,j=H*Y,E=I.hW,h=I.Bl,u=m(n,h,t,j),Z=new UnionFind(t),V=0;
for(var A=1;A<Y;A++)for(var P=1;P<H;P++){var T=A*H+P,U=h[T],r=0;if((r=h[T-1])!=U&&u[r]==u[U]&&W(E,0,U*6,r*6)<w)Z.link(U,r);
if((r=h[T-H])!=U&&u[r]==u[U]&&W(E,0,U*6,r*6)<w)Z.link(U,r)}var i=new Uint16Array(t);i.fill(65535);var F=new Uint16Array(t);
for(var T=0;T<t;T++){var B=Z.find(T);if(i[B]==65535)i[B]=V++;F[T]=i[B]}var $=new Uint16Array(j);for(var T=0;
T<j;T++)$[T]=F[h[T]];return{Bl:$,wz:V}};x.OB.xHn=function(I,H,Y,n){var w=x.K(Y),t=H.length,j=0;for(var E=0;
E<t&&j!=3;E++){var h=n[E];if(h==0||h==255){var u=H[E],Z=2-(h>>>7);w[u]=j=w[u]|Z}}return j!=3};function g(I,H,Y,n,w,t,j){var E=(w*H+n)*4,h=t[j+5],u=1/h,Z=I[E]*h-t[j],A=I[E+1]*h-t[j+1],P=I[E+2]*h-t[j+2],T=n*h-t[j+3],U=w*h-t[j+4],r=Math.sqrt(Z*Z+A*A+P*P),i=Math.sqrt(T*T+U*U);
return~~((r+Y*i)*u+.5)}function W(I,H,Y,n){var w=1/I[Y+5],t=1/I[n+5],j=I[Y]*w-I[n]*t,E=I[Y+1]*w-I[n+1]*t,h=I[Y+2]*w-I[n+2]*t,u=I[Y+3]*w-I[n+3]*t,Z=I[Y+4]*w-I[n+4]*t,A=Math.sqrt(j*j+E*E+h*h),P=Math.sqrt(u*u+Z*Z);
return~~(A+H*P+.5)}function o(I,H,Y){var n=x.sr(I,new R(0,0,H,Y)),w=n.rect.n,t=n.rect.z,j=z(n.Dl,w,t),E=j.Bl,h=Date.now(),u=new Uint16Array(H*Y);
u.fill(65535);for(var Z=0;Z<t;Z++){for(var A=0;A<w;A++){var P=Z*w+A,T=(Z<<1)*H+(A<<1),U=E[P];if(E[P-w]!=U||E[P-1]!=U||E[P+1]!=U||E[P+w]!=U)U=65535;
u[T]=U;u[T+1]=U;u[T+H]=U;u[T+H+1]=U}}j.Bl=u;return j}function y(I,H){var Y=0,n=I.length;while(Y!=n&&I[Y]!=H)Y+=2;
return Y==n?-1:Y}function D(I,H){if(H==I.length-2){I.pop();I.pop()}else{I[H+1]=I.pop();I[H]=I.pop()}}x.OB.xMZ=function(I,H,Y,n,w){var t=new Uint32Array(w*4400),X=[];
for(var j=0;j<w;j++)X.push([]);for(var E=0;E<Y;E++)for(var h=0;h<H;h++){var j=E*H+h,u=j<<2,Z=n[j],A=0,P=I[u]>>>4,T=I[u+1]>>>4,U=I[u+2]>>>4;
t[Z*4400+(P<<8|T<<4|U)]++;t[Z*4400+4096]++;t[Z*4400+4100+(P<<4|T)]++;t[Z*4400+4360+P]++;if(h!=0&&(A=n[j-1])!=Z&&y(X[Z],A)==-1){X[Z].push(A,0);
X[A].push(Z,0)}if(E!=0&&(A=n[j-H])!=Z&&y(X[Z],A)==-1){X[Z].push(A,0);X[A].push(Z,0)}}for(var j=0;j<w;
j++){var U=X[j];for(var r=0;r<U.length;r+=2)U[r+1]=L(t,j,U[r])}return[t,X]};function m(I,H,Y,n){var w=x.K(Y);
for(var t=0;t<n;t++){var j=I[t];if(j==0||j==255)w[H[t]]=2-(j>>>7)}return w}x.OB.xiP=function(I,H,Y,n,w,t,j){var E=H*Y,h=j[0],X=j[1],u=new UnionFind(n),Z=m(w,I,n,E),A=-1,T=!0,U=0;
for(var P=0;P<n;P++)if(Z[P]==1){if(A==-1)A=P;else u.link(P,A)}if(A==-1){for(var P=0;P<E;P++)t[P]=w[P]==255?255:0;
return}while(T){while(T){T=!1;for(var P=0;P<n;P++){if(Z[P]==0){var r=k(X[P]);if(Z[r]==1){Z[P]=Z[r];T=!0;
u.link(P,r)}}}}T=!0;U=0;while(T){T=!1;for(var P=0;P<n;P++){if(Z[P]==0){var r=k(X[P]);if(Z[r]==0){var i=P*4400,V=r*4400;
for(var F=0;F<4400;F+=2){h[i+F]+=h[V+F];h[i+F+1]+=h[V+F+1]}O(X,h,P,r);U++;Z[r]=3;T=!0;u.link(P,r)}}}}T=U!=0}var B=u.find(A);
for(var P=0;P<n;P++)Z[P]=u.find(P)==B?255:0;for(var P=0;P<E;P++){t[P]=Z[I[P]]}for(var P=0;P<E;P++){var r=w[P];
if(r==0||r==255)t[P]=r}};function k(I){var H=0,Y=0,n=I.length;for(var w=0;w<n;w+=2){var t=I[w+1];if(t>Y){Y=t;
H=w}}return I[H]}function O(X,I,H,Y){var n=X[H],w=X[Y];D(n,y(n,Y));D(w,y(w,H));for(var t=0;t<w.length;
t+=2){var j=w[t],E=X[j];D(E,y(E,Y));if(y(E,H)==-1){E.push(H,0);n.push(j,0)}}for(var t=0;t<n.length;t+=2){var j=n[t],E=X[j],h=L(I,H,j);
n[t+1]=h;E[y(E,H)+1]=h}}function L(I,H,Y){var n=0,w=4096,t=H*4400,j=Y*4400;for(var E=0;E<16;E++){if(I[t+4360+E]==0||I[j+4360+E]==0)continue;
for(var h=0;h<16;h++){var u=E<<4|h;if(I[t+4100+u]==0||I[j+4100+u]==0)continue;var Z=t+(u<<4),A=j+(u<<4);
for(var P=0;P<16;P++)n+=Math.sqrt(I[Z+P]*I[A+P])}}var T=n/Math.sqrt(I[t+w]*I[j+w]);return~~(999.99999*T)}return z}();
var xc=function(){function b(){this.c=0;this.aM=0;this.dT={};this.uD=[];this.f$=1e5;this.mg=1e5;this.mn=-1;
this.mb=-1;this.color=0}function X(J){this.gk=J;this.vH=new Array(J);this.Yb=new Array(J*6);this.xpH=0;
this.qX=new Array(J*2);this.alpha=new Array(J);this.mK=new Array(J);this.mB=new Array(J)}function q(J,_,p,z){function g(I,H,J,_){return J[_*H+I]}function W(L){var h=J.length;
while(L<h&&J[L]==0)L++;return L<h?L:-1}function o(I,H,h){for(var L=2;L<5;L++){var u=0;for(var Z=-L+1;
Z<=L-1;Z++){u+=g(I+Z,H+L-1,J,_)==h?1:-1;u+=g(I+L-1,H+Z-1,J,_)==h?1:-1;u+=g(I+Z-1,H-L,J,_)==h?1:-1;u+=g(I-L,H+Z,J,_)==h?1:-1}if(u>0)return 1;
else if(u<0)return 0}return 0}function y(h,k){var O=new b,I=h,H=k,u=0,Z=1,A;O.color=J[k*_+h];O.sign=g(h,k,J,_)==O.color?"+":"-";
while(1){O.uD.push(I,H);if(I>O.mn)O.mn=I;if(I<O.f$)O.f$=I;if(H>O.mb)O.mb=H;if(H<O.mg)O.mg=H;O.aM++;I+=u;
H+=Z;O.c-=I*Z;if(I==h&&H==k)break;var P=g(I+(u+Z-1>>1),H+(Z-u-1>>1),J,_)==O.color,T=g(I+(u-Z-1>>1),H+(Z+u-1>>1),J,_)==O.color;
if(T&&!P){if(z.hY=="right"||z.hY=="black"&&O.sign=="+"||z.hY=="white"&&O.sign=="-"||z.hY=="majority"&&o(I,H,O.color)||z.hY=="minority"&&!o(I,H,O.color)){A=u;
u=-Z;Z=A}else{A=u;u=Z;Z=-A}}else if(T){A=u;u=-Z;Z=A}else if(!P){A=u;u=Z;Z=-A}}return O}var D=0,m=[];
while(!0){var D=W(D);if(D==-1)break;var k=Math.floor(D/_),O=y(D-k*_,k);for(var L=0;L<O.uD.length-2;L+=2){var I=O.uD[L],H=O.uD[L+1],Y=H*_+I;
if(I==O.uD[L+2]&&H+1==O.uD[L+3]&&J[Y]!=0)xc.fill(Y,J,_,0)}if(O.c>z.xiO)m.push(O)}for(var L=0;L<m.length;
L++)m[L].parent=-1;var n=Date.now();for(var L=1;L<m.length;L++){var w=m[L];for(var j=L-1;j>=0;j--){var E=m[j];
if(w.f$<E.f$||w.mn>E.mn||w.mg<E.mg||w.mb>E.mb)continue;if(!xc.xWy(E.uD,w.uD[0]+.5,w.uD[1]+.5))continue;
w.parent=j;break}}return m}function N(J,_){function p(h,u,Z,A,P){this.x=h;this.y=u;this.gQ=Z;this.gG=A;
this.pr=P}function z(h,u){return(u+h)%u}function g(h,u,Z,A){return h*A-Z*u}function W(h,u,Z,A){return h*Z+u*A}function o(h,u,Z){if(h<=Z)return h<=u&&u<Z;
else return h<=u||u<Z}function y(h,u,Z){var A=0;A+=u*h[0]*u;A+=u*h[1]*Z;A+=u*h[2];A+=Z*h[3]*u;A+=Z*h[4]*Z;
A+=Z*h[5];A+=h[6]*u;A+=h[7]*Z;A+=h[8];return A}function D(h,u,Z){return u+h*(Z-u)}function m(h,u,Z,A){var P=Math.sign(Z-h),T=-Math.sign(A-u);
return P*(Z-h)-T*(A-u)}function k(h,u){return Math.sqrt(h*h+u*u)}function O(h,u,Z,A,P){var T=1-h;return T*T*T*u+3*(T*T*h)*Z+3*(h*h*T)*A+h*h*h*P}function L(h,u,Z,A,P,T,U,r){var i=g(h,u,U,r),V=g(Z,A,U,r),F=g(P,T,U,r),B=i-2*V+F,$=-2*i+2*V,l=i,v=$*$-4*B*l;
if(B==0||v<0)return-1;var C=Math.sqrt(v),f=(-$+C)/(2*B),nx=(-$-C)/(2*B);if(f>=0&&f<=1)return f;else if(nx>=0&&nx<=1)return nx;
else return-1}function I(E){var j,h,u;E.hc=E.uD[0];E.xHL=E.uD[1];E.Iv=[];var Z=E.Iv;Z.push(new p(0,0,0,0,0));
for(j=0;j<E.aM;j++){h=E.uD[j<<1]-E.hc;u=E.uD[(j<<1)+1]-E.xHL;Z.push(new p(Z[j].x+h,Z[j].y+u,Z[j].gQ+h*u,Z[j].gG+h*h,Z[j].pr+u*u))}}function H(E){var h=E.aM,u=E.uD,Z,A=new Array(h),P=new Array(h),T=new Array(4),U,r,i,V,F,B,$,l,v,C,f,j,nx,nA,nU,nn,d,np,a=0;
E.hk=new Array(h);for(j=h-1;j>=0;j--){if(u[j<<1]!=u[a<<1]&&u[(j<<1)+1]!=u[(a<<1)+1])a=j+1;P[j]=a}for(j=h-1;
j>=0;j--){var nb=z(j+1,h)<<1;T[0]=T[1]=T[2]=T[3]=0;Z=(3+3*(u[nb]-u[j<<1])+(u[nb+1]-u[(j<<1)+1]))/2;T[Z]++;
U=0;r=0;i=0;V=0;a=P[j];nA=j;while(1){f=0;Z=(3+3*Math.sign(u[a*2]-u[nA*2])+Math.sign(u[a*2+1]-u[nA*2+1]))/2;
T[Z]++;if(T[0]&&T[1]&&T[2]&&T[3]){A[j]=nA;f=1;break}v=u[a*2]-u[j*2];C=u[a*2+1]-u[j*2+1];if(g(U,r,v,C)<0||g(i,V,v,C)>0){break}if(Math.abs(v)<=1&&Math.abs(C)<=1){}else{F=v+(C>=0&&(C>0||v<0)?1:-1);
B=C+(v<=0&&(v<0||C<0)?1:-1);if(g(U,r,F,B)>=0){U=F;r=B}F=v+(C<=0&&(C<0||v<0)?1:-1);B=C+(v>=0&&(v>0||C<0)?1:-1);
if(g(i,V,F,B)<=0){i=F;V=B}}nA=a;a=P[nA];if(!o(a,j,nA)){break}}if(f==0){$=Math.sign(u[a*2]-u[nA*2]);l=Math.sign(u[a*2+1]-u[nA*2+1]);
v=u[nA*2]-u[j*2];C=u[nA*2+1]-u[j*2+1];nU=g(U,r,v,C);nn=g(U,r,$,l);d=g(i,V,v,C);np=g(i,V,$,l);nx=1e7;
if(nn<0){nx=Math.floor(nU/-nn)}if(np>0){nx=Math.min(nx,Math.floor(-d/np))}A[j]=z(nA+nx,h)}}nx=A[h-1];
E.hk[h-1]=nx;for(j=h-2;j>=0;j--){if(o(j+1,A[j],nx)){nx=A[j]}E.hk[j]=nx}for(j=h-1;o(z(j+1,h),nx,E.hk[j]);
j--){E.hk[j]=nx}}function Y(E){function h(E,j,u){var P=E.aM,v=E.uD,C=E.Iv,f,nx,nA,nU,nn,A,nH,d,l,np,a,nb,nK,nq,nS=0;
if(u>=P){u-=P;nS=1}if(nS==0){f=C[u+1].x-C[j].x;nx=C[u+1].y-C[j].y;nU=C[u+1].gG-C[j].gG;nA=C[u+1].gQ-C[j].gQ;
nn=C[u+1].pr-C[j].pr;A=u+1-j}else{f=C[u+1].x-C[j].x+C[P].x;nx=C[u+1].y-C[j].y+C[P].y;nU=C[u+1].gG-C[j].gG+C[P].gG;
nA=C[u+1].gQ-C[j].gQ+C[P].gQ;nn=C[u+1].pr-C[j].pr+C[P].pr;A=u+1-j+P}a=(v[j<<1]+v[u<<1])/2-v[0];nb=(v[(j<<1)+1]+v[(u<<1)+1])/2-v[1];
nq=v[u<<1]-v[j<<1];nK=-(v[(u<<1)+1]-v[(j<<1)+1]);nH=(nU-2*f*a)/A+a*a;d=(nA-f*nb-nx*a)/A+a*nb;l=(nn-2*nx*nb)/A+nb*nb;
np=nK*nK*nH+2*nK*nq*d+nq*nq*l;return Math.sqrt(np)}var j,u,Z,A,P=E.aM,T=new Array(P+1),U=new Array(P+1),r=new Array(P),i=new Array(P+1),V=new Array(P+1),F=new Array(P+1),B,$,l;
for(j=0;j<P;j++){l=z(E.hk[z(j-1,P)]-1,P);if(l==j){l=z(j+1,P)}if(l<j){r[j]=P}else{r[j]=l}}u=1;for(j=0;
j<P;j++){while(u<=r[j]){i[u]=j;u++}}j=0;for(u=0;j<P;u++){V[u]=j;j=r[j]}V[u]=P;Z=u;j=P;for(u=Z;u>0;u--){F[u]=j;
j=i[j]}F[0]=0;T[0]=0;for(u=1;u<=Z;u++){for(j=F[u];j<=V[u];j++){$=-1;for(A=V[u-1];A>=i[j];A--){B=h(E,A,j)+T[A];
if($<0||B<$){U[j]=A;$=B}}T[j]=$}}E.QP=Z;E.xHt=new Array(Z);for(j=P,u=Z-1;j>0;u--){j=U[j];E.xHt[u]=j}}function n(E){function h(E,j,B,r,i,nB){var A=E.aM,nE=E.Iv,nh=0,l;
while(B>=A){B-=A;nh+=1}while(j>=A){j-=A;nh-=1}while(B<0){B+=A;nh-=1}while(j<0){j+=A;nh+=1}var nv=nE[B+1].x-nE[j].x+nh*nE[A].x,nC=nE[B+1].y-nE[j].y+nh*nE[A].y,nR=nE[B+1].gG-nE[j].gG+nh*nE[A].gG,nu=nE[B+1].gQ-nE[j].gQ+nh*nE[A].gQ,nF=nE[B+1].pr-nE[j].pr+nh*nE[A].pr,$=B+1-j+nh*A;
r[nB]=nv/$;r[nB+1]=nC/$;var nP=(nR-nv*nv/$)/$,ni=(nu-nv*nC/$)/$,nw=(nF-nC*nC/$)/$,nO=(nP+nw+Math.sqrt((nP-nw)*(nP-nw)+4*ni*ni))/2;
nP-=nO;nw-=nO;if(Math.abs(nP)>=Math.abs(nw)){l=Math.sqrt(nP*nP+ni*ni);if(l!=0){i[nB]=-ni/l;i[nB+1]=nP/l}}else{l=Math.sqrt(nw*nw+ni*ni);
if(l!=0){i[nB]=-nw/l;i[nB+1]=ni/l}}if(l==0){i[nB]=i[nB+1]=0}}var u=E.QP,Z=E.xHt,A=E.aM,P=E.uD,T=E.hc,U=E.xHL,r=new Array(u*2),i=new Array(u*2),V=new Array(u),F=new Array(3),j,B,$,l,nx,nA,nU,nn,nH,d,np;
E.dT=new X(u);for(j=0;j<u;j++){B=Z[z(j+1,u)];B=z(B-Z[j],A)+Z[j];r[j<<1]=0;r[(j<<1)+1]=0;i[j<<1]=0;i[(j<<1)+1]=0;
h(E,Z[j],B,r,i,j<<1)}for(j=0;j<u;j++){V[j]=[0,0,0,0,0,0,0,0,0];var v=i[j<<1]*i[j<<1]+i[(j<<1)+1]*i[(j<<1)+1],C=1/v;
if(v!=0){F[0]=i[(j<<1)+1];F[1]=-i[j<<1];F[2]=-F[1]*r[(j<<1)+1]-F[0]*r[j<<1];for(l=0;l<3;l++){V[j][l*3+0]=F[l]*F[0]*C;
V[j][l*3+1]=F[l]*F[1]*C;V[j][l*3+2]=F[l]*F[2]*C}}}var f=[0,0,0,0,0,0,0,0,0];for(j=0;j<u;j++){f[0]=f[1]=f[2]=f[3]=f[4]=f[5]=f[6]=f[7]=f[8]=f[9]=0;
var a=P[Z[j]<<1]-T,nb=P[(Z[j]<<1)+1]-U,nK=0,nq=0;B=z(j-1,u);for(l=0;l<9;l+=3){f[l+0]=V[B][l+0]+V[j][l+0];
f[l+1]=V[B][l+1]+V[j][l+1];f[l+2]=V[B][l+2]+V[j][l+2]}while(1){var nS=f[0]*f[4]-f[1]*f[3];if(nS!=0){nK=(-f[2]*f[4]+f[5]*f[0])/nS;
nq=(f[2]*f[3]-f[5]*f[0])/nS;break}if(f[0]>f[4]){F[0]=-f[1];F[1]=f[0]}else if(f[4]){F[0]=-f[4];F[1]=f[3]}else{F[0]=1;
F[1]=0}var v=F[0]*F[0]+F[1]*F[1],C=1/v;F[2]=-F[1]*nb-F[0]*a;for(l=0;l<3;l++){f[l*3+0]+=F[l]*F[0]*C;f[l*3+1]+=F[l]*F[1]*C;
f[l*3+2]+=F[l]*F[2]*C}}nx=Math.abs(nK-a);nA=Math.abs(nq-nb);if(nx<=.5&&nA<=.5){E.dT.qX[j<<1]=nK+T;E.dT.qX[(j<<1)+1]=nq+U;
continue}nU=y(f,a,nb);nH=a;d=nb;if(f[0]!=0){for(np=0;np<2;np++){nq=nb-.5+np;nK=-(f[1]*nq+f[2])/f[0];
nx=Math.abs(nK-a);nn=y(f,nK,nq);if(nx<=.5&&nn<nU){nU=nn;nH=nK;d=nq}}}if(f[4]!=0){for(np=0;np<2;np++){nK=a-.5+np;
nq=-(f[3]*nK+f[5])/f[4];nA=Math.abs(nq-nb);nn=y(f,nK,nq);if(nA<=.5&&nn<nU){nU=nn;nH=nK;d=nq}}}for(l=0;
l<2;l++){for($=0;$<2;$++){nK=a-.5+l;nq=nb-.5+$;nn=y(f,nK,nq);if(nn<nU){nU=nn;nH=nK;d=nq}}}E.dT.qX[j<<1]=nH+T;
E.dT.qX[(j<<1)+1]=d+U}}function w(E){var h=E.dT.gk,u=E.dT,j,Z,A,P,T,U,r,i,V;for(j=0;j<h;j++){Z=z(j+1,h);
A=z(j+2,h);var F=u.qX[j<<1],B=u.qX[(j<<1)+1],$=u.qX[A<<1],l=u.qX[(A<<1)+1],v=u.qX[Z<<1],C=u.qX[(Z<<1)+1],f=D(.5,$,v),nx=D(.5,l,C);
T=m(F,B,$,l);if(T!=0){P=g(v-F,C-B,$-F,l-B)/T;P=Math.abs(P);U=P>1?1-1/P:0;U=U*(1/.75)}else{U=4/3}u.mK[Z]=U;
var nA=3*Z<<1;if(U>=_.xCA){u.vH[Z]=0;u.Yb[nA+0]=u.Yb[nA+1]=0;u.Yb[nA+2]=v;u.Yb[nA+3]=C;u.Yb[nA+4]=f;
u.Yb[nA+5]=nx}else{if(U<.55){U=.55}else if(U>1){U=1}var nU=.5+.5*U;u.vH[Z]=1;u.Yb[nA]=D(nU,F,v);u.Yb[nA+1]=D(nU,B,C);
u.Yb[nA+2]=D(nU,$,v);u.Yb[nA+3]=D(nU,l,C);u.Yb[nA+4]=f;u.Yb[nA+5]=nx}u.alpha[Z]=U;u.mB[Z]=.5}u.xCx=1}function t(E){function h(){this.Hx=0;
this.IR=0;this.IF=0;this.Ik=0;this.Tx=0;this.vd=0;this.qD=0;this.alpha=0}function u(E,j,F,nT,nI,nn,nH){var A=E.dT.gk,gu=E.dT.Yb,nN=E.dT.qX;
if(j==F)return 1;var xn=j,v=z(j+1,A),nL=z(xn+1,A),nR=nN[j<<1],nu=nN[(j<<1)+1],nV=nN[v<<1],nX=nN[(v<<1)+1],xY=nn[nL];
if(xY==0)return 1;var ny=k(nR-nV,nu-nX);for(xn=nL;xn!=F;xn=nL){var nL=z(xn+1,A),xp=z(xn+2,A),nW=nN[nL<<1],nk=nN[(nL<<1)+1],_x=nN[xp<<1],xI=nN[(xp<<1)+1];
if(nn[nL]!=xY)return 1;if(Math.sign(g(nV-nR,nX-nu,_x-nW,xI-nk))!=xY)return 1;if(W(nV-nR,nX-nu,_x-nW,xI-nk)<ny*k(nW-_x,nk-xI)*-.999847695156)return 1}var nZ=z(j,A)*3+2<<1,gC=z(j+1,A)<<1,_q=z(F,A)<<1,gb=z(F,A)*3+2<<1,nS=gu[nZ],nB=gu[nZ+1],xE=nN[gC],xC=nN[gC+1],pq=nN[_q],xB=nN[_q+1],_r=gu[gb],_h=gu[gb+1],d=nN[0],np=nN[1];
nZ=F*3+2<<1;var _i=gu[nZ],bK=gu[nZ+1],C=nH[F]-nH[j];C-=g(_i-d,bK-np,_i-d,bK-np)/2;if(j>=F){C+=nH[A]}var xb=xE-nS,xv=xC-nB,gx=pq-nS,xK=xB-nB,_p=_r-nS,_n=_h-nB,gq=g(xb,xv,gx,xK),xx=g(xb,xv,_p,_n),gw=g(gx,xK,_p,_n),xH=gq+gw-xx;
if(xx==gq)return 1;var nU=gw/(gw-xH),nA=xx/(xx-gq),gr=xx*nU/2;if(gr==0)return 1;var xR=C/gr,f=2-Math.sqrt(4-xR/.3);
nT.IR=D(nU*f,nS,xE);nT.IF=D(nU*f,nB,xC);nT.Ik=D(nA*f,_r,pq);nT.Tx=D(nA*f,_h,xB);nT.alpha=f;nT.vd=nU;
nT.qD=nA;xE=nT.IR;xC=nT.IF;pq=nT.Ik;xB=nT.Tx;nT.Hx=0;for(xn=z(j+1,A);xn!=F;xn=nL){nL=z(xn+1,A);var xh=nN[xn<<1],_H=nN[(xn<<1)+1],nW=nN[nL<<1],nk=nN[(nL<<1)+1];
nU=L(xE-nS,xC-nB,pq-xE,xB-xC,_r-pq,_h-xB,nW-xh,nk-_H);if(nU<-.5)return 1;var pd=O(nU,nS,xE,pq,_r),UD=O(nU,nB,xC,xB,_h),ny=k(nW-xh,nk-_H);
if(ny==0)return 1;var _w=g(nW-xh,nk-_H,pd-xh,UD-_H)/ny;if(Math.abs(_w)>nI)return 1;if(W(nW-xh,nk-_H,pd-xh,UD-_H)<0||W(xh-nW,_H-nk,pd-nW,UD-nk)<0){return 1}nT.Hx+=_w*_w}for(xn=j;
xn!=F;xn=nL){nL=z(xn+1,A);var nZ=xn*3+2<<1,gC=nL*3+2<<1,n$=gu[nZ],_J=gu[nZ+1],bp=gu[gC],_$=gu[gC+1];
nU=L(xE-nS,xC-nB,pq-xE,xB-xC,_r-pq,_h-xB,bp-n$,_$-_J);if(nU<-.5)return 1;var pd=O(nU,nS,xE,pq,_r),UD=O(nU,nB,xC,xB,_h),ny=k(bp-n$,_$-_J);
if(ny==0)return 1;var _w=g(bp-n$,_$-_J,pd-n$,UD-_J)/ny,gL=g(bp-n$,_$-_J,nN[nL<<1]-n$,nN[(nL<<1)+1]-_J)/ny;
gL*=.75*E.dT.alpha[nL];if(gL<0){_w=-_w;gL=-gL}if(_w<gL-nI)return 1;if(_w<gL){nT.Hx+=(_w-gL)*(_w-gL)}}return 0}var Z=E.dT,A=Z.gk,P=Z.qX,T=new Array(A+1),U=new Array(A+1),r=new Array(A+1),i=new Array(A+1),V,j,F,B,$=new h,l,v,C,f,nx,nA,nU,nn=new Array(A),nH=new Array(A+1);
for(j=0;j<A;j++){if(Z.vH[j]=="CURVE"){var d=P[z(j-1,A)<<1],np=P[(z(j-1,A)<<1)+1],a=P[j<<1],nb=P[(j<<1)+1],nK=P[z(j+1,A)<<1],nq=P[(z(j+1,A)<<1)+1];
nn[j]=Math.sign(g(a-d,nb-np,nK-a,nq-nb))}else{nn[j]=0}}C=0;nH[0]=0;var nS=Z.qX[0],nB=Z.qX[1];for(j=0;
j<A;j++){v=z(j+1,A);if(Z.vH[v]=="CURVE"){f=Z.alpha[v];var nE=j*3+2<<1,nh=v*3+2<<1,nv=Z.Yb[nE],nC=Z.Yb[nE+1],nR=P[v<<1],nu=P[(v<<1)+1],nF=Z.Yb[nh],nP=Z.Yb[nh+1];
C+=.3*f*(4-f)*g(nR-nv,nu-nC,nF-nv,nP-nC)/2;C+=g(nv-nS,nC-nB,nF-nS,nP-nB)/2}nH[j+1]=C}T[0]=-1;U[0]=0;
r[0]=0;for(F=1;F<=A;F++){T[F]=F-1;U[F]=U[F-1];r[F]=r[F-1]+1;for(j=F-2;j>=0;j--){B=u(E,j,z(F,A),$,_.xCE,nn,nH);
if(B){break}if(r[F]>r[j]+1||r[F]==r[j]+1&&U[F]>U[j]+$.Hx){T[F]=j;U[F]=U[j]+$.Hx;r[F]=r[j]+1;i[F]=$;$=new h}}}V=r[A];
nx=new X(V);nA=new Array(V);nU=new Array(V);F=A;for(j=V-1;j>=0;j--){var ni=z(F,A),nw=j*3+0<<1,nO=ni*3+0<<1;
if(T[F]==F-1){nx.vH[j]=Z.vH[ni];nx.Yb[nw]=Z.Yb[nO];nx.Yb[nw+1]=Z.Yb[nO+1];nx.Yb[nw+2]=Z.Yb[nO+2];nx.Yb[nw+3]=Z.Yb[nO+3];
nx.Yb[nw+4]=Z.Yb[nO+4];nx.Yb[nw+5]=Z.Yb[nO+5];nx.qX[j<<1]=Z.qX[ni<<1];nx.qX[(j<<1)+1]=Z.qX[(ni<<1)+1];
nx.alpha[j]=Z.alpha[ni];nx.mK[j]=Z.mK[ni];nx.mB[j]=Z.mB[ni];nA[j]=nU[j]=1}else{nx.vH[j]="CURVE";nx.Yb[nw]=i[F].IR;
nx.Yb[nw+1]=i[F].IF;nx.Yb[nw+2]=i[F].Ik;nx.Yb[nw+3]=i[F].Tx;nx.Yb[nw+4]=Z.Yb[nO+4];nx.Yb[nw+5]=Z.Yb[nO+5];
nx.qX[j<<1]=D(i[F].qD,Z.Yb[nO+4],P[ni<<1]);nx.qX[(j<<1)+1]=D(i[F].qD,Z.Yb[nO+5],P[(ni<<1)+1]);nx.alpha[j]=i[F].alpha;
nx.mK[j]=i[F].alpha;nA[j]=i[F].qD;nU[j]=i[F].vd}F=T[F]}for(j=0;j<V;j++){v=z(j+1,V);nx.mB[j]=nA[j]/(nA[j]+nU[v])}nx.xCx=1;
E.dT=nx}for(var j=0;j<J.length;j++){var E=J[j];I(E);H(E);Y(E);n(E);w(E);if(_.xiG)t(E)}}return{xiC:q,xiT:N}}();
xc.xW$=function(b,X,q,N){var J={hY:"minority",xiO:N,xiG:!0,xCA:1,xCE:.2},_=xc.xiC(b,X,q,J);xc.xiT(_,J);
return _};xc.Ku=function(b){var X=[];for(var q=0;q<b.length;q++){var N=b[q],J=N.dT,_=["M"],p=[J.Yb[(J.gk-1)*6+4],J.Yb[(J.gk-1)*6+5]];
for(var z=0;z<J.gk;z++){var g=z*6;if(J.vH[z]==1){_.push("C");for(var W=0;W<6;W++)p.push(J.Yb[g+W])}else if(J.vH[z]==0){_.push("L");
for(var W=2;W<4;W++)p.push(J.Yb[g+W])}}X.push({parent:N.parent,color:N.color,path:{r:p,W:_}})}return X};
xc.xav=function(b,X,q,N,J){function _(O){function L(g){var k="C "+(O.Yb[g*3+0<<1]*X).toFixed(1)+" "+(O.Yb[(g*3+0<<1)+1]*X).toFixed(1)+",";
k+=(O.Yb[g*3+1<<1]*X).toFixed(1)+" "+(O.Yb[(g*3+1<<1)+1]*X).toFixed(1)+",";k+=(O.Yb[g*3+2<<1]*X).toFixed(1)+" "+(O.Yb[(g*3+2<<1)+1]*X).toFixed(1)+" ";
return k}function I(g){var n="L "+(O.Yb[g*3+1<<1]*X).toFixed(1)+" "+(O.Yb[(g*3+1<<1)+1]*X).toFixed(1)+" ";
n+=(O.Yb[g*3+2<<1]*X).toFixed(1)+" "+(O.Yb[(g*3+2<<1)+1]*X).toFixed(1)+" ";return n}var H=O.gk,g,Y="M"+(O.Yb[(H-1)*3+2<<1]*X).toFixed(1)+" "+(O.Yb[((H-1)*3+2<<1)+1]*X).toFixed(1)+" ";
for(g=0;g<H;g++){if(O.vH[g]==1){Y+=L(g)}else if(O.vH[g]==0){Y+=I(g)}}return Y}var q=q*X,N=N*X,p=b.length,z=[];
for(var g=0;g<256;g++)z.push("rgb("+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+")");
var W="<svg id=\"svg\" version=\"1.1\" width=\""+q+"\" height=\""+N+"\" xmlns=\"http://www.w3.org/2000/svg\">";
for(var g=0;g<p;g++){var o=J[b[g].color-1].xpO.xHJ;if((o>>>24&255)==0)continue;W+="<path d=\"";var y=b[g].dT;
W+=_(y);var D=o>>0&255,m=o>>8&255,k=o>>16&255,o="rgb("+D+","+m+","+k+")";W+="\" fill=\""+o+"\" fill-rule=\"evenodd\"/>"}W+="</svg>";
return W};xc.xWy=function(b,X,q){var N=b.length>>1,J,_=b[2*N-3]-q,p=b[2*N-2]-X,z=b[2*N-1]-q,g=z>_,o=0;
for(var W=0;W<N;W++){J=p;_=z;p=b[2*W]-X;z=b[2*W+1]-q;if(_==z)continue;g=z>_}for(var W=0;W<N;W++){J=p;
_=z;p=b[2*W]-X;z=b[2*W+1]-q;if(_<0&&z<0)continue;if(_>0&&z>0)continue;if(J<0&&p<0)continue;if(_==z&&Math.min(J,p)<=0)return!0;
if(_==z)continue;var y=J+(p-J)*-_/(z-_);if(y==0)return!0;if(y>0)o++;if(_==0&&g&&z>_)o--;if(_==0&&!g&&z<_)o--;
g=z>_}return(o&1)==1};xc.fill=function(b,X,q,N){var J=X[b],_=[b],p=0;while(p<_.length){var z=_[p];p++;
X[z]=N;if(X[z-q]==J){_.push(z-q);X[z-q]=254}if(X[z-1]==J){_.push(z-1);X[z-1]=254}if(X[z+1]==J){_.push(z+1);
X[z+1]=254}if(X[z+q]==J){_.push(z+q);X[z+q]=254}}};var G={};G.ks=!1;G.eD=!1;G.Pl=!1;G.wZ=document.createElement("canvas");
G.DI=null;G.Lb=null;G.rB=0;(function(){var b={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},X;
if(!X)X=G.wZ.getContext("webgl",b);if(!X)X=G.wZ.getContext("experimental-webgl",b);if(X){G.ks=!0;G.eD=!0;
G.DI=X;G.Lb=X.createFramebuffer();X.bindFramebuffer(X.FRAMEBUFFER,G.Lb);X.disable(X.BLEND);X.disable(X.DEPTH_TEST);
var q=X.createBuffer();X.bindBuffer(X.ARRAY_BUFFER,q);X.bufferData(X.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),X.STATIC_DRAW);
X.enableVertexAttribArray(0);X.vertexAttribPointer(0,2,X.FLOAT,!1,0,0)}}());G.xun=function(b){var X=G.DI;
if(b>X.getParameter(X.MAX_TEXTURE_SIZE)){G.ks=!1;alert("Disabling WebGL")}};G.PW=function(b,X){return new Float32Array([(b.x-X.x)/X.n,(b.y-X.y)/X.z,b.n/X.n,b.z/X.z])};
G.yh=function(){return this.wZ};G.ig=function(b,X){var q=G.DI;q.bindFramebuffer(q.FRAMEBUFFER,G.Lb);
q.framebufferTexture2D(q.FRAMEBUFFER,q.COLOR_ATTACHMENT0,q.TEXTURE_2D,b.vN,0);q.viewport(0,0,b.n,b.z);
if(X){q.enable(q.SCISSOR_TEST);q.scissor(X.x,X.y,X.n,X.z)}else q.disable(q.SCISSOR_TEST)};G.eG=function(b,X,q){if(q)throw"error";
var N=G.DI;N.disable(N.SCISSOR_TEST);N.bindFramebuffer(N.FRAMEBUFFER,null);N.viewport(0,0,b,X);if(q){N.enable(N.SCISSOR_TEST);
N.scissor(q.x,q.y,Math.round(q.n),Math.round(q.z))}else N.disable(N.SCISSOR_TEST)};G.clear=function(){var b=G.DI;
b.clearColor(0,0,0,0);b.clear(b.COLOR_BUFFER_BIT)};G.HX=function(b,X){if(X==null)X=0;var q=(X>>>0&255)==0,N=(X>>>8&255)==0,J=(X>>>16&255)==0,_=(X>>>24&255)==0,p=(b>>>0&255)*(1/255),z=(b>>>8&255)*(1/255),g=(b>>>16&255)*(1/255),W=(b>>>24&255)*(1/255),o=G.DI;
o.colorMask(q,N,J,_);o.clearColor(p,z,g,W);o.clear(o.COLOR_BUFFER_BIT);o.colorMask(!0,!0,!0,!0)};G.ba=function(b,X,q,N,J){var _=X.be(N);
if(J)_=_.be(J);if(_.qa())return;var p=G.DI;G.ig(b);p.bindTexture(p.TEXTURE_2D,q.vN);p.copyTexSubImage2D(p.TEXTURE_2D,0,_.x-N.x,_.y-N.y,_.x-X.x,_.y-X.y,_.n,_.z)};
G.xaX=function(b,X,q){var N=G.ef[b];if(N==null||N.n!=X||N.z!=q){if(N)N.delete();N=new G.Sm(X,q)}G.ef[b]=N;
return N};G.ef=[];G.TR=function(){this.TP=null;this.Db=null};G.TR.Mm=null;G.TR.prototype.iB=function(b){if(this.Db)return;
this.Db={};var X=G.DI,q=this.TP,N=this.Db;for(var J=0;J<b.length;J++){var _=b[J];N[_]=X.getUniformLocation(q,_)}};
G.TR.prototype.wD=function(){};G.TR.prototype.SF=function(b,X){var q=G.DI,N=q.createShader(q.FRAGMENT_SHADER);
q.shaderSource(N,b);q.compileShader(N);if(!q.getShaderParameter(N,q.COMPILE_STATUS))console.log(q.getShaderInfoLog(N));
var J=q.createShader(q.VERTEX_SHADER);q.shaderSource(J,X);q.compileShader(J);if(!q.getShaderParameter(J,q.COMPILE_STATUS))console.log(q.getShaderInfoLog(J));
var _=q.createProgram();q.attachShader(_,J);q.attachShader(_,N);q.linkProgram(_);if(!q.getProgramParameter(_,q.LINK_STATUS))console.log("Could not initialise shaders");
this.TP=_};G.TR.prototype.gd=function(){if(G.TR.Mm!=this){G.DI.useProgram(this.TP);G.TR.Mm=this}};G.Pm=function(b,X){G.ra++;
G.rB+=b*X;if(G.Pl)console.log("GL.Channels instances: "+G.ra+", memory: "+G.rB);var q=G.DI;this.n=b;
this.z=X;this.vN=q.createTexture();this.zU=null;this.LS(this.vN,b,X)};G.Pm.prototype.LS=function(b,X,q){var N=G.DI;
N.bindTexture(N.TEXTURE_2D,b);N.texParameteri(N.TEXTURE_2D,N.TEXTURE_MIN_FILTER,N.NEAREST);N.texParameteri(N.TEXTURE_2D,N.TEXTURE_MAG_FILTER,N.NEAREST);
N.texParameteri(N.TEXTURE_2D,N.TEXTURE_WRAP_S,N.CLAMP_TO_EDGE);N.texParameteri(N.TEXTURE_2D,N.TEXTURE_WRAP_T,N.CLAMP_TO_EDGE);
N.texImage2D(N.TEXTURE_2D,0,N.ALPHA,X,q,0,N.ALPHA,N.UNSIGNED_BYTE,null)};G.Pm.prototype.set=function(b){var X=G.DI;
X.bindTexture(X.TEXTURE_2D,this.vN);X.pixelStorei(X.UNPACK_ALIGNMENT,1);X.texImage2D(X.TEXTURE_2D,0,X.ALPHA,this.n,this.z,0,X.ALPHA,X.UNSIGNED_BYTE,b);
X.pixelStorei(X.UNPACK_ALIGNMENT,4)};G.Pm.prototype.delete=function(){var b=G.DI;if(this.vN){b.deleteTexture(this.vN);
G.ra--;G.rB-=this.n*this.z}if(G.Pl)if(G.Pl)console.log("GL.Channels instances: "+G.ra+", memory: "+G.rB*4)};
G.ra=0;G.Sm=function(b,X,q){if(q==null)q=!1;G.ra++;G.rB+=b*X*4;if(G.Pl)console.log("GL.Channels instances: "+G.ra+", memory: "+G.rB);
var N=G.DI;this.xCv=q;this.n=b;this.z=X;this.vN=N.createTexture();this.zU=null;this.LS(this.vN,b,X)};
G.Sm.prototype.set=function(b,X){var q=G.DI;q.disable(q.SCISSOR_TEST);q.bindTexture(q.TEXTURE_2D,this.vN);
if(b==null||b instanceof Uint8Array){var N=this.n*this.z;if(X==null||X.c()*10>N)q.texImage2D(q.TEXTURE_2D,0,q.RGBA,this.n,this.z,0,q.RGBA,q.UNSIGNED_BYTE,b);
else{var J=x.K(X.c()*4);x.iX(b,new R(0,0,this.n,this.z),J,X);q.texSubImage2D(q.TEXTURE_2D,0,X.x,X.y,X.n,X.z,q.RGBA,q.UNSIGNED_BYTE,J)}}else q.texImage2D(q.TEXTURE_2D,0,q.RGBA,q.RGBA,q.UNSIGNED_BYTE,b)};
G.Sm.prototype.get=function(b){var X=G.DI;G.ig(this);X.readPixels(0,0,this.n,this.z,X.RGBA,X.UNSIGNED_BYTE,b)};
G.Sm.prototype.yY=function(b){if(b.qa())return;var X=G.DI;if(this.zU==null){this.zU=X.createTexture();
this.LS(this.zU,this.n,this.z);G.ra++;G.rB+=this.n*this.z*4}X.bindFramebuffer(X.FRAMEBUFFER,G.Lb);X.bindTexture(X.TEXTURE_2D,this.zU);
if(b){var q=Math.max(b.x,0),N=Math.max(b.y,0);X.copyTexSubImage2D(X.TEXTURE_2D,0,q,N,q,N,b.n,b.z)}else X.copyTexImage2D(X.TEXTURE_2D,0,X.RGBA,0,0,this.n,this.z,0)};
G.Sm.prototype.LS=function(b,X,q){var N=G.DI;N.bindTexture(N.TEXTURE_2D,b);N.texParameteri(N.TEXTURE_2D,N.TEXTURE_MIN_FILTER,this.xCv?N.LINEAR:N.NEAREST);
N.texParameteri(N.TEXTURE_2D,N.TEXTURE_MAG_FILTER,N.NEAREST);N.texParameteri(N.TEXTURE_2D,N.TEXTURE_WRAP_S,N.CLAMP_TO_EDGE);
N.texParameteri(N.TEXTURE_2D,N.TEXTURE_WRAP_T,N.CLAMP_TO_EDGE);N.texImage2D(N.TEXTURE_2D,0,N.RGBA,X,q,0,N.RGBA,N.UNSIGNED_BYTE,null)};
G.Sm.prototype.delete=function(){var b=G.DI;if(this.vN){b.deleteTexture(this.vN);G.ra--;G.rB-=this.n*this.z*4}if(this.zU){b.deleteTexture(this.zU);
G.ra--;G.rB-=this.n*this.z*4}if(G.Pl)if(G.Pl)console.log("GL.Channels instances: "+G.ra+", memory: "+G.rB)};
G.Sm.prototype.clone=function(){var b=G.DI,X=new G.Sm(this.n,this.z);G.ig(this);b.bindTexture(b.TEXTURE_2D,X.vN);
b.copyTexImage2D(b.TEXTURE_2D,0,b.RGBA,0,0,this.n,this.z,0);return X};G._B={xuD:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",xuy:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",rs:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",lX:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",eV:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",lL:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",xD:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",Kk:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",xYg:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",lG:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",xY_:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",Ha:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",e$:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",$P:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",tA:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",tH:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",Hj:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",bY:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",tT:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",WS:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn mi<0.0?0.0:(mi>1.0?1.0:mi);\t\t}"};
G.gm={};G.gm.ab="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
G.aW=function(b,X,q,N,J){if(G.aW.Ou==null)G.aW.Ou=new G.aW.ud;var _=X.D.length;if(G.aW.B_["m"+_]==null){G.aW.B_["m"+_]={xCQ:new G.Sm(_,1),Dl:x.K(_*4)}}var p=G.aW.B_["m"+_];
x.qR(X.D,p.Dl,0);x.qR(X.q,p.Dl,1);x.qR(X.b,p.Dl,2);var z=p.xCQ;z.set(p.Dl);var g=G.aW.Ou,W=G.DI;g.gd();
g.wD(b,z.vN,q?1:0,N?1:0);W.drawArrays(W.TRIANGLES,0,6)};G.aW.Ou=null;G.aW.B_={};G.aW.ud=function(){G.TR.call(this);
var b="\t\t\tprecision mediump float;\t\t\t"+G._B.xD+"\t\t\t"+G._B.rs+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.SF(b,G.gm.ab)};G.aW.ud.prototype=new G.TR;G.aW.ud.prototype.wD=function(b,X,q,N){this.iB(["source","map","toGray","presLum"]);
var J=G.DI,_=this.Db;J.uniform1f(_.toGray,q);J.uniform1f(_.presLum,N);J.uniform1i(_.source,0);J.uniform1i(_.map,1);
J.activeTexture(J.TEXTURE0);J.bindTexture(J.TEXTURE_2D,b);J.activeTexture(J.TEXTURE1);J.bindTexture(J.TEXTURE_2D,X);
J.activeTexture(J.TEXTURE0)};G.pc=function(b,X,q,N,J,_){if(G.pc.Ou==null){G.pc.Ou=new G.pc.ud;G.pc.oN=new G.Sm(256,1);
G.pc.Zn=x.K(256*4)}X.i=x.K(256);var p=G.pc.Zn;x.bL(X,p);var z=G.pc.oN;z.set(p);var g=G.pc.Ou,W=G.DI;
g.gd();g.wD(b,z.vN,N,J,_);W.drawArrays(W.TRIANGLES,0,6)};G.pc.Ou=null;G.pc.oN=null;G.pc.Zn=null;G.pc.ud=function(){G.TR.call(this);
var b="\t\t\tprecision mediump float;\t\t\t"+G._B.tH+"\t\t\t"+G._B.$P+"\t\t\t"+G._B.tA+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float cfa; \t\t\tuniform float cfb; \t\t\tuniform int colorize; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\tvec3 rgb = src.rgb;\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\tfloat nh = mapv.r; \t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\tfloat ns = sc; \t\t\t\tif(colorize==0) {\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t} \t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t}";
this.SF(b,G.gm.ab)};G.pc.ud.prototype=new G.TR;G.pc.ud.prototype.wD=function(b,X,q,N,J){this.iB(["source","map","cfa","cfb","colorize"]);
var _=G.DI,p=this.Db;_.uniform1f(p.cfa,q);_.uniform1f(p.cfb,N);_.uniform1i(p.colorize,J);_.uniform1i(p.source,0);
_.uniform1i(p.map,1);_.activeTexture(_.TEXTURE0);_.bindTexture(_.TEXTURE_2D,b);_.activeTexture(_.TEXTURE1);
_.bindTexture(_.TEXTURE_2D,X);_.activeTexture(_.TEXTURE0)};G.Xk=function(b,X,q,N){if(G.Xk.Ou==null)G.Xk.Ou=new G.Xk.ud;
var J=G.Xk.Ou,_=G.DI;J.gd();J.wD(b,X,q);_.drawArrays(_.TRIANGLES,0,6)};G.Xk.Ou=null;G.Xk.ud=function(){G.TR.call(this);
var b="\t\t\tprecision mediump float;\t\t\t"+G._B.tH+"\t\t\t"+G._B.Hj+"\t\t\t"+G._B.bY+"\t\t\t"+G._B.$P+"\t\t\t"+G._B.tA+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 hsl = rgbToHsv(src.rgb); \t\t\t\tfloat h=hsl.r, s=hsl.g, l=hsl.b; \t\t\t\t\t\t\t\tfloat sk0 = 0.0, sk1 = 45.0/360.0; \t\t\t\tfloat skin = (h<sk1) ? cos((PI/2.0)*(h-sk1/2.0)/(sk1/2.0)) : 0.0; \t\t\t\t\t\t\t\ts = s + 0.2 * (1.0-0.4*skin) * vib * max(0.0, sin(s*PI)); \t\t\t\t\t\t\t\ts = s * (1.0 + sat); \t\t\t\t\t\t\t\ts = max(0.0, min(1.0, s));\t\t\t\tsrc.rgb = hsvToRgb(h,s,l);\t\t\t\tgl_FragColor = vec4(src.rgb,src.w); \t\t\t\t\t\t\t}";
this.SF(b,G.gm.ab)};G.Xk.ud.prototype=new G.TR;G.Xk.ud.prototype.wD=function(b,X,q){this.iB(["source","vib","sat"]);
var N=G.DI,J=this.Db;N.uniform1f(J.vib,X);N.uniform1f(J.sat,q);N.uniform1i(J.source,0);N.activeTexture(N.TEXTURE0);
N.bindTexture(N.TEXTURE_2D,b)};G.Nu=function(b,X,q){if(G.Nu.Ou==null)G.Nu.Ou=new G.Nu.ud;var N=G.Nu.Ou,J=G.DI;
N.gd();N.wD(b,X);J.drawArrays(J.TRIANGLES,0,6)};G.Nu.Ou=null;G.Nu.ud=function(){G.TR.call(this);var b="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.SF(b,G.gm.ab)};G.Nu.ud.prototype=new G.TR;G.Nu.ud.prototype.wD=function(b,X){this.iB(["source","trf"]);
var q=G.DI,N=this.Db;q.uniformMatrix4fv(N.trf,!1,new Float32Array(x.sy.wH(X)));q.uniform1i(N.source,0);
q.activeTexture(q.TEXTURE0);q.bindTexture(q.TEXTURE_2D,b)};G.NT=function(b,X,q,N,J,_){if(G.NT.Ou==null)G.NT.Ou=new G.NT.ud;
var p=G.NT.Ou,z=G.DI;p.gd();p.wD(b,X,q,N,J);z.drawArrays(z.TRIANGLES,0,6)};G.NT.Ou=null;G.NT.ud=function(){G.TR.call(this);
var b="\t\t\tprecision mediump float; \t\t\t"+G._B.tT+"\t\t\t"+G._B.tH+"\t\t\t"+G._B.tA+"\t\t\t"+G._B.$P+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+scl*shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + scl*shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + scl*shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.SF(b,G.gm.ab)};G.NT.ud.prototype=new G.TR;G.NT.ud.prototype.wD=function(b,X,q,N,J){this.iB(["source","mnm","mxm","shift","lim"]);
var _=G.DI,p=this.Db;_.uniform3fv(p.mnm,new Float32Array(X));_.uniform3fv(p.mxm,new Float32Array(q));
_.uniform3fv(p.shift,new Float32Array(N));_.uniform1f(p.lim,J);_.uniform1i(p.source,0);_.activeTexture(_.TEXTURE0);
_.bindTexture(_.TEXTURE_2D,b)};G.Op=function(b,X,q){if(G.Op.Ou==null){G.Op.Ou=new G.Op.ud}var N=G.Op.Ou,J=G.DI;
N.gd();N.wD(b,X);J.drawArrays(J.TRIANGLES,0,6)};G.Op.Ou=null;G.Op.ud=function(){G.TR.call(this);var b="\t\t\tprecision mediump float;\t\t\t"+G._B.rs+"\t\t\t"+G._B.lX+"\t\t\t"+G._B.eV+"\t\t\t"+G._B.$P+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.SF(b,G.gm.ab)};G.Op.ud.prototype=new G.TR;G.Op.ud.prototype.wD=function(b,X){this.iB(["source","cfs"]);
var q=G.DI,N=this.Db;q.uniform3fv(N.cfs,X);q.uniform1i(N.source,0);q.activeTexture(q.TEXTURE0);q.bindTexture(q.TEXTURE_2D,b)};
G.O_=function(b,X,q,N){if(G.O_.Ou==null){G.O_.Ou=new G.O_.ud}var J=G.O_.Ou,_=G.DI;J.gd();J.wD(b,X,q);
_.drawArrays(_.TRIANGLES,0,6)};G.O_.Ou=null;G.O_.ud=function(){G.TR.call(this);var b="\t\t\tprecision mediump float;\t\t\t"+G._B.tH+"\t\t\t"+G._B.lX+"\t\t\t"+G._B.eV+"\t\t\t"+G._B.$P+"\t\t\t"+G._B.tA+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.SF(b,G.gm.ab)};G.O_.ud.prototype=new G.TR;G.O_.ud.prototype.wD=function(b,X,q){this.iB(["source","wght","prms"]);
var N=G.DI,J=this.Db;N.uniform1fv(J.wght,new Float32Array(X));N.uniform1fv(J.prms,new Float32Array(q));
N.uniform1i(J.source,0);N.activeTexture(N.TEXTURE0);N.bindTexture(N.TEXTURE_2D,b)};G.vv=function(b,X,q,N){if(G.vv.Ou==null)G.vv.Ou=new G.vv.ud;
if(G.vv.BS["m"+X]==null)G.vv.BS["m"+X]=new G.Sm(X,X*X);var J=G.vv.BS["m"+X];J.set(q);var _=G.vv.Ou,p=G.DI;
_.gd();_.wD(b,J.vN,X);p.drawArrays(p.TRIANGLES,0,6)};G.vv.Ou=null;G.vv.BS={};G.vv.ud=function(){G.TR.call(this);
var b="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tfloat iN = 1.0/N; \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R)*iN;  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, ir   +( fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, ir+iN+( fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,R-floor(R));  \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.SF(b,G.gm.ab)};G.vv.ud.prototype=new G.TR;G.vv.ud.prototype.wD=function(b,X,q){this.iB(["source","lut","N"]);
var N=G.DI,J=this.Db;N.uniform1f(J.N,q);N.uniform1i(J.source,0);N.uniform1i(J.lut,1);N.activeTexture(N.TEXTURE0);
N.bindTexture(N.TEXTURE_2D,b);N.activeTexture(N.TEXTURE1);N.bindTexture(N.TEXTURE_2D,X);var _=N.LINEAR;
N.texParameteri(N.TEXTURE_2D,N.TEXTURE_MIN_FILTER,_);N.texParameteri(N.TEXTURE_2D,N.TEXTURE_MAG_FILTER,_);
N.activeTexture(N.TEXTURE0)};G.t={};G.t.BB={};G.t.BH=null;G.t.BE=null;G.t.BP=null;G.t.ZS=function(b,X,q,N,J,_,p,z){if(z==null)z=nM.lM();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(b)==-1){p=p*z.fill;z.fill=1;z.style=!1}var g=b+(z.dr?"1":"");
if(G.t.BB[g]==null)G.t.BB[g]=new G.t.ud(b,z.dr!=null);var W=G.t.BB[g],o=q.be(J).be(_);o.offset(-J.x,-J.y);
if(o.qa())return;var y=G.DI;G.ig(N,o);N.yY(o);W.gd();W.wD(X.vN,N.zU,G.PW(q,J),p,z.fill,z.style?1:0,z.dS?1:0,z.dr?new Float32Array(z.dr):null);
y.drawArrays(y.TRIANGLES,0,6)};G.t.Lr=function(b,X,q,N,J,_,p,z,g,W){if(G.t.BH==null)G.t.BH=new G.t.yI(!0,!0);
if(G.t.BE==null)G.t.BE=new G.t.yI(!0,!1);if(G.t.BP==null)G.t.BP=new G.t.yI(!1,!0);var o=W?1:0,y=b?J?G.t.BH:G.t.BE:G.t.BP,m=X?X.be(N).be(z):N.be(z);
if(m.qa())return;m.offset(-N.x,-N.y);var k=G.DI;G.ig(q,m);q.yY(m);y.gd();if(b==null)y.wD(null,q.zU,J.vN,G.PW(N,N),G.PW(_,N),p/255,g,o);
else if(J)y.wD(b.vN,q.zU,J.vN,G.PW(X,N),G.PW(_,N),p/255,g,o);else y.wD(b.vN,q.zU,null,G.PW(X,N),null,p/255,g,o);
k.drawArrays(k.TRIANGLES,0,6)};G.t.xao=function(b,X,q){if(G.t.xH$==null)G.t.xH$=new G.t.Bi;var N=G.t.xH$,J=new R(0,0,b.n,b.z),_=G.DI;
G.ig(X);X.yY(J);N.gd();N.wD(J,b.vN,X.zU,q.vN);_.drawArrays(_.TRIANGLES,0,6)};G.t.Hb={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
G.t.ud=function(b,X){G.TR.call(this);var q="\t\t\tprecision mediump float;\t\t\t"+G._B.rs+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(X?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+G._B.lL+"\t\t\t"+G._B.xD+"\t\t\t"+G._B.Kk+"\t\t\t"+G._B.xuD+"\t\t\t"+G._B.xuy+"\t\t\t"+G._B.xYg+"\t\t\t"+G._B.lG+"\t\t\t"+G._B.xY_+"\t\t\t"+G._B.Ha+"\t\t\t"+G._B.hash+"\t\t\t"+(X?G._B.WS:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+G.t.Hb[b]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",N="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(b=="diss")q+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else q+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(X?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.SF(q,N)};G.t.ud.prototype=new G.TR;G.t.ud.prototype.wD=function(b,X,q,N,J,_,p,z){this.iB("srct alpha source target fill style keepBGA blIf".split(" "));
var g=G.DI,W=this.Db;g.uniform4fv(W.srct,q);g.uniform1f(W.alpha,N);g.uniform1f(W.fill,J);g.uniform1f(W.style,_);
g.uniform1f(W.keepBGA,p);if(z)g.uniform4fv(W.blIf,z);g.uniform1i(W.source,0);g.uniform1i(W.target,1);
g.activeTexture(g.TEXTURE0);g.bindTexture(g.TEXTURE_2D,b);g.activeTexture(g.TEXTURE1);g.bindTexture(g.TEXTURE_2D,X);
g.activeTexture(g.TEXTURE0)};G.t.yI=function(b,X){G.TR.call(this);this.xpm=b;this.mC=X;var q="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+G._B.e$+"\t\t\t"+G._B.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(b?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(X?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(b?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tgl_FragColor =  vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t}",N="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.SF(q,N)};G.t.yI.prototype=new G.TR;G.t.yI.prototype.wD=function(b,X,q,N,J,_,p,z){if(this.mC)this.iB("srct wrct wcolor awg dissv source target weight".split(" "));
else this.iB(["srct","awg","dissv","source","target"]);var g=G.DI,W=this.Db;g.uniform4fv(W.srct,N);if(this.mC){g.uniform4fv(W.wrct,J);
g.uniform1f(W.wcolor,_)}g.uniform1f(W.awg,p);g.uniform1f(W.dissv,z);g.uniform1i(W.source,0);g.uniform1i(W.target,1);
if(this.mC)g.uniform1i(W.weight,2);g.activeTexture(g.TEXTURE0);g.bindTexture(g.TEXTURE_2D,b);g.activeTexture(g.TEXTURE1);
g.bindTexture(g.TEXTURE_2D,X);if(this.mC){g.activeTexture(g.TEXTURE2);g.bindTexture(g.TEXTURE_2D,q)}g.activeTexture(g.TEXTURE0)};
G.t.Bi=function(){G.TR.call(this);var b="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",X="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.SF(b,X)};G.t.Bi.prototype=new G.TR;G.t.Bi.prototype.wD=function(b,X,q,N){this.iB(["rct","prev","next","alpha"]);
var J=G.DI,_=this.Db;J.uniform4fv(_.rct,[0,0,1,1]);J.uniform1i(_.prev,0);J.uniform1i(_.next,1);J.uniform1i(_.alpha,2);
J.activeTexture(J.TEXTURE0);J.bindTexture(J.TEXTURE_2D,X);J.activeTexture(J.TEXTURE1);J.bindTexture(J.TEXTURE_2D,q);
J.activeTexture(J.TEXTURE2);J.bindTexture(J.TEXTURE_2D,N);J.activeTexture(J.TEXTURE0)};function xd(){}xd.UU=function(b){var X=new Uint8Array(b),q=0,N={Ho:[],Oh:[],list:[]},J=e.Dt(X,q);
q+=2;if(J<=2){return xd.xYS(X)}var _=e.Dt(X,q);q+=2;var p=e.uT(X,q,8);q+=8;var z=e.o(X,q);q+=4;if(z>0)N.Ho=xd.Zr(X,q,z,_,J);
q+=z;var g=e.uT(X,q,8);q+=8;var W=e.o(X,q);q+=4;if(W>0)N.Oh=xd.LH(X,q,W);q+=W;var o=e.uT(X,q,8);q+=8;
var y=e.o(X,q);q+=4;if(y>0){var D={};nf.yd(X,D,q+4);N.list=D.Brsh.v}q+=y;var m=N.list;for(var k=0;k<m.length;
k++){pl.b$.check(m[k].v)}return N};xd.tk=function(b,X){b.v.Nm.v=X};xd.xYS=function(b){var X={Ho:[],Oh:[],list:[]},q=0,N=e.Dt(b,q);
q+=2;var J=e.Dt(b,q);q+=2;for(var _=0;_<J;_++){var p=e.Dt(b,q);q+=2;var z=e.o(b,q);q+=4;var g=q;if(p==2){var W={};
X.Ho.push(W);var o=e.o(b,g);g+=4;var y=e.Dt(b,g);g+=2;if(N==2){var D=e.PB(b,g);g+=4+D.length*2+2}W.id=nj.bj()+"-d71c-11e5-b1ae-a548a96e5f9f";
g++;g+=8;W.h=e.GK(b,g);g+=16;var m=e.Dt(b,g);g+=2;var k=b[g];g++;W.channel=x_.e_(!1,m,b,W.h.n,W.h.z,g,k);
var O=pl.Kq(W.id),L=O.Brsh.v;L.Dmtr.v.val=W.h.n;L.Spcn.v.val=y;X.list.push({t:"Objc",v:O})}q+=z}return X};
xd.oM=function(b){var X=new _e,q=0,N=0;e.ge(X,q,6);q+=2;e.ge(X,q,2);q+=2;e.Ya(X,q,"8BIMsamp");q+=8;q+=4;
N=q;q=xd.ZB(X,q,b.Ho);e.jy(X,N-4,q-N);e.Ya(X,q,"8BIMpatt");q+=8;q+=4;N=q;q=xd.LE(X,q,b.Oh);e.jy(X,N-4,q-N);
var J={classID:"null",Brsh:{t:"VlLs",v:b.list}};e.Ya(X,q,"8BIMdesc");q+=8;q+=4;N=q;e.jy(X,q,16);q+=4;
q+=nf.wc(X,J,q);e.jy(X,N-4,q-N);return X.data.slice(0,q).buffer};xd.Zr=function(b,X,q,N,J){var _=e.o,p=e.GK,z=X+q,g=[];
while(X<z){var W={};g.push(W);var o=_(b,X);X+=4;var y=X,D=e.MZ(b,X);X+=D.length;W.id=D.Jg;if(N==1){X+=9;
W.h=p(b,X);X+=16}else{X+=7;var m=_(b,X);X+=4;W.h=p(b,X);X+=16;var k=_(b,X);X+=4;X+=k*4;var O=_(b,X);
X+=4;var L=_(b,X);X+=4;var I=p(b,X);X+=16}var H=e.Dt(b,X);X+=2;var Y=b[X];X+=1;W.channel=x_.e_(!1,H,b,W.h.n,W.h.z,X,Y);
if(o%4!=0)o+=4-o%4;X=y+o}return g};xd.ZB=function(b,X,q){var N=e.jy,J=e.DN;for(var _=0;_<q.length;_++){var p=q[_],z=X+4,W=56,y=1;
X+=4;e.ee(b,X,p.id);X+=p.id.length+2;b.Sd(X,1);b.data[X]=1;X+=3;N(b,X,3);X+=4;var g=X;X+=4;J(b,X,p.h);
X+=16;N(b,X,W);X+=4;X+=W*4;N(b,X-4,1);var o=X;X+=4;N(b,X,8);X+=4;J(b,X,p.h);X+=16;e.ge(b,X,8);X+=2;b.Sd(X,1);
b.data[X]=y;X++;b.Sd(X,p.h.c()*2);X=x_.IK(p.channel,b.data,p.h.n,p.h.z,X,y);b.Sd(X,8);X+=8;var D=X-z;
N(b,z-4,D);N(b,g,D-49);N(b,o,D-305);if(D%4!=0)X+=4-D%4}return X};xd.LH=function(b,X,q){var N=X+q,J=[];
while(X<N){var _={},p=e.o(b,X);X+=4;var z=X;X=bN.ZQ(b,X,_);if(!_.h.qa())J.push(_);if(p%4!=0)p+=4-p%4;
X=z+p}return J};xd.LE=function(b,X,q){for(var N=0;N<q.length;N++){var J=q[N];X+=4;var _=X;X=bN.Zd(b,X,J);
var p=X-_;e.jy(b,_-4,p);if(p%4!=0)_+=4-p%4;X=_+p}return X};function _T(){}_T.UU=function(b){var X=new Uint8Array(b),q=[],N=0,J=e.Dt(X,N);
N+=2;if(J!=4){throw"Unknown version of curves: "+J}var _=e.Dt(X,N);N+=2;for(var p=0;p<_;p++){var z=_T.ZM(X,N);
N+=2+2*z.length;q.push(z)}if(N==X.length)return q;var g=e.uT(X,N,4);N+=4;var W=e.Dt(X,N);N+=2;var o=e.Dt(X,N);
N+=2;if(o!=0)throw"extra curves for channels";return q};_T.yT=function(b,X,q){var N=X,J=[],_=b[X];X+=3;
var p=e.o(b,X);X+=4;for(var z=0;z<4;z++){var g=p>>>z&1;if(g){if(_==0){var W=_T.ZM(b,X);X+=2+2*W.length}else{var W=_T.xYL(b,X);
X+=256}J.push(W)}else J.push(_==0?[0,0,255,255]:_T.xYr())}var o=nm.Z$("curv");for(var z=0;z<4;z++){if(_==0){var y=J[z],D=[];
for(var m=0;m<y.length;m+=2)D.push(x.BJ.Jo(y[m],y[m+1],!0));_T.DA(o,z,D)}else _T.DA(o,z,J[z])}return o};
_T.xYr=function(){var b=[];for(var X=0;X<256;X++)b.push(X);return b};_T.DA=function(b,X,q){var N=_V.Bv("CrvA",X);
if(q.length<256)N.Crv={t:"VlLs",v:q};else{N.Mpng={t:"VlLs",v:[]};for(var J=0;J<256;J++)N.Mpng.v[J]={t:"long",v:q[J]}}N={t:"Objc",v:N};
var _=b.Adjs.v,p=_V.rc(_,X);if(p==-1)_.push(N);else _[p]=N};_T.zB=function(b,X){var q=b.Adjs.v,N=_V.rc(q,X);
if(N==-1){if(q.length==0||q[0].v.Crv)return[x.BJ.Jo(0,0,!0),x.BJ.Jo(255,255,!0)];var J=[];for(var _=0;
_<256;_++)J.push(_);return J}var p=q[N].v,z=p.Crv;if(z)return z.v;var J=[];for(var _=0;_<256;_++)J.push(p.Mpng.v[_].v);
return J};_T.ZM=function(b,X){var q=[],N=e.Dt(b,X);X+=2;for(var J=0;J<N;J++){var _=e.Dt(b,X);X+=2;var p=e.Dt(b,X);
X+=2;q.push(p,_)}return q};_T.xYd=function(b,X,q){var N=q.length/2;e.ge(b,X,N);X+=2;for(var J=0;J<N;
J++){e.ge(b,X,q[J*2+1]);X+=2;e.ge(b,X,q[J*2+0]);X+=2}};_T.xYL=function(b,X){var q=[];for(var N=0;N<256;
N++)q.push(b[X+N]);return q};_T.xYN=function(b,X,q){b.Sd(X,256);for(var N=0;N<256;N++)b.data[X+N]=q[N]};
_T.yX=function(b,X,q){var N=[];for(var J=0;J<4;J++){var _=_T.zB(q,J);if(_.length==256)N.push(_);else{var p=[];
for(var z=0;z<_.length;z++)p.push(_[z].v.Hrzn.v,_[z].v.Vrtc.v);N.push(p)}}var g=X,W=N[0].length==256?1:0;
b.Sd(X,3);b.data[X]=W;b.data[X+1]=0;b.data[X+2]=1;X+=3;e.jy(b,X,15);X+=4;for(var J=0;J<4;J++){var o=N[J];
if(W==0){_T.xYd(b,X,o);X+=2+2*o.length}else{_T.xYN(b,X,o);X+=256}}return X-g};function xz(){}xz.yT=function(b,X,q){var N={},J=e.Dt(b,X);
X+=2;N.md=b[X]==1;X++;X++;N.Hh=[e.aF(b,X),e.aF(b,X+2),e.aF(b,X+4)];X+=6;N.Hv=[e.aF(b,X),e.aF(b,X+2),e.aF(b,X+4)];
X+=6;N.lI=[];for(var _=0;_<6;_++){var p={};p.ay=[e.aF(b,X),e.aF(b,X+2),e.aF(b,X+4),e.aF(b,X+6)];X+=8;
p.hV=[e.aF(b,X),e.aF(b,X+2),e.aF(b,X+4)];X+=6;N.lI.push(p)}var z=nm.Z$("hue2"),g=N;if(z.Clrz==null)z.Clrz={t:"bool",v:!1};
z.Clrz.v=g.md;for(var _=0;_<7;_++){var W=_==0?g.md?g.Hh:g.Hv:g.lI[_-1];xz.DA(z,_,W)}return z};xz.xYD=function(b){return{classID:"Hst2",H:{t:"long",v:b[0]},Strt:{t:"long",v:b[1]},Lght:{t:"long",v:b[2]}}};
xz.rc=function(b,X){for(var q=0;q<b.length;q++){var N=b[q].v.LclR;if(X==0&&N==null||N!=null&&N.v==X)return q}return-1};
xz.DA=function(b,X,q){var N=X==0?q:q.hV,J=xz.xYD(N);if(X!=0){var _=q.ay;J.LclR={t:"long",v:X},J.BgnR={t:"long",v:_[0]};
J.BgnS={t:"long",v:_[1]};J.EndS={t:"long",v:_[2]};J.EndR={t:"long",v:_[3]}}J={t:"Objc",v:J};var p=b.Adjs.v,z=xz.rc(p,X);
if(z==-1)p.push(J);else p[z]=J};xz.zB=function(b,X){var q=b.Adjs.v,N=xz.rc(q,X);if(N==-1){if(X==0)return[0,0,0];
else return[{ay:[315,345,15,45],hV:[0,0,0]},{ay:[15,45,75,105],hV:[0,0,0]},{ay:[75,105,135,165],hV:[0,0,0]},{ay:[135,165,195,225],hV:[0,0,0]},{ay:[195,225,255,285],hV:[0,0,0]},{ay:[255,285,315,345],hV:[0,0,0]}][X-1]}var J=q[N].v,_=[J.H.v,J.Strt.v,J.Lght.v];
if(X==0)return _;return{hV:_,ay:[J.BgnR.v,J.BgnS.v,J.EndS.v,J.EndR.v]}};xz.yX=function(b,X,q){var N={md:q.Clrz.v,lI:[]};
N.Hh=N.Hv=xz.zB(q,0);for(var J=1;J<7;J++)N.lI.push(xz.zB(q,J));var _=2+2+12+6*14,p=b.data;b.Sd(X,_);
e.Dn(p,X,2);X+=2;p[X]=N.md?1:0;X++;X++;e.Cu(p,X+0,N.Hh[0]);e.Cu(p,X+2,N.Hh[1]);e.Cu(p,X+4,N.Hh[2]);X+=6;
e.Cu(p,X+0,N.Hv[0]);e.Cu(p,X+2,N.Hv[1]);e.Cu(p,X+4,N.Hv[2]);X+=6;for(var J=0;J<6;J++){var z=N.lI[J].ay,g=N.lI[J].hV;
e.Cu(p,X+0,z[0]);e.Cu(p,X+2,z[1]);e.Cu(p,X+4,z[2]);e.Cu(p,X+6,z[3]);X+=8;e.Cu(p,X+0,g[0]);e.Cu(p,X+2,g[1]);
e.Cu(p,X+4,g[2]);X+=6}return _};function _V(){}_V.UU=function(b){var X=new Uint8Array(b),q=2,N=[];for(var J=0;
J<29;J++){var _=[];N.push(_);for(var p=0;p<5;p++)_.push(e.Dt(X,q+J*10+p*2))}q+=29*10;if(q<X.length){var z=e.uT(X,q,4);
q+=4;var g=e.Dt(X,q);q+=2;var W=e.Dt(X,q);q+=2;var o=W-29;for(var J=0;J<o;J++){var _=[];N.push(_);for(var p=0;
p<5;p++)_.push(e.Dt(X,q+J*10+p*2))}}var y=nm.Z$("levl");for(var J=0;J<4;J++)_V.DA(y,J,N[J]);return y};
_V.Bv=function(b,X){var q=["Cmps","Rd","Grn","Bl"],N={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:q[X]}}]};
return{classID:b,Chnl:N}};_V.rc=function(b,X){var q={Cmps:0,Rd:1,Grn:2,Bl:3};for(var N=0;N<b.length;
N++){var J=b[N].v,_=q[J.Chnl.v[0].v.enum];if(_==X)return N}return-1};_V.DA=function(b,X,q){var N=_V.Bv("LvlA",X);
N.Inpt={t:"VlLs",v:[{t:"long",v:q[0]},{t:"long",v:q[1]}]};N.Otpt={t:"VlLs",v:[{t:"long",v:q[2]},{t:"long",v:q[3]}]};
N.Gmm={t:"doub",v:q[4]/100};N={t:"Objc",v:N};var J=b.Adjs.v,_=_V.rc(J,X);if(_==-1)J.push(N);else J[_]=N};
_V.zB=function(b,X){var q=[0,255,0,255,100],N=b.Adjs.v,J=_V.rc(N,X);if(J==-1)return q;var _=N[J].v;if(_.Inpt){q[0]=_.Inpt.v[0].v;
q[1]=_.Inpt.v[1].v}if(_.Otpt){q[2]=_.Otpt.v[0].v;q[3]=_.Otpt.v[1].v}if(_.Gmm){q[4]=Math.round(_.Gmm.v*100)}return q};
_V.oM=function(b,X){var q=[],J=0;for(var N=0;N<4;N++)q.push(_V.zB(X,N));while(q.length<29)q.push([0,255,0,255,100]);
b.Sd(0,2+10*29);e.Dn(b.data,J,2);J+=2;for(var N=0;N<29;N++){var _=q[N];for(var p=0;p<5;p++)e.Dn(b.data,J+N*10+p*2,_[p])}J+=29*10;
if(q.length==29)return J;b.Sd(J,8+10*(q.length-29));e.hd(b.data,J,"Lvls");J+=4;e.Dn(b.data,J,3);J+=2;
e.Dn(b.data,J,q.length);J+=2;var z=q.length-29;for(var N=0;N<z;N++){var _=q[29+N];for(var p=0;p<5;p++)e.Dn(b.data,J+N*10+p*2,_[p])}J+=10*z;
return J};function Kz(){}Kz.UU=function(b){var X=new Uint8Array(b),q=2,N={mL:[],lT:[]},J=e.uT(X,q,4);
q+=4;var _=e.Dt(X,q);q+=2;var p=e.o(X,q);q+=4;N.mL=xd.LH(X,q,p);q+=p;var z=e.o(X,q);q+=4;for(var g=0;
g<z;g++){var W=e.o(X,q);q+=4;var o=q,y={ic:{},zh:{}};N.lT.push(y);q+=4;q+=nf.yd(X,y.ic,q);q+=4;q+=nf.yd(X,y.zh,q);
q=o+W;var D=y.zh.blendOptions,m=y.zh.Lefx;if(D&&Object.keys(D.v).length>1){}if(m){if(m.v.masterFXSwitch==null)m.v.masterFXSwitch={t:"bool",v:!0};
bO.Ib(m.v)}}return N};Kz.tk=function(b,X){b.ic.Nm.v=X};Kz.oM=function(b){var X=new _e,q=0;e.ge(X,q,2);
q+=2;e.Ya(X,q,"8BSL");q+=4;e.ge(X,q,3);q+=2;var N=q;q+=4;q=xd.LE(X,q,b.mL);e.jy(X,N,q-N-4);var J=b.lT.length;
e.jy(X,q,J);q+=4;for(var _=0;_<J;_++){q+=4;var p=q,z=b.lT[_];e.jy(X,q,16);q+=4;q+=nf.wc(X,z.ic,q);var g=z.zh.Lefx;
if(g){z.zh.Lefx=JSON.parse(JSON.stringify(g));bO.BW(z.zh.Lefx.v)}e.jy(X,q,16);q+=4;q+=nf.wc(X,z.zh,q);
if(g)z.zh.Lefx=g;e.jy(X,p-4,q-p)}return X.data.slice(0,q).buffer};function gT(){}gT.yT=function(b,X,q){var N=e.Dt(b,X);
X+=2;var J={};J.TM=e.Dt(b,X)==1;X+=2;J.II=[];for(var _=0;_<10;_++){var p=[];J.II.push(p);for(var z=0;
z<4;z++)p.push(e.aF(b,X+z*2));X+=8}var g=nm.Z$("selc");g.Mthd.v.CrcM=J.TM?"Absl":"Rltv";for(var _=1;
_<10;_++)gT.DA(g,_-1,J.II[_]);return g};gT.Lj="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
gT.Bv=function(b,X){var q=["Cmps","Rd","Grn","Bl"],N={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:q[X]}}]};
return{classID:b,Chnl:N}};gT.rc=function(b,X){var q=gT.Lj;for(var N=0;N<b.length;N++){var J=b[N].v,_=q.indexOf(J.Clrs.v.Clrs);
if(_==X)return N}return-1};gT.DA=function(b,X,q){var N=["Cyn","Mgnt","Ylw","Blck"],J={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:gT.Lj[X]}}};
for(var _=0;_<4;_++)J[N[_]]={t:"UntF",v:{type:"#Prc",val:q[_]}};J={t:"Objc",v:J};var p=b.ClrC.v,z=gT.rc(p,X);
if(z==-1)p.push(J);else p[z]=J};gT.zB=function(b,X){var q=[0,0,0,0],N=b.ClrC.v,J=gT.rc(N,X);if(J==-1)return q;
var _=["Cyn","Mgnt","Ylw","Blck"];for(var p=0;p<4;p++)if(N[J].v[_[p]])q[p]=N[J].v[_[p]].v.val;return q};
gT.yX=function(b,X,q){var N={TM:q.Mthd.v.CrcM=="Absl",II:[[0,0,0,0]]};for(var J=0;J<9;J++)N.II.push(gT.zB(q,J));
b.Sd(X,84);e.Dn(b.data,X,1);X+=2;e.Dn(b.data,X,N.TM?1:0);X+=2;for(var J=0;J<10;J++){var _=N.II[J];for(var p=0;
p<4;p++)e.Cu(b.data,X+p*2,_[p]);X+=8}return 84};function SB(){}SB.Z$=function(){return{vW:new R(0,0,50,50),ic:"",WC:"play",s:x.g.lQ.zA([.1,.1,.9,.5,.1,.9],0)}};
SB.UU=function(b){b=new Uint8Array(b);var X=0,q=[],N=Date.now(),J=e.uT(b,0,4);X+=4;var _=e.o(b,X);X+=4;
var p=e.o(b,X);X+=4;for(var z=0;z<p;z++){var g=e.PB(b,X);X+=g.length*2+4+2;if((g.length&1)==0)X+=2;var W=e.o(b,X);
X+=4;var o=e.o(b,X);X+=4;var y=X,D=e.MZ(b,y).Jg;y+=D.length+1;var m=e.GK(b,y);y+=16;var k=SB.LG(b,y,o-(y-X)),O=x.g.Je(k),L=x.j.Is(O),I=1/L.n,H=1/L.z;
x.g.SC(k,new nQ(I,0,0,H,-L.x*I,-L.y*H));q.push({WC:g,ic:D,s:k,vW:m});X+=o}return q};SB.tk=function(b,X){b.WC=X};
SB.oM=function(b){var X=new _e,q=0;e.Ya(X,q,"cush");q+=4;e.jy(X,q,2);q+=4;e.jy(X,q,b.length);q+=4;for(var N=0;
N<b.length;N++){var J=b[N],_=J.WC+"\0";e.MV(X,q,_);q+=4+_.length*2;if((_.length&1)==1)q+=2;e.jy(X,q,1);
q+=4;q+=4;var p=q;e.ee(X,q,J.ic);q+=J.ic.length+1;e.DN(X,q,J.vW);q+=16;X.Sd(q,J.s.length*26);SB.BQ(X.data,q,J.s,1,1);
q+=J.s.length*26;var z=q-p;if((z&3)!=0)z+=4-(z&3);e.jy(X,p-4,z);q=p+z}return X.data.slice(0,q).buffer};
SB.LG=function(b,X,q,N,J){if(N==null)N=1;if(J==null)J=1;var _=e.aF,p=e.xSf,z=[],g=Math.floor(q/26);for(var W=0;
W<g;W++){var o=X+W*26,y={},D=0;z.push(y);y.type=_(b,o);o+=2;if(y.type==6){D=24}if(y.type==8){y.all=_(b,o);
o+=2;D=22}if(y.type==0||y.type==3){y.length=_(b,o);o+=2;y.vR=_(b,o);o+=2;y.ap=_(b,o);o+=2;y.Q_=e.o(b,o);
o+=4;y.Qb=e.o(b,o);o+=4;D=10}if(y.type==1||y.type==2||y.type==4||y.type==5){var m,k;k=p(b,o);o+=4;m=p(b,o);
o+=4;y.jk=new Ue(m*N,k*J);k=p(b,o);o+=4;m=p(b,o);o+=4;y.P=new Ue(m*N,k*J);k=p(b,o);o+=4;m=p(b,o);o+=4;
y.p_=new Ue(m*N,k*J);D=0}for(var O=0;O<D;O++)if(b[o+O]!=0){console.log("Unexpected non-zero byte!",y,O,b[o+O])}}return z};
SB.BQ=function(b,X,q,N,J){var _=e.Cu,p=e.pO,z=q.length;for(var g=0;g<z;g++){var W=X+g*26,o=q[g];_(b,W,o.type);
W+=2;if(o.type==6){}if(o.type==8)_(b,W,o.all);if(o.type==0||o.type==3){_(b,W,o.length);W+=2;_(b,W,o.vR);
W+=2;_(b,W,o.ap);W+=2}if(o.type==1||o.type==2||o.type==4||o.type==5){p(b,W,o.jk.y/J);W+=4;p(b,W,o.jk.x/N);
W+=4;p(b,W,o.P.y/J);W+=4;p(b,W,o.P.x/N);W+=4;p(b,W,o.p_.y/J);W+=4;p(b,W,o.p_.x/N);W+=4}}};function bH(){}bH.UU=function(b){var X=new Uint8Array(b),q=[],N=0;
N=bH.ZR(X,N,q);if(N+3<X.length){q=[];N=bH.ZR(X,N,q)}return q};bH.ZR=function(b,X,q){var N=e.Dt,J=e.aF,_=N(b,X);
X+=2;var p=N(b,X);X+=2;for(var z=0;z<p;z++){var g=bH.D_(b,X);X+=10;if(_==2){g.Qf=e.PB(b,X);X+=4+g.Qf.length*2+2}q.push(g)}return X};
bH.D_=function(b,X){var q=e.Dt,N=e.aF,J=q(b,X),m=null;X+=2;var _=q(b,X);X+=2;var p=q(b,X);X+=2;var z=q(b,X);
X+=2;var g=q(b,X);X+=2;var W=1/65535,o=255/65535,y=100/65535,D=255/1e4;if(J==0)m={D:_*o,q:p*o,b:z*o};
else if(J==1){m=x.bY(_*W,p*W,z*W);m.D*=255;m.q*=255;m.b*=255}else if(J==2)m=x.Z.vx({classID:"CMYC",Cyn:{t:"doub",v:100-_*y},Mgnt:{t:"doub",v:100-p*y},Ylw:{t:"doub",v:100-z*y},Blck:{t:"doub",v:100-g*y}});
else if(J==7){var k=x.sK(_/100,N(b,X-6)/100,N(b,X-4)/100);m=k}else if(J==8){m={D:255-_*D,q:255-p*D,b:255-z*D}}else throw"e "+J+", ";
return m};bH.oM=function(b){var X=new _e,q=0,N=e.ge;N(X,q,2);q+=2;N(X,q,b.length);q+=2;for(var J=0;J<b.length;
J++){var _=b[J];X.Sd(q,10);bH.yc(X.data,q,_);q+=10;var p=(_.Qf?_.Qf:"")+"\0";e.MV(X,q,p);q+=4+p.length*2}return X.data.slice(0,q).buffer};
bH.tk=function(b,X){b.Qf=X};bH.yc=function(b,X,q){var N=65535/255,J=e.Dn;J(b,X,0);J(b,X+2,Math.round(q.D*N));
J(b,X+4,Math.round(q.q*N));J(b,X+6,Math.round(q.b*N));J(b,X+8,0)};function ga(){}ga.UU=function(b){var X=new Uint8Array(b),q=4,N={};
N.ds=e.PB(X,q);q+=4+N.ds.length*2+2;N.exp=X[q++]==1;N.L=[];var J=e.o(X,q);q+=4;for(var _=0;_<J;_++){var p={};
N.L.push(p);p.aP=e.Dt(X,q);q+=2;p.shift=X[q++]==1;p.xEb=X[q++]==1;p.color=e.Dt(X,q);q+=2;p.ds=e.PB(X,q);
q+=4+p.ds.length*2+2;p.exp=X[q++]==1;p.L=[];var _a=e.o(X,q);q+=4;for(var z=0;z<_a;z++){var g={};p.L.push(g);
g.exp=X[q++]==1;g.O=X[q++]==1;g.xEJ=X[q++]==1;g.xEz=X[q++];var W=e.uT(X,q,4);q+=4;if(W=="TEXT"){g.pn=ga.eU(X,q);
q+=4+g.pn.length}else if(W=="long"){g.pn=e.uT(X,q,4);q+=4}else throw"e";g.mt=ga.eU(X,q);q+=4+g.mt.length;
var o=e.pY(X,q);q+=4;if(o==-1){g.nv={};var y=nf.yd(X,g.nv,q);q+=y}}}console.log(N);var D=new Uint8Array(ga.oM(N));
for(var _=0;_<D.length;_++)if(D[_]!=X[_]){console.log(D.length,X.length);var m=4*(_>>>2)-16;console.log(e.IY(X,m,64));
console.log(e.IY(D,m,64));console.log(X.slice(m,m+64));console.log(D.slice(m,m+64));throw _}console.log(N);
return[N]};ga.eU=function(b,X){var q=e.o(b,X);return e.uT(b,X+4,q)};ga.ZF=function(b,X,q){e.jy(b,X,q.length);
e.Ya(b,X+4,q)};ga.oM=function(b){var X=new _e,q=0;e.jy(X,q,16);q+=4;e.MV(X,q,b.ds+"\0");q+=4+b.ds.length*2+2;
X.Sd(q,1);X.data[q++]=b.exp?1:0;var N=b.L.length;e.jy(X,q,N);q+=4;for(var J=0;J<N;J++){var _=b.L[J];
e.ge(X,q,_.aP);q+=2;X.Sd(q,2);X.data[q++]=_.shift?1:0;X.data[q++]=_.xEb?1:0;e.ge(X,q,_.color);q+=2;e.MV(X,q,_.ds+"\0");
q+=4+_.ds.length*2+2;X.Sd(q,1);X.data[q++]=_.exp?1:0;var _a=_.L.length;e.jy(X,q,_a);q+=4;for(var p=0;
p<_a;p++){var z=_.L[p];X.Sd(q,4);X.data[q++]=z.exp?1:0;X.data[q++]=z.O?1:0;X.data[q++]=z.xEJ?1:0;X.data[q++]=z.xEz;
var g=z.pn=="LqFy"||z.pn=="Avrg"||z.pn=="GEfc";e.Ya(X,q,g?"long":"TEXT");q+=4;if(!g){ga.ZF(X,q,z.pn);
q+=4+z.pn.length}else{e.Ya(X,q,z.pn);q+=4}ga.ZF(X,q,z.mt);q+=4+z.mt.length;e.jP(X,q,z.nv?-1:0);q+=4;
if(z.nv){var W=nf.wc(X,z.nv,q);q+=W}}}return X.data.slice(0,q).buffer};function Kc(){}Kc.UU=function(b){var X=new Uint8Array(b),q=0,N=e.o(X,q),g;
q+=4;var J=e.uT(X,q,8);q+=8;var _=e.Gs(X,q);q+=4;var p=e.Gs(X,q);q+=4;var z=e.Gs(X,q);q+=4;if(N==2){g=new Float32Array(b,32,b.byteLength-32>>>2)}else if(N==3||N==4){g=new Float32Array(p*z*2);
var W=0,o=0,y=!0;q=N==3?32:16+8+40;while(q<X.length){var D=e.Gs(X,q);q+=4;if(y)o+=D;else{for(var m=0;
m<D;m++){g[W+o+m<<1]=e.q_(X,q);g[(W+o+m<<1)+1]=e.q_(X,q+4);q+=8}o+=D}y=!y;if(D!=0&&o==p){W+=p;o=0;y=!0;
if(W==p*z)break}}}else throw"unknown Mesh version: "+N;return{w$:p,ai:z,map:g}};Kc.Bn=function(b){var X=b.w$,q=b.ai,N=b.map,J=new Uint8Array(32+q*X*8+q*8),_=0,p=0;
e.ni(J,_,3);_+=4;e.hd(J,_,"yfqLhseM");_+=8;e.iL(J,_,2);_+=4;e.iL(J,_,X);_+=4;e.iL(J,_,q);_+=4;e.iL(J,_,0);
_+=4;e.iL(J,_,1);_+=4;for(var z=0;z<q;z++){e.iL(J,_,0);_+=4;e.iL(J,_,X);_+=4;for(var g=0;g<X;g++){e.qK(J,_,N[p]);
e.qK(J,_+4,N[p+1]);p+=2;_+=8}}return J.buffer};function SH(){}SH.UU=function(b){var X=new Uint8Array(b),q=0,N=e.uT(X,q,4);
q+=4;var J=e.Dt(X,q);q+=2;var _=e.o(X,q);q+=4;var p=[];for(var z=0;z<_;z++){var g=e.o(X,q);q+=4;var W={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
p.push(W);var o=e.PB(X,q);W.Nm.v=o;q+=4+o.length*2+2;var y=e.Dt(X,q);q+=2;var D=e.Dt(X,q);q+=2;for(var m=0;
m<D;m++){var k=x.BJ.Jo(0,0,!0);k.v.Vrtc.v=e.Dt(X,q);q+=2;k.v.Hrzn.v=e.Dt(X,q);q+=2;W.Crv.v.push(k)}if(g==1){}else if(g==2){for(var m=0;
m<D;m++){W.Crv.v[m].v.Cnty.v=X[q]==1;q+=1}}else throw"error";var O=e.o(X,q);q+=4;var L=e.o(X,q);q+=4}return p};
SH.tk=function(b,X){b.Nm.v=X};SH.oM=function(b){var X=new _e,q=0;e.Ya(X,q,"8BFS");q+=4;e.ge(X,q,1);q+=2;
e.jy(X,q,b.length);q+=4;for(var N=0;N<b.length;N++){e.jy(X,q,2);q+=4;var J=b[N];e.MV(X,q,J.Nm.v+"\0");
q+=4+J.Nm.v.length*2+2;e.ge(X,q,2);q+=2;var _=J.Crv.v.length;e.ge(X,q,_);q+=2;for(var p=0;p<_;p++){var z=J.Crv.v[p];
e.ge(X,q,z.v.Vrtc.v);q+=2;e.ge(X,q,z.v.Hrzn.v);q+=2}X.Sd(q,_);for(var p=0;p<_;p++){X.data[q]=J.Crv.v[p].v.Cnty.v;
q++}e.jy(X,q,0);q+=4;e.jy(X,q,0);q+=4}return X.data.slice(0,q).buffer};function bN(){}bN.UU=function(b){var X=new Uint8Array(b),q=4,N=e.Dt(X,q);
q+=2;var J=e.o(X,q);q+=4;var _=[];for(var p=0;p<J;p++){var z={};_.push(z);q=bN.ZQ(X,q,z)}return _};bN.tk=function(b,X){b.name=X};
bN.oM=function(b){var X=new _e,q=0;e.Ya(X,q,"8BPT");q+=4;e.ge(X,q,1);q+=2;e.jy(X,q,b.length);q+=4;for(var N=0;
N<b.length;N++){q=bN.Zd(X,q,b[N])}return X.data.slice(0,q).buffer};bN.ZQ=function(b,X,q){var N=e.o(b,X);
X+=4;if(N!=1)alert("Unknown version of pattern");var J=e.o(b,X);X+=4;if(J!=1&&J!=2&&J!=3)console.log("Unsupported mode of pattern: "+J);
var _=e.Dt(b,X);X+=2;var p=e.Dt(b,X);X+=2;q.h=new R(0,0,p,_);q.name=e.PB(b,X);X+=4+2*q.name.length+2;
var z=b[X];X++;q.id=e.uT(b,X,z);X+=q.id.length;var g=-1;if(J==2){g=X;X+=3*256+4}var W=new x.Sm(p*_);
X=bN.xY$(b,X,W);if(J==2){for(var o=0;o<W.D.length;o++){var y=3*W.D[o];W.D[o]=b[g+y+0];W.q[o]=b[g+y+1];
W.b[o]=b[g+y+2]}}q.Dl=x.K(q.h.c()*4);x.bL(W,q.Dl);return X};bN.Zd=function(b,X,q){e.jy(b,X,1);X+=4;e.jy(b,X,3);
X+=4;e.ge(b,X,q.h.z);X+=2;e.ge(b,X,q.h.n);X+=2;e.MV(b,X,q.name+"\0");X+=4+2*q.name.length+2;e.lO(b,X,q.id.length);
X++;e.Ya(b,X,q.id);X+=q.id.length;var N=new x.Sm(q.h.c());x.KY(q.Dl,N);X=bN.xLR(b,X,N,q);return X};bN.xY$=function(b,X,q){var N=X,J={h:null,Yk:[],xwO:null,HR:null},_=e.o(b,X);
X+=4;var p=e.o(b,X);X+=4;J.h=e.GK(b,X);X+=16;var z=e.o(b,X);X+=4;for(var g=0;g<z+2;g++){var W=e.o(b,X);
X+=4;if(W==0)continue;var o=e.o(b,X);X+=4;if(o==0)continue;var y=e.o(b,X);X+=4;var D=e.GK(b,X);X+=16;
var m=e.Dt(b,X);X+=2;var k=b[X];X++;var O=x_.e_(!1,y,b,D.n,D.z,X,k);if(g<z)J.Yk.push(O);if(g==z)J.xwO=O;
if(g==z+1)J.HR=O;X+=o-23}if(!J.h.qa()){if(J.Yk[0])q.D=J.Yk[0];if(J.Yk[1])q.q=J.Yk[1];else q.q=x.clone(J.Yk[0]);
if(J.Yk[2])q.b=J.Yk[2];else q.b=x.clone(J.Yk[0]);if(J.HR)q.i=J.HR;else x.set(q.i,255)}return X};bN.xLR=function(b,X,q,N){var J=X,_={h:N.h,Yk:[q.D,q.q,q.b],xwO:null,HR:q.i};
e.jy(b,X,3);X+=4;e.jy(b,X,0);X+=4;e.DN(b,X,_.h);X+=16;e.jy(b,X,24);X+=4;for(var p=0;p<24+2;p++){var z=X,g=p<3||p==25?1:0;
e.jy(b,X,g);X+=4;if(g==0)continue;e.jy(b,X,0);X+=4;e.jy(b,X,8);X+=4;e.DN(b,X,_.h);X+=16;e.ge(b,X,8);
X+=2;e.lO(b,X,1,1);X++;var W=p<3?_.Yk[p]:_.HR;b.Sd(X,N.h.c()+2);X=x_.IK(W,b.data,N.h.n,N.h.z,X,1);e.jy(b,z+4,X-z-8)}e.jy(b,J+4,X-J-8);
return X};function bC(){}bC.UU=function(b){var X=new Uint8Array(b),q=0,N=e.uT(X,q,4);q+=4;var J=e.Dt(X,q);
q+=2;var _=[];if(J<=3){var p=e.Dt(X,q);q+=2;for(var z=0;z<p;z++){var g=X[q++],W=e.uT(X,q,g);q+=g;var o=bC.Zl(X,q,W),y=o[0];
q=o[1];_.push(y);q+=6}}else{var o={},D=nf.yd(X,o,q+4),m=o.GrdL.v;for(var z=0;z<m.length;z++)_[z]=m[z].v.Grad.v}return _};
bC.tk=function(b,X){b.Nm.v=X};bC.oM=function(b){var X=new _e,q=0;e.Ya(X,q,"8BGR");q+=4;e.ge(X,q,5);q+=2;
e.jy(X,q,16);q+=4;var N={classID:"null",GrdL:{t:"VlLs",v:[]}},J=N.GrdL.v;for(var _=0;_<b.length;_++)J[_]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:b[_]}}};
q+=nf.wc(X,N,q);return X.data.slice(0,q).buffer};bC.Zl=function(b,X,q){var N={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{vd:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:q},Trns:{t:"VlLs",v:[]}},J=e.Dt(b,X);
X+=2;if(J==0)throw"e";for(var _=0;_<J;_++){var p=e.o(b,X),z=e.o(b,X+4),g=bH.D_(b,X+8),W={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:g.D},Grn:{t:"doub",v:g.q},Bl:{t:"doub",v:g.b}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:p},Mdpn:{t:"long",v:z}}};
N.Clrs.v.push(W);X+=20}var o=e.Dt(b,X);X+=2;for(var _=0;_<o;_++){var p=e.o(b,X),z=e.o(b,X+4),y=e.Dt(b,X+8),W={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*y/255)}},Lctn:{t:"long",v:p},Mdpn:{t:"long",v:z}}};
N.Trns.v.push(W);X+=10}return[N,X]};bC.xLu=function(b,X,q){var N=q.Clrs.v.length;e.ge(b,X,N);X+=2;for(var J=0;
J<N;J++){var _=q.Clrs.v[J];e.jy(b,X,_.v.Lctn.v);e.jy(b,X+4,_.v.Mdpn.v);e.ge(b,X+8,0);var p=x.Z.Yr(x.Z.vx(_.v.Clr.v)),z=[p.Rd.v,p.Grn.v,p.Bl.v,0];
for(var g=0;g<4;g++)e.ge(b,X+10+g*2,Math.round(65535*(z[g]/255)));X+=20}var W=q.Trns.v.length;e.ge(b,X,W);
X+=2;for(var J=0;J<W;J++){var _=q.Trns.v[J];e.jy(b,X,_.v.Lctn.v);e.jy(b,X+4,_.v.Mdpn.v);e.ge(b,X+8,Math.round(255*_.v.Opct.v.val/100));
X+=10}return X};function KX(){}KX.UU=function(b){var X=new Uint8Array(b),q=[],N=[],J=[],_=0,p=e.uT(X,_,4);
_+=4;var z=e.o(X,_);_+=4;var g=e.o(X,_);_+=4;while(_<X.length){var W=e.uT(X,_,4);_+=4;var o=e.uT(X,_,4);
_+=4;var y=e.o(X,_);_+=4;if(o=="tppa"){N=xd.LH(X,_,y);_+=y}else if(o=="tpbd"){J=xd.Zr(X,_,y,1,1);_+=y}else if(o=="tptp"){var D=e.o(X,_);
_+=4;for(var m=0;m<D;m++){var k=e.PB(X,_);_+=6+k.length*2;_+=4;var O={};_+=nf.yd(X,O,_);q.push([k,O])}while((_&3)!=0)_++}else{console.log(X.slice(_-8,_+64));
console.log(e.uT(X,_-8,64));throw o}}return{Ho:J,Oh:N,list:q}};KX.tk=function(b,X){b[0]=X};KX.oM=function(b){var X=new _e,q=0;
e.Ya(X,q,"8BTP");q+=4;e.jy(X,q,3);q+=4;e.jy(X,q,1);q+=4;var N=[b.Oh,b.Ho,b.list];for(var J=0;J<3;J++){if(N[J].length==0)continue;
e.Ya(X,q,"8BIM");q+=4;var _=["tppa","tpbd","tptp"][J];e.Ya(X,q,_);q+=4;var p=q;q+=4;if(_=="tppa"){q=xd.LE(X,q,b.Oh)}else if(_=="tpbd"){q=xd.ZB(X,q,b.Ho)}else if(_=="tptp"){e.jy(X,q,b.list.length);
q+=4;for(var z=0;z<b.list.length;z++){var g=b.list[z];e.MV(X,q,g[0]+"\0");q+=6+g[0].length*2;e.jy(X,q,16);
q+=4;q+=nf.wc(X,g[1],q)}}e.jy(X,p,q-p-4);while((q&3)!=0)q++;X.Sd(q,0)}return X.data.slice(0,q).buffer};
function x$(){}x$.UU=function(b,X){var q=new Uint8Array(b),N;if(e.o(q,0)==q.length)N="icc";else if(q[0]=="<".charCodeAt(0))N="look";
else if(e.Bs(q,"LUT_3D_SIZE")!=-1)N="cube";else N="3DL";if(N!="icc"){var J=x$.xLj(q,N),_=x$.xLY(J[0],J[1]);
q=_}var p=[];for(var z=0;z<q.length;z++)p.push(q[z]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:X?X:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:p}}]};
x$.oM=function(b){var X=b[0],q=new Uint8Array(X.profile.v);return q.buffer};x$.tk=function(b,X){b.Nm.v=X};
x$.xLY=function(b,X){var q=new _e,N=128;q.Sd(0,128);var J=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var _=0;_<J.length;_++)q.data[_]=J[_];var p=["desc","A2B0"],z=p.length,g=128+4+z*12;e.jy(q,N,z);
N+=4;for(var W=0;W<z;W++){var o=p[W];e.Ya(q,N,o);N+=4;e.jy(q,N,g);N+=4;var y=g;if(o=="desc"){e.Ya(q,y,"mluc");
y+=4;y+=4;e.jy(q,y,1);y+=4;e.jy(q,y,12);y+=4;e.Ya(q,y,"enUS");y+=4;var D="ICC by Photopea\0",m=D.length*2+2;
e.jy(q,y,m);y+=4;e.jy(q,y,28);y+=4;q.Sd(y,m);for(var _=0;_<D.length;_++)q.data[y+_*2+1]=D.charCodeAt(_);
y+=m}if(o=="A2B0"){e.Ya(q,y,"mAB ");y+=4;y+=4;q.Sd(y,4);q.data[y]=3;q.data[y+1]=3;y+=4;q.Sd(y,4*5);y+=4*3;
e.jy(q,y,y+8-g);y+=4;y+=4;q.Sd(y,20);q.data[y]=b;q.data[y+1]=b;q.data[y+2]=b;y+=16;q.data[y]=2;y+=4;
var k=b*b*b*3;q.Sd(y,k*2);for(var _=0;_<k;_++)e.Dn(q.data,y+_*2,Math.max(0,Math.min(65535,Math.round(X[_]*65535))));
y+=k*2}var O=y-g;while((O&3)!=0)O++;e.jy(q,N,O);N+=4;g+=O}e.jy(q,0,g);return q.data.slice(0,g)};x$.xLj=function(b,X){X="LUTFormat"+X.toUpperCase();
var q=[],N=0,J=e.Re(b,0,b.length),_="";for(var p=0;p<b.length&&_=="";p++){if(b[p]==10)_="\n";else if(b[p]==13){_="\r";
if(b[p+1]==10)_+="\n"}}if(X=="LUTFormatCUBE"){var z=J.split(_);for(var p=0;p<z.length;p++){if(z[p]==""||z[p][0]=="#")continue;
var g=z[p].split(" "),W=g[0];if(W=="LUT_3D_SIZE"){N=parseInt(g[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(W)!=-1)continue;
q.push(parseFloat(g[0]),parseFloat(g[1]),parseFloat(g[2]))}q=x$.ZW(N,q)}else if(X=="LUTFormat3DL"){var z=J.split(_),o=1/4095;
for(var p=0;p<z.length;p++){var y=z[p];if(y==""||y=="3DMESH"||y.startsWith("Mesh")||y[0]=="#")continue;
var g=y.split(" "),W=g[0];if(N==0){N=g.length;continue}q.push(parseFloat(g[0])*o,parseFloat(g[1])*o,parseFloat(g[2])*o)}}else if(X=="LUTFormatLOOK"){var D=new DOMParser,m=D.parseFromString(J,"text/xml"),k=m.getElementsByTagName("LUT")[0],O=k.children[0].textContent;
N=parseInt(JSON.parse(O));var L=k.children[1].textContent;L=L.replace(/"/g,"").replace(/\s/g,"");var I=3*N*N*N,H=I*4,Y=new Uint8Array(H);for(var p=0;p<H;p++){var n=L.charCodeAt(p*2),w=L.charCodeAt(p*2+1),t=n<58?n-48:n-55,j=w<58?w-48:w-55;Y[p]=(t<<4)+j}for(var p=0;p<I;p++)q.push(e.q_(Y,p<<2));q=x$.ZW(N,q)}else throw X;return[N,q]};x$.ZW=function(b,X){var q=[],N=b*b*b;for(var J=0;J<N;J++)q.push(0,0,0);for(var _=0;_<b;_++)for(var p=0;p<b;p++)for(var z=0;z<b;z++){var J=3*(z+p*b+_*b*b),g=3*(_+p*b+z*b*b);q[g]=X[J];q[g+1]=X[J+1];q[g+2]=X[J+2]}return q};function nf(){}nf.yd=function(b,X,q,N){var J=q,_,p=e.o(b,q);if(p==0){_="";q+=4}else{_=e.PB(b,q);q+=4+2*_.length+2}if(_!="")X.__name=_;if(N)console.log("---------------------",_,_.length);X.classID=nf.aB(b,q);if(N)console.log("- reading descriptor",X.classID,q);q+=nf.Px(b,q);var z=e.pY(b,q);q+=4;for(var g=0;g<z;g++){if(N)console.log(b.slice(q,q+32),e.IY(b,q,32));var W=nf.aB(b,q);q+=nf.Px(b,q);if(N)console.log(W);var o=nf.ZI(b,q,N);X[W]=o;q+=o.size;delete o.size}return q-J};nf.wc=function(b,X,q,N){var J=q,_=X.__name;if(_==null)_="";_+="\0";e.MV(b,q,_);q+=4+2*_.length;nf.Pn(b,q,X.classID);q+=nf.Px(b.data,q);e.jP(b,q,Object.keys(X).length-1-(X.__name==null?0:1));q+=4;for(var p in X){if(p=="classID")continue;if(p=="__name")continue;nf.Pn(b,q,p);q+=nf.Px(b.data,q);q+=nf.ZJ(b,q,X[p])}return q-J};nf.ZI=function(b,X,q){var N=X,J=e.uT(b,X,4);X+=4;var _={size:0,t:J,v:null};if(q)console.log("reading key",J,N);switch(J){case"obj ":case"VlLs":_.v=[];var p=e.o(b,X);X+=4;for(var z=0;z<p;z++){var g=nf.ZI(b,X,q);X+=g.size;delete g.size;_.v.push(g)}break;case"UntF":_.v={type:e.uT(b,X,4),val:e.V$(b,X+4)};X+=12;break;case"doub":_.v=e.V$(b,X);X+=8;break;case"bool":_.v=b[X]==1;X+=1;break;case"long":_.v=e.pY(b,X);X+=4;break;case"comp":_.v=e.pY(b,X+4);X+=8;break;case"Objc":_.v={};var W=nf.yd(b,_.v,X,q);X+=W;break;case"TEXT":var o=e.o(b,X);if(o==0){_.v="";X+=4}else{_.v=e.PB(b,X);X+=4+_.v.length*2+2}break;case"enum":var y=nf.aB(b,X);X+=nf.Px(b,X);var D=nf.aB(b,X);X+=nf.Px(b,X);_.v={};_.v[y]=D;break;case"tdta":var m=e.pY(b,X);X+=4;_.v=[];for(var z=0;z<m;z++)_.v.push(b[X+z]);X+=m;break;case"ObAr":var k=e.o(b,X);X+=4;var O=e.PB(b,X);X+=4+2*O.length+2;if(O!="")throw O;var L=nf.aB(b,X);X+=4+Math.max(4,L.length);_.v={classID:L,arr:[]};var I=e.o(b,X);X+=4;for(var z=0;z<I;z++){var L=nf.aB(b,X);X+=4+Math.max(4,L.length);var y=e.uT(b,X,4);X+=4;var H=e.uT(b,X,4);X+=4;var Y={id:L,type:y,uID:H,arr:[]};_.v.arr.push(Y);var n=e.o(b,X,4);X+=4;for(var w=0;w<n;w++){var t=e.V$(b,X);X+=8;Y.arr.push(t)}}break;case"Pth ":var j=X,m=e.o(b,X);X+=4;var E=e.uT(b,X,4);X+=4;var h=e.Gs(b,X);X+=4;var u=e.xbQ(b,X);X+=4+u.length*2;_.v={sig:E,pth:u};break;case"Clss":case"type":var u=e.PB(b,X);X+=4+u.length*2+2;var Z=nf.aB(b,X);X+=4+Math.max(4,Z.length);_.v={classID:Z};if(u!="")_.v.__name=u;break;case"prop":case"Enmr":case"indx":case"name":var A=nf.Lo[J],u=e.PB(b,X);X+=4+u.length*2+2;if(u.length!=0){console.log(J,u);throw"e"}_.v={};for(var z=0;z<A.length;z++){var Z=nf.aB(b,X);X+=4+Math.max(4,Z.length);_.v[A[z]]=Z}if(J=="name"){var u=e.PB(b,X);X+=4+u.length*2+2;_.v.val=u}if(J=="indx"){_.v.val=e.o(b,X);X+=4}break;case"alis":var m=e.o(b,X);X+=4;_.v=e.uT(b,X,m);X+=m;break;default:{console.log("unknown oskey: "+J+", "+N);throw"e";return _}}if(q)console.log(_.v,N);_.size=X-N;return _};nf.Lo={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"]};nf.ZJ=function(b,X,q){var N=X,J=q.t;q=q.v;e.Ya(b,X,J);X+=4;switch(J){case"obj ":case"VlLs":e.jP(b,X,q.length);X+=4;for(var _=0;_<q.length;_++){var p=nf.ZJ(b,X,q[_]);X+=p}break;case"UntF":e.Ya(b,X,q.type);e.zR(b,X+4,q.val);X+=12;break;case"doub":e.zR(b,X,q);X+=8;break;case"bool":e.lO(b,X,q?1:0,1);X+=1;break;case"long":e.jP(b,X,q);X+=4;break;case"comp":e.jP(b,X+4,q);X+=8;break;case"Objc":var p=nf.wc(b,q,X);X+=p;break;case"TEXT":e.MV(b,X,q+"\0");X+=4+q.length*2+2;break;case"enum":var z=Object.keys(q)[0],g=q[z];nf.Pn(b,X,z);X+=nf.Px(b.data,X);nf.Pn(b,X,g);X+=nf.Px(b.data,X);break;case"tdta":e.jy(b,X,q.length);X+=4;e.iR(b,X,q);X+=q.length;break;case"ObAr":e.jy(b,X,q.arr[0].arr.length);X+=4;e.MV(b,X,"\0");X+=6;nf.Pn(b,X,q.classID);X+=4+Math.max(4,q.classID.length);e.jy(b,X,q.arr.length);X+=4;for(var W=0;W<q.arr.length;W++){var o=q.arr[W];nf.Pn(b,X,o.id);X+=4+Math.max(4,o.id.length);e.Ya(b,X,o.type);X+=4;e.Ya(b,X,o.uID);X+=4;e.jy(b,X,o.arr.length);X+=4;for(var _=0;_<o.arr.length;_++){e.zR(b,X,o.arr[_]);X+=8}}break;case"Pth ":var y=q.pth.length*2+4+8;e.jy(b,X,y);X+=4;e.Ya(b,X,q.sig);X+=4;e.PE(b,X,y);X+=4;e.xKb(b,X,q.pth);X+=q.pth.length*2+4;break;case"Clss":case"type":var D=q.__name;if(D==null)D="";e.MV(b,X,D+"\0");X+=4+D.length*2+2;var m=q.classID;nf.Pn(b,X,m);X+=4+Math.max(4,m.length);break;case"prop":case"Enmr":case"indx":case"name":var k=nf.Lo[J];e.jy(b,X,1);X+=6;for(var W=0;W<k.length;W++){var m=q[k[W]];nf.Pn(b,X,m);X+=4+Math.max(4,m.length)}if(J=="name"){e.MV(b,X,q.val+"\0");X+=4+q.val.length*2+2}if(J=="indx"){e.jy(b,X,q.val);X+=4}break;case"alis":var y=q.length;e.jy(b,X,y);X+=4;e.Ya(b,X,q);X+=y;break;default:console.log("unknown oskey: "+J);X=N;break}return X-N};nf.aB=function(b,X){var q=e.pY(b,X);if(q>1e3)throw"e";if(q==0)q=4;return e.uT(b,X+4,q).trim()};nf.Px=function(b,X){var q=e.pY(b,X);return q==0?8:4+q};nf.Pn=function(b,X,q){var N="warp list Comp xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby flow trim then else".split(" "),J=4<q.length||N.indexOf(q)!=-1;e.jP(b,X,J?q.length:0);e.Ya(b,X+4,q);if(q.length<4&&!J){var _="";for(var p=q.length;p<4;p++)_+=" ";e.Ya(b,X+4+q.length,_)}};nf.xIA=function(b){var X={};for(var q in b){if(q=="classID")X[q]=b[q];else if(q=="__name")X[q]=b[q];else X[q]=nf.ZX(b[q])}return X};nf.ZX=function(b){if(b.vd=="Objc")return nf.xIA(b.v);else if(b.vd=="VlLs"){var X=[];for(var q=0;q<b.v.length;q++)X.push(nf.ZX(b.v[q]));return X}else if(b.vd=="UntF")return b.v.val;else return b.v};function bO(){}bO.ZN=function(b,X,q,N,J,_){while(X<q){var p=e.uT(b,X,4);X+=4;if(p!="8BIM"&&p!="8B64"){console.log("layer information signature error! "+p,"PSB = "+J);alert("Error in PSD file: wrong signature.");return q}var z=e.uT(b,X,4);X+=4;var g=e.pY(b,X);X+=4;if(J&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd".split(" ").indexOf(z)!=-1){g=g<<32|e.pY(b,X);X+=4}if(J&&["pths"].indexOf(z)!=-1){g=g<<32|e.pY(b,X);X+=4}var W=["lrFX","PlLd"];if(W.indexOf(z)!=-1){if(g%4!=0)g+=4-g%4;X+=g;continue}switch(z){case"iOpa":N[z]=b[X];break;case"brst":N[z]=[1,1,1];for(var o=0;o<g;o+=4)N[z][e.o(b,X+o)]=0;break;case"knko":N[z]=b[X];break;case"infx":N[z]=b[X];break;case"clbl":N[z]=b[X];break;case"lmgm":N[z]=b[X];break;case"vmgm":N[z]=b[X];break;case"lyid":N[z]=e.o(b,X);break;case"lsct":N[z]={type:e.o(b,X)};if(g>=12)N[z].nB=e.uT(b,X+8,4);break;case"lsdk":N.lsct={type:e.o(b,X)};break;case"lyvr":N[z]=e.o(b,X);break;case"lnsr":var y={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};N[z]=e.uT(b,X,4);break;case"lspf":N[z]=e.o(b,X);break;case"lclr":N[z]=e.Dt(b,X);break;case"luni":N[z]=e.OV(b,X);break;case"fxrp":N[z]=new Ue(e.V$(b,X),e.V$(b,X+8));break;case"artb":case"artd":N[z]={};nf.yd(b,N[z],X+4);break;case"SoCo":N[z]={};nf.yd(b,N[z],X+4);break;case"GdFl":N[z]={};nf.yd(b,N[z],X+4);bO.BL(N[z],z);break;case"PtFl":N[z]={};nf.yd(b,N[z],X+4);bO.BL(N[z],z);break;case"CgEd":var D=N.brit=nm.Z$("brit"),m={};nf.yd(b,m,X+4);D.Brgh.v=m.Brgh?m.Brgh.v:0;D.Cntr.v=m.Cntr?m.Cntr.v:0;D.useLegacy.v=m.useLegacy?m.useLegacy.v:0;break;case"brit":if(N.brit==null){var D=N.brit=nm.Z$("brit"),m={};D.Brgh.v=e.aF(b,X);D.Cntr.v=e.aF(b,X+2);D.useLegacy.v=!1}break;case"levl":var k=b.buffer.slice(X,X+g);N[z]=_V.UU(k);break;case"curv":N[z]=_T.yT(b,X,g);break;case"expA":var O=e.Dt(b,X),L=N[z]=nm.Z$("expA");L.Exps.v=e.jJ(b,X+2);L.Ofst.v=e.jJ(b,X+6);L.gammaCorrection.v=e.jJ(b,X+10);break;case"vibA":N[z]={};nf.yd(b,N[z],X+4);break;case"hue2":N[z]=xz.yT(b,X,g);break;case"blnc":var L=N[z]=nm.Z$(z);L.PrsL.v=b[X+18]==1;var I=["ShdL","MdtL","HghL"];for(var o=0;o<3;o++)for(var H=0;H<3;H++)L[I[o]].v[H].v=e.aF(b,X+o*6+H*2);break;case"blwh":var Y={};nf.yd(b,Y,X+4);var L=nm.Z$(z),n="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");for(var o=0;o<n.length;o++){L[n[o]]=Y[n[o]];delete Y[n[o]]}N[z]=L;break;case"phfl":var L=N[z]=nm.Z$(z),w=L.Clr.v,O=e.Dt(b,X);if(O==3){var t=[e.o(b,X+2),e.o(b,X+6),e.o(b,X+10)],j=32768,E=x.sb(t[0]/j,t[1]/j,t[2]/j);w.Lmnc.v=E.kf;w.A.v=E.i;w.B.v=E.b}if(O==2){var h=e.Dt(b,X+2);if(h!=7)throw"e";w.Lmnc.v=e.aF(b,X+4)/100;w.A.v=e.aF(b,X+6)/100;w.B.v=e.aF(b,X+8)/100}var u=X+2+(O==3?12:10);L.Dnst.v=e.o(b,u);u+=4;L.PrsL.v=b[u]==1;break;case"mixr":var Z={Uq:e.Dt(b,X+2)==1,A:[]};for(var o=0;o<20;o++)Z.A.push(e.aF(b,X+4+o*2));N[z]=nY.xAO(Z);break;case"clrL":case"rplc":N[z]={};nf.yd(b,N[z],X+6);break;case"nvrt":N[z]={};break;case"post":N[z]=nm.Z$("post");N[z].Lvls.v=e.Dt(b,X);break;case"thrs":N[z]=nm.Z$("thrs");N[z].Lvl.v=e.Dt(b,X);break;case"grdm":var A={rev:b[X+2]==1,xwD:b[X+3]==1},P=X+4,T=e.OV(b,P);P+=4+T.length*2;var U=bC.Zl(b,P,T),r=U[0];P=U[1];var i=e.Dt(b,P);P+=2;r.Intr.v=e.Dt(b,P);P+=2;var V=e.Dt(b,P);P+=2;A.mode=e.Dt(b,P);P+=2;A.JV=e.o(b,P);P+=4;A.xae=e.Dt(b,P)==1;P+=2;A.xij=e.Dt(b,P)==1;P+=2;A.xi$=e.o(b,P);P+=4;A.xQY=e.Dt(b,P);P+=2;A.TV=[];for(var o=0;o<4;o++)A.TV.push(e.Dt(b,P+o*2));P+=8;A.Ts=[];for(var o=0;o<4;o++)A.Ts.push(e.Dt(b,P+o*2));P+=8;var F=e.Dt(b,P);P+=2;var B=nm.Z$("grdm");B.Rvrs.v=A.rev;B.Grad.v=r;N[z]=B;break;case"selc":N[z]=gT.yT(b,X,g);break;case"vmsk":case"vsms":var $=N.vmsk=new M.zo,l=e.pY(b,X+4),v=(l>>0&1)==1;$.ov=(l>>1&1)==0;$.isEnabled=(l>>2&1)==0;$.s=SB.LG(b,X+8,g-8,_.n,_.z);break;case"shmd":N[z]={};var C=e.o(b,X),u=X+4;for(var o=0;o<C;o++){var p=e.uT(b,u,4);u+=4;var f=e.uT(b,u,4);u+=4;u+=4;var nx=e.o(b,u);u+=4;if(f=="cust"||f=="cmls"||f=="extn"||f=="mlst"){var nA=e.o(b,u);if(nA!=16)u+=4;var Y={};nf.yd(b,Y,u+4,!1);N[z][f]=Y;if(f=="cmls")xu.iI.xdN(N[z][f])}else{console.log("unknown shmd key: "+f+", size: "+nx)}u+=nx}break;case"shpa":var O=e.o(b,X),nU=e.o(b,X+4);if(nU!=0)console.log("some patterns present!");break;case"TySh":var nn=N[z]={},O=e.Dt(b,X);nn.w=e.jc(b,X+2);var nH=e.Dt(b,X+2+48);nn.Ca={};var d=nf.yd(b,nn.Ca,X+56),np=ng.xEp();for(var a in np)if(nn.Ca[a]==null)nn.Ca[a]=np[a];nn.HM={};var nb=nf.yd(b,nn.HM,X+56+d+6);nn.Ug=e.xrI(b,X+56+d+6+nb);nn.Bw=Uj.UU(nn.Ca.EngineData.v);ng.xrp(nn.Bw.EngineDict.StyleRun.RunArray);if(nn.Bw.ResourceDict==null)nn.Bw.ResourceDict=JSON.parse(JSON.stringify(nn.Bw.DocumentResources));delete nn.Ca.EngineData;break;case"lfx2":case"lmfx":case"lfxs":var nK=e.o(b,X),nq=e.o(b,X+4);N.lmfx={};var d=nf.yd(b,N.lmfx,X+8);bO.Ib(N.lmfx);break;case"FMsk":N[z]=e.in(b,X,g);break;case"Txt2":N[z]={};N[z].raw=e.in(b,X,g);N[z].IT=pX.UU(N[z].raw);break;case"Patt":N[z]=xd.LH(b,X,g);break;case"SoLd":var nS=e.uT(b,X,4),nB=e.o(b,X+4),nE=e.o(b,X+8);N[z]={};var nh=nf.yd(b,N[z],X+12);if(N[z].nonAffineTransform==null)N[z].nonAffineTransform=JSON.parse(JSON.stringify(N[z].Trnf));var nv=N[z].filterFX;if(nv){var nC=nv.v.filterFXList.v;for(var o=0;o<nC.length;o++){var nR=nC[o].v,nu=nR.filterID;if(nu&&nu.v==993)nR.filterID.v=689}}break;case"vstk":case"pths":var nB=e.o(b,X);N[z]={};var nh=nf.yd(b,N[z],X+4);break;case"vscg":var f=e.uT(b,X,4),nB=e.o(b,X+4);N[f]={};var nh=nf.yd(b,N[f],X+8);bO.BL(N[f],f);break;case"vogk":var nF=e.o(b,X),nB=e.o(b,X+4);N[z]={};var nh=nf.yd(b,N[z],X+8);N[z]=N[z].keyDescriptorList.v;for(var o=0;o<N[z].length;o++){}break;case"lnk2":case"lnkD__":case"lnk3__":N[z]=[];var P=X;while(P<X+g){var nP=new M.nu;N[z].push(nP);var V=e.ju(b,P);P+=8;var ni=P;nP.type=e.uT(b,P,4);P+=4;if(nP.type!="liFD"){alert("Unknown Linked Layer type: "+nP.type);break;throw nP.type}nP.HY=e.o(b,P);P+=4;var nw=e.MZ(b,P);P+=1+nw.Jg.length;nP.pA=nw.Jg;nP.zK=e.PB(b,P);P+=4+nP.zK.length*2+2;nP.Rk=e.uT(b,P,4);P+=4;nP.If=e.uT(b,P,4);P+=4;var nO=e.ju(b,P);P+=8;nP.open=b[P];P+=1;if(nP.open!=0){var nT={},d=nf.yd(b,nT,P+4);if(d%4!=0)d+=4-d%4;console.log(nT);P+=d+4}nP.open=0;nP.raw=e.in(b,P,nO);P=ni+V;if(V%4!=0)P+=4-V%4}break;case"FEid":var P=X;N[z]=[];var nI=P+g,O=e.o(b,P);P+=4;while(P<nI){P+=4;var V=e.o(b,P);P+=4;var U={};N[z].push(U);U.id=e.MZ(b,P).Jg;P+=U.id.length+1;var O=e.o(b,P);P+=4;P+=4;var gu=e.o(b,P);P+=4;U.rect=e.GK(b,P);P+=16;var nN=e.o(b,P);P+=4;var xn=e.o(b,P);P+=4;var nL=new x.Sm(0);for(var o=0;o<xn+2;o++){var nV=e.o(b,P);P+=4;if(nV!=0){P+=4;var nX=e.o(b,P),xY=null;P+=4;if(o<3||o==25)xY=x_.BI(!0,nN,b,U.rect.n,U.rect.z,P,nX);if(o==0)nL.D=xY;if(o==1)nL.q=xY;if(o==2)nL.b=xY;if(o==25)nL.i=xY;P+=nX}}U.buffer=x.K(U.rect.c()*4);x.bL(nL,U.buffer);x.Wp(U);var ny=b[P];P++;if(ny!=0){U.G=new M.ah;U.G.rect=e.GK(b,P);P+=16;P+=4;var xp=e.o(b,P);P+=4;U.G.channel=x_.BI(!0,nN,b,U.G.rect.n,U.G.rect.z,P,xp);U.G.color=255;U.G.Du();P+=xp}if(V%4!=0)P+=4-V%4}break;case"Lr16":_Q.Pe(_,b,X);break;default:console.log("unknown layer tag: "+z+", size: "+g);break}var nW="Lr16 LMsk Txt2 artd extd luni pths extn tySh lfx2".split(" ");if(nW.indexOf(z)==-1)if(g%4!=0)console.log("size not multiple of 4!!!",z);if(z!="luni"&&z!="TySh"&&z!="tySh"&&z!="lfx2")if(g%4!=0)g+=4-g%4;X+=g}var nk=[];for(var o=0;o<nk.length;o++)delete N[nk[o]];return X};bO.Zj=function(b,X,q,N){for(var J in q)if(q[J]==null){alert("A bug occured (see console).");console.log("Please, report a bug, that \""+J+"\" tag was present with a null value.");
delete q[J]}for(var J in q){e.Ya(b,X,"8BIM");X+=4;var _=X,p=0;e.Ya(b,X,J);X+=4;e.jP(b,X,0);X+=4;switch(J){case"iOpa":e.lO(b,X,q[J],1);
p=4;break;case"brst":p=0;for(var z=0;z<3;z++)if(q[J][z]==0){e.jy(b,X+p,z);p+=4}break;case"knko":e.lO(b,X,q[J],1);
p=4;break;case"infx":e.lO(b,X,q[J],1);p=4;break;case"clbl":e.lO(b,X,q[J],1);p=4;break;case"lmgm":e.lO(b,X,q[J],1);
p=4;break;case"vmgm":e.lO(b,X,q[J],1);p=4;break;case"lyid":e.jy(b,X,q[J]);p=4;break;case"lsct":e.jy(b,X,q[J].type);
p=4;if(q[J].nB){e.Ya(b,X+4,"8BIM");e.Ya(b,X+8,q[J].nB);p=12}break;case"lyvr":e.jy(b,X,q[J]);p=4;break;
case"lnsr":e.Ya(b,X,q[J]);p=4;break;case"lspf":e.jy(b,X,q[J]);p=4;break;case"lclr":e.ge(b,X,q[J]);p=8;
break;case"luni":e.MV(b,X,q[J]);p=4+2*q[J].length;break;case"fxrp":e.zR(b,X,q[J].x);e.zR(b,X+8,q[J].y);
p=16;break;case"artb":case"artd":e.jy(b,X,16);p=nf.wc(b,q[J],X+4)+4;break;case"SoCo":e.jy(b,X,16);p=nf.wc(b,q[J],X+4)+4;
break;case"GdFl":e.jy(b,X,16);p=nf.wc(b,q[J],X+4)+4;break;case"PtFl":e.jy(b,X,16);p=nf.wc(b,q[J],X+4)+4;
break;case"CgEd":var g={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},W=g,o=q[J];
W.Brgh.v=o.Brgh.v;W.Cntr.v=o.Cntr.v;W.useLegacy.v=o.useLegacy.v;e.jy(b,X,16);p=nf.wc(b,g,X+4)+4;break;
case"brit":b.Sd(X,8);p=8;break;case"levl":var y=new _e;p=_V.oM(y,q[J]);e.iR(b,X,y.data);break;case"curv":p=_T.yX(b,X,q[J]);
break;case"expA":p=14;b.Sd(X,14);e.Dn(b.data,X,1);e.ix(b.data,X+2,q[J].Exps.v);e.ix(b.data,X+6,q[J].Ofst.v);
e.ix(b.data,X+10,q[J].gammaCorrection.v);break;case"vibA":e.jy(b,X,16);p=nf.wc(b,q[J],X+4)+4;break;case"hue2":p=xz.yX(b,X,q[J]);
break;case"blnc":p=19;b.Sd(X,p);var D=["ShdL","MdtL","HghL"];for(var z=0;z<3;z++){var m=q[J][D[z]].v;
for(var k=0;k<3;k++)m.push(e.Cu(b.data,X+z*6+k*2,m[k].v))}b.data[X+18]=q[J].PrsL.v?1:0;break;case"blwh":var g={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},O="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var z=0;z<O.length;z++){g[O[z]]=q[J][O[z]]}e.jy(b,X,16);p=nf.wc(b,g,X+4)+4;break;case"phfl":e.ge(b,X,2);
var L=q[J].Clr.v;e.ge(b,X+2,7);e.ge(b,X+4,Math.round(L.Lmnc.v*100));e.ge(b,X+6,Math.round(L.A.v*100));
e.ge(b,X+8,Math.round(L.B.v*100));e.ge(b,X+10,0);var I=X+2+10;b.Sd(I,5);e.ni(b.data,I,q[J].Dnst.v);I+=4;
b.data[I]=q[J].PrsL.v?1:0;I++;p=I-X;break;case"mixr":p=44;b.Sd(X,p);var H=nY.Nw(q[J]);e.Dn(b.data,X,1);
e.Dn(b.data,X+2,H.Uq?1:0);for(var z=0;z<20;z++)e.Cu(b.data,X+4+z*2,H.A[z]);break;case"clrL":case"rplc":e.ge(b,X,1);
e.jy(b,X+2,16);p=nf.wc(b,q[J],X+6)+6;break;case"nvrt":p=0;break;case"post":e.ge(b,X,q[J].Lvls.v);p=2;
break;case"thrs":e.ge(b,X,q[J].Lvl.v);p=2;break;case"grdm":var Y={rev:q[J].Rvrs.v,xwD:!1,mode:0,JV:867527939,xae:!1,xij:!0,xi$:2048,xQY:3,TV:[0,0,0,0],Ts:[32768,32768,32768,32768]},n=q[J].Grad.v;
b.Sd(X,4);e.Dn(b.data,X,1);b.data[X+2]=Y.rev?1:0;b.data[X+3]=Y.xwD?1:0;var w=X+4;e.MV(b,w,n.Nm.v);w+=4+n.Nm.v.length*2;
w=bC.xLu(b,w,n);e.ge(b,w,2);w+=2;e.ge(b,w,n.Intr.v);w+=2;e.ge(b,w,32);w+=2;e.ge(b,w,Y.mode);w+=2;e.jy(b,w,Y.JV);
w+=4;e.ge(b,w,Y.xae?1:0);w+=2;e.ge(b,w,Y.xij?1:0);w+=2;e.jy(b,w,Y.xi$);w+=4;e.ge(b,w,Y.xQY);w+=2;for(var z=0;
z<4;z++)e.ge(b,w+z*2,Y.TV[z]);w+=8;for(var z=0;z<4;z++)e.ge(b,w+z*2,Y.Ts[z]);w+=8;w+=2;p=w-X;break;case"selc":p=gT.yX(b,X,q[J]);
break;case"FMsk":e.iR(b,X,q[J]);p=q[J].length;break;case"Txt2":var t=new _e,j=pX.Bn(q[J].IT,t),h=x.K(j,!0);
for(var z=0;z<j;z++)h[z]=t.data[z];e.iR(b,X,h);p=h.length;break;case"vmsk":var u=q[J],Z=0;e.jy(b,X,3);
if(!u.ov)Z+=1<<1;if(!u.isEnabled)Z+=1<<2;e.jy(b,X+4,Z);p=8;var A=u.s.length;b.Sd(X+8,A*26);SB.BQ(b.data,X+8,u.s,N.n,N.z);
p+=A*26;break;case"shmd":e.jy(b,X,Object.keys(q[J]).length);var I=X+4;for(var P in q[J]){e.Ya(b,I,"8BIM");
I+=4;e.Ya(b,I,P);I+=4;e.jy(b,I,0);I+=4;e.jy(b,I,0);I+=4;e.jy(b,I,16);I+=4;var T=nf.wc(b,q[J][P],I);if(T%4!=0)T+=4-T%4;
e.jy(b,I-8,T+4);I+=T}p=I-X;break;case"TySh":var I=X;e.IJ(b,I,1);I+=2;var U=q[J],t=new _e;U.Bw.DocumentResources=JSON.parse(JSON.stringify(U.Bw.ResourceDict));
var j=Uj.Bn(U.Bw,t),h=x.K(j,!0);for(var z=0;z<j;z++)h[z]=t.data[z];U.Ca.EngineData={t:"tdta",v:h};var r=U.Bw.EngineDict.Editor.Text;
U.Ca.Txt.v=r.substring(0,r.length-1);e.xrQ(b,I,U.w);I+=48;e.IJ(b,I,50);I+=2;e.jy(b,I,16);I+=4;I+=nf.wc(b,U.Ca,I);
e.IJ(b,I,1);I+=2;e.jy(b,I,16);I+=4;I+=nf.wc(b,U.HM,I);e.xrV(b,I,U.Ug);I+=16;p=I-X;break;case"lmfx":e.jy(b,X,0);
e.jy(b,X+4,16);var g=JSON.parse(JSON.stringify(q[J])),i=!1;bO.BW(g);for(var z=0;z<UZ.PS.length;z++)if(g[UZ.PS[z]]!=null)i=!0;
e.Ya(b,_,i?"lmfx":"lfx2");p=nf.wc(b,g,X+8)+8;break;case"Patt":var I=xd.LE(b,X,q[J]);p=I-X;break;case"SoLd":e.Ya(b,X,"soLD");
e.jy(b,X+4,4);e.jy(b,X+8,16);p=nf.wc(b,q[J],X+12)+12;break;case"vstk":case"pths":e.jy(b,X,16);p=nf.wc(b,q[J],X+4)+4;
break;case"vscg__":e.Ya(b,X,q[J].key);e.jy(b,X+4,16);p=nf.wc(b,q[J].A,X+8)+8;break;case"vogk":e.jy(b,X,1);
e.jy(b,X+4,16);x.P_.xSK(q[J]);for(var z=0;z<q[J].length;z++){var V=q[J][z].v.keyOriginResolution;if(V)V.v=N.Dg}var F={classID:"null",keyDescriptorList:{t:"VlLs",v:q[J]}};
p=nf.wc(b,F,X+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var w=X;for(var z=0;z<q[J].length;z++){var B=q[J][z],$=w;
e.qn(b,w,0);w+=8;e.Ya(b,w,B.type);w+=4;e.jy(b,w,B.HY);w+=4;b.Sd(w,1);b.data[w]=B.pA.length;w++;e.Ya(b,w,B.pA);
w+=B.pA.length;e.MV(b,w,B.zK+"\0");w+=4+B.zK.length*2+2;e.Ya(b,w,B.Rk);w+=4;e.Ya(b,w,B.If);w+=4;e.qn(b,w,B.raw.length);
w+=8;b.Sd(w,1);b.data[w]=B.open;w++;e.iR(b,w,B.raw);w+=B.raw.length;e.jy(b,w,1);w+=4;w+=11;var l=w-$-8;
e.qn(b,$,l);if(l%4!=0){b.Sd(w,4-l%4);w+=4-l%4}}p=w-X;break;case"FEid":var w=X;e.jy(b,w,3);w+=4;for(var v=0;
v<q[J].length;v++){var C=q[J][v];w+=4;var f=w;w+=4;e.ee(b,w,C.id);w+=C.id.length+1;e.jy(b,w,1);w+=4;
w+=4;var nx=w;w+=4;e.DN(b,w,C.rect);w+=16;e.jy(b,w,8);w+=4;e.jy(b,w,24);w+=4;var nA=new x.Sm(C.rect.c());
x.KY(C.buffer,nA);for(var z=0;z<24+2;z++){var nU=null;if(z==0)nU=nA.D;if(z==1)nU=nA.q;if(z==2)nU=nA.b;
if(z==25)nU=nA.i;e.jy(b,w,nU!=null?1:0);w+=4;if(nU!=null){w+=4;var nn=w;w+=4;b.Sd(w,C.rect.c()+2);w=x_.BT(nU,b.data,C.rect.n,C.rect.z,w,3);
e.jy(b,nn,w-(nn+4))}}e.jy(b,nx,w-(nx+4));b.Sd(w,1);b.data[w]=C.G?1:0;w++;if(C.G!=null){var nH=C.G.rect,d=C.G.channel;
nH=C.rect;d=x.K(nH.c());x.set(d,C.G.color);x.rS(C.G.channel,C.G.rect,d,nH);e.DN(b,w,nH);w+=16;w+=4;var np=w;
w+=4;b.Sd(w,nH.c()+2);w=x_.BT(d,b.data,nH.n,nH.z,w,3);e.jy(b,np,w-(np+4))}var l=w-(f+4);e.jy(b,f,l);
if(l%4!=0)w+=4-l%4}p=w-X;break;default:console.log("unknown layer tag: "+J+", size: "+p);X-=12;continue}var a=["Txt2","artd","extd","luni","pths"];
if(a.indexOf(J)==-1)if(p%4!=0)p+=4-p%4;e.jP(b,X-4,p);if(J!="luni"&&J!="TySh")if(p%4!=0)p+=4-p%4;X+=p}return X};
bO.Ib=function(b){for(var X=0;X<UZ.order.length;X++){var q=UZ.order[X],N=UZ.PS[X];if(b[N]==null)b[N]={t:"VlLs",v:[]};
if(b[q]!=null){b[N].v.push(b[q]);delete b[q]}var J=[];for(var _=0;_<b[N].v.length;_++){var p=b[N].v[_];
if(p.v.present==null||p.v.present.v==!0)J.push(p)}b[N].v=J}};bO.BW=function(b){for(var X=0;X<UZ.order.length;
X++){var q=UZ.order[X],N=UZ.PS[X],J=b[N].v.length;if(J==0){delete b[N];continue}if(J==1){b[q]=b[N].v[0];
delete b[N];continue}}};bO.BL=function(b,X){if(X=="GdFl"){if(b.Angl==null)b.Angl={v:{type:"#Ang",val:0},t:"UntF"};
if(b.Algn==null)b.Algn={v:!0,t:"bool"};if(b.Scl==null)b.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(b.Ofst==null)b.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(b.Rvrs==null)b.Rvrs={v:!1,t:"bool"};if(b.Dthr==null)b.Dthr={v:!1,t:"bool"}}if(X=="PtFl"){if(b.Algn==null)b.Algn={v:!0,t:"bool"};
if(b.Scl==null)b.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(b.phase==null)b.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};
bO.clone=function(b,X){var q={};if(b=="TySh"){q.w=X.w.clone();q.Ca=JSON.parse(JSON.stringify(X.Ca));
q.HM=JSON.parse(JSON.stringify(X.HM));q.Ug=X.Ug.clone();q.Bw=JSON.parse(JSON.stringify(X.Bw));if(X.add)q.add={vmsk:X.add.vmsk.clone(),vogk:JSON.parse(JSON.stringify(X.add.vogk))};
return q}else if(b=="fxrp")return X.clone();else if(b=="vmsk")return X.clone();else return JSON.parse(JSON.stringify(X))};
function xr(b,X){}xr.UU=function(b,X,q,N){N=xr.xIr(b,X,q,N);return N};xr.Bn=function(b,X,q,N,J){N=xr.xAv(b,X,q,N,J);
return N};xr.xIr=function(b,X,q,N){var J=N;b.rect=e.GK(q,N);N+=16;var _=e.Dt(q,N);N+=2;b.HG=[];var p=X.cQ;
for(var z=0;z<_;z++){b.HG[z]={id:e.aF(q,N),length:(p?e.ju:e.o)(q,N+2)};N+=p?10:6}var g=e.uT(q,N,4);N+=4;
if(g!="8BIM"){console.log("Invalid Blend mode signature: "+g);alert("Error in Photoshop file: wrong signature.");
throw"e"}b.nB=e.uT(q,N,4);N+=4;b.opacity=q[N];N+=1;b.Hg=q[N]==1;N+=1;b.aA=q[N];N+=1;if(q[N]!=0)console.log("error in filler!");
N+=1;var W=e.o(q,N);N+=4;var o=N;N=xr.xAf(b,q,N);N=xr.xgb(b,q,N);var y=e.MZ(q,N);b.name=y.Jg;N+=y.length;
if(y.length%4!=0)N+=4-y.length%4;N=bO.ZN(q,N,o+W,b.add,p,X);if(b.JM){var D=b.JM;if(b.DL()){b.DL().hw=D[0];
b.DL().Zt=D[1]}if(b.add.vmsk){b.add.vmsk.hw=D[2];b.add.vmsk.Zt=D[3]}}if(b.add.lsct){if(b.add.lsct.nB)b.nB=b.add.lsct.nB;
b.add.lsct=b.add.lsct.type}return N};xr.xAv=function(b,X,q,N,J){var _=N;e.DN(q,N,b.rect);N+=16;var p=b.xRY();
e.ge(q,N,p.length);N+=2;J.push(N);for(var z=0;z<p.length;z++){e.IJ(q,N,p[z]);e.jy(q,N+2,0);N+=6}e.Ya(q,N,"8BIM");
N+=4;e.Ya(q,N,b.nB);N+=4;e.lO(q,N,b.opacity,1);N+=1;e.lO(q,N,b.Hg?1:0,1);N+=1;e.lO(q,N,b.aA,1);N+=1;
e.lO(q,N,0,1);N+=1;var g=N;e.jy(q,N,0);N+=4;var W=N;N=xr.xxR(b,q,N);N=xr.xgS(b,q,N);var o=e.ee(q,N,b.name.slice(0,255));
N+=o;if(o%4!=0)N+=4-o%4;if(b.add.lsct){b.add.lsct={type:b.add.lsct};if(b.nB=="pass"){b.add.lsct.nB="pass";
b.nB="norm"}}if(b.nB=="pass")b.add.lsct={type:b.add.lsct,nB:"pass"};if(b.add.brit)b.add.CgEd=b.add.brit;
N=bO.Zj(q,N,b.add,X);delete b.add.CgEd;if(b.add.lsct){if(b.add.lsct.nB)b.nB=b.add.lsct.nB;b.add.lsct=b.add.lsct.type}var y=N-W;
e.jy(q,g,y);return N};xr.xAf=function(b,X,q){var N=e.o(X,q);q+=4;if(N==0)return q;var J=q;b.G=new M.ah;
b.G.rect=e.GK(X,q);q+=16;b.G.color=X[q];q+=1;var _=xr.ZG(b.G,X,q);q+=1;if(_){var p=!1,g=255,W=0,o=255,y=0;
for(var z=0;z<b.HG.length;z++)if(b.HG[z].id==-3)p=!0;if(p){b.YM=xr.ZD(X,q);q+=18}var D=q,m=X[q];q++;
if(m>>0&1){g=X[q];q++}if(m>>1&1){W=e.V$(X,q);q+=8}if(m>>2&1){o=X[q];q++}if(m>>3&1){y=e.V$(X,q);q+=8}if((q-D&1)==1)q++;
b.JM=[g,W,o,y]}else{if(N==20)q+=2;else{b.YM=xr.ZD(X,q);q+=18}}return J+N};xr.xxR=function(b,X,q){e.jy(X,q,0);
q+=4;if(b.G==null)return q;var N=q,J=!0;e.jy(X,q,0);e.DN(X,q,b.G.rect);q+=16;e.lO(X,q,b.G.color);q+=1;
xr.Zo(b.G,X,q,J);q+=1;if(J){if(b.YM){xr.xxF(X,q,b.YM);q+=18}e.lO(X,q,15);q+=1;var _=b.DL(),p=b.add.vmsk;
e.lO(X,q,_?_.hw:255);q+=1;e.zR(X,q,_?_.Zt:0);q+=8;e.lO(X,q,p?p.hw:255);q+=1;e.zR(X,q,p?p.Zt:0);q+=8;
q++;e.jy(X,N-4,q-N)}return q};xr.ZD=function(b,X){var q=new M.ah;xr.ZG(q,b,X);X+=1;q.color=b[X];X+=1;
q.rect=e.GK(b,X);X+=16;return q};xr.xxF=function(b,X,q){xr.Zo(q,b,X,!1);X+=1;e.lO(b,X,q.color);X+=1;
e.DN(b,X,q.rect);X+=16};xr.ZG=function(b,X,q){var N=X[q];b.ov=(N>>0&1)==0;b.isEnabled=(N>>1&1)==0;b.pw=(N>>3&1)==1;
return N>>4&1};xr.Zo=function(b,X,q,N){var J=0;if(!b.ov)J+=1<<0;if(!b.isEnabled)J+=1<<1;if(b.pw)J+=1<<3;
if(N)J+=1<<4;e.lO(X,q,J)};xr.xgb=function(b,X,q){var N=e.o(X,q);q+=4;if(N==0)return q;if(N!=5*8)console.log("unexpected Layer Blending Ranges content, size:",N);
for(var J=0;J<N;J++)b.fA[J]=X[q+J];return q+40};xr.xgS=function(b,X,q){e.jy(X,q,b.fA.length);q+=4;X.Sd(q,40);
for(var N=0;N<40;N++){X.data[q+N]=b.fA[N]}return q+40};function x_(){}x_.UU=function(b,X,q,N){N=x_.xgM(X.cQ,X.mz,X.Hm,b,q,N);
return N};x_.oM=function(b,X,q,N,J){q=x_.xgQ(b,X,q,N,J);return q};x_.xgM=function(b,X,q,N,J,_){var p=N.HG,z={},g=_;
for(var W=0;W<p.length;W++){var o=p[W],y=o.id,D=o.length,m;if(y==-3)m=N.YM.rect;else if(y==-2)m=N.G.rect;
else m=N.rect;var k=x_.BI(b,X,J,m.n,m.z,_,D);_+=D;if(y==-3)N.YM.channel=k;else if(y==-2)N.G.channel=k;
else z["c"+y]=k}var O=new x.Sm(0);O.i=null;if(q==3){O.D=z.c0;O.q=z.c1;O.b=z.c2;O.i=z["c-1"]}else if(q==1){O.D=z.c0;
O.q=z.c0;O.b=z.c0;O.i=z["c-1"]}else if(q==4){var L=z.c0,I=z.c1,H=z.c2,Y=z.c3,n=L.length,w=1/255;for(var W=0;
W<n;W++){var t=L[W],j=I[W],E=H[W],h=Y[W]*w;L[W]=Math.round(t*h);I[W]=Math.round((.2*t+.8*j)*h);H[W]=Math.round((.2*j+.8*E)*h)}O.D=L;
O.q=I;O.b=H;O.i=z["c-1"];console.log("converting from CMYK to RGB")}if(O.D==null)O.D=x.K(0);if(O.i==null&&O.D!=null){O.i=x.clone(O.D);
x.set(O.i,255)}if(O.q==null)O.q=O.D.slice(0);if(O.b==null)O.b=O.D.slice(0);N.buffer=x.K(Math.max(0,N.rect.c()*4));
x.bL(O,N.buffer);return _};x_.xgQ=function(b,X,q,N,J){var _=b.xRY(),p=new x.Sm(b.rect.c());x.KY(b.buffer,p);
for(var z=0;z<_.length;z++){var g=_[z],W,o;if(g==-3)W=b.YM.rect;else if(g==-2)W=b.G.rect;else W=b.rect;
if(g==-3)o=b.YM.channel;if(g==-2)o=b.G.channel;if(g==-1)o=p.i;if(g==0)o=p.D;if(g==1)o=p.q;if(g==2)o=p.b;
X.Sd(q,W.c()*3+4);var y=q;q=x_.BT(o,X.data,W.n,W.z,q,J[1]?3:1);var D=q-y;if(D%2!=0){D+=D%2;q++}e.ni(X.data,N+z*6+2,D)}return q};
x_.BI=function(b,X,q,N,J,_,p){var z=e.Dt(q,_);_+=2;return x_.e_(b,X,q,N,J,_,z,p-2)};x_.BT=function(b,X,q,N,J,_){e.Cu(X,J,_);
J+=2;J=x_.IK(b,X,q,N,J,_);return J};x_.e_=function(b,X,q,N,J,_,p,z){var g,W=N*J*(X>>>3),o=W&3,y=W+(o==0?0:4-o);
if(p>3){console.log("unknown compression: "+p,N,J,N*J,z);p=0}if(p==0){if(_+y<=q.length)g=q.slice(_,_+y);
else{g=x.K(W);for(var D=0;D<W;D++)g[D]=q[_+D]}_+=W}else if(p==1){g=x.K(W);var m=b?4:2,k=x_.Zm(q,g,N,J,_,_+m*J,m);
_+=m*J+k}else if(p==2||p==3){var O=new Uint8Array(q.buffer,_+2,z-6),L=pako.inflateRaw(O);if(p==3){if(X==8)for(var I=0;
I<J;I++){var H=I*N+1,Y=H+N-1,n=L[H-1];for(var w=H;w<Y;w++){n+=L[w];L[w]=n&255}}else for(var I=0;I<J;
I++){var H=I*N+1,Y=H+N-1,n=L[2*H-2]<<8|L[2*H-1];for(var w=H;w<Y;w++){var t=w<<1;n+=L[t]<<8|L[t+1];L[t]=n>>>8;
L[t+1]=n&255}}}if(L.length==y)g=L;else{g=x.K(y);for(var D=0;D<L.length;D++)g[D]=L[D]}}if(X==16){var j=x.K(N*J);
for(var D=0;D<W;D+=2)j[D>>>1]=g[D];g=j}return g};x_.IK=function(b,X,q,N,J,_){var p=q*N;if(_==0)for(var z=0;
z<p;z++)X[J++]=b[z];else if(_==1){var g=x_.gF(b,X,q,N,J,J+2*N);J+=2*N+g}else if(_==2||_==3){if(_==3){var W=new Uint8Array(b.length);
for(var o=0;o<N;o++){var y=o*q+1,D=y+q-1,m=b[y-1];W[y-1]=m;for(var k=y;k<D;k++){W[k]=b[k]+(256-m)&255;
m=b[k]}}b=W}X[J]=120;X[J+1]=156;J+=2;var O=pako.deflateRaw(b,{xUo:4});e.pm(X,J,O);J+=O.length+4}else console.log("Unknown compression: "+_);
return J};x_.Zm=function(b,X,q,N,J,_,p){var z=_,g=N|0;if(p==2)for(var W=0;W<g;W++){var o=e.Dt(b,J+(W<<1));
x_.Bt(b,_,o,X,W*q,q);_+=o}else for(var W=0;W<g;W++){var o=e.o(b,J+(W<<2));x_.Bt(b,_,o,X,W*q,q);_+=o}return _-z};
x_.gF=function(b,X,q,N,J,_){var p=_;for(var z=0;z<N;z++){var g=x_.xgN(b,z*q,q,X,_);e.Dn(X,J+z*2,g);_+=g}return _-p};
x_.xgN=function(b,X,q,N,J){var _,p,z,g,W,o,y;g=X+q;for(z=X,p=J;q>0;z=_,q-=o){y=q<128?q:128;if(z<=g-3&&b[z+1]==b[z+0]&&b[z+2]==b[z+0]){for(_=z+3;
_<z+y&&b[_]==b[z+0];)++_;o=_-z;N[p++]=1+256-o;N[p++]=b[z+0]}else{for(_=z;_<z+y;)if(_<=g-3&&b[_+1]==b[_+0]&&b[_+2]==b[_+0])break;
else++_;o=_-z;N[p++]=o-1;for(var D=0;D<o;D++)N[p+D]=b[z+D];p+=o}}return p-J};x_.Bt=function(b,X,q,N,J,_){for(var p=0;
p<q;){var z=b[X++];if(z>=128){var g=b[X++],W=J+(257-z);N.fill(g,J,W);J=W;p+=2}else{var W=J+(1+z);while(J<W)N[J++]=b[X++];
p+=1+1+z}}};function _Q(){}_Q.UU=function(b,X){X.cQ=!1;X.mz=8;var q=new Uint8Array(b),N=0,J=0,f,a=0,nB=!1,nE=!0,nh=!1,nv=0;
J=_Q.BO(X,q,N);N=J;J=_Q.xpS(X,q,N);N=J;J=_Q.xpB(X,q,N);N=J;J=_Q.xpa(X,q,N);N=J;J=_Q.xnA(X,q,N);N=J;if(X.F.length==0){var _=X.rY();
_.fT("Background");X.F.push(_);_.buffer=x.clone(X.buffer);_.rect=new R(0,0,X.n,X.z)}if(X.ye.r1005){X.Dg=e.Dt(X.ye.r1005,0)}if(X.ye.r1026){var q=X.ye.r1026;
for(var p=0;p<q.length;p+=2){var J=X.F[p>>>1];if(J)J.zZ=e.Dt(q,p)}}if(X.ye.r1032){var q=X.ye.r1032,z=e.o(q,12);
for(var p=0;p<z;p++){var g=q[16+p*5+4],W=e.pY(q,16+p*5)/32;X.LA[g].push(W)}}delete X.ye.r1036;delete X.ye.r1039;
if(X.ye.r1050){var o=e.o,y=X.ye.r1050,D=e.o(y,0);if(D==6){var m=4,k=e.GK(y,m);m+=16;var O=e.OV(y,m);
m+=4+O.length*2;var L=o(y,m);m+=4;var I=X.lg;for(var p=0;p<L;p++){var H=c.IV.xxp(),n;I.push(H);H=H.v;
H.sliceID.v=o(y,m);m+=4;H.groupID.v=o(y,m);m+=4;var Y=o(y,m);m+=4;if(Y==1){n=o(y,m);m+=4}var O=e.OV(y,m);
m+=4+O.length*2;var w=o(y,m);m+=4;var t=[o(y,m),o(y,m+4),o(y,m+8),o(y,m+12)];m+=16;c.IV.jm(I,I.length-1,t);
var j=H.url.v=e.OV(y,m);m+=4+j.length*2;var E=H.null.v=e.OV(y,m);m+=4+E.length*2;var h=H.Msge.v=e.OV(y,m);
m+=4+h.length*2;var u=H.altTag.v=e.OV(y,m);m+=4+u.length*2;H.cellTextIsHTML.v=y[m]==1;m++;var Z=H.cellText.v=e.OV(y,m);
m+=4+Z.length*2;var A=o(y,m);m+=4;var P=o(y,m);m+=4;var T=y.slice(m,m+4);m+=4;if(Y!=2)I.pop()}}else if(D==8){var U={};
nf.yd(y,U,8,!1);var y=X.lg=U.slices.v;for(var p=0;p<y.length;p++){if(y[p].v.origin.v.ESliceOrigin!="userGenerated"){y.splice(p,1);
p--}}}}if(X.ye.r1058){var r=X.ye.r1058,i=UTIF.decode(r.buffer,{parseMN:!1,debug:!1});_l.ly(i[0],X.Te);
delete X.ye.r1058}if(X.ye.r1060){var V=e.Re(X.ye.r1060);_l.xKi(V,X.Te);delete X.ye.r1060}if(X.ye.r1065){var q=X.ye.r1065;
X.vO={};nf.yd(q,X.vO,4,!1)}if(X.ye.r1069){var q=X.ye.r1069,F=[];for(var p=2;p<q.length;p+=4){var n=e.o(q,p);
for(var B=0;B<X.F.length;B++){var J=X.F[B];if(J.add.lyid==n&&J.add.lsct!=3)F.push(B)}}X.k=F}if(X.ye.r1025){var $=X.ye.r1025;
delete X.ye.r1025;var l=SB.LG($,0,$.length,X.n,X.z),v=new M.zo;v.s=l;X.Dx[0]=nj.FS("Working Path",{vmsk:v})}var C=X.add.pths;
delete X.add.pths;var nx=X.ye.r3000;if(nx){f={};nf.yd(nx,f,4,!1);delete X.ye.r3000}for(var nA=0;nA<=997;
nA++){var nU="r"+(2e3+nA),$=X.ye[nU];if($==null)break;var l=SB.LG($,0,$.length,X.n,X.z),nn=C?C.pathList.v[nA].v.pathUnicodeName.v:"Path "+nA,nH=f?f.keyRootDescriptorList.v[nA].v.keyDescriptorList.v:M.lN(l),v=new M.zo;
v.s=l;X.Dx[nA+1]=nj.FS(nn,{vmsk:v,vogk:nH});delete X.ye[nU]}delete X.cQ;var d=new R(0,0,X.n,X.z),nb=X.add.Txt2,nK=nb;
if(nK){nK=nK.IT;if(nK._DocumentResources==null)nK=xQ.xqy(nK)}if(nb&&nb.IT._DocumentResources!=null){var nq="_Type _FrameMatrix _TextOnPathTRange _PathData _FirstBaselineAlignment _LineOrientation _RowGutter _ColumnGutter".split(" "),nS=nb.IT._DocumentResources._TextFrameSet._Resources;
for(var p=0;p<nS.length;p++){}}for(var p=0;p<X.F.length;p++){var J=X.F[p],nC=J.add.lsct,nR=J.add.vmsk,nu=J.DL();
if(nC==_b.Rv)nv++;else if(nC==_b.iS||nC==_b.Uo)nv--;if(J.name==""){J.name="Layer "+(p+1);nh=!0}if(nh&&J.zu()&&J.nB=="norm")J.nB="pass";
if(J.ot()&&J._m(X).G){var nF=J._m(X);nF.G.isEnabled=J.add.SoLd.filterFX.v.filterMaskEnable.v}if(nR&&J.gC()){var nP=UZ.FF.default;
if(J.add.vstk==null)J.add.vstk=JSON.parse(JSON.stringify(nP));else{var ni="strokeStyleLineDashSet";if(J.add.vstk[ni]==null)J.add.vstk[ni]=JSON.parse(JSON.stringify(nP[ni]))}}if(nR&&(J.add.vogk==null||x.g.SG(nR.s)!=J.add.vogk.length))J.lN();
if(nu==null&&J.G!=null){if(J.G.pw==!1){J.G.pw=!0;J.YM=J.G.clone()}else{nR.YM=J.G;nR.zY=!1;J.G.Zt=nR.Zt;
J.G.hw=nR.hw}}if(nu!=null&&nR!=null&&(nu.Zt+nR.Zt!=0||nu.hw+nR.hw!=2*255))J.he(X);var nw=J.add.artb;
if(nw&&nw.artboardBackgroundType==null)nw.artboardBackgroundType={t:"long",v:1};if(nw&&nv!=0)delete J.add.artb;
var nO=J.add.vstk;if(J.gC()&&(J.rect.qa()||nR&&nR.Zt!=0||nO&&!nO.fillEnabled.v&&(!nO.strokeEnabled.v||nO.strokeStyleLineWidth.v.val==0)))J.Nj(X);
if(J.add.TySh){nB=!0;if(!J.rect.qa())nE=!1}if(J.add.TySh&&nK){var nT=J.add.TySh.Bw,nI=ng.uX(nT),gu=nT.EngineDict.ParagraphRun.RunArray,nN=nK._DocumentObjects._TextObjects;
if(nN.length<=a){console.log("Txt2 incomplete");continue}nN=nN[a]._Model._ParagraphRun._RunArray;var xn=Math.min(nN.length,gu.length);
for(var B=0;B<xn;B++){var nL=gu[B].ParagraphSheet.Properties,nV=nK._DocumentResources._ParagraphSheetSet._Resources,nX=nN[B]._RunData._ParagraphSheet;
if(typeof nX=="string")nX=nV[parseInt(nX.slice(1))]._Resource;var xY=nX._Parent==null?nX:nV[parseInt(nX._Parent.slice(1))]._Resource,ny=nX._Features._ParagraphDirection;
if(ny==null)ny=xY._Features._ParagraphDirection;if(ny)nL._Direction=parseInt(ny.slice(1))}var xp=nK._DocumentResources,nW=xp._TextFrameSet._Resources,nk=nW[a]._Resource,_x=nk._Data,xI=new nQ(1,0,0,1,0,0);
if(nk._0){var nZ=parseFloat(nk._0[0].slice(1)),gC=parseFloat(nk._0[1].slice(1));xI.translate(nZ,gC)}if(nI){xI.translate(nI[0],nI[1]);
ng.Sc(nT,[0,0,nI[2]-nI[0],nI[3]-nI[1]])}else{if(nk._Bezier&&nk._Bezier._Points){var l=nk._Bezier._Points,nZ=parseFloat(l[0].slice(1)),gC=parseFloat(l[1].slice(1));
if(nZ!=0||gC!=0){xI.translate(nZ,gC)}}}if(nk._Data&&nk._Data._FrameMatrix){var _q=nk._Data._FrameMatrix;
_q=_q.map(function(xC){return parseFloat(xC.slice(1))});xI.concat(new nQ(_q[0],_q[1],_q[2],_q[3],_q[4],_q[5]))}xI.concat(J.add.TySh.w);
J.add.TySh.w=xI;a++;var w=_x._Type?parseInt(_x._Type.slice(1)):0;if(w==2||w==1&&_x._PathData._Spacing=="i-3"){var gb=function(xC){return parseFloat(xC.slice(1))},l=nk._Bezier._Points.map(gb);
if(nI)x.j.w(l,new nQ(1,0,0,1,-nI[0],-nI[1]),l);var xE=_x._PathData._Reversed;nT.Curve={Points:l,TextOnPathTRange:_x._TextOnPathTRange.map(gb),Reversed:xE==null?!1:xE};
J.add.TySh.add={vmsk:new M.zo,vogk:null};ng.CP(J.add.TySh)}}}xu.iI.Ey(X,!0)};_Q.Bn=function(b,X,q){xu.iI.XQ(b);
xu.iI.Ey(b,!1);var N=[],J=[],_=[],p=[],z=[],u=16,nA=0;for(var g=0;g<b.F.length;g++){var W=b.F[g];if(W.ot()&&W._m(b).G){W.add.SoLd.filterFX.v.filterMaskEnable.v=W._m(b).G.isEnabled}if(W.add.SoLd){J.push(W.add.SoLd.Idnt.v);
_.push(W.add.SoLd.placed.v)}if(W.add.TySh){var o=W.add.TySh.Bw,y=ng.__(o);W.add.TySh.Ca.TextIndex={t:"long",v:N.length};
N.push(o);if(y==2)ng.Kt(W.add.TySh)}if(W.add.PtFl)p.push(W.add.PtFl.Ptrn.v.Idnt.v);if(W.add.lmfx){for(var D=0;
D<UZ.PS.length;D++){var m=W.add.lmfx[UZ.PS[D]].v;for(var k=0;k<m.length;k++)if(m[k].v.Ptrn)p.push(m[k].v.Ptrn.v.Idnt.v)}}var O=W.add.vstk;
if(O&&O.strokeStyleContent.v.classID=="patternLayer"){p.push(O.strokeStyleContent.v.Ptrn.v.Idnt.v)}if(W.gC()){z[g]=[W.rect,W.buffer];
W.rect=new R;W.buffer=x.K(0)}}if(N.length>0){var L=b.add.Txt2?b.add.Txt2.IT:null;b.add.Txt2={};b.add.Txt2.IT=xl.xBN(N,null,L)}var I=b.add.lnk2;
if(I){var H=b.add.lnk2=[];for(var g=0;g<I.length;g++)if(J.indexOf(I[g].pA)!=-1)H.push(I[g]);if(H.length==0)delete b.add.lnk2}var Y=b.add.FEid;
if(Y){var n=b.add.FEid=[];for(var g=0;g<Y.length;g++)if(_.indexOf(Y[g].id)!=-1)n.push(Y[g]);if(n.length==0)delete b.add.FEid}var w=b.add.Patt;
if(w){var t=b.add.Patt=[];for(var g=0;g<w.length;g++)if(p.indexOf(w[g].id)!=-1)t.push(w[g])}b.ye.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);
e.Dn(b.ye.r1005,0,b.Dg);e.Dn(b.ye.r1005,8,b.Dg);if(b._l()){b.ye.r1022=new Uint8Array([0,3+b.Ff.length-1,0])}else delete b.ye.r1022;
b.ye.r1026=new Uint8Array(b.F.length*2);for(var g=0;g<b.F.length;g++)e.Dn(b.ye.r1026,g*2,b.F[g].zZ);
var j=b.LA,E=j[0].length+j[1].length,h=b.ye.r1032=x.K(16+5*E,!0);e.ni(h,0,1);e.ni(h,4,576);e.ni(h,8,576);
e.ni(h,12,E);for(var g=0;g<2;g++)for(var k=0;k<j[g].length;k++){e.te(h,u,Math.round(j[g][k]*32));h[u+4]=g;
u+=5}delete b.ye.r1045;delete b.ye.r1006;delete b.ye.r1077;var Z=new _e;u=0;var A=new Uint8Array(4+(1+b.Ff.length)*13);
A[3]=1;A[6]=A[7]=255;A[15]=100;A[16]=1;for(var g=0;g<1+b.Ff.length;g++){var P=b.Ff[g-(g==0?0:1)],T=(g==0?"Transparency":P.name)+"\0";
e.MV(Z,u,T);u+=4+T.length*2;if(g!=0){var U=4+g*13;bH.yc(A,U,P.tY);A[U+11]=P.HV;A[U+12]=P.VS}}b.ye.r1045=Z.data.slice(0,u);
b.ye.r1077=A;for(var g=0;g<b.lg.length;g++)b.lg[b.lg.length-g-1].v.sliceID.v=2+g*3;var r={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:b.lg}},Z=new _e;
e.jy(Z,0,8);e.jy(Z,4,16);var i=nf.wc(Z,r,8);b.ye.r1050=Z.data.slice(0,i+8);var Z=new _e;e.jy(Z,0,16);
var i=nf.wc(Z,b.vO,4);b.ye.r1065=Z.data.slice(0,i+4);var V=b.k;h=b.ye.r1069=x.K(2+V.length*4,!0);e.Dn(h,0,V.length);
for(var g=0;g<V.length;g++)e.ni(h,2+4*g,b.F[V[g]].add.lyid);delete b.ye.r1058;delete b.ye.r1060;if(Object.keys(b.Te).length!=0){var F=[{t274:[1],t282:[[72,1]],t283:[[72,1]],t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];
_l.CS(b.Te,F[0]);b.ye.r1058=new Uint8Array(UTIF.encode(F));var B=_l.xKm(b.Te);b.ye.r1060=e.eJ(B)}var $=[],l=[];
for(var g=0;g<b.Dx.length;g++){var v=b.Dx[g],C=v.add.vmsk.s;if(g==0&&C.length==2)continue;var f=x.K(C.length*26);
SB.BQ(f,0,C,b.n,b.z);var nx=g==0?1025:2e3+g-1;b.ye["r"+nx]=f;if(g!=0){$.push({t:"Objc",v:{classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:v.name}}});
l.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:v.add.vogk}}})}}if($.length!=0){b.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:$}};
l={classID:"null",keyRootDescriptorList:{t:"VlLs",v:l}};var Z=new _e;e.jy(Z,0,16);var i=nf.wc(Z,l,4);
b.ye.r3000=Z.data.slice(0,i+4)}else{delete b.add.pths;delete b.ye.r3000}nA=_Q.xpK(b,X,nA);nA=_Q.xpr(b,X,nA);
nA=_Q.xpw(b,X,nA);nA=_Q.xpk(b,X,nA,q);nA=_Q.xnn(b,X,nA,q[0]);var nU=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016];
for(var g=0;g<nU.length;g++)delete b.ye["r"+nU[g]];for(var g=0;g<b.F.length;g++){var W=b.F[g];if(W.gC()){W.rect=z[g][0];
W.buffer=z[g][1]}}if(I)b.add.lnk2=I;if(Y)b.add.FEid=Y;if(w)b.add.Patt=w;xu.iI.Ey(b,!0);return nA};_Q.BO=function(b,X,q){var N=e.uT(X,q,4);
q+=4;if(N!="8BPS")alert("invalid header signature: "+N);var J=e.Dt(X,q);q+=2;b.cQ=J==2;if(J!=1&&J!=2)alert("invalid version: "+J);
q+=6;b.Hs=e.Dt(X,q);q+=2;b.z=e.pY(X,q);q+=4;b.n=e.pY(X,q);q+=4;b.mz=e.Dt(X,q);q+=2;b.Hm=e.Dt(X,q);q+=2;
return q};_Q.xpK=function(b,X,q){X.Sd(0,64);e.hd(X.data,q,"8BPS");q+=4;e.Dn(X.data,q,1);q+=2;e.ni(X.data,q,0);
q+=4;e.Dn(X.data,q,0);q+=2;e.Dn(X.data,q,4+b.Ff.length);q+=2;e.te(X.data,q,b.z);q+=4;e.te(X.data,q,b.n);
q+=4;e.Dn(X.data,q,8);q+=2;e.Dn(X.data,q,3);q+=2;return q};_Q.xpS=function(b,X,q){var N=e.pY(X,q);q+=4;
if(N!=0)b.mD=X.slice(q,q+N);q+=N;return q};_Q.xpr=function(b,X,q){e.jP(X,q,0);q+=4;return q};_Q.xpB=function(b,X,q){var N=e.o(X,q),J=0;
q+=4;var _=[];while(J<N){var p=e.uT(X,q+J,4);J+=4;var z=e.Dt(X,q+J);J+=2;var g=e.MZ(X,q+J);J+=g.length;
if(p!="8BIM"){_.push(z);console.log("Unknown Image Resources signature: "+p+", ID: "+z)}var W=e.o(X,q+J);
J+=4;if(b.ye["r"+z]!=null)console.log("--- two resources with same ID");b.ye["r"+z]=e.in(X,q+J,W);J+=W+(W&1)}for(var o=0;
o<_.length;o++)delete b.ye["r"+_[o]];if(b.Fx()==null)b.bw(30);return q+N};_Q.xpw=function(b,X,q){var N=q,J=0;
q+=4;for(var _ in b.ye){e.Ya(X,q+J,"8BIM");J+=4;var p=parseInt(_.substring(1));e.ge(X,q+J,p);J+=2;var z=e.ee(X,q+J,"");
J+=z;var g=b.ye["r"+p],W=g.length;e.jy(X,q+J,W);J+=4;e.iR(X,q+J,g);J+=W;if(W%2==1)J++}e.jy(X,N,J);return q+J};
_Q.xpa=function(b,X,q){var N=q,J,_=b.cQ?8:4;if(b.cQ)J=e.ju(X,q);else J=e.o(X,q);q+=_;if(J==0)return N+_;
q=_Q.xp$(b,X,q);q=_Q.xUq(b,X,q);q=bO.ZN(X,q,N+_+J,b.add,b.cQ,b);return N+_+J};_Q.xpk=function(b,X,q,N){var J=q;
e.jy(X,q,0);q+=4;q=_Q.xUx(b,X,q,N);q=_Q.xUD(b,X,q);q=bO.Zj(X,q,b.add,b);e.jy(X,J,q-J-4);return q};_Q.xp$=function(b,X,q){var N,J=b.cQ?8:4;
if(b.cQ)N=e.ju(X,q);else N=e.o(X,q);q+=J;if(N!=0)_Q.Pe(b,X,q);return q+N};_Q.Pe=function(b,X,q){var N=e.aF(X,q);
q+=2;var J=Math.abs(N);for(var _=0;_<J;_++){var p=new M;q=xr.UU(p,b,X,q);b.F[_]=p}var z=new R(0,0,b.n,b.z);
for(var _=0;_<J;_++){var g=b.F[_];q=x_.UU(g,b,X,q);var W=g.rect.c(),o=g.rect.be(z),y=o.c()/W;if(W>2e3*3e3&&y<.5){var D=x.K(o.c()*4);
x.iX(g.buffer,g.rect,D,o);g.buffer=D;g.rect=o;alert("Removing hidden parts of layers")}}};_Q.xUx=function(b,X,q,N){var J=q;
e.jy(X,q,0);q+=4;var _=b.F.length;e.ge(X,q,-_);q+=2;var p=[];for(var z=0;z<_;z++)q=xr.Bn(b.F[z],b,X,q,p);
for(var z=0;z<_;z++)q=x_.oM(b.F[z],X,q,p[z],N);var g=q-J-4;if(g%2!=0)g++;e.jy(X,J,g);return J+g+4};_Q.xUq=function(b,X,q){var N=e.o(X,q);
q+=4;q+=N;return q};_Q.xUD=function(b,X,q){var N=e.jy(X,q,0);q+=4;return q};_Q.xnA=function(b,X,q){var N=b.Hm,J="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),_=[1,1,1,3,4,1,1,3],p,O;
if(N!=3){if(N==1||N==2||N==4)alert("Project will be converted from "+J[N]+" to "+J[3]+" mode.");else{alert("Color mode "+J[N]+" is not supported yet :(")}}if(b.ye.r1045){p=[];
var z=b.ye.r1045,g=0;while(g<z.length){var W=e.PB(z,g);p.push(W);g+=4+2+W.length*2}}var o=_[N]+(p==null||p[0]=="Transparency"?1:0),y=b.n,D=b.z,m=y*D,k=e.Dt(X,q);
q+=2;b.buffer=x.K(m*4);x.Ws(b.buffer,4278190080);var L=q;for(var I=0;I<b.Hs;I++){if(k==0){O=x_.e_(b.cQ,b.mz,X,y,D,q,k);
q+=m*(b.mz>>>3)}else if(k==1){O=x.K(m);var H=b.cQ?4:2;if(I==0)q+=b.Hs*D*H;q+=x_.Zm(X,O,y,D,L+I*D*H,q,H)}else{console.log("unknown compression of image data: ",k);
return}if(I<o){x.qR(O,b.buffer,I);if(b.Hs==1&&I==0){x.qR(O,b.buffer,1);x.qR(O,b.buffer,2)}}else{var Y=new M.ah,n=I-o,w=I-_[b.Hm];
Y.name=p?p[w]:"Alpha";if(Y.name=="Quick Mask"){Y.rX=!0;b.nI.push(n)}Y.rect=new R(0,0,y,D);Y.channel=O;
Y.color=0;Y.Du();b.Ff[n]=Y;if(b.ye.r1077){var z=b.ye.r1077.slice(4+w*13);Y.tY=bH.D_(z,0);Y.HV=z[11];
Y.VS=z[12];if(Y.VS==2)Y.rX=!0}}}b.Hs=4;if(b.Hm==2)for(var t=0;t<m;t++){var j=t*4,E=b.buffer[j];b.buffer[j]=b.mD[0+E];
b.buffer[j+1]=b.mD[256+E];b.buffer[j+2]=b.mD[512+E]}return q};_Q.xnn=function(b,X,q,N){var J=1,_=16,p=b.n,z=b.z,W,o;
e.ge(X,q,J);q+=2;var g=p*z;if(!N){o=new x.Sm(p*z);x.KY(b.buffer,o);var y=o.D,D=o.q,m=o.b,k=o.i;for(var O=0;
O<g;O++){var L=k[O]*(1/255);y[O]=~~(y[O]*L+255*(1-L));D[O]=~~(D[O]*L+255*(1-L));m[O]=~~(m[O]*L+255*(1-L))}}else W=x.K(g);
var I=[W,W,W,W];if(!N)I=[o.D,o.q,o.b,o.i];for(var O=0;O<b.Ff.length;O++){I.push(b.Ff[O].$O(new R(0,0,b.n,b.z)))}var H=q;
for(var Y=0;Y<I.length;Y++){X.Sd(q,p*z+4);W=I[Y];if(J==0||J==2||J==3)q=x_.IK(W,X.data,p,z,q,J);else{if(Y==0)q+=I.length*z*2;
var n=q;q+=x_.gF(W,X.data,p,z,H+Y*z*2,q)}}return q};function Uj(){}Uj.UU=function(b){var X={};Uj.IE(b,X,0,0);
return X};Uj.Bn=function(b,X){var q=0;q=Uj.IQ(b,X,q,0);return q};Uj.IE=function(b,X,q,N){while(b[q]!="<".charCodeAt(0))q++;
q+=2;while(!0){if(b[q]=="/".charCodeAt(0)){q++;var J=e.indexOf(b," ".charCodeAt(0),q,q+50),_=e.indexOf(b,"\n".charCodeAt(0),q,q+50);
if(_==-1)_=Infinity;if(J==-1)J=Infinity;var p=Math.min(_,J),z=e.uT(b,q,p-q),g=Uj.er(b,p+1,N+1,z);X[z]=g.A;
q=p+1;q+=g.size}else if(b[q]==">".charCodeAt(0)){q+=2;break}else{var W=b[q];if(W==10||W==9||W==32)q++;
else{console.log("unknown byte: "+W+", char: "+String.fromCharCode(W),q);q++}}}return q};Uj.IQ=function(b,X,q,N){e.Ya(X,q,"<<\n");
q+=3;var J=Uj.xnK;for(var _ in b){e.lO(X,q,"\t".charCodeAt(0),N+1);q+=N+1;e.Ya(X,q,"/"+_);q+=1+_.length;
if(J(b[_])||b[_]instanceof Array){e.Ya(X,q," ");q++}else{e.Ya(X,q,"\n");q++;e.lO(X,q,"\t".charCodeAt(0),N+1);
q+=N+1}q=Uj.et(b[_],X,q,N+1);e.Ya(X,q,"\n");q++}e.lO(X,q,"\t".charCodeAt(0),N);q+=N;e.Ya(X,q,">>");q+=2;
return q};Uj.er=function(b,X,q,N){var J=X,_={size:0,A:0};while(!0){while(b[X]==" ".charCodeAt(0)||b[X]=="\t".charCodeAt(0)||b[X]=="\n".charCodeAt(0))X++;
if(b[X]=="<".charCodeAt(0)){_.A={};X=Uj.IE(b,_.A,X,q+1);break}else if(b[X]=="(".charCodeAt(0)){X+=3;
var p=X;while(!0){if(b[p-1]!="\\".charCodeAt(0)&&b[p]==")".charCodeAt(0)&&(b[p+1]=="\n".charCodeAt(0)||b[p+1]==" ".charCodeAt(0)))break;
else p++}_.A=e.pg(b,X,p);X=p+2;break}else if(b[X]=="[".charCodeAt(0)){X++;_.A=[];while(b[X]==" ".charCodeAt(0)||b[X]=="\t".charCodeAt(0)||b[X]=="\n".charCodeAt(0))X++;
while(b[X]!="]".charCodeAt(0)){var z=Uj.er(b,X,q+1,N);_.A.push(z.A);X+=z.size;while(b[X]==" ".charCodeAt(0)||b[X]=="\t".charCodeAt(0)||b[X]=="\n".charCodeAt(0))X++}X++;
break}else{var g=e.indexOf(b," ".charCodeAt(0),X,X+50),W=e.indexOf(b,"\n".charCodeAt(0),X,X+50);if(W==-1)W=Infinity;
if(g==-1)g=Infinity;var o=e.uT(b,X,Math.min(g,W)-X).trim(),y=parseFloat(o);if(!isNaN(y)){_.A=parseFloat(o);
X=Math.min(g,W)+1;break}else if(o=="true"||o=="false"){_.A=o=="true";X=Math.min(g,W)+1;break}else if(o=="null"){_.A=0;
X=Math.min(g,W)+1;break}else{console.log("unknown identifier: "+o);throw"e"}X=Math.min(g,W)+1}}_.size=X-J;
return _};Uj.et=function(b,X,q,N){if(b instanceof Array){var J=b.length==0||typeof b[0]=="number";if(J){e.Ya(X,q,"[ ");
q+=2;for(var _=0;_<b.length;_++){var p=b[_]+" ";e.Ya(X,q,p);q+=p.length}e.Ya(X,q,"]");q+=1}else{e.Ya(X,q,"[\n");
q+=2;for(var _=0;_<b.length;_++){e.lO(X,q,"\t".charCodeAt(0),N);q+=N;q=Uj.et(b[_],X,q,N);e.Ya(X,q,"\n");
q++}e.lO(X,q,"\t".charCodeAt(0),N);q+=N;e.Ya(X,q,"]");q+=1}}else if(b instanceof Object){q=Uj.IQ(b,X,q,N)}else if(typeof b=="string"){e.Ya(X,q,"(");
q++;e.lO(X,q,254);q++;e.lO(X,q,255);q++;q=e.pU(X,q,b);e.Ya(X,q,")");q+=1}else{var p=b+"";e.Ya(X,q,p);
q+=p.length}return q};Uj.xnK=function(b){var X=typeof b;return X=="string"||X=="number"||X=="boolean"};
function pX(){}pX.UU=function(b){var X={};pX.gu(b,X,0,0);return X};pX.Bn=function(b,X){var q=0;e.Ya(X,q," ");
q++;q=pX.gf(b,X,q,0);q--;X.Sd(q,2);X.data[q]=X.data[q+1]=0;q+=2;return q};pX.IE=function(b,X,q,N){while(b[q]!="<".charCodeAt(0)){q++;
console.log("\u0161ipka")}q+=2;q=pX.gu(b,X,q,N);return q};pX.IQ=function(b,X,q,N){e.Ya(X,q,"<< ");q+=3;
q=pX.gf(b,X,q,N);e.Ya(X,q,">>");q+=2;return q};pX.MW=function(b){return b==9||b==10||b==32};pX.gu=function(b,X,q,N){while(!0){while(pX.MW(b[q])||b[q]==0)q++;
if(q>=b.length)break;if(b[q]=="/".charCodeAt(0)){q++;var J=q;while(!pX.MW(b[J]))J++;var _=e.uT(b,q,J-q);
q=J+1;var p=pX.er(b,q,N,_);X["_"+_]=p.A;q+=p.size}else if(b[q]==">".charCodeAt(0)){q+=2;break}else{var z=b[q];
console.log(e.uT(b,q,q+100));console.log("unknown byte: "+z+", char: "+String.fromCharCode(z)+", offset: "+q);
q++;throw"e";return-1}}return q};pX.gf=function(b,X,q,N){for(var J in b){var _=J.substring(1,J.length);
e.Ya(X,q,"/"+_);q+=1+_.length;e.Ya(X,q," ");q++;q=pX.et(b[J],X,q,N+1);e.Ya(X,q," ");q++}return q};pX.er=function(b,X,q,N){var J=X,_={type:"",size:0,A:0};
while(pX.MW(b[X]))X++;if(b[X]=="<".charCodeAt(0)){_.type="Object";_.A={};X=pX.IE(b,_.A,X,q+1)}else if(b[X]=="(".charCodeAt(0)){_.type="String";
X++;if(b[X]==")".charCodeAt(0)){_.A="s";X++}else{X+=2;var p=X,_a=0;while(!0){if(b[p]==")".charCodeAt(0)&&b[p-1]!="\\".charCodeAt(0))break;
else p+=1}_.A="s"+e.pg(b,X,p);X=p+2}}else if(b[X]=="[".charCodeAt(0)){X++;_.A=[];_.type="Array";while(pX.MW(b[X]))X++;
while(b[X]!="]".charCodeAt(0)){var z=pX.er(b,X,q+1,N);if(z==-1)return-1;_.A.push(z.A);X+=z.size;delete z.size;
while(pX.MW(b[X]))X++}X++}else{var g=X;while(!pX.MW(b[g]))g++;var W=e.uT(b,X,g-X),o=parseFloat(W);if(!isNaN(o)&&W.indexOf(".")!=-1){_.type="Float";
var y=parseFloat(W);_.A="f"+y}else if(!isNaN(o)&&W.indexOf(".")==-1){_.type="Integer";_.A="i"+parseInt(W)}else if(W=="true"||W=="false"){_.type="Boolean";
_.A=W=="true"}else if(W.charAt(0)=="/"){_.type="BString";_.A=W}else{console.log("unknown value",JSON.stringify(W));
throw"e"}X=g+1}_.size=X-J;return _};pX.xnq=function(b){if(b==Math.round(b))return b+".0";var X=b.toFixed(5);
if(0<b&&b<1)X=X.substring(1,X.length);if(-1<b&&b<0)X="-"+X.substring(2,X.length);return X};pX.et=function(b,X,q,N){var J=typeof b=="string"?b.charAt(0):"";
if(b instanceof Array){e.Ya(X,q,"[ ");q+=2;for(var _=0;_<b.length;_++){q=pX.et(b[_],X,q,N);e.Ya(X,q," ");
q++}e.Ya(X,q,"]");q+=1}else if(b instanceof Object){q=pX.IQ(b,X,q,N)}else if(J=="s"){e.Ya(X,q,"(");q++;
e.lO(X,q,254);q++;e.lO(X,q,255);q++;q=e.pU(X,q,b.substring(1));e.Ya(X,q,")");q++}else if(J=="/"){e.Ya(X,q,b);
q+=b.length}else if(J=="f"){var p=parseFloat(b.substring(1)),z=pX.xnq(p);e.Ya(X,q,z);q+=z.length}else if(J=="i"){e.Ya(X,q,b.substring(1));
q+=b.length-1}else{var z=b+"";e.Ya(X,q,z);q+=z.length}return q};function Ue(b,X){if(!b)b=0;if(!X)X=0;
this.x=b;this.y=X}Ue.prototype.add=function(b){return new Ue(this.x+b.x,this.y+b.y)};Ue.prototype.clone=function(){return new Ue(this.x,this.y)};
Ue.prototype.Ob=function(b){this.x=b.x;this.y=b.y};Ue.prototype.Rj=function(b){return this.x==b.x&&this.y==b.y};
Ue.prototype.normalize=function(b){var X=Math.sqrt(this.x*this.x+this.y*this.y);this.x*=b/X;this.y*=b/X};
Ue.prototype.offset=function(b,X){this.x+=b;this.y+=X};Ue.prototype.gM=function(b,X){this.x=b;this.y=X};
Ue.prototype.cB=function(b){return new Ue(this.x-b.x,this.y-b.y)};Ue.NH=function(b,X){return Ue.xnM(b.x,b.y,X.x,X.y)};
Ue.Se=function(b,X,q){return new Ue(b.x+q*(X.x-b.x),b.y+q*(X.y-b.y))};Ue.xnP=function(b,X){return new Ue(b*Math.cos(X),b*Math.sin(X))};
Ue.xnM=function(b,X,q,N){return Math.sqrt((q-b)*(q-b)+(N-X)*(N-X))};Ue.Bj={};Ue.zb={};Ue.Bj.create=function(){var b=new Float32Array(4);
return b};Ue.zb.create=function(b){var X=new Float32Array(16);X[0]=X[5]=X[10]=X[15]=1;if(b)Ue.zb.set(b,X);
return X};Ue.Bj.add=function(b,X,q){q[0]=b[0]+X[0];q[1]=b[1]+X[1];q[2]=b[2]+X[2];q[3]=b[3]+X[3]};Ue.Bj.set=function(b,X){X[0]=b[0];
X[1]=b[1];X[2]=b[2];X[3]=b[3]};Ue.zb.set=function(b,X){X[0]=b[0];X[1]=b[1];X[2]=b[2];X[3]=b[3];X[4]=b[4];
X[5]=b[5];X[6]=b[6];X[7]=b[7];X[8]=b[8];X[9]=b[9];X[10]=b[10];X[11]=b[11];X[12]=b[12];X[13]=b[13];X[14]=b[14];
X[15]=b[15]};Ue.zb.multiply=function(b,X,q){var N=b[0],J=b[1],_=b[2],p=b[3],z=b[4],g=b[5],W=b[6],o=b[7],y=b[8],D=b[9],m=b[10],k=b[11],O=b[12],L=b[13],I=b[14],H=b[15],Y=X[0],n=X[1],w=X[2],t=X[3];
q[0]=Y*N+n*z+w*y+t*O;q[1]=Y*J+n*g+w*D+t*L;q[2]=Y*_+n*W+w*m+t*I;q[3]=Y*p+n*o+w*k+t*H;Y=X[4];n=X[5];w=X[6];
t=X[7];q[4]=Y*N+n*z+w*y+t*O;q[5]=Y*J+n*g+w*D+t*L;q[6]=Y*_+n*W+w*m+t*I;q[7]=Y*p+n*o+w*k+t*H;Y=X[8];n=X[9];
w=X[10];t=X[11];q[8]=Y*N+n*z+w*y+t*O;q[9]=Y*J+n*g+w*D+t*L;q[10]=Y*_+n*W+w*m+t*I;q[11]=Y*p+n*o+w*k+t*H;
Y=X[12];n=X[13];w=X[14];t=X[15];q[12]=Y*N+n*z+w*y+t*O;q[13]=Y*J+n*g+w*D+t*L;q[14]=Y*_+n*W+w*m+t*I;q[15]=Y*p+n*o+w*k+t*H;
return q};Ue.zb.inverse=function(b,X){var q=b[0],N=b[1],J=b[2],_=b[3],p=b[4],z=b[5],g=b[6],W=b[7],o=b[8],y=b[9],D=b[10],m=b[11],k=b[12],O=b[13],L=b[14],I=b[15],H=q*z-N*p,Y=q*g-J*p,n=q*W-_*p,w=N*g-J*z,t=N*W-_*z,j=J*W-_*g,E=o*O-y*k,h=o*L-D*k,u=o*I-m*k,Z=y*L-D*O,A=y*I-m*O,P=D*I-m*L,T=H*P-Y*A+n*Z+w*u-t*h+j*E;
if(!T){return null}T=1/T;X[0]=(z*P-g*A+W*Z)*T;X[1]=(J*A-N*P-_*Z)*T;X[2]=(O*j-L*t+I*w)*T;X[3]=(D*t-y*j-m*w)*T;
X[4]=(g*u-p*P-W*h)*T;X[5]=(q*P-J*u+_*h)*T;X[6]=(L*n-k*j-I*Y)*T;X[7]=(o*j-D*n+m*Y)*T;X[8]=(p*A-z*u+W*E)*T;
X[9]=(N*u-q*A-_*E)*T;X[10]=(k*t-O*n+I*H)*T;X[11]=(y*n-o*t-m*H)*T;X[12]=(z*h-p*Z-g*E)*T;X[13]=(q*Z-N*h+J*E)*T;
X[14]=(O*Y-k*w-L*H)*T;X[15]=(o*w-y*Y+D*H)*T;return X};Ue.zb.xas=function(b,X,q){var N=X[0],J=X[1];q[0]=N*b[0]+J*b[4]+b[12];
q[1]=N*b[1]+J*b[5]+b[13]};Ue.zb.xPh=function(b,X,q){var N=X[0],J=X[1],_=X[2],p=X[3];q[0]=b[0]*N+b[4]*J+b[8]*_+b[12]*p;
q[1]=b[1]*N+b[5]*J+b[9]*_+b[13]*p;q[2]=b[2]*N+b[6]*J+b[10]*_+b[14]*p;q[3]=b[3]*N+b[7]*J+b[11]*_+b[15]*p};
function nQ(b,X,q,N,J,_){if(typeof b==="undefined"){b=1;X=0;q=0;N=1;J=0;_=0}this.i=b;this.b=X;this.Yb=q;
this.Tm=N;this.lf=J;this.vw=_}nQ.prototype.bq=function(){return Math.sqrt(Math.abs(this.i*this.Tm-this.b*this.Yb))};
nQ.prototype.gs=function(){var b=this,X=function(q){return Math.abs(q)<1e-9?0:q};b.i=X(b.i);b.b=X(b.b);
b.Yb=X(b.Yb);b.Tm=X(b.Tm);b.lf=X(b.lf);b.vw=X(b.vw)};nQ.prototype.PK=function(b){return new Ue(b.x*this.i+b.y*this.Yb+this.lf,b.x*this.b+b.y*this.Tm+this.vw)};
nQ.prototype.translate=function(b,X){this.lf+=b;this.vw+=X};nQ.prototype.rotate=function(b){var X=new nQ(Math.cos(b),-Math.sin(b),Math.sin(b),Math.cos(b),0,0);
this.concat(X)};nQ.prototype.scale=function(b,X){var q=new nQ(b,0,0,X,0,0);this.concat(q)};nQ.prototype.concat=function(b){this.Ob(new nQ(this.i*b.i+this.b*b.Yb,this.i*b.b+this.b*b.Tm,this.Yb*b.i+this.Tm*b.Yb,this.Yb*b.b+this.Tm*b.Tm,this.lf*b.i+this.vw*b.Yb+b.lf,this.lf*b.b+this.vw*b.Tm+b.vw))};
nQ.prototype.Kn=function(){var b=this.i*this.Tm-this.b*this.Yb;this.Ob(new nQ(this.Tm/b,-this.b/b,-this.Yb/b,this.i/b,(this.Yb*this.vw-this.Tm*this.lf)/b,(this.b*this.lf-this.i*this.vw)/b))};
nQ.prototype.clone=function(){return new nQ(this.i,this.b,this.Yb,this.Tm,this.lf,this.vw)};nQ.prototype.Ob=function(b){this.i=b.i;
this.b=b.b;this.Yb=b.Yb;this.Tm=b.Tm;this.lf=b.lf;this.vw=b.vw};function e(){}e.BV=function(b){var X="";
for(var q=3;q>=0;q--)X+=String.fromCharCode(b>>q*8&255);return X};e.xnR=function(b){var X=0;for(var q=b.length-1;
q>=0;q--)X|=b.charCodeAt(q)<<(3-q)*8;return X};e.indexOf=function(b,X,q,N){if(q==null)q=0;if(N==null)N=b.length;
N=Math.min(N,b.length);for(var J=q;J<N;J++)if(b[J]==X)return J;return-1};e.Bs=function(b,X,q){if(q==null)q=0;
if(typeof X=="string"){var N=[];for(var J=0;J<X.length;J++)N.push(X.charCodeAt(J));X=N}for(var J=q;J<b.length;
J++){var _=!0;for(var p=0;p<X.length;p++)if(X[p]!=b[J+p]){_=!1;break}if(_)return J}return-1};e.pg=function(b,X,q){var N=[],_="";
while(X<q){var J=b[X++];if(J=="\\".charCodeAt(0))N.push(b[X++]);else N.push(J)}for(var p=0;p<N.length;
p+=2)_+=String.fromCharCode(N[p]<<8|N[p+1]);return _};e.x_p=function(b,X,q){var N=new Uint8Array(2);
for(var J=0;J<q.length;J++){e.Dn(N,0,q.charCodeAt(J));if(N[0]==")".charCodeAt(0)||N[0]=="(".charCodeAt(0)||N[0]=="\\".charCodeAt(0)){b[X]="\\".charCodeAt(0);
X++}b[X]=N[0];X++;if(N[1]==")".charCodeAt(0)||N[1]=="(".charCodeAt(0)||N[1]=="\\".charCodeAt(0)){b[X]="\\".charCodeAt(0);
X++}b[X]=N[1];X++}return X};e.pU=function(b,X,q){b.Sd(X,4*q.length);return e.x_p(b.data,X,q)};e.pb=function(b,X,q){var N="";
for(var J=0;J<q;J++){var _=b[X++]|b[X++]<<8;N+=String.fromCharCode(_)}return N};e.BZ=function(b,X,q){var N="";
for(var J=0;J<q;J++){var _=b[X++]<<8|b[X++];N+=String.fromCharCode(_)}return N};e.x_r=function(b,X,q){for(var N=0;
N<q.length;N++){var J=q.charCodeAt(N);e.MT(b,X+2*N,J)}};e.pR=function(b,X,q){for(var N=0;N<q.length;
N++){var J=q.charCodeAt(N);e.Dn(b,X+2*N,J)}};e.xPN=function(b,X,q){b.Sd(X,2*q.length);e.pR(b.data,X,q)};
e.xbv=function(b,X,q){var N=[],J=0,_=0;q+=X;while(X<q){J=b[X++];if((J&128)==0)_=J;else if((J&224)==192){_=(J&31)<<6;
J=b[X++];_|=J&63}else if((J&240)==224){_=(J&15)<<12;J=b[X++];_|=(J&63)<<6;J=b[X++];_|=J&63}else if((J&248)==240){_=(J&7)<<18;
J=b[X++];_|=(J&63)<<12;J=b[X++];_|=(J&63)<<6;J=b[X++];_|=J&63}else throw"e";N.push(_)}return N};e.pW=window.TextDecoder?new window.TextDecoder("utf8"):null;
e.Re=function(b,X,q){if(X==null)X=0;if(q==null)q=b.length;if(e.pW&&X==0&&q==b.length)return e.pW.decode(b);
var N=e.xbv(b,X,q),J=N.length;for(var _=0;_<J;_++)N[_]=String.fromCharCode(N[_]);return N.join("")};
e.pI=window.TextEncoder?new window.TextEncoder("utf8"):null;e.eJ=function(b){if(e.pI)return e.pI.encode(b);
var X=new Uint8Array(b.length*4),q=e.MI(b,X,0);return X.slice(0,q)};e.MI=function(b,X,q){var N=b.length,J=0;
for(var _=0;_<N;_++){var p=b.charCodeAt(_);if((p&4294967295-(1<<7)+1)==0){X[q+J]=p;J++}else if((p&4294967295-(1<<11)+1)==0){X[q+J]=192|p>>6;
X[q+J+1]=128|p>>0&63;J+=2}else if((p&4294967295-(1<<16)+1)==0){X[q+J]=224|p>>12;X[q+J+1]=128|p>>6&63;
X[q+J+2]=128|p>>0&63;J+=3}else if((p&4294967295-(1<<21)+1)==0){X[q+J]=240|p>>18;X[q+J+1]=128|p>>12&63;
X[q+J+2]=128|p>>6&63;X[q+J+3]=128|p>>0&63;J+=4}else throw"e"}return J};e.qg=function(b,X){var q=e.o(b,X),N=e.Re(b,X+4,q-1);
return{qD:N,hZ:4+q}};e.xbQ=function(b,X){var q=e.Gs(b,X),N=e.pb(b,X+4,q);return N};e.OV=function(b,X){var q=e.o(b,X),N=e.BZ(b,X+4,q);
return N};e.PB=function(b,X){var q=e.o(b,X),N=e.BZ(b,X+4,q-1);return N};e.xbj=function(b,X,q){e.iL(b,X,q.length);
X+=4;e.x_r(b,X,q)};e.xbD=function(b,X,q){e.ni(b,X,q.length);X+=4;e.pR(b,X,q)};e.MV=function(b,X,q){b.Sd(X,4+2*q.length);
e.xbD(b.data,X,q)};e.xKb=function(b,X,q){b.Sd(X,4+2*q.length);e.xbj(b.data,X,q)};e.IY=function(b,X,q){var N=[];
for(var J=0;J<q;J++)N.push(String.fromCharCode(b[X+J]));return N};e.xPy=function(b,X,q){var N=!1,J=b.length-q.length;
for(var _=X;_<J;_++){for(var p=0;p<q.length;p++){if(b[_+p]!=q.charCodeAt(p))break;if(p==q.length-1)return _}}};
e.uT=function(b,X,q){var N="";for(var J=0;J<q;J++)N+=String.fromCharCode(b[X+J]);return N};e.hd=function(b,X,q){for(var N=0;
N<q.length;N++)b[X+N]=q.charCodeAt(N)};e.Ya=function(b,X,q){b.Sd(X,q.length);e.hd(b.data,X,q)};e.xKh=function(b,X,q){var N="";
for(var J=0;J<q;J++){var _=b[X+J];if(_<10)N+="  ";else if(_<100)N+=" ";N+=_+", "}return N};e.Dt=function(b,X){return b[X]<<8|b[X+1]};
e.Dn=function(b,X,q){b[X]=q>>8&255;b[X+1]=q&255};e.ge=function(b,X,q){b.Sd(X,4);e.Dn(b.data,X,q)};e.zr=function(b,X){return b[X+1]<<8|b[X]};
e.MT=function(b,X,q){b[X+1]=q>>8&255;b[X]=q&255};e.Mf=function(b,X,q){b.Sd(X,4);e.MT(b.data,X,q)};e.aF=function(b,X){e.ID[0]=b[X+1];
e.ID[1]=b[X];return e.qS[0]};e.It=function(b,X){e.ID[0]=b[X];e.ID[1]=b[X+1];return e.qS[0]};e.Cu=e.Dn;
e.IJ=e.ge;e.pY=function(b,X){e.YU[0]=b[X+3];e.YU[1]=b[X+2];e.YU[2]=b[X+1];e.YU[3]=b[X];return e.zI[0]};
e.te=function(b,X,q){e.zI[0]=q;b[X+3]=e.YU[0];b[X+2]=e.YU[1];b[X+1]=e.YU[2];b[X+0]=e.YU[3]};e.jP=function(b,X,q){b.Sd(X,4);
e.te(b.data,X,q)};e.Iz=function(b,X,q,N){q[N+0]=b[X+0];q[N+1]=b[X+1];q[N+2]=b[X+2];q[N+3]=b[X+3]};e.Gs=function(b,X){e.Iz(b,X,e.YU,0);
return e.p$[0]};e.iL=function(b,X,q){e.p$[0]=q;e.Iz(e.YU,0,b,X)};e.PE=function(b,X,q){b.Sd(X,4);e.iL(b.data,X,q)};
e.pN=function(b,X){e.Iz(b,X,e.YU,0);return e.zI[0]};e.xKT=function(b,X,q){e.zI[0]=q;e.Iz(e.YU,0,b,X)};
e.xMn=function(b,X,q){b.Sd(X,4);e.xKT(b.data,X,q)};e.o=function(b,X){var q=b[X]*(256*256*256)+(b[X+1]<<16|b[X+2]<<8|b[X+3]);
return q};e.ni=function(b,X,q){b[X]=q>>24&255;b[X+1]=q>>16&255;b[X+2]=q>>8&255;b[X+3]=q>>0&255};e.jy=function(b,X,q){b.Sd(X,4);
e.ni(b.data,X,q)};e.ju=function(b,X){return e.o(b,X)<<32|e.o(b,X+4)};e.xSi=function(b,X,q){e.ni(b,X,q>>16>>16);
e.ni(b,X+4,q&4294967295)};e.qn=function(b,X,q){b.Sd(X,8);e.xSi(b.data,X,q)};e.V$=function(b,X){var q=new Uint8Array(8);
for(var N=0;N<8;N++)q[N]=b[X+7-N];var J=new Float64Array(q.buffer);return J[0]};e.xSO=function(b,X){var q=new Uint8Array(8);
for(var N=0;N<8;N++)q[N]=b[X+N];var J=new Float64Array(q.buffer);return J[0]};e.zH=function(b,X,q){var N=new Float64Array(1);
N[0]=q;var J=new Uint8Array(N.buffer);for(var _=0;_<4;_++){var p=J[_];J[_]=J[7-_];J[7-_]=p}for(var _=0;
_<8;_++)b[X+_]=J[_]};e.zR=function(b,X,q){b.Sd(X,8);e.zH(b.data,X,q)};e.jJ=function(b,X){e.YU[0]=b[X+3];
e.YU[1]=b[X+2];e.YU[2]=b[X+1];e.YU[3]=b[X+0];return e.Im[0]};e.q_=function(b,X){e.YU[0]=b[X+0];e.YU[1]=b[X+1];
e.YU[2]=b[X+2];e.YU[3]=b[X+3];return e.Im[0]};e.ix=function(b,X,q){e.Im[0]=q;b[X+0]=e.YU[3];b[X+1]=e.YU[2];
b[X+2]=e.YU[1];b[X+3]=e.YU[0]};e.xMh=function(b,X,q){b.Sd(X,4);e.ix(b.data,X,q)};e.qK=function(b,X,q){e.Im[0]=q;
b[X+0]=e.YU[0];b[X+1]=e.YU[1];b[X+2]=e.YU[2];b[X+3]=e.YU[3]};e.xi_=function(b,X,q){b.Sd(X,4);e.qK(b.data,X,q)};
e.xSf=function(b,X){var q=e.pY(b,X),N=q*(1/(1<<24));return N};e.pO=function(b,X,q){var N=Math.floor(q*(1<<24));
e.te(b,X,N)};e.xiB=function(b,X,q){b.Sd(X,4);e.pO(b.data,X,q)};e.MZ=function(b,X){var q=b[X],N=e.uT(b,X+1,q);
q+=1-q%2;return{Jg:N,length:q+1}};e.xrS=function(b,X,q){var N=q.length;b[X]=N;e.hd(b,X+1,q);if(N%2==0){b[X+1+N]=0;
++N}return N+1};e.ee=function(b,X,q){b.Sd(X,q.length+2);return e.xrS(b.data,X,q)};e.jc=function(b,X){var q=new nQ;
q.i=e.V$(b,X+0*8);q.b=e.V$(b,X+1*8);q.Yb=e.V$(b,X+2*8);q.Tm=e.V$(b,X+3*8);q.lf=e.V$(b,X+4*8);q.vw=e.V$(b,X+5*8);
return q};e.ip=function(b,X,q){e.zH(b,X+0*8,q.i);e.zH(b,X+1*8,q.b);e.zH(b,X+2*8,q.Yb);e.zH(b,X+3*8,q.Tm);
e.zH(b,X+4*8,q.lf);e.zH(b,X+5*8,q.vw)};e.xrQ=function(b,X,q){b.Sd(X,48);e.ip(b.data,X,q)};e.xrI=function(b,X){var q=e.jJ(b,X),N=e.jJ(b,X+4),J=e.jJ(b,X+8),_=e.jJ(b,X+12);
return new R(q,N,J-q,_-N)};e.xrG=function(b,X,q){e.ix(b,X,q.x);e.ix(b,X+4,q.y);e.ix(b,X+8,q.x+q.n);e.ix(b,X+12,q.y+q.z)};
e.xrV=function(b,X,q){b.Sd(X,16);e.xrG(b.data,X,q)};e.GK=function(b,X){var q=e.pY(b,X),N=e.pY(b,X+4),J=e.pY(b,X+8),_=e.pY(b,X+12);
return new R(N,q,_-N,J-q)};e.po=function(b,X,q){e.te(b,X,q.y);e.te(b,X+4,q.x);e.te(b,X+8,q.y+q.z);e.te(b,X+12,q.x+q.n)};
e.DN=function(b,X,q){b.Sd(X,16);e.po(b.data,X,q)};e.in=function(b,X,q){var N=new Uint8Array(q);for(var J=0;
J<q;J++)N[J]=b[X+J];return N};e.pm=function(b,X,q){b.set(q,X)};e.iR=function(b,X,q){b.Sd(X,q.length);
e.pm(b.data,X,q)};e.xr$=function(b,X,q,N){if(!N)N=1;for(var J=0;J<N;J++)b[X+J]=q};e.lO=function(b,X,q,N){if(!N)N=1;
b.Sd(X,N);e.xr$(b.data,X,q,N)};e.qS=new Int16Array(1);e.ID=new Uint8Array(e.qS.buffer);e.zI=new Int32Array(1);
e.p$=new Uint32Array(e.zI.buffer);e.YU=new Uint8Array(e.zI.buffer);e.Im=new Float32Array(e.zI.buffer);
function R(b,X,q,N){if(!b)b=0;if(!X)X=0;if(!q)q=0;if(!N)N=0;this.x=b;this.y=X;this.n=q;this.z=N}R.prototype.c=function(){return this.n*this.z};
R.prototype.clone=function(){return new R(this.x,this.y,this.n,this.z)};R.prototype.contains=function(b,X){return b>=this.x&&b<=this.x+this.n&&(X>=this.y&&X<=this.y+this.z)};
R.prototype.gD=function(b){return this.contains(b.x,b.y)};R.prototype.Rh=function(b){return this.x<=b.x&&this.y<=b.y&&b.x+b.n<=this.x+this.n&&b.y+b.z<=this.y+this.z};
R.prototype.Ob=function(b){this.x=b.x;this.y=b.y;this.n=b.n;this.z=b.z};R.prototype.Rj=function(b){return this.x==b.x&&this.y==b.y&&this.n==b.n&&this.z==b.z};
R.prototype.Ii=function(b,X){this.x-=b;this.y-=X;this.n+=2*b;this.z+=2*X};R.prototype.xiv=function(b){this.Ii(b.x,b.y)};
R.prototype.be=function(b){var X=Math.max(this.x,b.x),q=Math.max(this.y,b.y),N=Math.min(this.x+this.n,b.x+b.n),J=Math.min(this.y+this.z,b.y+b.z);
if(N<X||J<q)return new R;else return new R(X,q,N-X,J-q)};R.prototype.Dj=function(b){if(b.y+b.z<this.y||b.x>this.x+this.n||b.y>this.y+this.z||b.x+b.n<this.x)return!1;
return!0};R.prototype.qa=function(){return this.n<=0||this.z<=0};R.prototype.offset=function(b,X){this.x+=b;
this.y+=X};R.prototype.UR=function(b){this.offset(b.x,b.y)};R.prototype.xiR=function(){this.x=this.y=this.n=this.z=0};
R.prototype.gM=function(b,X,q,N){this.x=b;this.y=X;this.n=q;this.z=N};R.prototype.Tg=function(b){if(this.qa())return b.clone();
if(b.qa())return this.clone();var X=this.clone();X.xBK(b);return X};R.WB=new Float32Array(2);R.prototype.xBK=function(b){if(b.qa())return;
if(this.qa()){this.Ob(b);return}this.I$(b.x,b.y);this.I$(b.x+b.n,b.y+b.z)};R.prototype.I$=function(b,X){var q=Math.min(this.x,b),N=Math.min(this.y,X);
this.n=Math.max(this.x+this.n,b)-q;this.z=Math.max(this.y+this.z,X)-N;this.x=q;this.y=N};R.prototype.xil=function(b,X,q,N){if(this.n==0&&this.z==0)this.xBS(b,X);
else this.I$(b,X);this.I$(q,N)};R.prototype.xBS=function(b,X){this.x=b;this.y=X;this.n=this.z=0};function UO(){}UO.UU=function(b,X){var q=new Uint8Array(b),N=0,J=e.uT(q,N,9),z=4,g=100;
N+=9;var _=e.uT(q,N,4);N+=4;N++;X.n=e.o(q,N);N+=4;X.z=e.o(q,N);N+=4;var p=e.o(q,N);N+=4;if(p!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(_)==-1){g=e.o(q,N);N+=4;if(parseInt(_.slice(1))>=7){g=g}else alert("Unknown XCF version: "+_);
z=8}var W={};N=UO.qq(q,N,W);var o=[];N=UO.qB(q,N,o,z);var y=[];N=UO.qB(q,N,y,z);X.pQ=0;for(var D=0;D<o.length;
D++)UO.xBl(q,o[D],X,W,z,g);while(X.pQ>0){X.F.push(X.lJ());X.pQ--}X.F.reverse();delete X.pQ;X.buffer=x.K(X.n*X.z*4);
if(X.F.length==0)console.log("No layers!!!");for(var D=0;D<y.length;D++){var m=UO._u(q,y[D],W,z,g);if(m.Kv[xT.xqD])X.p={channel:m.JZ,rect:new R(0,0,X.n,X.z)}}};
UO.xBl=function(b,X,q,N,J,_){var p=q.rY(),z=e.o(b,X),y=0;X+=4;var g=e.o(b,X);X+=4;p.rect=new R(0,0,z,g);
var W=e.o(b,X);X+=4;var o=e.qg(b,X);X+=o.hZ;p.fT(o.qD);var D={};X=UO.qq(b,X,D);if(D[xT.bB]){var m=D[xT.bB];
y=m.length/4-1}if(D[xT.qM]){p.rect.x=e.pY(D[xT.qM],0);p.rect.y=e.pY(D[xT.qM],4)}if(D[xT._L]){p.opacity=e.o(D[xT._L],0)}if(D[xT.xhw]){p.add.lsct=_b.iS;
p.rect=new R(0,0,0,0);p.buffer=x.K(0);p.aA=24}if(D[xT._I]){var k=e.o(D[xT._I],0);p.nB=xT.xhM[k];if(p.zu()&&p.nB=="norm")p.nB="pass"}if(D[xT._T]){if(e.o(D[xT._T],0)==0)p.aA+=2}if(D[xT.bi]){var O=e.o(D[xT.bi],0);
p.add.lsct=O&1==1?_b.iS:_b.Uo}if(D[xT.qi]){var L=D[xT.qi];for(var I in L){var H=L[I];if(I=="gimp-text-layer"){var Y=UO.xBy(H),n=Y.text,w=Y.font,t=Y.color,j=Y["font-size"];
if(n==null&&Y.markup){var E=new DOMParser,h=E.parseFromString(Y.markup,"image/svg+xml");while(h.firstChild!=null&&h.firstChild.tagName!=null){h=h.firstChild;
var u=h.getAttribute("font"),Z=h.getAttribute("foreground"),A=h.getAttribute("size");if(u!=null)w=u;
if(Z!=null){Z=CSS.D_(Z);t=[1,Z.D/255,Z.q/255,Z.b/255]}if(A!=null){j=""+parseFloat(A)/245}}n=h.textContent}p.add.lnsr="rend";
p.add.TySh=ng.Rq(0,0);p.add.TySh.Ug=new R(0,0,100,100);p.add.TySh.w=new nQ(1,0,0,1,p.rect.x,p.rect.y);
var P=p.add.TySh.Bw;ng.DX(P,0,n);var T=ng.c_(P,0,0),U=Y.justify,r=Y["line-spacing"];if(t)T.qH.FillColor={Type:1,Values:[1,parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3])]};
if(j){j=Math.round(parseFloat(j));T.qH.FontSize=j;p.add.TySh.w.vw+=Math.min(17,j*.17)}if(r){r=Math.round(parseFloat(r)+T.qH.FontSize*1.2);
T.qH.Leading=r;T.qH.AutoLeading=!1}if(U)T.qE.Justification=["left","right","center","fill"].indexOf(U);
if(w&&w!="Sans-serif"){var i=w.toLowerCase(),V="bold italic semi extra regular condensed light".split(" "),F=i.length;
for(var B=0;B<V.length;B++){var $=i.indexOf(V[B]);if($!=-1&&$<F&&i[$-1]==" ")F=$}if(F!=i.length)w=w.slice(0,F-1).split(" ").join("")+"-"+w.slice(F).split(" ").join("");
ng.uJ(T,w)}ng.Fo(P,0,n.length,T);var l=Y["box-width"],v=Y["box-height"],C=l?parseFloat(l):p.rect.n,f=v?parseFloat(v):p.rect.z;
ng.aH(P,1);ng.Sc(P,[0,0,Math.ceil(C),Math.ceil(f)])}else console.log("Unknown property "+I)}}while(q.pQ>y){q.F.push(q.lJ());
q.pQ--}q.pQ=y;if(p.add.lsct==_b.iS||p.add.lsct==_b.Uo)q.pQ++;var nx=J==4?e.o:e.ju;if(p.My()){p.buffer=x.K(p.rect.c()*4);
var nA=new x.Sm(p.rect.c()),nU=nx(b,X);X+=J;var nn=nx(b,X);X+=J;UO._Y(b,nU,nA,N,J,_);x.bL(nA,p.buffer);
if(nn!=0){p.G=new M.ah;p.G.color=0;p.G.rect=p.rect.clone();p.G.channel=UO._u(b,nn,N,J,_).JZ;if(D[xT.br])p.G.isEnabled=e.o(D[xT.br],0)==1}}q.F.push(p)};
UO.xBy=function(b){var X="("+e.Re(b,0,b.length-1)+")",q=[],N={};UO.nc(X,1,q);UO.xBe(q,N);return N};UO.xBe=function(b,X){for(var q=0;
q<b.length;q++){var N=b[q],J=N[0];if(N.length==2)X[J]=N[1];else X[J]=N.slice(1)}};UO.nc=function(b,X,q){while(!0){if(X>=b.length)throw"e";
var N=b.charAt(X);X++;if(N=="("){var J=[];X=UO.nc(b,X,J);q.push(J)}else if(N==" "||N=="\n"||N=="\r"){}else if(N==")")return X;
else if(N=="\""){var _=X;while(!0){var p=b[X];X++;if(p=="\"")break;if(p=="\\")X++}q.push(JSON.parse(b.slice(_-1,X)))}else{var _=X-1;
while(b[X]!=" "&&b[X]!=")")X++;q.push(b.slice(_,X))}}};UO._u=function(b,X,q,N,J){var _=e.o(b,X);X+=4;
var p=e.o(b,X);X+=4;var z=e.qg(b,X);X+=z.hZ;var g={};X=UO.qq(b,X,g);var W=new x.Sm(_*p),o=N==4?e.o:e.ju,y=o(b,X);
X+=N;UO._Y(b,y,W,q,N,J);return{JZ:W.D,Kv:g}};UO._Y=function(b,X,q,N,J,_){var p=e.o(b,X);X+=4;var z=e.o(b,X);
X+=4;var g=e.o(b,X);X+=4;var W=J==4?e.o:e.ju,o=W(b,X);X+=J;UO.xq_(b,o,q,N,g,J,_)};UO.xq_=function(b,X,q,N,J,_,p){var z=e.o(b,X),o=0,H=0;
X+=4;var g=e.o(b,X);X+=4;var W=new R(0,0,z,g);if(p==100)o=1;else if(p==150)o=1;else if(p==600)o=4;else alert("unsupported bit depth "+p);
var y=J/o,o=Math.round(J/y),D=[];X=UO.qB(b,X,D,_);var m=new x.Sm(64*64*o),k=new R,O=N[xT.xhA][0],L=[m.D,m.q,m.b,m.i];
if(y==3)x.set(m.i,255);var I=Date.now();for(var Y=0;Y<g;Y+=64)for(var n=0;n<z;n+=64){var w=Math.min(z-n,64),t=Math.min(g-Y,64),j=w*t;
k.gM(n,Y,w,t);UO.xqa(b,D[H++],j*o,O,y,L);if(p==600){var E=UO.xqr(),h=new Uint32Array(1),u=new Float32Array(h.buffer);
for(var Z=0;Z<y;Z++){var A=L[Z];for(var P=0;P<j;P++){h[0]=A[P]<<24|A[j+P]<<16|A[(j<<1)+P]<<8|A[(j<<1)+j+P]<<0;
var T=u[0];if(T<0)T=0;else if(T>1)T=1;A[P]=E[~~(.5+T*1e3)]}}}x.ba(m,k,q,W)}};UO.xqr=function(){var b=UO.xCd;
if(b!=null)return b;b=UO.xCd=new Uint8Array(1001);for(var X=0;X<1001;X++)b[X]=~~(.49+255*x.bg(X*.001));
return b};UO.xqa=function(b,X,q,N,J,_){if(N==1){for(var p=0;p<J;p++){var z=_[p],g=0;while(g<q){var W=b[X];
X++;if(W<127){var o=b[X];X++;W++;for(var y=0;y<W;y++)z[g+y]=o}else if(W==127){var D=b[X];X++;var m=b[X];
X++;var o=b[X];X++;W=D<<8|m;for(var y=0;y<W;y++)z[g+y]=o}else if(W==128){var D=b[X];X++;var m=b[X];X++;
W=D<<8|m;for(var y=0;y<W;y++)z[g+y]=b[X+y];X+=W}else{W=256-W;for(var y=0;y<W;y++)z[g+y]=b[X+y];X+=W}g+=W}}}else if(N==2){var k=pako.inflate(b.slice(X)),O=Math.round(k.length/q);
for(var y=0;y<q;y++){var L=y*O;_[0][y]=k[L];_[1][y]=k[L+1];_[2][y]=k[L+2];_[3][y]=O==3?255:k[L+3]}}else alert("Unknown compression "+N)};
UO.qB=function(b,X,q,N){var J=N==4?e.o:e.ju;while(!0){var _=J(b,X);X+=N;if(_==0)break;else q.push(_)}return X};
UO.qq=function(b,X,q){while(!0){var N=e.o(b,X);X+=4;var J=e.o(b,X);X+=4;if(N==xT.xqN)break;else if(N==xT.qi)q[N]=UO.xqX(b,X,X+J);
else q[N]=e.in(b,X,J);X+=J}return X};UO.xqX=function(b,X,q){var N={};while(X<q){var J=e.qg(b,X);X+=J.hZ;
var _=e.o(b,X);X+=4;if(_!=1)console.log("unknown flags",_);var p=e.o(b,X);X+=4;N[J.qD]=e.in(b,X,p);X+=p}return N};
var xT={xqN:0,xC_:1,xCC:2,xCF:3,xqD:4,xCl:5,_L:6,_I:7,_T:8,xCN:9,xCG:10,br:11,xCo:12,xCZ:13,xvU:14,qM:15,xvn:16,xhA:17,xve:18,xRb:19,xRr:20,qi:21,xRB:22,xRQ:23,xFh:24,xFe:25,xQb:26,xQG:27,xQo:28,xhw:29,bB:30,bi:31,xdg:32,xdp:33,xdq:34,xdw:35,xdC:36,xdv:37,xdo:38,xdf:0,xdZ:1,xlA:2,xlx:3,xlg:1,xlp:2,xlK:0,xlh:1,xlH:1};
xT.xhM="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
function xD(){}xD.UU=function(b,X){var q=xD,N=pu.parse(b),_=0;if(N.pages.length>1)console.log(N.pages.length,"pages");
var J=[],p=new R;for(var z=0;z<N.pages.length;z++){var g=N.pages[z],W=g.layers,o=q.Is(W,z),D=!1;if(o.c()>8e3*8e3||o.n>3e4||o.z>3e4){q.bv(W,!0);
var y=q.Is(W,z);if(y.c()>=o.c())q.bv(W,!1)}o=q.Is(W,z);for(var m=0;m<W.length;m++){var k=W[m];if(q.iU(k)=="artboard")D=!0}if(!D){console.log("no artboard");
var O={};for(var L in g)O[L]=g[L];O._class="group";g.layers=[O]}J.push(o.clone());if(o.qa())continue;
o.x=0;o.y=_;_+=o.z+200;p=p.Tg(o)}var I={};if(N.foreignSymbols)for(var H=0;H<N.foreignSymbols.length;
H++){var Y=N.foreignSymbols[H].symbolMaster;I[Y.symbolID]={mf:Y}}q.bR(N.pages,I,X);for(var n in I){var k=I[n].mf,w=q.bI(k.layers)}var t=xD.qv(p,8192*8192);
X.pd=!0;X.n=Math.round(p.n/t);X.z=Math.round(p.z/t);X.buffer=x.K(X.n*X.z*4);X._y(N.pages[0].layers.length);
X.pu={};X.mm=[];_=0;for(var z=0;z<N.pages.length;z++){var j=N.pages[z],o=J[z],E=new nQ(t,0,0,t,o.x,o.y-_);
q.qQ(j.layers,X,E,N,I,{},[]);_+=o.z+200}delete X.pu;delete X.mm;if(t!=1)alert("File scaled down "+t+"x")};
xD.xlE=0;xD.iU=function(b){return b._class?b._class:b.$class};xD.qv=function(b,X){var q=1;while(Math.round(b.n/q)*Math.round(b.z/q)>X)q++;
if(q!=1&&!window.confirm("Your image is quite large ("+b.n+" x "+b.z+" px).\n"+"Press OK to scale it down "+q+"x, or Cancel to keep the size."))q=1;
return q};xD.Is=function(b,X){var q=[],N=xD;for(var J=0;J<b.length;J++){var _=b[J],p=N.GK(_.frame);if(X==0||N.iU(_)=="artboard")q.push(p)}return x.rect.YH(q)};
xD.bv=function(b,X){var q=[],N=xD;for(var J=0;J<b.length;J++){var _=b[J],p=N.GK(_.frame);p.n+=150;p.z+=150;
q.push(p)}var z=x.rect.YH(q);x.rect.xrF(q,X);var g=x.rect.YH(q);if(g.c()*1.5<z.c()||z.n>3e4&&g.n<=3e4||z.z>3e4&&g.z<=3e4){alert("Re-arranging artboards");
for(var J=0;J<b.length;J++){var W=q[J],_=b[J],o=_.frame;o.x=W.x;o.y=W.y}}};xD.bR=function(b,X,q){var N=xD;
for(var J=0;J<b.length;J++){var _=b[J],p=N.iU(_);if(["page","artboard","group"].indexOf(p)!=-1)N.bR(_.layers,X,q);
else if(p=="symbolMaster")X[_.symbolID]={mf:_}}};xD.bI=function(b){var X=xD;for(var q=0;q<b.length;q++){var N=b[q],J=X.iU(N),_=null;
if(["page","artboard","group"].indexOf(J)!=-1)_=X.bI(N.layers);if(J=="symbolMaster"||J=="symbolInstance")_=N;
if(_!=null)return _}return null};xD.qQ=function(b,X,q,N,J,_,p){var z=xD,g=[];for(var W=0;W<b.length;
W++){var o=b[W],y=o.frame?z.GK(o.frame):null,D=o.style,H="",E=null,h=!1;if(D==null){console.log("no styles")}var m=z.KR(o,q),k=z.iU(o),O=k=="shapeGroup"||k=="shapePath"||k=="rectangle"||k=="oval"||k=="triangle",L=["page","artboard","group"].indexOf(k)!=-1;
if(k=="shapeGroup"){for(var I=0;I<o.layers.length;I++)if(z.iU(o.layers[I])=="shapeGroup")L=!0}var Y=o.exportOptions;
if(Y){var n=Y.exportFormats;if(n==null)n=Y.sizes;if(k!="artboard"&&(n&&n.length!=0)){var w=n[0].scale;
H="-e"+(w==1?"":w)+"-"}}var t=X.rY();t.HC(o.isVisible);var j=o.name;if(!(typeof j=="string"))j=k;t.fT(H+j.slice(0,250));
if(D!=null)E=z.xht(N,X,D,y,m,t.getName(),O||k=="artboard"||L);if(k=="rectangle"&&D&&D.fills&&D.fills[0]){var u=D.fills[0];
if(u.fillType==4&&u.patternFillType>1&&u.image!=null)h=!0}if(o.shouldBreakMaskChain){while(g.length!=0)z.bs(g.pop(),X)}if(L){t.add.lsct=o.layerListExpandedType==2?_b.iS:_b.Uo;
t.nB="pass";t.aA=24;t.HC(o.isVisible);X.F.push(X.lJ());if(k=="artboard"){var Z=y.clone(),A=m.bq();Z.x=-Math.floor(m.lf/A);
Z.y=-Math.floor(m.vw/A);Z.n=Math.floor(Z.n/A);Z.z=Math.floor(Z.z/A);t.fm(Z);var P=o.backgroundColor;
t.add.artb.Clr={t:"Objc",v:x.Z.Yr({D:255*P.red,q:255*P.green,b:255*P.blue})};t.add.artb.artboardBackgroundType={t:"long",v:4}}z.qQ(o.layers,X,m,N,J,_,p)}else if(O&&!h){t.add.vmsk=new M.zo;
t.add.vstk=JSON.parse(JSON.stringify(UZ.FF.default));t.add.vstk.strokeEnabled.v=!1;t.add.vogk=[];var T=E!=null&&E.frameFXMulti.v.length==1,U=D?D.fills:null,r=D?z.bJ(N,U,y,m,t.getName(),X,z.qW(p,o.do_objectID+"_image")):[];
if(r.length==0){if(T)t.add.vstk.fillEnabled.v=!1;else t.add.iOpa=0;t.add.SoCo={classID:"null",Clr:{t:"Objc",v:x.Z.Yr({D:0,q:0,b:0})}}}else{var i=r[0],V=null,F=null;
if(i.type=="SoFi"){V="SoCo";F=UZ.tt}if(i.type=="GrFl"){V="GdFl";F=UZ.le}if(i.type=="patternFill"){V="PtFl";
F=UZ.Wd}if(V!=null){t.add[V]={classID:"null"};for(var I=0;I<F.length;I++){var B=F[I];t.add[V][B]=i.A.v[B]}var $=i.A.v.Opct.v.val;
if(T&&$==0)t.add.vstk.fillEnabled.v=!1;else t.add.iOpa=Math.round(255*$/100)}}t.aA|=16;t.add.vmsk.s=z.hO(o.layers?o.layers:[o],o.layers?m:q,t.add.vogk);
var l=D?D.blur:null;if(l&&l.isEnabled&&l.type<=1)t.add.vmsk.Zt=l.radius;if(t.add.vmsk.s.length==2){console.log("shape with no content:",t.getName())}if(T){var v=E.frameFXMulti.v[0].v,C=t.add.vstk,f=D.borders[0];
E.frameFXMulti.v=[];nM.xbZ(v,C);var nx=D.borderOptions,nA=D.miterLimit;if(nx){var nU=nx.dashPattern;
C.strokeStyleLineCapType.v.strokeStyleLineCapType=UZ.FF.RA[nx.lineCapStyle];C.strokeStyleLineJoinType.v.strokeStyleLineJoinType=UZ.FF.join[nx.lineJoinStyle];
if(nU)C.strokeStyleLineDashSet.v=nM.ia(nU,1/v.Sz.v.val);if(nA!=null)C.strokeStyleMiterLimit.v=nA}}t.he(X)}else if(k=="bitmap"||h){var nn=h?D.fills[0]:null,nH=h?nn.image.bdata:o.image.bdata,d=X.$K(nH,t.getName(),0,0);
d.aA=t.aA;t=d;var l=D.blur,a=D.colorControls;if(l||a){t.add.SoLd.filterFX=nm.NI();X.$p({id:t.add.SoLd.placed.v,rect:new R,buffer:x.K(1),G:new M.ah});
var U=t.add.SoLd.filterFX.v.filterFXList.v;if(l){var nb=nm.Qq("GsnB",{});nb.v.enab.v=l.isEnabled;nb.v.Fltr.v.Rds.v.val=l.radius;
U.push(nb)}if(a){var nK=a.brightness,nq=a.contrast,nS=a.hue,nB=a.saturation;if(nS!=0||nB!=1){var nb=nm.Qq("hue2",{});
nb.v.enab.v=a.isEnabled;xz.DA(nb.v.Fltr.v,0,[Math.round(nS*180/Math.PI),Math.round((nB-1)*100),0]);U.push(nb)}if(nK!=0||nq!=1){var nb=nm.Qq("brit",{});
nb.v.enab.v=a.isEnabled;nq=nq-1;if(nq>0)nq/=2;var nE=nb.v.Fltr.v;nE.Brgh.v=Math.round(nK*255);nE.Cntr.v=Math.round(nq*255);
nE.useLegacy.v=!0;U.push(nb)}}}if(h){var nh=nn.patternFillType;if(nh==3){var nv=t.rect.n/t.rect.z,nC=y.n/y.z;
if(nv<nC){m.translate(-(y.n*(1-nv/nC))/2,0);m.scale(nC/nv,1)}else{m.translate(0,-(y.z*(1-nC/nv))/2);
m.scale(1,nv/nC)}}}y.x=y.y=0;var nR=x.j.fe(y).r;m.Kn();x.j.w(nR,m,nR);t.add.SoLd.Trnf=c.C.Rz(nR);t.add.SoLd.nonAffineTransform=c.C.Rz(nR);
t.ns(X,!1)}else if(k=="text"){if(o.attributedString==null)continue;var nu=m.clone(),nF,nP,nI=0;nu.Kn();
nu.i=nu.Tm=Math.min(nu.i,nu.Tm);t.add.lnsr="rend";t.add.TySh=ng.Rq(0,0);t.add.TySh.Ug=new R(0,0,y.n,y.z);
t.add.TySh.w=nu;var ni=o.attributedString;if(ni.archivedAttributedString)ni=ni.archivedAttributedString;
var nw=ni.NSString;if(nw==null)nw=ni.string;if(nw["NS.string"])nw=nw["NS.string"];if(_[o.do_objectID]!=null)nw=_[o.do_objectID];
var nO=z.qW(p,o.do_objectID+"_stringValue");if(nO)nw=nO.value;if(ni.attributes!=null){nF=[];nP=[];var nT=ni.attributes;
for(var I=0;I<nT.length;I++){nF.push(nT[I].length,I);nP.push(nT[I].attributes)}}else if(ni.NSAttributeInfo==null){nF=[nw.length,0];
nP=[ni.NSAttributes]}else{nF=ni.NSAttributeInfo["NS.data"];nP=ni.NSAttributes;nF=xD.xhY(nF,nP)}for(var I=0;
I<nF.length;I+=2)nI+=nF[I];if(nI!=nw.length){while(nI>nw.length){nF[nF.length-2]--;nI--;if(nF[nF.length-2]==0){nF.pop();
nF.pop()}}nF[nF.length-2]+=nw.length-nI}nw=nw.replace(/\u2028/g,"\n");nw=nw.replace(/\u2029/g,"\n");
nw=nw.replace(/\r/g,"\n");var gu=t.add.TySh.Bw;ng.DX(gu,0,nw);if(nw!=""){var nN=o.textBehaviour,xn=z.xhT(gu,nF,nP,nw),A=nu.bq(),nL=ng.c_(gu,0,1),xY=0;
if(nL.qH.Font){var nV=nL.JX[nL.qH.Font].Name;if(nV=="FontAwesome"||nV=="Ionicons")xn*=.87}var nX=nL.qH.AutoLeading?0:nL.qH.Leading*.6,ny=Math.max(xn,nX)*A,xp=y.n,nW=y.z;
if(nN==0){ng.aH(gu,0);var nk=ng.Kd(nL.qE);if(nk==1)xY=xp*A;if(nk==2)xY=xp*A*.5}else{ng.aH(gu,1);ng.Sc(gu,[0,0,Math.round(xp),Math.round(nW)]);
ny=ny*.35}t.add.TySh.w.translate(xY,ny)}}else if(k=="symbolInstance"||k=="symbolMaster"){var _x=o.symbolID;
if(_[o.do_objectID])_x=_[o.do_objectID].symbolID;var xI=z.qW(p,o.do_objectID+"_symbolID");if(xI)_x=xI.value;
if(_x=="")continue;var nZ={};for(var B in _)nZ[B]=_[B];if(o.overrides)for(var B in o.overrides)nZ[B]=o.overrides[B];
var gC=p.slice(0);if(o.overrideValues)gC=gC.concat(o.overrideValues);var _q=J[_x];if(_q==null){console.log("Unknown master master",o.symbolID);
continue}var gb=xD.GK(_q.mf.frame),xE=gb.n/y.n,xC=gb.z/y.z,pq=m.clone();pq.scale(xE,xC);t.add.lsct=_b.Uo;
t.nB="pass";t.aA=24;t.HC(o.isVisible);X.F.push(X.lJ());var xB=_q.mf;if(X.mm.indexOf(xB)==-1){X.mm.push(xB);
z.qQ(xB.layers,X,pq,N,J,nZ,gC);X.mm.pop()}}else if(k=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+k,o);continue}if(D&&D.contextSettings){var _r=D.contextSettings,_h=_r.blendMode;
if(_h<z.Zx.length){t.nB=nD.YO[nD.$s.indexOf(z.Zx[_h])];if(L&&t.nB=="norm")t.nB="pass"}t.opacity=Math.round(t.opacity*_r.opacity)}if(E!=null){t.add.lmfx=E}X.F.push(t);
if(o.hasClippingMask&&b.length>1){g.push(t);X.F.push(X.lJ())}}while(g.length!=0)z.bs(g.pop(),X)};xD.qW=function(b,X){for(var q=0;
q<b.length;q++)if(b[q].overrideName.startsWith(X))return b[q]};xD.xhY=function(b,X){var q=0,N=[];while(q+1<b.length){var J=b[q];
q++;if(J>127){J+=128*(b[q]-1);q++;if(b[q-1]>127){J+=128*(b[q]-1);q++}}var _=b[q];q++;N.push(J,_)}return N};
xD.xhT=function(b,X,q,N){var J=xD,_=0,y=0,D=0;for(var p=0;p<N.length;p++){var z=N.charCodeAt(p),g=1473<=z&&z<=1479||1488<=z&&z<=1514||1520<=z&&z<=1524,W=1569<=z&&z<=1594||1600<=z&&z<=1749;
if(g||W)_++}var o=_>N.length/2;for(var p=0;p<X.length;p+=2){var m=X[p],t=14,j="DejaVuSans";if(m==0)continue;
var k=X[p+1],O=q[k],L=ng.c_(b,y,y+m-1),I=O.NSColor;if(I==null){var I=O.MSAttributedStringColorDictionaryAttribute;
if(I==null)I=O.MSAttributedStringColorAttribute;if(I==null)I="0 0 0";else I=[I.red,I.green,I.blue].join(" ")}else if(J.iU(I)=="MSArchivedColor")I=I.dr+" "+I.dg+" "+I.db;
else if(I.NSRGB){I=I.NSRGB;I=e.uT(I,0,I.length-1)}else if(I.NSCMYK){I=I.NSCMYK;I=e.uT(I,0,I.length-1);
I=I.split(" ").map(parseFloat);var H=1-I[0],Y=1-I[1],n=1-I[2],w=1-I[3];I=H*w+" "+Y*w+" "+n*w}else if(I.NSWhite){I="1 1 1"}I=I.split(" ");
L.qH.FillColor={Type:1,Values:[1,parseFloat(I[0]),parseFloat(I[1]),parseFloat(I[2])]};var E=O.MSAttributedStringFontAttribute;
if(O.NSFont){t=O.NSFont.NSSize;j=O.NSFont.NSName}else if(E){if(E.attributes){E=E.attributes;t=E.size;
j=E.name}else{var h=E.NSFontDescriptorAttributes;if(h==null)h=E.UIFontDescriptorAttributes;E=h;t=E.NSFontSizeAttribute;
j=E.NSFontNameAttribute}if(j==null)j="DejaVuSans"}var D=Math.max(D,t);L.qH.FontSize=Math.round(t);ng.uJ(L,j);
var u=O.NSKern;if(u==null)u=O.kerning;if(u!=null)L.qH.Tracking=Math.round(1e3*u/t);if(O.NSUnderline!=null)L.qH.Underline=O.NSUnderline>0;
if(O.NSStrikethrough!=null)L.qH.Strikethrough=O.NSStrikethrough>0;if(O.MSAttributedStringTextTransformAttribute==1)L.qH.FontCaps=2;
var Z=O.NSParagraphStyle;if(Z==null)Z=O.paragraphStyle;if(Z){var A=Z.paragraphSpacing;if(A!=null){L.qE.SpaceAfter=A}var P=Z.NSAlignment;
if(P==null)P=Z.alignment;if(P!=null){var T=0;if(!1){}else if(P==1)T=1;else if(P==2)T=2;else if(P==4)T=0;
else{T=P;console.log("unknown align",P)}if(o&&T<2)T=1-T;L.qE.Justification=T}var U=Z.NSMinLineHeight;
if(U==null)U=Z.minimumLineHeight;if(U!=null){L.qH.AutoLeading=!1;L.qH.Leading=Math.round(U)}}L.qE._Direction=o?1:0;
ng.Fo(b,y,y+m,L);y+=m}return D};xD.xht=function(b,X,q,N,J,_,p){var z=xD,g=JSON.parse(UZ.default),o=!1;
for(var W=0;W<UZ.order.length;W++)g[UZ.PS[W]]={t:"VlLs",v:[]};var y=q.fills,D=z.bJ(b,y,N,J,_,X);for(var m=0;
m<2;m++){var k=q[["shadows","innerShadows"][m]];if(k==null)continue;var O=["DrSh","IrSh"][m],L=UZ.PS[UZ.order.indexOf(O)];
for(var W=0;W<k.length;W++){var I=k[W];if(!I.isEnabled)continue;if(I.contextSettings.opacity==0||I.color.alpha==0)continue;
var H=JSON.parse(UZ.IN[UZ.order.indexOf(O)]);g[L].v.unshift({t:"Objc",v:H});o=!0;H.Clr.v=z.D_(I.color);
H.blur.v.val=Math.round(I.blurRadius/J.bq());var Y=J.clone();Y.lf=Y.vw=0;Y.Kn();var n=Y.PK(new Ue(I.offsetX,I.offsetY)),w=Math.sqrt(n.x*n.x+n.y*n.y);
H.Dstn.v.val=Math.round(w);H.lagl.v.val=Math.round(Math.atan2(n.y,-n.x)*(180/Math.PI));if(H.layerConceals)H.layerConceals.v=D.length!=0;
z.qu(I,H)}}var t=q.borders;if(t!=null&&(D.length==0||q.blur==null||!q.blur.isEnabled))for(var W=0;W<t.length;
W++){var j=t[W];if(!j.isEnabled)continue;var H=JSON.parse(UZ.IN[UZ.order.indexOf("FrFX")]),L=UZ.PS[UZ.order.indexOf("FrFX")];
g[L].v.unshift({t:"Objc",v:H});o=!0;H.Clr.v=z.D_(j.color);if(j.fillType!=0&&j.gradient){var E=z.ZH(j.gradient,N,J,_),h=["Type","Angl","Ofst","Scl"];
for(var W=0;W<h.length;W++)H[h[W]]=E[h[W]];H.Grad.v=E.Grad.v;H.PntT.v.FrFl="GrFl"}H.Sz.v.val=j.thickness/J.bq();
H.Styl.v.FStl=["CtrF","InsF","OutF"][j.position];z.qu(j,H)}for(var W=p?1:0;W<D.length;W++){var u=D[W],L=UZ.PS[UZ.order.indexOf(u.type)];
g[L].v.unshift(u.A);o=!0}return o?g:null};xD.bJ=function(b,X,q,N,J,_,p){if(X==null)return[];var z=xD,g=[];
for(var W=0;W<X.length;W++)if(X[W].isEnabled)g.push(X[W]);X=g;var o=[];for(var W=0;W<X.length;W++){var y=X[W],D=null,m=null;
if(y.fillType==0){D="SoFi";var k=JSON.parse(UZ.IN[UZ.order.indexOf("SoFi")]);m={t:"Objc",v:k};m.v.Clr.v=z.D_(y.color)}else if(y.fillType==1){D="GrFl";
m={t:"Objc",v:z.ZH(y.gradient,q,N,J)}}else if(y.fillType==4&&y.image!=null){var O=y.image;if(p)O=p.value;
var L=nr.xw(O.bdata.buffer);if(L!=null&&L!="pdf"&&L!="eps"){var I,w=0,t=0,j=0;if(_.pu[O.key])I=_.pu[O.key];
else{var H=nr.aC(L).vu(O.bdata)[0];I={data:H.data,h:new R(0,0,H._z.n,H._z.z)};I.id=nj.bj()+"-d71c-11e5-b1ae-a548a96e5f9f";
I.name="someImage";I.Dl=new Uint8Array(I.data);delete I.data;_.Rs(I);_.pu[O.key]=I}var k=JSON.parse(UZ.IN[UZ.order.indexOf("patternFill")]);
D="patternFill";m={t:"Objc",v:k};var Y=y.patternFillType,n=y.patternTileScale;k.Algn.v=!0;k.Ptrn.v.Idnt.v=I.id;
if(Y==0){w=n*I.h.n/Math.min(I.h.n,I.h.z);t=-N.lf;j=-N.vw}else{w=Math.max(q.n/I.h.n,q.z/I.h.z);t=-N.lf-(I.h.n*w-q.n)/2;
j=-N.vw-(I.h.z*w-q.z)/2}k.Scl.v.val=100*w*(1/N.bq());k.phase.v.Hrzn.v=Math.round(t/N.bq());k.phase.v.Vrtc.v=Math.round(j/N.bq())}}else if(y.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",y.fillType);
if(D!=null){z.qu(y,m.v);o.push({type:D,A:m})}}return o};xD.xlC=function(b){var X=xD,q=new R(0,0,1,1);
b=b.slice(0);while(!0){var N=!1;for(var J=0;J<b.length-1;J++){var _=b[J],p=b[J+1],z=null,g=_.contextSettings;
if(_.fillType==0&&(g==null||g.opacity==1&&g.blendMode==0)&&_.color.alpha==1){var W="norm",o=1,g=p.contextSettings;
if(g){o=g.opacity;W=nD.ei(X.Zx[g.blendMode])}if(p.fillType==0){z=JSON.parse(JSON.stringify(p));X.bX(z.color,_.color,z.color,q,W,o)}if(p.fillType==1){z=JSON.parse(JSON.stringify(p));
var y=z.gradient.stops;for(var D=0;D<y.length;D++)X.bX(y[D].color,_.color,y[D].color,q,W,o)}if(z!=null&&z.contextSettings){var g=z.contextSettings;
g.opacity=1;g.blendMode=0}}if(z!=null){b.splice(J,0,z);N=!0;break}}if(!N||b.length<2)break}return b};
xD.bX=function(b,X,q,N,J,_){var p=xD,z=x.K(4);p.bf(b,z);var g=x.K(4);p.bf(X,g);x.t.TG(J,z,N,g,N,N,_);
p.xHb(g,q)};xD.bf=function(b,X){X[0]=255*b.red;X[1]=255*b.green;X[2]=255*b.blue;X[3]=255*b.alpha};xD.xHb=function(b,X){X.red=b[0]/255;
X.green=b[1]/255;X.blue=b[2]/255;X.alpha=b[3]/255};xD.bs=function(b,X){b=b.clone();b.aA=24;b.fT("Mask by "+b.getName());
X.F.push(b);b.add.lsct=_b.iS;b.add.lyid=X.jT();delete b.add.lmfx;delete b.add.SoCo;delete b.add.GdFl;
delete b.add.PtFl;delete b.add.iOpa;if(b.add.vmsk)b.add.vmsk.zY=!0;b.he(X);if((b.aA&16)==16)b.aA-=16;
if((b.aA&2)==2)b.aA-=2;b.nB="pass";b.opacity=255};xD.Zx="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
xD.ZH=function(b,X,q,N){q=q.clone();q.Kn();q.lf=q.vw=0;var J=q.bq(),D=0,m=0;q.scale(1/J,1/J);var _=xD,p=JSON.parse(UZ.IN[UZ.order.indexOf("GrFl")]),z=p.Grad.v;
z.Intr.v=0;if(b==null)return p;var g=b.gradientType,W=_.Gp(b.from),o=_.Gp(b.to);W.offset(-.5,-.5);o.offset(-.5,-.5);
W=q.PK(W);o=q.PK(o);var y=Math.atan2(-(o.y-W.y),o.x-W.x);p.Type.v.GrdT=["Lnr","Rdl","Angl"][g];p.Scl.v.val=100*Ue.NH(W,o);
if(g==0){p.Angl.v.val=180/Math.PI*y;p.Scl.v.val=100*Ue.NH(W,o);D=(W.x+o.x)/2;m=(W.y+o.y)/2}if(g==1){p.Scl.v.val=200*Ue.NH(W,o);
D=W.x;m=W.y}if(g==2){p.Angl.v.val=180/Math.PI*(y-Math.PI/2)}var k=p.Ofst.v;k.Hrzn.v.val=D*100;k.Vrtc.v.val=m*100;
var O=[];for(var L=0;L<b.stops.length;L++){var I=b.stops[L],H=I.color;O.push([I.position,H?[H.red,H.green,H.blue]:[0,0,0],H.alpha])}x.Z.sP(O,z);
return p};xD.qu=function(b,X){var q=xD,N=1,J=b.contextSettings;if(J!=null){X.Md.v.BlnM=q.Zx[J.blendMode];
N*=J.opacity}else X.Md.v.BlnM=q.Zx[0];X.enab.v=b.isEnabled;if(X.uglg!=null)X.uglg.v=!1;if(b.color!=null)N*=b.color.alpha;
X.Opct.v.val=Math.round(N*100)};xD.D_=function(b){return x.Z.Yr(b?{D:b.red*255,q:b.green*255,b:b.blue*255}:{D:0,q:0,b:0})};
xD.hO=function(b,X,q){var N=xD,J=[{type:6},{type:8,all:0}];for(var _=0;_<b.length;_++){var p=b[_],z=p.booleanOperation,g=0,W=p._class,O=!1;
if(W=="group"||W=="text"||W=="symbolInstance"||W=="slice"){console.log(W+" inside ShapeGroup");continue}if(z==-1)g=0;
else if(z==0)g=1;else if(z==1)g=2;else if(z==2)g=3;else if(z==3)g=0;if(_==0)g=1;var o=xD.GK(p.frame),y=N.KR(p,X),D=p.path?p.path:p,m=[{type:0,length:0,vR:g,ap:2,Q_:0,Qb:0}],k=D.points;
for(var L=0;L<k.length;L++){var I=k[L],H=N.Gp(I.curveTo),Y=N.Gp(I.point),n=N.Gp(I.curveFrom);O=O||I.hasCurveFrom&&!n.Rj(Y)||I.hasCurveTo&&!H.Rj(Y)}var w=[];
if(!O){var t=[],j=k.length;if(j==0)continue;for(var L=0;L<j;L++){w[L]=k[L].cornerRadius;var I=N.Gp(k[L].point);
t.push(I.x,I.y)}y.scale(1/o.n,1/o.z);y.Kn();x.j.w(t,y,t);var E=x.g.Yu(t,w);m=m.concat(E);m[0].length=m.length-1}else{var h=k.length;
m[0].length=h;for(var L=0;L<h;L++){var I=k[L],u=I.curveMode,Z=N.Gp(I.point);m[1+L]={type:u==2||u==4?1:2,jk:I.hasCurveTo?N.Gp(I.curveTo):Z.clone(),P:Z,p_:I.hasCurveFrom?N.Gp(I.curveFrom):Z.clone()}}y.scale(1/o.n,1/o.z);
y.Kn();x.g.SC(m,y);var w=[];for(var L=0;L<h;L++){var I=k[L],u=I.curveMode,A=I.cornerRadius;if(u==1&&A!=0)w.push(A);
else w.push(0)}}if(!D.isClosed)for(var L=0;L<m.length;L++)m[L].type+=3;J=J.concat(m);var P=x.P_.$j(),T=N.iU(p);
if(y.b==0&&y.Yb==0){var U=y.lf,r=y.vw,i=U+y.i,V=r+y.Tm,F=[U,r,i,V];if(T=="rectangle"&&w.length==4)P=x.P_.xS(2,F,w);
if(T=="oval")P=x.P_.xS(5,F)}q.push(P)}return J};xD.KR=function(b,X){var q=X.clone(),N=b.frame?xD.GK(b.frame):null;
if(N)q.translate(-N.x-N.n/2,-N.y-N.z/2);if(b.isFlippedHorizontal)q.scale(-1,1);if(b.isFlippedVertical)q.scale(1,-1);
q.rotate(-b.rotation*(Math.PI/180));if(N)q.translate(N.n/2,N.z/2);return q};xD.Gp=function(b){b=b.slice(1,b.length-1).split(",");
return new Ue(parseFloat(b[0]),parseFloat(b[1]))};xD.GK=function(b){return new R(b.x,b.y,b.width,b.height)};
xD.po=function(b){return{_class:"rect",constrainProportions:!1,x:b.x,y:b.y,width:b.n,height:b.z}};function bS(){}bS.UU=function(b,X){var q=bS,N=UZIP.parse(b),J=JSON.parse(e.Re(N.manifest)),_=JSON.parse(e.Re(N["resources/graphics/graphicContent.agc"])).resources,p=[],z=J.children;
for(var g=0;g<z.length;g++){var W=z[g];if(W.name=="artwork"){var o=W.children;for(var y=0;y<o.length;
y++)if(o[y]["uxdesign#bounds"]){var D=o[y],m=JSON.parse(e.Re(N["artwork/"+D.path+"/graphics/graphicContent.agc"]));
if(m.children.length!=1)throw"e";D._node=m.children[0];p.push(D)}}}var k=[],O=new R;for(var g=0;g<p.length;
g++){var D=p[g],L=xD.GK(D["uxdesign#bounds"]);k.push(L);O=O.Tg(L)}var I=xD.qv(O,8192*8192);X.pd=!0;X.n=Math.round(O.n/I);
X.z=Math.round(O.z/I);X.buffer=x.K(X.n*X.z*4);X._y(p.length);var H=new nQ(I,0,0,I,O.x,O.y);X.pu={};for(var g=0;
g<p.length;g++){var D=p[g],L=xD.GK(D["uxdesign#bounds"]),Y=D._node,n=H.clone(),w=L.clone(),t=n.bq();
n.translate(-L.x,-L.y);w.x=-Math.floor(n.lf/t);w.y=-Math.floor(n.vw/t);w.n=Math.floor(w.n/t);w.z=Math.floor(w.z/t);
n.translate(L.x,L.y);bS.i_(Y,X,n,_,N,w);var j=X.F[X.F.length-1];j.fT(D.name);j.fm(w);if(g!=p.length-1)j.add.lsct=_b.Uo}delete X.pu;
console.log(X.k)};bS.jc=function(b){if(b==null)return new nQ;return new nQ(b.a,b.b,b.c,b.d,b.tx,b.ty)};
bS.i_=function(b,X,q,N,J,_){var p=bS,z=b.type,g=b[z],W=b.style,o=p.jc(b.transform),k,O="none",L,I="none",H,Y;
o.Kn();var y=q.clone();y.concat(o);var D=X.rY(),m=b.name;D.fT(m?m.slice(0,250):"Layer");if(b.visible!=null)D.HC(b.visible);
if(W){k=W.stroke;O=k?k.type:"none";L=W.fill;I=L?L.type:"none";H=W.filters;Y=W.clipPath;if(W.opacity)D.opacity=Math.round(255*W.opacity);
if(I=="solid"&&L.color.alpha)D.opacity=Math.round(D.opacity*L.color.alpha);if(H){D.add.lmfx=p.xHF(H);
for(var n=0;n<H.length;n++)if(H[n].type=="uxdesign#blur"){var w=H[n],t=w.params,j=t.brightnessAmount;
if(j==null)j=0;j=Math.abs(j/100);if((w.visible==null||w.visible==!0)&&t.backgroundEffect)D.opacity=Math.round(D.opacity*(j+(1-j)*t.fillOpacity))}}if(I=="pattern"&&L.pattern.meta.ux.uid=="")I="none"}if(z=="artboard"||z=="group"){if(Y&&N.clipPaths[Y.ref]){var E=N.clipPaths[Y.ref].children[0],h=E.shape,u=h.type=="rect"&&h.width*h.height>1e6;
if(E.type!="text"&&!u){var o=p.jc(E.transform);o.Kn();var Z=y.clone();Z.concat(o);D.add.vmsk=new M.zo;
D.add.vmsk.s=p.hO(h);Z=Z.clone();Z.Kn();x.g.SC(D.add.vmsk.s,Z);D.he(X)}else if(!u)alert("Clipping by text has been ignored")}D.add.lsct=_b.iS;
D.nB="pass";D.aA=24;if(b.visible!=null)D.HC(b.visible);X.F.push(X.lJ());var A=g.children,P=L;if(P)P=P.color;
if(P)P=P.value;if(L&&(I!="solid"||P.r!=255||P.g!=255||P.b!=255)){var T=X.rY();T.fT("BACKGROUND");T.aA|=16;
T.add.vstk=JSON.parse(JSON.stringify(UZ.FF.default));T.add.vmsk=new M.zo;T.add.vmsk.s=p.hO({type:"rect",x:_.x,y:_.y,width:_.n,height:_.z});
p.Zv(L,I,y,_,_,T,X,N,J);T.he(X);X.F.push(T)}for(var n=0;n<A.length;n++){bS.i_(A[n],X,y,N,J,_)}}else if(z=="shape"&&b.shape.type=="rect"&&(b.shape.r==null||b.shape.r==0)&&I=="pattern"&&Math.abs(b.shape.width/b.shape.height-L.pattern.width/L.pattern.height)<.01){var U=L.pattern,r=U.meta.ux,i=r.uid,V=J["resources/"+i];
if(V==null){console.log(U);return}var F=X.$K(V,D.getName(),0,0);F.aA=D.aA;F.opacity=D.opacity;D=F;var B=x.j.fe(new R(0,0,U.width,U.height)).r,$=new nQ;
$.scale(U.width/b.shape.width,U.height/b.shape.height);y.concat($);y.Kn();x.j.w(B,y,B);D.add.SoLd.Trnf=c.C.Rz(B);
D.add.SoLd.nonAffineTransform=c.C.Rz(B);D.ns(X,!1)}else if(z=="shape"){D.aA|=16;D.add.vstk=JSON.parse(JSON.stringify(UZ.FF.default));
D.add.vmsk=new M.zo;D.add.vmsk.s=p.hO(g);var l=x.g.Wg(D.add.vmsk.s,null),Z=y.clone();Z.Kn();x.g.SC(D.add.vmsk.s,Z);
var v=x.g.Wg(D.add.vmsk.s,null);if(O=="none"){}else{var C=k.color.value,f,nx;f="SoFi";var nA=JSON.parse(UZ.IN[UZ.order.indexOf("SoFi")]);
nx={t:"Objc",v:nA};nx.v.Clr.v=x.Z.Yr({D:C.r,q:C.g,b:C.b});var nU=k.align,nn=k.cap;if(nU==null)nU="center";
var nH=D.add.vstk;nH.strokeEnabled.v=!0;nH.strokeStyleLineWidth.v.val=k.width;if(nU)nH.strokeStyleLineAlignment.v.strokeStyleLineAlignment=UZ.FF.Rb[["inside","center","outside"].indexOf(nU)];
if(nn)nH.strokeStyleLineCapType.v.strokeStyleLineCapType=UZ.FF.RA[["butt","round","square"].indexOf(nn)];
var d=["SoFi","GrFl","patternFill"].indexOf(f),a=[UZ.tt,UZ.le,UZ.Wd][d];nH.strokeStyleContent.v={classID:UZ.FF.DC[0]};
var nb=nH.strokeStyleContent.v={classID:UZ.FF.DC[d]};for(var n=0;n<a.length;n++)nb[a[n]]=nx.v[a[n]]}if(H)for(var n=0;
n<H.length;n++)if(H[n].type=="uxdesign#blur"&&H[n].visible){var nK=H[n];D.add.vmsk.Zt=nK.params.blurAmount}p.Zv(L,I,y,l,v,D,X,N,J);
D.he(X)}else if(z=="text"&&b.text){var nq=b.text,nS=nq.frame,nB=W.font,nE=W.textAttributes,o=y.clone(),nF=0;
o.Kn();D.add.lnsr="rend";D.add.TySh=ng.Rq(0,0);D.add.TySh.Ug=new R(0,0,100,100);D.add.TySh.w=o;var nh=D.add.TySh.Bw,nv=nq.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
ng.DX(nh,0,nv);if(nv!=""){var nC=ng.c_(nh,0,1),nR=nB.postscriptName;if(nR==null)nR=nB.family;ng.uJ(nC,nR);
nC.qH.FontSize=Math.round(nB.size);if(L){var C=L.color.value;nC.qH.FillColor={Type:1,Values:[1,C.r/255,C.g/255,C.b/255]}}if(nE){if(nE.paragraphAlign)nC.qE.Justification=["left","right","center"].indexOf(nE.paragraphAlign);
if(nE.letterSpacing)nC.qH.Tracking=Math.round(nE.letterSpacing);if(nE.lineHeight){nC.qH.AutoLeading=!1;
nC.qH.Leading=Math.round(nE.lineHeight)}}ng.Fo(nh,0,nv.length,nC)}var nu=b.meta.ux.rangedStyles;if(nu)for(var n=0;
n<nu.length;n++){var g=nu[n],nP=Math.min(g.length,nv.length-nF),nC=ng.c_(nh,nF,nF+nP),ni=g.textScript,nw=g.underline,nO=g.fontSize,w=g.fill;
if(ni&&ni!="none")nC.qH.FontBaseline=ni=="superscript"?1:2;if(nw!=null)nC.qH.Underline=nw;if(nO!=null)nC.qH.FontSize=Math.round(nO);
if(w!=null){var nT=w.value;nC.qH.FillColor={Type:1,Values:[1,(nT>>>16&255)/255,(nT>>>8&255)/255,(nT>>>0&255)/255]}}ng.Fo(nh,nF,nF+nP,nC);
nF+=nP}if(nS.type=="area"){ng.aH(nh,1);ng.Sc(nh,[0,0,nS.width,nS.height])}}else console.log(z,b);X.F.push(D)};
bS.hO=function(b){var X=b.type,q=[{type:6},{type:8,all:0}];if(X=="rect"){var N=b.r,J=b.x,_=b.y,p=b.width,z=b.height;
if(N==null)q=x.g.lQ.Rect(J,_,p,z,0);else q=q.concat([{type:0,vR:1,length:8,Q_:0,Qb:0,ap:1}]).concat(x.g.Yu([J,_,J+p,_,J+p,_+z,J,_+z],N,!1))}else if(X=="circle"){var N=b.r;
q=x.g.lQ.tw(b.cx-N,b.cy-N,2*N,2*N)}else if(X=="ellipse"){var g=b.rx,W=b.ry;q=x.g.lQ.tw(b.cx-g,b.cy-W,2*g,2*W)}else if(X=="path"||X=="compound"){var o=Typr.U.SVGToPath(b.path);
q=x.j.EZ({W:o.cmds,r:o.crds},!1)}else if(X=="line"){var y=b.x1,D=b.x2,m=b.y1,k=b.y2;q=q.concat([{type:0,vR:1,length:2,Q_:0,Qb:0,ap:1}]).concat(x.g.Yu([y,m,D,k],0,!0))}else if(X=="polygon"){var O=b.points,L=[];
for(var I=0;I<O.length;I++)L.push(O[I].x,O[I].y);q=q.concat(x.g.lQ.zA(L,0,!1).slice(2))}else console.log(X,b);
return q};bS.xHF=function(b){var X=JSON.parse(UZ.default);for(var q=0;q<UZ.order.length;q++)X[UZ.PS[q]]={t:"VlLs",v:[]};
for(var q=0;q<b.length;q++){var N=b[q],J=N.type,_=N.params,p=N.visible;if(J=="dropShadow"){var z=UZ.PS[UZ.order.indexOf("DrSh")],g=JSON.parse(UZ.IN[UZ.order.indexOf("DrSh")]);
X[z].v.unshift({t:"Objc",v:g});var W=_.dropShadows;if(W.length!=1)throw"e";var o=W[q],y=o.color,D=y.value,m=o.dx,k=o.dy;
g.Clr.v=x.Z.Yr({D:D.r,q:D.g,b:D.b});g.Opct.v.val=Math.round((y.alpha!=null?y.alpha:1)*100);g.uglg.v=!1;
g.enab.v=p!=null?p:!0;g.lagl.v.val=Math.round(180/Math.PI*Math.atan2(k,-m));g.Dstn.v.val=Math.round(Math.sqrt(m*m+k*k));
g.blur.v.val=Math.round(o.r*2.3)}}return X};bS.Zv=function(b,X,q,N,J,_,p,z,g){var W=bS;if(X=="none"){_.add.vstk.fillEnabled.v=!1;
_.add.SoCo={classID:"null",Clr:{t:"Objc",v:x.Z.Yr({D:0,q:0,b:0})}}}else{var o,y,D;if(X=="solid"){var m=b.color.value;
o="SoCo";y=UZ.tt;var k=JSON.parse(UZ.IN[UZ.order.indexOf("SoFi")]);D={t:"Objc",v:k};D.v.Clr.v=x.Z.Yr({D:m.r,q:m.g,b:m.b})}else if(X=="gradient"){o="GdFl";
y=UZ.le;var k=JSON.parse(UZ.IN[UZ.order.indexOf("GrFl")]),O=k.Grad.v,n,w,t;O.Intr.v=0;var L=b[X],I=z.gradients[L.ref],H=["linear","radial"].indexOf(I.type),Y=I.stops;
k.Type.v.GrdT=["Lnr","Rdl","Angl"][H];if(H==0){var n=new Ue(L.x1,L.y1),w=new Ue(L.x2,L.y2);n.x=w.x+.5*(n.x-w.x);
n.y=w.y+.5*(n.y-w.y)}else{var n=new Ue(L.cx,L.cy),w=new Ue(L.cx+L.r,L.cy)}t=J;if(L.units=="objectBoundingBox"){var j=new nQ(N.n,0,0,N.z,N.x,N.y);
n=j.PK(n);w=j.PK(w)}var j=W.jc(L.transform);n=j.PK(n);w=j.PK(w);j=q.clone();j.Kn();n=j.PK(n);w=j.PK(w);
x.Z.uA(n,w,t,k);var E=[];for(var h=0;h<Y.length;h++){var u=Y[h],Z=u.color,m=Z.value,A=Z.alpha;if(A==null)A=1;
E.push([u.offset,[m.r/255,m.g/255,m.b/255],A])}x.Z.sP(E,O);D={t:"Objc",v:k}}else if(X=="pattern"){o="PtFl";
y=UZ.Wd;var k=JSON.parse(UZ.IN[UZ.order.indexOf("patternFill")]),V,v=1,C=0,f=0,nx=1;D={t:"Objc",v:k};
var P=b[X],T=P.meta.ux,U=T.uid,r=g["resources/"+U].buffer,i=nr.xw(r);if(p.pu[U])V=p.pu[U];else{var F=new R(0,0,P.width,P.height),B;
if(F.qa()){F=new R(0,0,1,1);B=new ArrayBuffer(4)}else{var $=nr.aC(i);if($.ws){var l=new nj;$.vu(r,l);
B=l.US().buffer}else B=$.vu(r)[0].data}V={data:B,h:F};V.id=nj.bj()+"-d71c-11e5-b1ae-a548a96e5f9f";V.name="someImage";
V.Dl=new Uint8Array(V.data);delete V.data;p.Rs(V);p.pu[U]=V}k.Algn.v=!0;k.Ptrn.v.Idnt.v=V.id;if(T.scaleBehavior=="cover"){v=nx*Math.max(J.n/V.h.n,J.z/V.h.z);
if(T.scale!=null)v*=T.scale;C=J.x-(V.h.n*v-J.n)/2;f=J.y-(V.h.z*v-J.z)/2;if(T.offsetX!=null)C+=T.offsetX*V.h.n*v;
if(T.offsetY!=null)f+=T.offsetY*V.h.z*v}else if(T.scaleBehavior=="fill"){v=nx*Math.min(J.n,J.z)/Math.max(V.h.n,V.h.z);
C=J.x-(V.h.n*v-J.n)/2;f=J.y-(V.h.z*v-J.z)/2}else throw"Unknown scale behaviour";k.Scl.v.val=100*v;k.phase.v.Hrzn.v=Math.round(C);
k.phase.v.Vrtc.v=Math.round(f)}else console.log(X);if(o!=null){_.add[o]={classID:"null"};for(var h=0;
h<y.length;h++){var nA=y[h];_.add[o][nA]=D.v[nA]}}}};function xF(){}xF.UU=function(b,X){b=new Uint8Array(b);
var q=e.Re(b,0,b.length),N=new DOMParser,J=N.parseFromString(q,"image/svg+xml"),_=J.getElementsByTagName("style")[0];
if(_)_=Typr.U.SVG.cssMap(_.textContent);else _={};var p=J.firstChild;while(p.tagName!="svg")p=p.nextSibling;
var z=new R(0,0,100,100),g=p.getAttribute("viewBox"),W=p.getAttribute("width"),o=p.getAttribute("height");
if(g){var y=xF.S_(g);z.x=y[0];z.y=y[1];z.n=y[2];z.z=y[3]}else if(W!=null||o!=null){z.n=W!=null?parseFloat(W):parseFloat(o);
z.z=o!=null?parseFloat(o):parseFloat(W)}z=x.j.Ja(z);X.pd=!0;X.n=z.n;X.z=z.z;X.buffer=x.K(z.c()*4);var D=new nQ(1,0,0,1,-z.x,-z.y),m={zh:xF.Ie(p),xdb:_};
xF.Pe(J,p.children,X,D,m,new nQ);if(X.F.length==0){var k=X.rY();k.fT("Layer");X.F.push(k)}};xF.S_=function(b){var X=" ";
if(b.indexOf(",")!=-1)X=",";return b.split(X).map(parseFloat)};xF.Pe=function(b,X,q,N,J,_){var p=xF,z=["display","opacity","fill-opacity"];
for(var g=0;g<X.length;g++){var W=X[g],o=W.tagName,y=W.getAttribute("id"),D=p.Ie(W,J.xdb),k=13,Y=1,j="clip-path",h=null;
for(var m in J.zh)if(z.indexOf(m)==-1&&D[m]==null)D[m]=J.zh[m];if(D["font-size"])k=p.qY(D["font-size"],k);
if(W.getAttribute("dx"))N.lf+=p.qY(W.getAttribute("dx"),k);if(W.getAttribute("dy"))N.vw+=p.qY(W.getAttribute("dy"),k);
var O=p.Iy(W);O.concat(N);var L=W.getAttribute("visibility"),I=D.display,H=q.rY();if(L=="hidden"||I=="none")H.HC(!1);
H.fT(y!=null?y.split(":::")[0]:"Layer");if(D.opacity)Y*=parseFloat(D.opacity);if(D["fill-opacity"]){var n=parseFloat(D["fill-opacity"]);
if(n!=0)Y*=n}H.opacity=Math.round(255*Y);if(D["mix-blend-mode"]){var w=nD.xbV.indexOf(D["mix-blend-mode"]);
if(w!=-1)H.nB=nD.YO[w]}if(W.getAttribute(j)==null)j="mask";if(W.getAttribute(j)!=null){var u=W.getAttribute(j);
u=u.slice(4,u.length-1);var Z=b.getElementById(u.slice(1));if(Z){var P=Z.children;h=q.rY();h.fT("Clip-Path"+(y?": "+y:""));
h.add.lsct=_b.iS;h.nB="pass";h.aA=24;var T=h.add.vmsk=new M.zo;q.F.push(q.lJ());var U=[];if(Z.getAttribute(j)){var u=Z.getAttribute(j);
u=u.slice(4,u.length-1);U=b.getElementById(u.slice(1)).children}for(var r=0;r<P.length;r++){var i=p.Iy(P[r]);
i.concat(O);var V=p.hO(b,P[r],!1).slice(2);x.g.SC(V,i);T.s=T.s.concat(V)}for(var r=0;r<U.length;r++){var i=p.Iy(P[r]);
i.concat(O);var V=p.hO(b,U[r],!1).slice(2);for(var F=0;F<V.length;F++)if(V[r].vR!=null)V[r].vR=3;x.g.SC(V,i);
T.s=T.s.concat(V)}h.lN();h.he()}}if(o=="g"||o=="a"||o=="svg"||o=="switch"||(o=="text"||o=="textPath")&&W.children.length>0){if(o=="text")_=p.zG(W,_);
var B=W.getAttribute("viewBox"),$=W.getAttribute("width"),l=W.getAttribute("height");if(B&&$&&l){var v=xF.S_(B),C=p.zG(W),f=new nQ;
f.translate(-v[0],-v[1]);f.scale(parseFloat($)/v[2],parseFloat(l)/v[3]);f.translate(C.lf,C.vw);f.concat(O);
O=f}var nx=W.children.length,nA=J.zh;J.zh=D;var nU=o!="text"&&o!="textPath"||nx>1;if(nU){var nn=H.oF();
H.add.lsct=nn&&(y==null||!y.endsWith(":::"))?_b.iS:_b.Uo;H.nB="pass";H.aA=24;H.HC(nn);q.F.push(q.lJ())}p.Pe(b,W.children,q,O,J,_);
if(nU)q.F.push(H);J.zh=nA}else if(o=="use"){var f=p.zG(W);f.concat(O);var nH=p.Tb(W),d=b.getElementById(nH.slice(1)),nA=J.zh;
J.zh=D;p.Pe(b,[d],q,f,J,_);J.zh=nA}else if(o=="path"||o=="rect"||o=="circle"||o=="ellipse"||o=="polygon"||o=="polyline"||o=="line"){H.aA|=16;
H.add.vmsk=new M.zo;H.add.vstk=JSON.parse(JSON.stringify(UZ.FF.default));H.add.vstk.strokeEnabled.v=!1;
var np=H.add.vstk,T=H.add.vmsk;T.s=p.hO(b,W,D["fill-rule"]=="evenodd");x.g.SC(T.s,O);var a=x.g.Wg(T.s),nb=D.stroke,nK=D["stroke-width"],nq=D["stroke-dasharray"],nS=D.fill,nB=D["stroke-linejoin"],nE=D["stroke-linecap"],nh=D["paint-order"];
if(nb==null||nb=="none"||nb=="null"){}else{var nv=p.SK(b,nb,O,a),nC=["SoFi","GrFl","patternFill"].indexOf(nv.type),nR=[UZ.tt,UZ.le,UZ.Wd][nC],nu=np.strokeStyleContent.v={classID:UZ.FF.DC[nC]},nF=1;
for(var r=0;r<nR.length;r++)nu[nR[r]]=nv.A.v[nR[r]];nK=nK?parseFloat(nK):1;if(nh&&nh.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){nF=2;
nK/=2}np.strokeEnabled.v=!0;if(nB)np.strokeStyleLineJoinType.v.strokeStyleLineJoinType=UZ.FF.join[["miter","round","bevel"].indexOf(nB)];
if(nE)np.strokeStyleLineCapType.v.strokeStyleLineCapType=UZ.FF.RA[["butt","round","square"].indexOf(nE)];
np.strokeStyleLineWidth.v.val=nK*c.C.bq(O);np.strokeStyleLineAlignment.v.strokeStyleLineAlignment=UZ.FF.Rb[nF];
np.strokeStyleOpacity.v.val=100*(D["stroke-opacity"]?parseFloat(D["stroke-opacity"]):1);if(nq!=null&&nq!="none")np.strokeStyleLineDashSet.v=nM.ia(nq.split(",").map(parseFloat),1/nK)}if(nS=="none"||D["fill-opacity"]&&parseFloat(D["fill-opacity"])==0){H.add.vstk.fillEnabled.v=!1;
H.add.SoCo={classID:"null",Clr:{t:"Objc",v:x.Z.Yr({D:0,q:0,b:0})}}}else{var nv=p.SK(b,nS,O,a),nP=null,ni=null;
if(nv.type=="SoFi"){nP="SoCo";ni=UZ.tt}if(nv.type=="GrFl"){nP="GdFl";ni=UZ.le}if(nv.type=="patternFill"){nP="PtFl";
ni=UZ.Wd}if(nP!=null){H.add[nP]={classID:"null"};for(var r=0;r<ni.length;r++){var m=ni[r];H.add[nP][m]=nv.A.v[m]}}}if(D.filter&&D.filter!="none"){var nw=D.filter;
nw=nw.slice(5,nw.length-1);var nO=b.getElementById(nw).children[0];if(nO.tagName=="feGaussianBlur"){H.add.vmsk.Zt=parseFloat(nO.getAttribute("stdDeviation"))*c.C.bq(O)}}H.lN();
H.he(q);q.F.push(H)}else if((o=="text"||o=="tspan")&&W.textContent!=""){_=p.zG(W,_);var f=_.clone();
f.concat(O);if(W.children.length>0){var nT=p.Ie(W.children[0],J.xdb);for(var m in nT)if(z.indexOf(m)==-1)D[m]=nT[m]}var nI=D["xml:space"],gu=W.textContent;
if(nI=="preserve")gu=gu.replace(/\t/g," ").replace(/\n/g," ");if(y==null)H.fT(gu);H.add.lnsr="rend";
H.add.TySh=ng.Rq(0,0);H.add.TySh.Ug=new R(0,0,100,100);H.add.TySh.w=f.clone();var nN=H.add.TySh.Bw;ng.DX(nN,0,gu);
var nS=D.fill,xn=D["font-weight"],nL=D["font-family"],nV=D["text-decoration"],nb=D.stroke,nK=D["stroke-width"];
if(D["dominant-baseline"]=="text-before-edge")H.add.TySh.w.translate(0,k);var nX=ng.c_(nN,0,1);if(nS&&nS!="none"){var xY=CSS.D_(nS);
nX.qH.FillColor={Type:1,Values:[1,xY.D/255,xY.q/255,xY.b/255]}}if(nV=="underline")nX.qH.Underline=!0;
nX.qH.FontSize=Math.round(k);ng.uJ(nX,"LiberationSans");if(xn=="bold")ng.uJ(nX,"LiberationSans-Bold");
if(nL){var ny=nL+":"+(xn?xn:"normal"),xp={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold"};
if(xp[ny])ng.uJ(nX,xp[ny]);else ng.uJ(nX,nL)}if(D["text-anchor"])nX.qE.Justification=["start","end","middle"].indexOf(D["text-anchor"]);
ng.Fo(nN,0,gu.length,nX);if(nb==null||nb=="none"){}else{var nW=JSON.parse(UZ.IN[UZ.order.indexOf("FrFX")]);
nW.Clr.v=x.Z.Yr(CSS.D_(nb));nW.Sz.v.val=Math.round(parseFloat(nK)*c.C.bq(f));var nk=JSON.parse(UZ.default);
for(var r=0;r<UZ.order.length;r++)nk[UZ.PS[r]]={t:"VlLs",v:[]};nk.frameFXMulti.v.push({t:"Objc",v:nW});
H.add.lmfx=nk}q.F.push(H)}else if(o=="image"){var nH=p.Tb(W);if(nH.slice(0,4)=="data"){var _x=nr.Ve(nH),xI=_x,nZ=q.$K(xI,H.getName(),0,0);
nZ.aA=H.aA;H=nZ;var gC=H.rect.clone();gC.x=gC.y=0;var _q=W.getAttribute("width"),gb=W.getAttribute("height");
if(_q)gC.n=parseFloat(_q);if(gb)gC.z=parseFloat(gb);var xE=p.zG(W);xE.concat(O);var xC=x.j.fe(gC).r;
x.j.w(xC,xE,xC);H.add.SoLd.Trnf=c.C.Rz(xC);H.add.SoLd.nonAffineTransform=c.C.Rz(xC);H.ns(q,!1);q.F.push(H)}}else console.log("unknown tag: "+o,W.children.length,W.textContent.length);
if(h!=null)q.F.push(h)}};xF.hO=function(b,X,q){var N=xF,J=[{type:6},{type:8,all:0}],_=X.tagName;if(_=="use"){var p=N.Tb(X),z=b.getElementById(p.slice(1)),g=new nQ;
if(z.tagName!="rect")g=N.zG(z);g.concat(N.Iy(z));J=N.hO(b,z,q);x.g.SC(J,g)}else if(_=="path"){var W=X.getAttribute("d");
if(W==null)return J;var o=Typr.U.SVGToPath(W);J=x.j.EZ({r:o.crds,W:o.cmds},q)}else if(_=="rect"){var y=X.getAttribute("rx"),D=N.zG(X);
J=x.g.lQ.Rect(D.lf,D.vw,parseFloat(X.getAttribute("width")),parseFloat(X.getAttribute("height")),y?parseFloat(y):0)}else if(_=="circle"||_=="ellipse"){var m=[0,0,0,0],k=["cx","cy","rx","ry","r"];
for(var O=0;O<5;O++){var L=X.getAttribute(k[O]);if(L){L=parseFloat(L);if(O<4)m[O]=L;else m[2]=m[3]=L}}J=x.g.lQ.tw(m[0]-m[2],m[1]-m[3],2*m[2],2*m[3])}else if(_=="polygon"||_=="polyline"||_=="line"){var I;
if(_=="line")I=[X.getAttribute("x1"),X.getAttribute("y1"),X.getAttribute("x2"),X.getAttribute("y2")].map(parseFloat);
else I=X.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
J=x.g.lQ.zA(I,0,_!="polygon")}return J};xF.qY=function(b,X){if(b.charAt(b.length-1)=="m")return X*parseFloat(b.slice(0,b.length-2));
else return parseFloat(b)};xF.SK=function(b,X,q,N){var J,_,p=xF,z=X!=null?X.indexOf("("):-1;if(z!=-1){var g=X.indexOf(")"),W=X.slice(0,z).trim(),o=X.slice(z+1,g).trim();
if(o.charAt(0)=="'")o=o.slice(1,o.length-1);if(W=="url"){if(o.charAt(0)=="#"){var y=b.getElementById(o.slice(1));
if(y&&y.tagName.toLowerCase().endsWith("gradient")){var D=p.ZH(b,y,q,N);J="GrFl";_={t:"Objc",v:D}}}else console.log("unknown url",o)}else if(W=="rgb"){J="SoFi";
var m=JSON.parse(UZ.IN[UZ.order.indexOf("SoFi")]);_={t:"Objc",v:m};_.v.Clr.v=x.Z.Yr(CSS.D_(X))}else console.log("unknown fill",X)}else{J="SoFi";
var m=JSON.parse(UZ.IN[UZ.order.indexOf("SoFi")]);_={t:"Objc",v:m};_.v.Clr.v=x.Z.Yr(CSS.D_(X))}return{type:J,A:_}};
xF.Iy=function(b){var X=new nQ,q=b.getAttribute("transform");if(q)X=xF.qL(q);var N=b.getAttribute("style");
if(N!=null){var J={};xF.qI(J,N,["transform"]);N=J.transform;if(N)X.concat(xF.qL(N))}return X};xF.zG=function(b,X){var q=new nQ,N=b.getAttribute("x"),J=b.getAttribute("y");
if(N)q.lf=parseFloat(N);else if(X)q.lf=X.lf;if(J)q.vw=parseFloat(J);else if(X)q.vw=X.vw;return q};xF.qL=function(b){var X=Typr.U.SVG.readTrnf(b);
return new nQ(X[0],X[1],X[2],X[3],X[4],X[5])};xF.Ie=function(b,X){var q={},N="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order mix-blend-mode xml:space".split(" ");
for(var J=0;J<N.length;J++){var _=b.getAttribute(N[J]);if(_!=null&&_!="inherit")q[N[J]]=_}var p=b.getAttribute("class");
if(X!=null&&p!=null&&X["."+p]!=null)xF.qI(q,X["."+p],N);var z=b.getAttribute("style");if(z!=null)xF.qI(q,z,N);
return q};xF.qI=function(b,X,q){X=X.trim().split(";");for(var N=0;N<X.length;N++){var J=X[N].split(":"),_=J[0]?J[0].trim():"",p=J[1]?J[1].trim():"";
for(var z=0;z<q.length;z++)if(_==q[z]&&p!="inherit")b[q[z]]=p}};xF.Tb=function(b){var X=b.getAttribute("xlink:href");
if(X==null)X=b.getAttribute("href");return X};xF.ZH=function(b,X,q,N){var J=xF,_=new nQ,p=X.getAttribute("gradientTransform");
if(p)_=J.qL(p);_.concat(q);var z=JSON.parse(UZ.IN[UZ.order.indexOf("GrFl")]),g=z.Grad.v;g.Intr.v=0;var W=X.tagName,o=new Ue(0,0),y=new Ue(N.n,0);
if(W=="linearGradient"){z.Type.v.GrdT="Lnr";if(X.getAttribute("x1"))o.x=parseFloat(X.getAttribute("x1"));
if(X.getAttribute("y1"))o.y=parseFloat(X.getAttribute("y1"));if(X.getAttribute("x2"))y.x=parseFloat(X.getAttribute("x2"));
if(X.getAttribute("y2"))y.y=parseFloat(X.getAttribute("y2"));o.x=y.x+.5*(o.x-y.x);o.y=y.y+.5*(o.y-y.y)}if(W=="radialGradient"){z.Type.v.GrdT="Rdl";
if(X.getAttribute("cx"))o.x=parseFloat(X.getAttribute("cx"));if(X.getAttribute("cy"))o.y=parseFloat(X.getAttribute("cy"));
y.gM(o.x,o.y);if(X.getAttribute("r"))y.x+=parseFloat(X.getAttribute("r"))}if(X.getAttribute("gradientUnits")=="userSpaceOnUse"){o=_.PK(o);
y=_.PK(y)}else{o.x=N.x+o.x*N.n;o.y=N.y+o.y*N.z;y.x=N.x+y.x*N.n;y.y=N.y+y.y*N.z}x.Z.uA(o,y,N,z);var D=X.children;
if(D.length==0){var m=J.Tb(X);if(m==null)throw"gradient has no stops";var k=b.getElementById(m.slice(1));
if(k==null){console.log(m.slice(1));throw"e"}var O=J.ZH(b,k,_,N);z.Grad=O.Grad}else{var L=[];for(var I=0;
I<D.length;I++){var H=D[I],Y=J.Ie(H),n=Y["stop-color"],w=Y["stop-opacity"],t=H.getAttribute("offset");
if(n==null)n="#000000";if(w==null)w="1";var j=t?parseFloat(t):0;n=CSS.D_(n);L.push([j,[n.D/255,n.q/255,n.b/255],parseFloat(w)])}x.Z.sP(L,g)}return z};
xF.oM=function(b,X,q){var N=[],J=xF;J.Su=X.xgO?"\t":"";var _=X.xME,p=X.xMz;N.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+b.n+" "+b.z+"\" width=\""+_+"\" height=\""+p+"\">");
var z={Co:[],L:[],mV:0,Jv:0,JY:0,JT:{},JG:{},TA:0,lT:{},kx:{},kp:0,_v:[]};xF.SJ(b,z,b.root.children,1,X,q);
if(z.Co.length!=0){N.push(J.xN(1)+"<defs>");N=N.concat(z.Co);N.push(J.xN(1)+"</defs>")}N.push(J.xN(1)+"<style>");
N.push(J.xN(2)+"tspan { white-space:pre }");for(var g in z.lT)N.push(J.xN(2)+"."+g+" { "+z.lT[g]+" } ");
N.push(J.xN(1)+"</style>");N=N.concat(z.L);N.push("</svg>");N=N.join(X.xgO?"\n":"");var W=x.K(Math.round(N.length*1.5)),o=e.MI(N,W,0);
if(J.fX){console.log(J.fX);var y="SVGParser.gen.db = [\n";for(var D=0;D<J.fX.length;D++){var m=J.fX[D];
y+="{\n\tnam: \""+m.TC+"\",\n\tpts: [\n";for(var k=0;k<m.YP.length;k++){var O=m.YP[k];y+="\t\t[\""+O[0]+"\", { cmds: "+JSON.stringify(O[1].W)+", crds:"+JSON.stringify(O[1].r)+" } ]"+(k==m.YP.length-1?"":",")+"\n"}y+="\t]\n}"+(D==J.fX.length-1?"":",")+"\n"}y+="]\n";
console.log(y)}return W.buffer.slice(0,o)};xF.Su="";xF.xN=function(b){var X="";for(var q=0;q<b;q++)X+=xF.Su;
return X};xF.Zp=function(b){return""+parseFloat(b.toFixed(3))};xF.SJ=function(b,X,q,N,J,_){var p=xF;
for(var z=0;z<q.length;z++){var g=q[z].Q,W=g.add.lsct,o=g.add.vmsk,y=g.add.vstk,D=g.add.TySh,m=[];if(!J.hidden&&!g.oF())continue;
var k=g.opacity/255,O=g.add.iOpa?g.add.iOpa/255:1;if(k!=1)m.push("opacity: "+p.Zp(k));if(O!=1)m.push("fill-opacity: "+p.Zp(O));
if(g.nB!="norm"){var L=nD.xbV[nD.YO.indexOf(g.nB)];if(L!=null)m.push("mix-blend-mode: "+L)}if(!g.oF())m.push("display: none");
var I=[],H=[],Y=g.getName(),n=Y.indexOf(" .");if(n!=-1){H.push(Y.slice(n+2));Y=Y.slice(0,n)}if(J.names)I.push("id=\""+p.Jg(Y)+"\"");
var w=g.add.lmfx;if(w)w=w.solidFillMulti.v[0];if(w)w=w.v;if(w&&!w.enab.v)w=null;if(g.zu()){if(p.fX&&g.getName().split("-").length==3){p.fX.push({TC:g.getName(),aM:0,YP:[]})}if(o||g.add.artb){var t;
if(o)t=x.g.yN(o.s).LR;else{var j=g.Cz(),E=x.j.fe(j);t=Typr.U.pathToSVG({crds:E.r,cmds:E.W},2)}X.JY++;
I.push("clip-path=\"url(#cp"+X.JY+")\"");X.Co.push(p.xN(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+X.JY+"\">");
X.Co.push(p.xN(3)+"<path d=\""+t+"\" />");X.Co.push(p.xN(2)+"</clipPath>")}if(m.length!=0)I.push("style=\""+m.join(";")+"\"");
X.L.push(p.xN(N)+"<g "+p.Xq(I,H)+">");p.SJ(b,X,q[z].children,N+1,J,_);X.L.push(p.xN(N)+"</g>")}else if(g.gC()&&o==null){var h=new R(0,0,b.n,b.z);
p.SV(m,g.add,X,h);if(m.length!=0)I.push("style=\""+m.join(";")+"\"");X.L.push(p.xN(N)+"<rect width=\""+b.n+"\" height=\""+b.z+"\" "+p.Xq(I,H)+" />")}else if(o){var h=x.g.Wg(o.s),t=x.g.yN(o.s);
if(t.vF!=0){I.push("fill-rule=\"evenodd\"")}var u=t.LR;p.SV(m,g.add,X,h);if(m.length!=0){var Z=m.join(";"),A=X.kx[Z];
if(A==null){A="shp"+X.kp;X.kp++;X.kx[Z]=A;X.lT[A]=Z}H.push(A)}X.L.push(p.xN(N)+"<path "+p.Xq(I,H)+" d=\""+u+"\" />");
if(p.fX&&p.fX[p.fX.length-1]){var P=x.j.zn(o.s);P.r=P.r.map(Math.round);var T=p.fX[p.fX.length-1];T.aM+=JSON.stringify(P).length;
T.YP.push([m[0].split("#").pop(),P])}}else if(D&&J.xMK){var U=D.Bw,r=new __(U,_);if(w)I.push("fill=\""+CSS.FH(w.Clr.v)+"\"");
var i=pN.D$(r,D),V=x.j.Sy(i);for(var F in V){if(w==null)I.push("fill=\""+F+"\"");var E=V[F],u=Typr.U.pathToSVG({crds:E.r,cmds:E.W},2);
X.L.push(p.xN(N)+"<path "+p.Xq(I,H)+" d=\""+u+"\" />");if(w==null)I.pop()}}else if(D&&!J.xMB){var U=D.Bw,B=D.w.clone(),nH=0,d=0;
if(ng.__(U)==1){var $=ng.c_(U,0,0).qE.Justification,l=0,v=ng.uX(U)[2];if($==2)l=v/2;if($==1)l=v;B.translate(l,0)}m.push("transform: "+p.ip(B));
var C=ng.IC(U),f=U.EngineDict.ParagraphRun,nx=f.RunArray,nA=f.RunLengthArray;if(m.length!=0)I.push("style=\""+m.join(";")+"\"");
X.L.push(p.xN(N)+"<text "+p.Xq(I,H)+" >");var nU=g.add.lmfx;if(nU)nU=nU.frameFXMulti.v[0];if(nU)nU=nU.v;
var nn=w?CSS.FH(w.Clr.v):null;for(var np=0;np<nx.length;np++){var a=[],nb=nA[np],nK=C.slice(nH,nH+nb-1),nq=ng.c_(U,nH,nH),nS=nq.JX[nq.qH.Font].Name;
if(X._v.indexOf(nS)==-1)X._v.push(nS);CSS.xKC(a,nq,D.w,!0,J._v,nn);if(nU){m.push("stroke: "+CSS.FH(nU.Clr.v));
m.push("stroke-width: "+nU.Sz.v.val)}var nB=nq.qH.FontSize*1.12;if(np==0)nB=ng.__(U)==0?0:nq.qH.FontSize;
d+=nB;if(nK!=""){var Z=a.join(";"),A=X.kx[Z],nh="";if(A==null){A="txt"+X.kp;X.kp++;X.kx[Z]=A;X.lT[A]=Z}var nE=nq.qH.Tracking;
if(nE!=null&&nE!=0){nE=Math.round(nE*nq.qH.FontSize/1e3);nh=" dx=\"0";for(var nv=1;nv<nK.length;nv++)nh+=" "+nE;
nh+="\" "}X.L.push(p.xN(N+1)+"<tspan x=\"0\" y=\""+p.Zp(d)+"\" class=\""+A+"\""+nh+">"+p.Jg(nK)+"</tspan>")}nH+=nb}X.L.push(p.xN(N)+"</text>")}else if(g.add.SoLd){var nC=g.add.SoLd,nR=nC.Idnt.v,nu=0,nF=nC.Crop?nC.Crop.v:null;
if(X.JG[nR]!=null)nu=X.JG[nR];else{X.TA++;nu=X.TA;X.JG[nR]=X.TA;var nP=b.jO(nR,nF),nO="";if(nP==null)return;
var ni=nP.aS,nw=nr.xw(nP.raw.buffer);if(nw=="pdf"){var nT=new nj("h");nr.PDF.vu(nP.raw.buffer,nT);nT.FB();
nT.jo();nT.Y();nT.RL();if(nC.Crop&&nC.Crop.v==1){c.IP.xo(nT,nT.root.pi(nT,!0))}var nI=nr.SVG.Da(nT,nT.n,nT.z,null,{_v:_});
nO="data:image/svg+xml;base64,"+nr.lu(nI)}else if(nw=="jpg"||nw=="png"||nw=="gif"||nw=="svg"){var gu={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
nO="data:"+gu[nw]+";base64,"+nr.lu(nP.raw.buffer)}else{nO=nr.kQ(ni[0].buffer,ni[1].n,ni[1].z)}X.Co.push(p.xN(2)+"<image width=\""+ni[1].n+"\" height=\""+ni[1].z+"\" id=\"img"+nu+"\" href=\""+nO+"\"/>")}var nN=x.GI.$g(nC);
if(m.length!=0)I.push("style=\""+m.join(";")+"\"");var xn=p.Xq(I,H);X.L.push(p.xN(N)+"<use "+xn+" href=\"#img"+nu+"\" transform=\""+p.ip(nN)+"\"/>")}else if(!g.rect.qa()&&(J.xMb||D)){if(m.length!=0)I.push("style=\""+m.join(";")+"\"");
var xn=p.Xq(I,H),nL=g.buffer;if(w)nL=nM.xKs(nL,w,g.rect);var nV=g.rect;X.TA++;var nO=nr.kQ(nL.buffer,nV.n,nV.z,"png",null,!0);
X.Co.push(p.xN(2)+"<image width=\""+g.rect.n+"\" height=\""+g.rect.z+"\" id=\"img"+X.TA+"\" href=\""+nO+"\"/>");
X.L.push(p.xN(N)+"<use "+xn+" href=\"#img"+X.TA+"\" x=\""+nV.x+"\" y=\""+nV.y+"\" />")}}};xF.Xq=function(b,X){if(X.length!=0)b.push("class=\""+X.join(" ")+"\"");
return b.join(" ")};xF.Jg=function(b){return String(b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")};
xF.ip=function(b){var X=[b.i,b.b,b.Yb,b.Tm,b.lf,b.vw].map(xF.Zp);return"matrix("+X.join(",")+")"};xF.SV=function(b,X,q,N){var J=xF,_=X.vstk,p=X.vmsk,z=X.lmfx;
if(p&&p.Zt!=0){var g=J.Zp(p.Zt);if(q.JT[g]==null){q.Jv++;q.JT[g]=q.Jv;q.Co.push(J.xN(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"flt"+q.Jv+"\"> <feGaussianBlur stdDeviation=\""+g+"\" /> </filter>")}b.push("filter: url(#flt"+q.JT[g]+")")}var W=nM.M$(z,X),o=W[0],y=W[1];
if(_&&!_.fillEnabled.v)b.push("fill: none");else if(o){var D=CSS.FH(o.Clr.v);b.push("fill: "+D)}else if(y){J.TK(y,q,N);
b.push("fill: url(#grd"+q.mV+")")}if(_==null||!_.strokeEnabled.v)_=nM.iw(z);if(_&&_.strokeEnabled.v){var m=_.strokeStyleContent.v,k=m.classID;
if(k=="solidColorLayer")b.push("stroke: "+CSS.FH(m.Clr.v));else{J.TK(m,q,N);b.push("stroke: url(#grd"+q.mV+")")}var O=UZ.FF.RA.indexOf(_.strokeStyleLineCapType.v.strokeStyleLineCapType),L=UZ.FF.join.indexOf(_.strokeStyleLineJoinType.v.strokeStyleLineJoinType),I=_.strokeStyleOpacity.v.val/100,H=_.strokeStyleLineWidth.v.val,Y=UZ.FF.Rb.indexOf(_.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(Y==2){H*=2;b.push("paint-order:stroke fill markers")}var n=_.strokeStyleLineDashSet.v,w=[];for(var t=0;
t<n.length;t++)w.push(Math.round(n[t].v.val*H));if(O!=0)b.push("stroke-linecap:"+["butt","round","square"][O]);
if(L!=0)b.push("stroke-linejoin:"+["miter","round","bevel"][L]);if(I!=1)b.push("stroke-opacity:"+J.Zp(I));
if(H!=1)b.push("stroke-width: "+J.Zp(H));if(w.length!=0)b.push("stroke-dasharray: "+w.join(","))}};xF.TK=function(b,X,q){X.mV++;
var N=xF,J=b.Grad.v,_=J.Clrs.v.slice(0),p=J.Trns.v.slice(0),z=b.Ofst.v,g=b.Type.v.GrdT=="Rdl"?1:0,W=(g==1?"radial":"linear")+"Gradient",o=x.Z.Sg(b,q);
if(g==0){o[0].x=o[1].x+2*(o[0].x-o[1].x);o[0].y=o[1].y+2*(o[0].y-o[1].y)}var y=N.xN(2)+"<"+W+" id=\"grd"+X.mV+"\" gradientUnits=\"userSpaceOnUse\" ";
if(g==0)X.Co.push(y+" x1=\""+N.Zp(o[0].x)+"\" y1=\""+N.Zp(o[0].y)+"\" x2=\""+N.Zp(o[1].x)+"\" y2=\""+N.Zp(o[1].y)+"\">");
if(g==1)X.Co.push(y+" cx=\""+N.Zp(o[0].x)+"\" cy=\""+N.Zp(o[0].y)+"\" r=\""+N.Zp(Ue.NH(o[0],o[1]))+"\">");
var D=b.Rvrs.v;if(D){_.reverse();p.reverse()}for(var m=0;m<_.length;m++){var k=_[m].v,O=m<p.length?p[m].v.Opct.v.val/100:1,O=O==1?"":"stop-opacity=\""+N.Zp(O)+"\"",L=k.Lctn.v/4096;
if(D)L=1-L;X.Co.push(N.xN(3)+"<stop offset=\""+N.Zp(L)+"\" stop-color=\""+CSS.FH(k.Clr.v)+"\" "+O+" />")}X.Co.push(N.xN(2)+"</"+W+">")};
xF.lQ=function(b,X,q,N,J){var _=[],p=xF.lQ,z=!1,g={w$:b,ai:X,kU:[!0,!0,!0],He:!1,JV:q,xWb:0};g.aO=Math.round(Math.max(b,X)*(.02+p.bU(g)*.03));
g.Eg=p.xwd(g);g.Wv=p.xwv(g.Eg,(p.bU(g)<.5?-1:1)*(.2+p.bU(g)*.3));if(p.bU(g)<.5){var W=g.Eg;g.Eg=g.Wv;
g.Wv=W}g.xCW=p.bU(g)<.4&&p.xwF(g.Wv,{D:1,q:1,b:1})>.3;g.xCt=p.bU(g)<.5?0:1;_.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+b+" "+X+"\" width=\""+b+"\" height=\""+X+"\">");
g.Jc=N[Math.floor(p.qt(g)*N.length)];g.zS=N[Math.floor(p.qt(g)*N.length)];_.push("<style>");_.push("@font-face {  font-family: "+g.Jc[2]+";  src: url(rsrc/fonts/"+g.Jc[5]+");  }");
_.push("@font-face {  font-family: "+g.zS[2]+";  src: url(rsrc/fonts/"+g.zS[5]+");  }");_.push("</style>");
var o=[0,0,b,X],y=o;if(J==null)_.push("<path style=\"fill: "+p.GM(g.Eg)+"\" d=\""+p.Rect(o[0],o[1],o[2]-o[0],o[3]-o[1])+"\" id=\"Background\" />");
else{g.He=!0;p.rU(g,o,_,J)}if(p.bU(g)<.25&&!g.He){g.kU[0]=g.kU[2]=!1;p.xHu(o,g,_);y=o}else if(p.bU(g)<.25||g.He)y=o;
else{var D=.52+p.bU(g)*.2;if(p.bU(g)<.5)D=1-D;var m=o.slice(0),k=o.slice(0);if(p.bU(g)<.5)m[2]=k[0]=Math.round(D*b);
else m[3]=k[1]=Math.round(D*X);if(p.bU(g)<.5){var W=m;m=k;k=W}y=m;p.xEh(g,k,_,J)}p.xE_(g,y,_);_.push("</svg>");
_=_.join("\n");var O=x.K(Math.round(_.length*1.5)),L=e.MI(_,O,0);return[O.buffer.slice(0,L),g.uC]};xF.lQ.xHu=function(b,X,q){var N=xF.lQ,J=b[2]-b[0],_=b[3]-b[1];
if(N.bU(X)<.5){q.push("<path id=\"Border\" style=\"fill: "+N.GM(X.Wv)+"\" d=\""+N.xwM(b[0],b[1],b[2]-b[0],b[3]-b[1],X.aO)+"\" />")}else if(N.bU(X)<-.4){N.xEe(X,b,q)}else{var p=N.bU(X)<.5?0:1,z=(p==0?_:J)/4,g=N.qT(X,p,b,q,z,!0),g=N.qT(X,p+2,b,q,z,!0,g)}};
xF.lQ.xE_=function(b,X,q){var N=xF.lQ,J="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.".split("-"),_=2*Math.floor(N.bU(b)*J.length/2),p=X[2]-X[0],z=X[3]-X[1],W=0,y=0;
b.Hb=(b.w$+p)*.5*(.04+N.bU(b)*.05);b.Hb=Math.min(b.Hb,z*.4,p*.12);b.Hb=Math.round(b.Hb);var g=Math.min(b.Hb*J[_].length*(.35+.3*N.bU(b)),p*.9),o=(X[1]+X[3])/2,D=x.xD(b.Eg)<.85?{D:1,q:1,b:1}:{D:.1,q:.1,b:.1};
if(N.bU(b)<.25&&b.kU[0]){y=0;W=X[0]+b.aO}else if(N.bU(b)<.33&&b.kU[2]){y=2;W=X[2]-b.aO}else{y=1;W=(X[0]+X[2])/2}var m=D.D==1?"0,0,0":"255,255,255",k=b.He&&N.bU(b)<1;
if(k){var O=X[0],L=p,I=o-b.Hb*1.1,H=b.Hb*2.2,Y=.7;if(y==1&&N.bU(b)<.5){O=I=.2*Math.min(p,z);L=p-2*I;
H=z-I-I}else if(N.bU(b)<.7){O=I=0;L=p;H=z;Y=.25}q.push("<path id=\"Strip\" style=\"fill: rgb("+m+"); opacity: "+Y+"\" d=\""+N.Rect(O,I,L,H)+"\" />")}if(N.bU(b)<.4){var n=b.Hb*.07;
n*=1.5+N.bU(b)*1;if(y==-1&&p/z<3&&!k){q.push("<path id=\"Bar-bottom\" style=\"fill: "+N.GM(D)+"\" d=\""+N.Rect(W-g/2,o+b.Hb*1.1-n/2,g,n)+"\" />");
q.push("<path id=\"Bar-top\"    style=\"fill: "+N.GM(D)+"\" d=\""+N.Rect(W-g/2,o-b.Hb*1.1-n/2,g,n)+"\" />")}if(y!=1){q.push("<path id=\"Bar\" style=\"fill: "+N.GM(D)+"\" d=\""+N.Rect(W-n/2,o-b.Hb*.8,n,b.Hb*.8*2)+"\" />");
W+=(y==0?1:-1)*b.Hb/3}}var w=b.Hb*.4;q.push(N.rn(J[_+1],W,o+w*1.6,w,D,y,b.zS));q.push(N.rn(J[_],W,o+b.Hb*.04,b.Hb,D,y,b.Jc))};
xF.lQ.xEh=function(b,X,q,N){var J=X[2]-X[0],_=X[3]-X[1],p=Math.max(J,_),z=Math.min(J,_),g=xF.lQ;if(p/z<5&&!b.He&&!1){g.rU(b,X,q,N)}else if(g.bU(b)<0)q.push("<path style=\"fill: "+g.GM(b.Wv)+"\" d=\""+g.Rect(X[0],X[1],J,_)+"\" />");
else{var W=0;if(X[3]!=b.ai)W=0;if(X[2]!=b.w$)W=3;if(X[0]!=0)W=1;if(X[1]!=0)W=2;var o=W+2&3;if(p/z<3){var y=g.xwB(o),D=y[Math.round(g.bU(b)*(y.length-1))],m=D.TC.slice(0,4),k=m.indexOf(1);
D=JSON.parse(JSON.stringify(D));var O=-1;if(m!="0000"){var L=new nQ;if(D.TC[5]=="0"){if(k==3&&W==1){O=1;
L.scale(-1,1)}else O=k}else{var I=o;while(I==o)I=Math.floor(g.bU(b)*4)&3;L.rotate((-k+I)*Math.PI/2)}g.w(D,L)}var H=g.Is(D),Y=J-2*b.aO,n=_-2*b.aO;
if(O!=-1){if((O&1)==0)n-=b.aO;else Y-=b.aO}var w=Math.min(Y/H.n,n/H.z),t=new nQ;t.translate(-H.x,-H.y);
t.scale(w,w);var j=(J-H.n*w)/2,E=(_-H.z*w)/2;if(O!=-1){if(O==3)j=0;if(O==0)E=0;if(O==1)j=J-H.n*w;if(O==2)E=_-H.z*w}t.translate(X[0]+j,X[1]+E);
g.od(b,D,t,b.Wv,q)}else{g.qT(b,W,X,q,1e9)}}};xF.lQ.rU=function(b,X,q,N){var J=X[2]-X[0],_=X[3]-X[1],p=Math.max(J,_),z=Math.min(J,_),g=xF.lQ,W=g.qt(b),o,y,D,m=N[0]instanceof ArrayBuffer;
if(m){o="data:image/jpg;base64,"+_K.YR(N[0]);y=N[1];D=N[2]}else{var k=Math.floor(W*N.length),O=N[k];
b.uC=O;o=O.webformatURL;y=O.webformatWidth;D=O.webformatHeight}var L=X[0],I=X[1],H=J,Y=_;if(J/_>y/D){Y=H*D/y;
I=I-(Y-_)/2}else{H=Y*y/D;L=L-(H-J)/2}if(m){q.push("<defs>");q.push("<image width=\""+y+"\" height=\""+D+"\" id=\"Background\" href=\""+o+"\" />");
q.push("</defs>");var n=H/y;q.push("<use href=\"#Background\" transform=\""+xF.ip(new nQ(n,0,0,n,L,I))+"\" />")}else{var w="cp"+Math.random();
q.push("<clipPath id=\""+w+"\">");q.push("<path style=\"fill: "+g.GM(b.Wv)+"\" d=\""+g.Rect(X[0],X[1],J,_)+"\" />");
q.push("</clipPath>");q.push("<image  clip-path=\"url(#"+w+")\" xlink:href=\""+o+"\" x=\""+L+"\" y=\""+I+"\" width=\""+H+"\" height=\""+Y+"\" />")}};
xF.lQ.rn=function(b,X,q,N,J,_,p){var z=xF.lQ;return"<text x=\""+X+"\" y=\""+q+"\" style=\"fill:"+z.GM(J)+"; font-size:"+N+"px; text-anchor:"+["start","middle","end"][_]+"; font-family:"+p[2]+";\"><tspan>"+b+"</tspan></text>"};
xF.lQ.od=function(b,X,q,N,J){var _=xF.lQ,p=[];for(var z=0;z<X.YP.length;z++){p.push(N);if(b.xCW){N=(z&1)==b.xCt?{D:1,q:1,b:1}:p[0]}}J.push("<g id=\""+X.TC.split("-")[2]+":::\" style=\"transform: "+xF.ip(q)+";\" >");
for(var z=0;z<X.YP.length;z++){var g=X.YP[z];N=p.pop();J.push("<path style=\"fill: "+(N?_.GM(N):"#"+g[0])+"\" d=\""+Typr.U.pathToSVG({crds:g[1].r,cmds:g[1].W})+"\" />")}J.push("</g>")};
xF.lQ.xEe=function(b,X,q){var N=xF.lQ,J=xF.lQ.Ge,_=[];for(var p=0;p<J.length;p++){var z=J[p],g=z.TC.slice(0,4);
if(g!="1001")continue;_.push(z)}var z=_[Math.floor(N.bU(b)*_.length)];if(N.bU(b)<.5)N.w(z,new nQ(0,1,1,0,0,0));
var W=X[3]-X[1],o=X[2]-X[0],y=N.Is(z),D=.7*Math.min(o,W,.5*Math.max(o,W))/Math.max(y.n,y.z),m=new nQ;
m.scale(D,D);if(N.bU(b)<.5){m.scale(1,-1);m.translate(0,W)}N.od(b,z,m,b.Wv,q);m.rotate(Math.PI);m.translate(o,W);
N.od(b,z,m,b.Wv,q)};xF.lQ.xwB=function(b){var X=xF.lQ.Ge,q=[];for(var N=0;N<X.length;N++){var J=X[N],_=J.TC.slice(0,4);
if(_=="0000"){q.push(J);continue}if(["1000","0100","0010","0001"].indexOf(_)==-1)continue;var p=_.indexOf("1");
if(J.TC[5]=="0"&&b==p&&p!=3)continue;q.push(J)}return q};xF.lQ.qT=function(b,X,q,N,J,_,p){var z=xF.lQ.Ge,g=xF.lQ,W=[],Y,n;
for(var o=0;o<z.length;o++){var y=z[o],D=y.TC.slice(0,4);if(["1110","1101","1011","0111"].indexOf(D)==-1)continue;
var m=D.indexOf("0")+2&3;if(y.TC[5]=="0")if(_==!0||X!=m&&!(X==1&&m==3))continue;W.push(y)}var k=p!=null?p:Math.floor(g.bU(b)*W.length),y=W[k],y=JSON.parse(JSON.stringify(y)),D=y.TC.slice(0,4),m=D.indexOf("0")+2&3;
if(m==3&&X==1)x.w(y,new nQ(1,0,0,-1,0,1e3));var O=new nQ;O.translate(-500,-500);O.rotate(-m*Math.PI/2);
O.translate(500,500);g.w(y,O);var L=q[3]-q[1],I=q[2]-q[0],H=g.Is(y);if(H.y<0){H.z+=H.y;H.y=0}if(H.y>0){H.z+=H.y;
H.y=0}if((X&1)==0){n=L;Y=I}else{Y=L;n=I}var w=Math.min(Math.min(.5+.5*g.bU(b))*Math.min(I,L),J)/H.z,t=Math.ceil(Y/(1e3*w)),j=new nQ,E=new nQ;
E.scale(w,w);if(X==0||X==2){E.translate(-(I/2),-(L/2));E.rotate(-X*Math.PI/2);E.translate(I/2+q[0],L/2+q[1])}else{E.rotate(Math.PI/2);
E.scale(1,-1);E.translate(q[0],q[1]);if(X==1){E.scale(-1,1);E.translate(I,0)}}N.push("<g id=\"Border-"+["top","right","bottom","left"][X]+":::\">");
for(var o=0;o<t;o++){var h=j.clone();h.concat(E);g.od(b,y,h,b.Wv,N);j.translate(1e3-2,0)}N.push("</g>");
return k};xF.lQ.Rect=function(b,X,q,N){return Typr.U.pathToSVG({crds:[b,X,b+q,X,b+q,X+N,b,X+N],cmds:["M","L","L","L","Z"]})};
xF.lQ.xwM=function(b,X,q,N,J){var _=[b,X,b+q,X,b+q,X+N,b,X+N];b+=J;X+=J;q-=2*J;N-=2*J;_.push(b,X,b,X+N,b+q,X+N,b+q,X);
return Typr.U.pathToSVG({crds:_,cmds:"M L L L Z M L L L Z".split(" ")})};xF.lQ.xwv=function(b,X){var q=x.$P(b.D,b.q,b.b);
q.hZ=Math.max(.1,Math.min(.9,q.hZ+X));return x.tA(q.ai,q.qD,q.hZ)};xF.lQ.xlR=function(b,X){var q=x.$P(b.D,b.q,b.b);
q.ai+=X;return x.tA(q.ai,q.qD,q.hZ)};xF.lQ.xlQ=function(b){var X=x.$P(b.D,b.q,b.b);X.hZ=1-X.hZ;return x.tA(X.ai,X.qD,X.hZ)};
xF.lQ.xwF=function(b,X){var q=b.D-X.D,N=b.q-X.q,J=b.b-X.b;return Math.sqrt(q*q+N*N+J*J)};xF.lQ.xwd=function(b){var X=xF.lQ;
return{D:X.bU(b),q:X.bU(b),b:X.bU(b)}};xF.lQ.GM=function(b){return CSS.yc({D:b.D*255,q:b.q*255,b:b.b*255})};
xF.lQ.Is=function(b){var X=b.YP,q=new R;for(var N=0;N<X.length;N++)q=q.Tg(x.j.Is(X[N][1].r));return q};
xF.lQ.w=function(b,X){var q=b.YP;for(var N=0;N<q.length;N++)x.j.w(q[N][1].r,X,q[N][1].r)};xF.lQ.bU=function(b){b.xWb++;
var X=b.xWb&3;if(X==0)b.JV=xF.lQ.SB(b.JV);var q=b.JV>>>8*X&255;return q*(.99999999/255)};xF.lQ.qt=function(b){var X=xF.lQ.SB(b.JV);
b.JV=xF.lQ.SB(X);return X*(1/4294967295)};xF.lQ.SB=function(b){b=(b^61^b>>>16)>>>0;b=b+(b<<3)>>>0;b=(b^b>>>4)>>>0;
b=b*668265261>>>0;b=(b^b>>>15)>>>0;return b};xF.lQ.Ge=[{TC:"0001-0-bird",YP:[["4b3c34",{W:"M C L C C L Z M C C L C C L Z M C L C L Z M C L C C L Z".split(" "),r:[208,16,253,5,247,86,228,104,218,108,253,60,235,12,211,18,210,18,209,17,208,16,208,16,187,140,238,125,326,133,319,189,318,198,307,210,299,207,297,205,307,208,316,195,317,188,320,126,208,137,174,149,187,140,137,75,156,79,177,94,164,157,173,147,177,101,165,79,142,75,137,75,368,59,165,59,182,233,0,210,0,225,161,250,194,61,364,63,367,61,368,59,368,59,368,59]}],["3c7040",{W:"M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C L Z M C C C C C L Z M C C C C L Z M C C C C Z".split(" "),r:[345,123,324,113,331,70,284,80,287,79,310,89,314,103,314,104,306,90,284,82,281,81,270,85,268,86,274,117,335,119,345,123,345,123,270,0,283,29,282,58,244,66,258,62,265,40,269,27,265,37,256,56,249,58,242,31,263,18,270,0,270,0,89,100,81,136,47,182,101,196,90,189,92,157,91,145,94,160,93,191,109,195,148,158,96,129,89,100,89,100,230,187,201,240,160,226,133,198,150,191,172,197,187,198,166,193,153,190,134,193,159,162,207,194,230,187,230,187,126,177,131,159,129,150,119,139,122,122,145,112,147,97,166,128,164,155,134,168,139,154,146,142,145,131,143,145,133,159,126,177,126,177,209,86,195,86,166,91,173,109,177,102,181,97,191,96,180,99,174,113,175,113,194,114,200,96,209,86,209,86,278,175,254,167,235,168,231,143,245,143,248,151,256,158,252,147,243,144,240,142,276,147,265,171,278,175]}],["b588c1",{W:"M C C C C C C C C C C C C L Z".split(" "),r:[189,40,188,42,186,44,184,47,184,52,183,55,181,59,175,70,160,78,147,79,142,79,131,78,127,75,118,74,95,71,93,70,89,70,88,70,69,72,74,66,82,68,93,65,78,64,83,62,95,59,128,50,128,33,155,29,162,16,180,13,189,31,193,31,196,34,198,37,197,37,193,39,189,40,189,40]}]]},{TC:"0001-0-bird2",YP:[["ff7f2a",{W:"M L L L Z M L L L Z".split(" "),r:[296,0,296,62,335,62,296,0,357,0,357,62,318,62,357,0]}],["b588c1",{W:"M C C C C C C C C C C C L Z".split(" "),r:[321,48,344,48,379,67,396,121,408,176,396,230,337,255,303,265,265,268,217,235,191,217,170,188,186,180,195,177,199,187,205,192,203,185,199,178,207,172,217,165,224,178,225,182,227,196,231,203,250,206,273,205,290,196,292,165,289,133,269,118,268,101,267,77,288,49,321,48,321,48]}],["74439e",{W:"M C C C C C C L Z M C C Z".split(" "),r:[337,187,329,202,317,204,304,204,293,204,284,205,293,224,286,216,278,209,268,214,257,220,262,237,269,243,284,258,310,256,323,243,337,227,339,208,337,187,337,187,340,77,310,78,287,81,315,96,269,83,309,75,340,77]}],["000000",{W:"M L L L Z M L L L Z".split(" "),r:[326,258,334,315,323,316,326,258,298,262,296,318,286,317,298,262]}],["4b3c34",{W:"M L C C C C C C C C L Z".split(" "),r:[0,272,0,336,63,296,119,296,175,320,205,330,229,339,278,338,322,337,354,322,405,325,443,329,482,332,501,377,501,366,502,348,474,328,464,320,440,312,384,309,296,309,300,333,186,293,118,264,54,250,0,272,0,272]}],["3c7040",{W:"M C C C Z M C C C Z M C C C L Z M C C C L Z M C C C L Z M C C C Z".split(" "),r:[58,260,44,247,27,239,20,208,15,188,32,182,43,198,59,227,56,242,58,260,181,323,167,336,150,345,143,375,138,396,155,401,166,385,182,356,179,342,181,323,60,260,79,249,100,243,113,214,122,194,102,186,86,200,62,227,65,242,60,260,60,260,499,378,479,377,462,372,435,388,417,399,425,415,444,411,476,403,484,390,499,378,499,378,501,379,494,397,482,411,488,442,491,463,511,461,514,442,520,410,508,397,501,379,501,379,503,378,513,390,516,402,531,413,546,421,557,412,548,401,534,382,519,379,503,378]}]]},{TC:"0000-1-flower",YP:[["7a59a2",{W:"M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z".split(" "),r:[468,470,411,473,371,480,351,495,332,509,322,536,325,581,325,601,328,621,325,637,346,634,371,638,397,637,427,636,456,626,465,611,478,596,485,553,489,490,477,489,470,483,468,470,445,563,435,583,425,591,415,590,401,588,401,572,410,549,388,558,375,557,369,546,366,533,374,524,390,517,416,506,441,498,465,495,463,519,455,542,445,563,445,563,489,450,486,392,480,352,465,332,451,313,425,302,380,305,360,305,340,307,324,304,327,324,322,350,323,376,323,406,332,435,347,444,362,457,405,465,468,470,469,458,476,451,489,450,489,450,395,424,376,415,368,405,369,394,371,380,387,380,410,390,402,368,403,355,414,349,427,346,436,355,443,370,454,397,460,422,463,446,439,443,417,435,395,424,395,424,508,470,566,468,606,462,626,447,645,433,656,407,654,362,654,342,652,322,655,306,634,309,609,304,583,305,553,305,524,314,514,329,501,344,493,387,488,449,500,451,507,457,508,470,508,470,534,377,544,357,554,350,564,351,578,353,578,369,568,392,590,384,604,385,609,396,612,409,603,418,588,425,561,435,536,442,512,445,515,421,523,399,534,377,534,377,488,490,492,547,499,587,514,607,528,626,554,636,600,633,619,632,640,630,656,633,652,612,656,587,655,560,655,531,645,502,629,493,614,480,571,473,508,469,507,481,501,488,488,490,488,490,582,513,602,523,610,533,609,543,607,557,591,557,568,548,577,570,576,583,565,589,552,592,542,584,535,568,524,542,517,517,514,493,538,495,560,503,582,513,582,513]}]]},{TC:"0000-1-flower",YP:[["d13777",{W:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z".split(" "),r:[474,503,457,528,452,530,450,528,450,523,469,498,464,493,388,522,332,552,314,585,297,628,322,660,372,639,361,698,421,709,450,665,467,649,477,596,482,505,474,503,474,503,439,563,431,563,424,556,424,548,424,539,431,532,439,532,447,532,454,539,454,548,454,556,447,563,439,563,462,475,432,467,429,463,430,460,435,458,465,469,468,463,417,399,371,356,335,348,288,345,265,379,300,420,241,428,249,488,301,503,321,513,374,507,462,483,462,475,462,475,394,460,391,452,396,444,404,441,412,438,420,443,423,451,426,459,421,467,413,470,405,473,396,468,394,460,484,455,483,424,486,419,489,420,492,424,492,456,498,457,543,389,570,332,566,294,554,249,515,238,487,284,461,231,406,256,408,310,405,333,427,381,477,458,484,455,484,455,477,385,484,380,494,382,499,389,504,396,502,405,496,410,489,415,479,414,474,407,469,400,471,390,477,385,511,470,539,459,545,461,545,463,542,467,512,477,513,483,592,505,654,513,688,497,728,472,726,432,674,419,717,378,675,334,625,353,602,356,563,393,506,464,511,470,511,470,575,442,581,447,583,456,578,463,573,470,563,472,557,467,550,462,548,452,553,445,558,438,568,437,575,442,505,499,524,523,524,529,521,531,517,529,498,503,492,506,496,588,508,650,533,677,570,707,607,693,603,639,656,667,685,614,651,572,641,551,594,525,509,493,505,499,505,499,551,552,548,560,540,564,532,561,524,559,519,550,522,542,524,534,533,530,541,532,549,535,554,543,551,552]}]]},{TC:"0000-1-flower",YP:[["ffac42",{W:"M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z".split(" "),r:[646,471,646,446,626,426,601,426,599,426,597,426,595,427,596,426,598,424,599,423,616,406,616,378,599,360,581,343,553,343,536,360,534,361,533,363,532,364,532,363,532,361,532,359,532,335,512,315,488,315,463,315,443,335,443,359,443,361,443,363,443,365,442,364,441,363,440,362,422,344,394,344,377,362,359,379,359,407,377,425,378,426,380,427,381,429,379,428,378,428,376,428,351,428,331,448,331,473,331,498,351,518,376,518,378,518,380,517,382,517,381,518,379,519,378,521,361,538,361,566,378,584,396,601,424,601,441,584,443,582,444,581,445,579,445,581,445,583,445,584,445,609,465,629,490,629,514,629,534,609,534,584,534,582,534,580,534,579,535,580,536,581,537,582,555,600,583,600,600,582,618,565,618,537,600,519,599,518,597,516,596,515,598,515,599,516,601,516,626,516,646,496,646,471,489,552,444,552,409,516,409,472,409,428,444,392,489,392,533,392,569,428,569,472,569,516,533,552,489,552]}]]},{TC:"0000-1-flower",YP:[["d04040",{W:"M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),r:[691,424,690,369,680,330,660,303,634,320,601,361,568,406,568,406,568,327,578,326,585,317,585,306,585,294,576,284,564,284,552,284,542,294,542,306,542,317,550,326,560,327,560,406,559,406,540,359,522,311,501,291,475,319,453,360,433,407,431,406,431,327,441,326,448,317,448,306,448,294,439,284,427,284,415,284,405,294,405,306,405,317,412,326,423,327,423,404,390,363,360,326,341,308,296,401,299,489,360,567,396,613,443,639,500,638,624,636,694,524,692,424,691,424,389,543,370,514,379,498,399,504,439,518,470,564,488,613,455,600,414,580,389,543,481,480,488,445,505,441,515,459,533,497,524,552,501,599,487,567,472,523,481,480,481,480,624,523,610,563,565,595,515,613,528,580,548,538,585,514,614,494,629,503,624,523,624,523]}]]},{TC:"0000-1-flower",YP:[["ec7272",{W:"M C C C C Z M C C C C Z M C C C C L Z M C C C C L Z M C C C C Z M C C C C L Z".split(" "),r:[447,475,452,450,452,438,437,423,422,407,407,412,390,383,398,418,421,415,433,434,445,453,446,474,447,475,495,446,520,439,529,433,535,412,542,390,529,380,546,351,520,376,533,394,523,414,513,434,495,445,495,446,545,473,564,490,574,495,595,490,617,485,620,469,653,468,619,459,610,479,587,480,565,482,546,472,545,473,545,473,549,533,543,558,543,569,559,585,574,601,589,596,606,624,597,590,575,592,563,573,551,555,550,534,549,533,549,533,504,562,480,570,470,575,464,596,458,618,470,628,454,657,479,632,466,614,476,594,486,575,504,563,504,562,459,536,440,519,430,513,409,518,387,524,384,539,351,540,385,549,394,529,417,528,439,527,457,536,459,536,459,536]}],["333333",{W:"M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z".split(" "),r:[534,455,584,415,579,358,577,335,574,315,585,304,585,304,585,304,568,308,561,312,554,316,520,333,500,363,479,392,493,437,486,456,479,476,452,485,452,485,452,485,471,474,475,454,479,434,460,402,482,365,505,328,565,292,597,294,612,295,591,298,587,316,583,333,593,373,584,404,574,440,533,456,534,455,534,455,559,506,619,530,666,497,685,483,701,471,716,475,716,475,716,475,704,463,697,459,690,454,657,434,622,431,587,428,554,462,534,465,513,469,492,451,492,451,492,451,511,461,530,455,549,448,568,416,611,417,654,418,716,452,730,481,737,495,724,478,706,483,689,489,660,516,628,524,592,534,558,506,559,506,559,506,524,552,534,615,586,640,607,649,625,657,629,672,629,672,629,672,634,655,634,647,634,639,636,601,621,569,606,537,560,525,547,509,534,494,539,466,539,466,539,466,539,488,554,501,569,514,607,514,627,552,648,590,650,660,632,687,623,700,631,680,617,667,605,656,566,644,543,621,517,594,524,551,524,552,524,552,467,546,417,585,421,643,424,665,426,686,415,697,415,697,415,697,432,693,439,689,446,684,481,667,501,638,521,609,508,563,515,544,522,524,548,515,548,515,548,515,530,527,526,546,522,566,540,598,518,635,496,672,436,709,404,706,388,705,409,702,413,684,417,667,408,628,417,596,426,561,467,544,467,546,467,546,442,495,383,472,336,504,317,518,301,530,286,526,286,526,286,526,298,539,305,543,312,547,344,568,380,571,415,574,448,539,468,536,488,532,510,551,510,551,510,551,490,540,471,547,452,553,434,585,391,584,348,583,286,550,272,521,265,507,278,524,296,518,313,513,342,485,373,477,409,468,444,495,442,495,442,495,476,449,467,386,415,361,394,352,375,344,371,329,371,329,371,329,366,346,366,354,366,362,364,400,379,433,394,465,440,476,453,492,467,508,462,535,462,535,462,535,461,513,446,500,431,487,394,487,373,449,352,411,350,341,368,314,377,301,369,321,383,334,396,345,434,357,457,380,483,407,477,450,476,449,476,449]}]]},{TC:"0000-0-hearts",YP:[["d17070",{W:"M C C C C C C C C C L Z".split(" "),r:[415,584,413,585,411,586,409,587,392,596,389,620,395,633,401,647,414,663,450,668,485,674,487,681,494,690,491,679,487,673,507,643,527,613,524,593,518,579,512,566,493,552,475,558,467,561,451,566,448,586,435,578,423,581,415,584,415,584]}],["6bcc6b",{W:"M C C C C C C C C C L Z".split(" "),r:[595,451,593,449,590,448,588,448,563,439,537,457,529,475,521,493,516,520,542,560,568,601,563,609,559,623,568,611,571,602,618,595,666,589,684,567,692,550,700,532,697,501,674,488,665,482,645,472,622,486,619,465,606,456,595,451,595,451]}],["5c5cc2",{W:"M C C C C C C C C C L Z".split(" "),r:[341,362,338,364,335,366,332,368,304,385,301,424,312,446,323,468,345,494,405,501,465,508,468,520,480,534,475,516,468,506,499,455,531,404,524,370,514,348,503,325,470,304,440,315,427,320,401,331,397,364,374,351,355,356,341,362,341,362]}]]},{TC:"0000-0-anchor",YP:[["2a3b66",{W:"M C C C C L Z M C C C C C C C C C C C C C C L C C C C C C C C C C C C C L C C C C C C C C C C C C C L Z".split(" "),r:[495,315,490,315,488,318,489,323,491,328,502,326,502,320,502,317,501,316,497,315,496,315,496,315,495,315,495,315,496,303,509,303,521,320,514,327,511,330,513,345,517,348,519,350,531,352,546,354,570,357,572,357,578,354,588,347,592,351,592,369,592,385,588,390,580,385,576,383,570,383,552,384,524,387,519,389,517,397,515,404,517,515,520,554,522,583,525,599,530,606,534,610,555,617,565,617,584,616,607,602,635,572,639,568,641,566,644,563,633,559,616,557,616,557,675,533,675,533,671,605,669,609,667,611,664,591,658,577,657,579,657,580,656,582,628,638,603,660,565,664,545,666,521,672,514,675,512,677,507,682,504,688,501,693,497,698,496,698,494,698,490,693,487,688,484,682,480,677,477,675,471,672,447,666,427,664,391,660,367,640,340,591,335,604,332,621,331,619,329,615,325,544,325,544,384,568,384,568,368,569,357,573,385,602,408,616,426,617,437,617,458,610,461,606,466,599,470,583,472,554,474,515,476,404,475,397,473,389,468,387,440,384,422,383,416,383,412,385,403,390,400,385,400,369,400,351,403,347,414,354,419,357,421,357,446,354,460,352,473,350,475,348,478,345,481,330,478,327,470,320,483,303,496,303,496,303]}]]},{TC:"0000-1-leaf",YP:[["fbb600",{W:"M L L L L L L C L L C L C L C C C C C L C C C C C C C C C L C C C C C C C C C C C C C L L L L Z".split(" "),r:[642,726,633,723,632,707,591,631,570,582,526,521,537,547,535,579,517,598,501,619,486,602,414,634,412,606,379,609,346,611,394,557,406,547,401,539,386,532,319,519,337,508,332,493,320,478,326,464,302,450,287,436,303,436,324,441,330,432,346,434,359,434,359,415,377,428,397,431,417,432,442,440,437,418,417,416,406,372,401,370,395,367,389,355,417,363,408,339,406,323,416,312,427,303,417,276,433,295,444,297,452,294,479,321,490,313,496,294,503,322,510,329,517,338,522,353,530,371,530,379,546,402,551,389,555,378,578,333,606,333,628,304,652,280,646,306,644,327,657,329,649,356,658,374,679,384,666,392,656,415,645,432,627,457,653,451,661,457,692,460,698,473,715,481,697,485,678,488,669,509,656,523,655,533,666,539,659,537,659,542,643,531,630,535,613,543,608,539,598,535,594,542,590,553,590,566,594,564,596,569,568,575,551,543,531,519,575,577,597,628,639,708,642,726]}]]},{TC:"0000-1-acorn",YP:[["a05a2c",{W:"M C C C C C C C L Z".split(" "),r:[506,453,450,426,413,422,398,444,374,480,374,533,384,573,391,602,407,625,430,645,451,658,487,654,509,647,554,633,587,605,612,565,635,527,591,500,565,482,557,476,515,457,506,453,506,453]}],["502d16",{W:"M C C C C C C C C C C C Z".split(" "),r:[640,524,639,539,623,540,623,540,627,522,607,504,583,488,547,465,507,445,470,434,439,426,412,417,400,437,400,437,391,424,400,414,434,370,498,356,551,376,555,349,583,317,597,321,612,326,621,346,620,350,619,354,594,352,584,368,580,375,577,382,575,387,619,412,649,460,640,524]}]]},{TC:"0000-0-skull",YP:[["808080",{W:"M C L C C L C L C C C C C C C L C L C C C C C C C C L C C L C L C C C C C C C L C L C L C C C C C C Z M C C C C Z M C C C C Z M L L L Z".split(" "),r:[396,410,398,415,398,420,398,424,420,437,433,404,465,382,501,382,538,382,569,404,582,435,602,424,602,419,603,415,604,410,604,410,609,392,622,379,633,382,643,384,648,402,643,420,643,421,642,421,642,422,643,422,643,422,644,422,662,427,675,440,672,450,669,461,652,465,633,460,628,459,624,457,620,455,589,473,588,491,582,507,572,520,607,540,611,538,615,536,620,535,639,530,656,535,659,545,662,556,649,568,630,573,630,574,629,574,629,574,629,574,629,575,629,575,634,594,630,611,619,614,609,617,596,604,591,585,590,580,589,576,589,571,565,557,564,592,536,619,501,619,466,619,438,591,437,557,412,572,411,576,411,580,410,585,410,585,405,604,392,617,381,614,371,611,366,593,371,575,371,574,371,574,372,574,371,573,371,573,370,573,352,568,339,556,342,545,345,534,362,530,381,535,385,536,390,538,394,540,430,519,421,507,415,491,414,475,380,455,376,457,372,459,367,460,367,460,349,465,331,461,328,450,326,440,338,427,357,422,357,422,358,422,358,422,358,421,358,421,358,420,353,402,357,384,368,381,379,379,391,391,396,410,463,439,445,439,431,453,431,470,431,488,445,502,463,502,480,502,494,488,494,470,494,453,480,439,463,439,540,439,522,439,508,453,508,470,508,488,522,502,540,502,557,502,571,488,571,470,571,453,557,439,540,439,483,528,518,528,500,503,483,528]}]]},{TC:"0000-0-ghost",YP:[["e6e6e6",{W:"M C C C C C C C C C C L Z M C C C C C C C C Z M C C Z".split(" "),r:[653,486,653,574,689,597,689,638,689,661,640,644,620,656,601,666,609,682,583,692,563,700,538,666,512,666,490,666,451,695,433,686,415,677,416,646,388,644,367,641,313,671,313,648,313,619,346,588,346,486,346,388,415,308,500,308,584,308,653,388,653,486,653,486,449,396,428,396,412,415,412,439,412,462,428,482,449,482,465,482,478,470,484,454,489,470,503,482,519,482,539,482,556,462,556,439,556,415,539,396,519,396,503,396,489,407,484,423,478,407,465,396,449,396,482,505,441,505,465,560,482,560,503,560,524,505,482,505]}],["000000",{W:"M C C C C Z M C C C C Z".split(" "),r:[526,446,526,455,519,462,510,462,501,462,494,455,494,446,494,437,501,430,510,430,519,430,526,437,526,446,475,446,475,455,468,462,459,462,450,462,442,455,442,446,442,437,450,430,459,430,468,430,475,437,475,446]}]]},{TC:"1001-1-rose",YP:[["9e1460",{W:"M C C C C C C C C C Z M C C C C C C C C C Z".split(" "),r:[568,83,558,83,548,88,539,96,538,98,536,99,535,101,522,115,513,134,517,149,522,172,561,200,592,207,604,210,611,215,615,221,622,234,611,258,611,258,613,260,615,264,618,264,627,266,638,241,640,236,660,188,614,83,568,83,526,125,527,97,567,68,593,75,616,81,642,121,649,152,651,165,656,172,662,176,675,183,698,173,698,173,698,173,698,173,698,173,704,176,705,179,705,180,706,189,681,199,678,200,678,200,677,201,677,201,627,220,524,170,526,125]}],["020304",{W:"M C C C C C Z M C C C C C Z M C C C C C Z M C C C C Z".split(" "),r:[60,151,60,151,37,125,60,98,83,72,95,91,115,66,134,42,117,26,120,30,123,34,146,83,132,114,114,154,60,151,60,151,280,70,280,70,258,97,283,122,308,147,318,127,339,150,361,173,344,190,347,186,350,182,370,132,354,101,333,62,280,70,280,70,61,150,61,150,27,143,30,108,33,73,54,81,55,50,57,19,33,16,38,17,43,19,91,44,98,78,107,121,61,150,61,150,-27,185,184,158,222,43,352,32,444,24,538,97,538,97,538,97,453,45,354,48,241,51,185,170,-27,185]}]]},{TC:"1001-1-curls",YP:[["53a7ab",{W:"M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),r:[68,114,121,103,159,110,183,135,212,169,211,204,189,237,162,277,124,291,86,276,52,263,38,236,47,202,55,168,79,151,121,156,147,162,165,177,160,205,155,228,135,241,113,237,97,234,92,221,96,205,98,195,105,194,115,200,124,205,133,204,135,197,139,183,122,167,95,171,68,176,54,193,68,220,84,252,131,261,165,238,201,202,199,164,158,136,118,113,52,122,-23,151,2,134,33,122,68,114,68,114,71,83,119,75,163,79,198,107,226,129,247,174,271,207,291,229,316,241,342,232,370,222,394,206,418,209,443,212,461,238,485,258,500,272,522,276,543,271,543,271,524,279,518,281,500,287,483,277,466,256,453,243,441,230,427,223,413,217,392,220,372,229,372,230,371,230,370,230,354,241,337,251,315,250,283,248,253,222,229,172,209,133,178,106,137,94,103,84,52,94,-30,133,-3,108,30,91,71,83,71,83,83,54,122,46,166,49,195,67,219,82,250,122,290,168,308,186,330,194,355,192,393,183,400,145,383,118,372,101,355,91,328,91,313,92,303,98,300,109,298,116,299,125,304,131,315,147,327,152,340,149,349,149,354,132,343,131,330,131,326,129,328,120,332,97,355,100,365,114,381,137,367,165,343,168,321,170,289,150,288,117,290,77,319,58,352,64,388,74,405,104,404,141,403,177,382,202,345,207,312,211,284,191,260,161,245,141,229,122,213,106,196,84,166,73,129,67,80,62,28,79,-26,108,10,79,46,63,83,54,83,54]}],["bbdc54",{W:"M C C C C C L Z M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),r:[321,315,287,324,252,312,211,219,217,284,239,326,279,341,324,352,362,329,398,291,316,305,258,269,217,196,238,284,274,319,321,315,321,315,211,261,223,300,234,345,252,374,220,378,194,367,193,324,194,306,198,288,206,270,197,315,204,340,221,351,206,327,202,297,211,261,211,261,206,246,193,301,170,317,138,297,162,281,184,254,205,222,201,246,191,267,174,283,186,279,197,267,206,246,206,246,378,233,370,286,337,299,294,270,312,277,330,276,347,267,294,278,259,252,234,203,280,259,327,278,378,233,378,233,626,217,604,273,555,313,511,315,484,316,438,289,432,232,450,253,488,296,511,291,532,286,551,277,566,261,527,269,498,263,480,243,478,241,478,237,480,235,486,230,504,220,519,226,537,233,551,242,567,241,591,236,611,228,626,217,626,217,411,192,432,183,439,166,420,136,443,144,460,158,466,182,470,165,456,149,430,133,459,136,485,145,505,165,503,143,463,133,434,128,486,127,526,124,539,118,505,123,470,124,435,122,461,111,483,96,500,76,475,95,450,110,424,118,450,96,465,72,466,48,458,75,440,98,419,112,424,106,428,99,428,91,429,68,413,57,393,51,419,70,426,92,411,110,408,77,385,58,343,52,383,26,422,25,445,62,458,47,465,29,467,8,477,27,479,51,475,76,497,64,515,49,528,29,524,57,515,82,496,103,521,113,549,111,579,99,560,122,535,136,502,137,518,149,521,173,514,205,505,181,492,166,476,158,483,188,470,205,447,216,456,183,451,166,438,157,444,193,426,211,379,207,403,193,416,172,416,140,434,156,428,173,411,192,411,192]}]]},{TC:"0111-0-pines",YP:[["e9e9e9",{W:"M C C C C C C C C L L L Z".split(" "),r:[0,946,0,946,54,960,99,944,149,927,182,954,205,956,245,960,298,940,382,974,435,995,478,957,538,956,571,955,597,969,631,968,663,967,701,938,749,944,805,950,851,960,893,946,950,928,1e3,946,1e3,946,1e3,1e3,0,1e3,0,946]}],["437a26",{W:"M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z".split(" "),r:[119,801,120,801,148,859,148,859,137,853,137,853,155,890,155,891,156,892,138,887,140,888,141,888,171,925,171,925,126,924,125,943,125,943,105,944,106,944,107,944,106,924,106,924,61,925,93,886,77,891,100,854,89,860,89,860,119,801,119,801,286,871,286,871,303,905,303,905,296,902,296,902,307,924,307,924,307,925,297,922,297,922,298,922,316,944,316,944,289,944,289,955,289,955,277,956,278,956,278,956,278,944,278,944,251,944,270,921,260,924,274,902,268,906,268,906,285,871,286,871,526,863,526,863,546,903,546,903,538,899,538,899,550,924,550,925,550,926,539,922,540,922,540,922,561,948,561,948,530,947,529,960,529,960,516,961,517,961,518,961,517,947,517,947,486,948,508,921,497,925,513,899,505,903,505,903,526,863,526,863,731,841,731,841,752,883,752,883,744,879,744,879,757,907,757,908,758,908,745,905,746,905,747,905,769,932,769,932,736,932,735,946,735,946,721,946,721,946,722,947,721,932,721,932,688,932,712,903,700,908,717,880,709,884,709,884,731,841,731,841,889,826,889,826,914,876,914,876,904,871,904,871,920,904,920,905,920,906,906,901,907,902,908,902,934,934,934,934,894,933,894,950,894,950,877,951,878,951,879,951,878,933,878,933,838,934,866,900,852,905,872,872,862,877,862,877,889,826,889,826]}]]},{TC:"0111-0-flowers",YP:[["8cae40",{W:"M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z".split(" "),r:[182,866,160,879,146,903,135,929,135,844,177,842,228,831,230,796,231,770,207,765,182,779,160,792,146,816,135,843,135,713,135,711,134,710,132,710,130,710,128,711,128,713,128,841,117,815,103,791,82,779,57,764,33,769,34,795,36,830,86,841,128,844,128,930,117,903,103,880,82,867,57,853,33,858,34,884,36,919,86,930,128,932,128,1009,128,1010,130,1012,132,1012,134,1012,135,1010,135,1009,135,931,177,928,228,918,230,882,231,856,207,851,182,866,182,866,447,904,430,898,412,904,394,916,394,861,413,873,431,879,447,873,458,868,458,852,447,848,430,841,412,848,394,859,394,788,394,787,393,786,391,786,389,786,388,787,388,788,388,859,370,847,352,841,336,848,325,852,325,868,336,873,352,879,370,873,388,862,388,915,370,904,352,898,336,904,325,909,325,925,336,929,352,936,370,930,388,918,388,1009,388,1010,389,1011,391,1011,393,1011,394,1010,394,1009,394,918,413,930,431,936,447,929,458,925,458,909,447,904,447,904,662,943,650,954,641,972,634,993,634,914,659,907,680,895,692,873,707,846,686,836,662,859,650,870,641,888,634,909,634,818,634,816,632,815,631,815,629,815,628,816,628,818,628,908,621,887,612,870,600,859,576,836,555,846,570,873,582,895,603,907,628,914,628,992,621,971,612,954,600,943,576,920,555,930,570,957,582,978,603,990,628,998,628,1009,628,1010,629,1011,631,1011,632,1011,634,1010,634,1009,634,998,659,991,680,978,692,957,707,930,686,920,662,943,662,943,892,842,875,857,862,882,850,912,850,822,874,817,896,805,908,778,919,755,896,751,877,769,866,779,857,796,850,815,850,737,850,736,848,735,847,735,845,735,844,736,844,737,844,815,836,795,828,779,817,769,798,751,775,755,785,777,797,804,820,817,844,822,844,912,832,882,818,857,801,842,772,816,737,822,753,854,772,894,806,911,844,918,844,1009,844,1010,845,1011,847,1011,848,1011,850,1010,850,1009,850,918,887,911,922,894,941,854,957,822,922,816,892,842,892,842]}],["d13777",{W:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),r:[125,603,115,617,112,619,110,618,111,615,122,600,119,597,75,614,43,631,32,650,22,675,36,694,65,682,59,716,94,722,111,696,120,687,126,657,129,604,125,603,125,603,104,638,99,638,95,634,95,629,95,624,99,620,104,620,109,620,113,624,113,629,113,634,109,638,104,638,117,587,100,582,98,579,99,578,102,577,119,583,121,580,92,543,65,517,44,513,17,512,4,531,24,555,-10,560,-6,594,24,603,36,609,67,605,118,591,118,587,117,587,78,578,77,573,79,568,84,567,88,565,93,568,95,573,96,577,94,582,89,584,85,585,80,583,78,578,130,575,130,557,131,554,133,555,135,557,135,575,138,576,164,537,180,504,177,482,171,456,148,449,132,476,117,445,85,460,86,491,84,504,97,532,126,577,130,575,130,575,126,535,130,532,136,533,139,537,142,541,141,546,137,549,133,552,127,551,125,547,122,543,122,538,126,535,146,584,162,577,165,578,166,580,164,582,146,588,147,591,193,604,229,609,249,600,271,585,271,562,240,554,265,530,241,505,212,516,199,518,176,539,143,580,146,584,146,584,183,567,187,570,187,576,185,580,182,584,176,585,172,582,168,579,167,573,170,569,173,565,179,565,183,567,142,601,153,615,153,618,152,619,149,618,138,603,135,605,137,652,144,688,159,704,180,721,202,713,199,681,230,698,246,667,227,643,221,631,194,616,145,597,142,601,142,601,169,631,167,636,162,638,158,637,153,635,151,630,152,625,154,621,159,618,163,620,168,621,170,626,169,631,376,691,343,693,320,697,309,706,297,714,291,729,294,756,294,767,295,779,294,788,305,786,320,788,335,788,353,787,369,782,375,773,382,764,386,739,388,703,381,702,377,699,376,691,363,745,357,757,351,761,345,761,337,760,337,751,343,737,330,742,322,742,319,735,317,728,322,723,331,718,346,712,360,708,374,706,373,720,369,733,363,745,363,745,388,680,387,646,383,623,375,612,366,600,351,594,325,596,314,596,302,597,293,595,295,607,292,622,292,637,292,654,298,671,306,676,315,684,340,689,376,692,377,684,381,680,388,680,388,680,334,665,323,659,318,654,319,648,320,639,329,640,343,645,338,632,339,625,345,621,352,620,358,625,362,634,368,649,372,664,373,677,360,676,347,671,334,665,334,665,399,691,433,690,456,686,467,678,479,670,485,655,484,629,484,617,482,606,484,597,472,598,458,595,442,596,425,596,409,601,403,610,395,618,391,643,388,679,395,680,399,684,399,691,399,691,414,638,420,626,426,622,432,622,440,624,440,633,434,646,447,641,455,642,458,648,459,656,454,661,445,665,430,671,416,675,402,677,403,663,408,650,414,638,414,638,388,703,390,736,394,759,403,770,411,782,426,788,452,785,464,785,475,784,485,785,483,774,485,759,485,744,484,726,479,710,470,704,461,697,436,693,400,691,399,698,395,702,388,703,388,703,442,716,453,722,458,728,458,734,456,742,447,742,434,736,439,749,438,757,432,760,425,762,419,757,415,748,409,733,404,719,403,705,416,706,429,710,442,716,442,716,722,716,722,701,710,690,696,690,695,690,694,690,693,690,693,689,694,689,695,688,705,678,705,662,695,651,685,641,668,641,658,651,658,652,657,653,656,654,656,653,656,652,656,651,656,637,645,625,630,625,616,625,605,637,605,651,605,652,605,653,605,654,604,654,604,653,603,652,593,642,576,642,566,652,556,662,556,679,566,689,567,690,568,690,569,691,568,691,567,691,566,691,552,691,540,702,540,717,540,731,552,743,566,743,567,743,568,743,569,742,569,743,568,744,567,744,557,754,557,771,567,781,577,791,594,791,604,781,605,780,605,779,606,778,606,779,606,780,606,781,606,795,617,807,632,807,646,807,657,795,657,781,657,780,657,779,657,778,658,779,658,779,659,780,669,790,686,790,696,780,706,770,706,754,696,743,695,743,694,742,693,741,694,741,695,741,696,741,710,741,722,730,722,716,631,762,605,762,585,742,585,716,585,691,605,670,631,670,657,670,677,691,677,716,677,742,657,762,631,762,958,602,957,570,951,547,940,532,925,541,905,565,887,591,886,591,886,546,892,545,897,540,897,533,897,527,891,521,884,521,877,521,872,527,872,533,872,540,876,545,882,546,882,591,882,591,870,564,860,536,848,525,833,541,820,565,808,592,807,592,807,546,813,545,817,540,817,533,817,527,812,521,805,521,798,521,792,527,792,533,792,540,797,545,802,546,802,590,784,567,766,545,755,534,729,588,731,639,766,684,787,711,814,726,847,725,919,724,960,659,958,602,958,602,783,671,772,653,777,645,789,648,812,656,830,682,840,711,821,704,797,692,783,671,836,634,840,614,850,612,856,622,867,644,861,676,848,703,840,684,831,659,836,634,836,634,919,659,911,682,885,701,856,711,863,692,875,668,896,654,913,642,922,647,919,659,919,659]}]]},{TC:"1101-1-confetti",YP:[["e789ff",{W:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),r:[170,439,169,438,59,370,108,300,152,238,298,276,318,337,338,398,265,380,285,358,312,328,185,247,121,307,72,353,171,440,170,439,318,338,336,399,262,408,184,346,138,309,73,237,112,174,167,88,345,115,377,222,393,276,296,260,335,236,375,212,236,111,155,183,73,254,265,380,285,358,312,328,318,338,318,338,377,222,394,276,318,288,243,236,187,197,146,120,201,56,254,-5,365,26,407,68,407,68,414,94,378,71,344,50,258,31,221,89,178,154,297,260,336,235,374,211,377,222,377,222,406,70,452,115,432,189,324,115,214,39,323,-85,322,-85,320,-85,229,38,331,100,439,166,413,95,377,72,343,51,364,28,406,70,346,405,369,418,356,441,333,428,346,405,513,298,536,311,523,334,500,321,513,298,891,91,914,104,901,127,878,114,891,91,24,123,47,136,34,159,11,146,24,123,664,33,687,46,674,69,651,56,664,33,910,482,933,495,920,518,897,505,910,482]}],["666666",{W:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),r:[919,442,917,443,802,510,764,432,730,364,837,250,901,261,965,272,913,329,903,301,889,262,755,338,777,424,794,490,920,442,919,442,901,261,964,274,936,345,842,386,787,410,690,435,654,370,604,279,716,132,827,153,883,164,821,244,819,197,817,150,659,228,682,335,706,443,913,329,903,301,889,262,901,261,901,261,827,153,884,163,857,238,774,281,711,313,622,313,593,233,564,157,647,71,705,54,705,54,732,60,694,82,658,102,599,170,632,231,669,301,822,244,819,197,816,150,827,153,827,153,706,54,769,34,825,87,706,149,583,213,527,56,526,57,526,59,590,200,696,137,807,70,732,60,694,82,658,102,648,73,706,54,362,328,383,340,371,361,350,349,362,328,52,189,73,201,61,222,40,210,52,189,509,119,530,131,517,152,496,140,509,119,912,16,933,28,921,49,900,37,912,16,629,380,650,392,638,413,617,401,629,380,77,414,98,426,86,447,65,435,77,414,240,76,261,88,249,109,228,97,240,76]}]]},{TC:"1101-1-branch",YP:[["7f500b",{W:"M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z".split(" "),r:[144,-14,144,-14,149,-12,150,-12,150,-12,106,22,86,75,63,137,93,193,69,238,64,236,89,174,53,146,80,72,99,19,144,-14,144,-14,280,-18,281,-18,276,-20,276,-20,276,-20,282,23,264,64,244,113,196,129,185,168,189,170,209,120,244,123,269,66,288,25,280,-18,280,-18,429,-5,429,-5,434,-4,434,-4,435,-4,405,28,396,72,386,124,415,164,402,203,398,202,410,150,379,132,391,70,399,26,429,-5,429,-5,514,-7,514,-7,519,-12,519,-12,520,-12,532,50,577,96,630,151,703,150,738,197,733,201,681,144,635,166,571,101,526,54,514,-7,514,-7,666,-67,666,-68,663,-65,662,-64,662,-64,704,-52,734,-18,768,22,763,72,793,99,796,96,760,57,778,26,737,-22,708,-56,666,-67,666,-67,936,-8,936,-8,932,-9,931,-9,931,-9,947,32,938,76,927,127,884,154,881,194,886,195,895,142,930,138,943,76,952,32,936,-8,936,-8]}],["5c7f0b",{W:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),r:[119,6,121,16,113,31,81,33,58,34,27,27,27,27,27,27,53,5,70,-1,93,-9,117,-4,119,6,124,8,132,1,151,12,165,33,179,54,180,87,180,87,180,87,153,75,139,60,122,41,115,14,124,8,78,74,82,83,76,97,48,103,27,108,-2,105,-2,105,-2,105,19,81,33,74,53,64,75,65,78,74,83,75,90,68,108,76,124,93,139,110,144,140,144,140,144,140,117,132,104,121,85,105,76,83,83,75,72,152,75,159,72,172,48,179,30,185,6,185,6,185,6,185,22,163,33,156,49,145,68,145,72,152,76,153,81,146,98,151,112,165,126,178,133,203,133,203,133,203,110,199,97,190,80,178,70,160,76,153,73,206,75,213,71,224,49,228,34,232,12,230,12,230,12,230,28,212,39,206,53,199,70,200,73,206,76,207,81,202,95,207,107,220,118,233,122,255,122,255,122,255,102,250,92,241,78,230,71,213,76,207,70,232,78,236,76,252,66,269,56,286,33,297,33,297,33,297,33,274,39,260,46,241,62,228,70,232,285,3,278,8,274,21,291,39,304,52,325,63,325,63,325,63,323,36,316,24,308,7,291,-2,285,3,281,1,280,-7,263,-10,244,-5,224,1,205,20,205,20,205,20,228,27,244,25,264,22,283,10,281,1,270,65,264,69,259,80,272,99,281,112,299,125,299,125,299,125,300,100,296,88,290,72,277,61,270,65,267,64,267,56,252,51,234,53,216,56,197,71,197,71,197,71,216,80,230,80,249,80,267,72,267,64,231,116,225,119,220,128,230,145,237,157,251,170,251,170,251,170,254,148,251,138,248,123,237,113,231,116,228,114,229,108,217,102,201,103,186,103,168,115,168,115,168,115,184,124,196,126,212,127,228,121,228,114,201,148,196,151,192,160,202,174,209,184,222,194,222,194,222,194,223,175,220,166,216,154,206,145,201,148,198,147,198,141,187,137,174,139,160,141,145,152,145,152,145,152,160,159,171,159,185,160,198,153,198,147,188,165,182,163,173,174,170,190,167,205,173,224,173,224,173,224,186,210,191,198,197,183,195,166,188,165,415,10,417,18,413,31,389,36,371,39,347,37,347,37,347,37,364,16,377,9,393,0,412,2,415,10,418,11,424,4,440,11,453,27,466,43,470,69,470,69,470,69,448,62,436,52,420,38,412,17,418,11,391,69,394,76,392,89,371,96,355,102,333,103,333,103,333,103,346,81,357,74,371,64,388,63,391,69,395,70,399,63,414,68,428,80,441,92,448,116,448,116,448,116,427,113,415,105,400,94,390,77,395,70,395,133,398,139,397,150,379,158,367,164,348,167,348,167,348,167,358,148,366,140,377,130,391,128,395,133,398,134,401,128,414,130,427,140,439,149,447,169,447,169,447,169,429,167,418,162,404,154,394,140,398,134,401,177,404,182,402,192,386,198,374,202,358,203,358,203,358,203,368,187,375,181,386,173,399,172,401,177,404,178,408,173,419,176,429,185,439,194,445,212,445,212,445,212,429,210,420,204,408,196,401,183,404,178,402,198,408,201,409,214,403,229,397,244,381,255,381,255,381,255,378,236,381,224,385,208,396,196,402,198,519,23,531,26,543,42,528,75,518,99,495,125,495,125,495,125,485,87,487,67,490,40,508,19,519,23,523,19,521,7,542,-6,571,-8,600,-10,636,6,636,6,636,6,609,27,586,32,557,39,526,32,523,19,570,100,581,102,594,115,585,147,579,170,562,197,562,197,562,197,548,163,547,145,547,120,560,98,570,100,574,97,570,86,587,72,613,66,639,60,673,71,673,71,673,71,652,93,632,101,607,110,578,107,574,97,649,149,659,150,670,160,666,188,662,208,650,232,650,232,650,232,635,205,633,189,631,168,640,149,649,149,652,146,648,137,662,123,683,116,705,109,734,116,734,116,734,116,718,137,702,145,681,155,657,155,652,146,707,178,715,179,724,189,718,213,714,230,701,250,701,250,701,250,690,225,690,211,689,193,699,177,707,178,710,175,707,167,720,156,739,151,759,147,784,155,784,155,784,155,768,172,753,177,734,185,713,183,710,175,732,194,740,189,757,199,770,218,782,237,783,266,783,266,783,266,758,254,746,240,730,223,724,199,732,194,687,-62,688,-54,699,-45,722,-53,739,-59,759,-73,759,-73,759,-73,733,-82,719,-82,701,-81,685,-71,687,-62,684,-60,676,-62,666,-48,662,-28,659,-9,669,17,669,17,669,17,684,-1,689,-16,696,-35,692,-57,684,-60,737,-23,738,-15,746,-5,768,-9,784,-12,804,-23,804,-23,804,-23,782,-34,769,-36,752,-38,736,-30,737,-23,734,-20,727,-24,716,-13,711,5,705,22,711,46,711,46,711,46,727,33,734,20,742,3,742,-17,734,-20,766,35,766,41,772,50,792,48,806,47,823,40,823,40,823,40,805,28,795,26,780,23,766,28,766,35,763,37,758,33,747,42,741,56,735,70,738,91,738,91,738,91,753,81,760,71,768,57,769,40,763,37,782,76,783,82,789,89,806,86,818,84,832,76,832,76,832,76,816,67,806,66,794,65,782,70,782,76,780,78,775,75,766,84,762,97,758,110,762,128,762,128,762,128,775,118,779,108,786,95,785,80,780,78,792,94,788,100,794,112,807,122,819,131,839,133,839,133,839,133,832,116,823,107,812,95,796,89,792,94,945,11,939,18,938,31,959,45,974,55,997,62,997,62,997,62,989,36,980,25,968,11,950,5,945,11,941,11,938,3,921,3,903,13,885,22,871,45,871,45,871,45,894,47,909,42,929,35,944,19,941,11,944,75,938,80,935,93,952,108,964,119,984,128,984,128,984,128,980,104,974,93,965,78,949,70,944,75,940,75,938,67,923,65,906,71,889,77,873,96,873,96,873,96,894,101,908,99,926,95,942,82,940,75,916,133,911,137,907,147,920,162,930,172,946,182,946,182,946,182,944,160,940,151,933,137,921,129,916,133,913,132,912,125,899,123,884,127,869,130,854,145,854,145,854,145,871,151,883,150,899,148,913,139,913,132,893,171,888,175,887,184,899,196,908,204,923,211,923,211,923,211,920,193,915,184,909,173,897,167,893,171,890,170,889,165,877,163,864,168,851,172,839,187,839,187,839,187,855,190,865,188,879,186,891,176,890,170,884,190,877,190,871,202,871,218,871,234,881,251,881,251,881,251,891,234,893,222,896,206,890,190,884,190]}]]},{TC:"1101-1-sticks",YP:[["ec7272",{W:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),r:[260,148,297,180,286,192,249,160,260,148,114,31,161,47,155,63,109,47,114,31,931,91,902,52,915,42,945,81,931,91,711,19,746,-15,758,-3,723,31,711,19,812,161,782,122,795,112,825,151,812,161,389,34,424,0,436,12,401,46,389,34,431,209,465,175,477,186,442,221,431,209,282,90,282,41,299,41,299,90,282,90,58,233,29,194,42,184,72,223,58,233,574,58,621,74,615,90,569,74,574,58]}],["0000ff",{W:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),r:[722,208,733,161,717,157,706,205,722,208,843,12,797,28,802,44,849,28,843,12,31,74,60,35,47,25,18,64,31,74,220,21,185,-13,173,-1,208,33,220,21,140,166,170,127,157,117,127,156,140,166,558,148,523,114,511,126,546,160,558,148,562,9,516,25,521,41,568,25,562,9,697,105,726,66,713,56,684,95,697,105,961,180,990,141,977,131,948,170,961,180,399,97,353,113,358,129,405,113,399,97]}]]},{TC:"1101-1-dots",YP:[["ec7272",{W:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),r:[154,47,144,47,136,39,136,29,136,19,144,11,154,11,164,11,172,19,172,29,172,39,164,47,154,47,272,164,262,164,254,156,254,146,254,136,262,128,272,128,282,128,290,136,290,146,290,156,282,164,272,164,529,48,519,48,511,40,511,30,511,20,519,12,529,12,539,12,547,20,547,30,547,40,539,48,529,48,696,101,686,101,678,93,678,83,678,73,686,65,696,65,706,65,714,73,714,83,714,93,706,101,696,101,929,91,919,91,911,83,911,73,911,63,919,55,929,55,939,55,947,63,947,73,947,83,939,91,929,91]}],["0000ff",{W:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),r:[66,122,56,122,48,114,48,104,48,94,56,86,66,86,76,86,84,94,84,104,84,114,76,122,66,122,309,55,299,55,291,47,291,37,291,27,299,19,309,19,319,19,327,27,327,37,327,47,319,55,309,55,785,180,775,180,767,172,767,162,767,152,775,144,785,144,795,144,803,152,803,162,803,172,795,180,785,180,459,147,449,147,441,139,441,129,441,119,449,111,459,111,469,111,477,119,477,129,477,139,469,147,459,147,811,48,801,48,793,40,793,30,793,20,801,12,811,12,821,12,829,20,829,30,829,40,821,48,811,48]}],["88a500",{W:["M","C","C","Z"],r:[389,224,389,224,410,230,410,230,410,230,389,224,389,224]}]]},{TC:"1101-1-strips",YP:[["ffc88c",{W:"M L L L L Z M L L L L Z M L L L L Z".split(" "),r:[-40,0,44,0,137,99,53,99,-40,0,296,0,380,0,473,99,389,99,296,0,632,0,716,0,809,99,725,99,632,0]}],["88a500",{W:"M L L L L Z M L L L L Z M L L L L Z".split(" "),r:[128,0,212,0,305,99,221,99,128,0,464,0,548,0,641,99,557,99,464,0,800,0,884,0,977,99,893,99,800,0]}],["88a500",{W:["M","C","C","Z"],r:[407,217,407,217,428,223,428,223,428,223,407,217,407,217]}]]},{TC:"1101-1-circs",YP:[["ec7272",{W:"M C C C C Z M C C C C Z".split(" "),r:[61,209,27,209,0,181,0,147,0,113,27,86,61,86,96,86,123,113,123,147,123,181,96,209,61,209,551,209,517,209,489,181,489,147,489,113,517,86,551,86,585,86,612,113,612,147,612,181,585,209,551,209]}],["217995",{W:"M C C C C Z M C C C C Z".split(" "),r:[303,209,269,209,241,181,241,147,241,113,269,86,303,86,337,86,364,113,364,147,364,181,337,209,303,209,799,209,765,209,738,181,738,147,738,113,765,86,799,86,834,86,861,113,861,147,861,181,834,209,799,209]}],["88a500",{W:["M","C","C","Z"],r:[530,273,530,273,551,279,551,279,551,279,530,273,530,273]}]]},{TC:"1101-1-squares",YP:[["014ea7",{W:"M L L L L Z M L L L L Z".split(" "),r:[0,120,124,120,124,244,0,244,0,120,497,120,621,120,621,244,497,244,497,120]}],["fc54ff",{W:"M L L L L Z M L L L L Z".split(" "),r:[249,120,373,120,373,244,249,244,249,120,746,120,870,120,870,244,746,244,746,120]}],["88a500",{W:["M","C","C","Z"],r:[389,354,389,354,410,360,410,360,410,360,389,354,389,354]}]]},{TC:"1101-0-christmas",YP:[["014ea7",{W:"M C C C C Z M C C C C Z M L L L L Z".split(" "),r:[255,480,178,480,116,418,116,341,116,264,178,202,255,202,332,202,394,264,394,341,394,418,332,480,255,480,255,232,236,232,221,217,221,198,221,179,236,164,255,164,274,164,289,179,289,198,289,217,274,232,255,232,251,-152,260,-152,260,248,251,248,251,-152]}],["ff9518",{W:"M C C C C Z M C C C C Z M L L L L Z".split(" "),r:[746,623,669,623,607,561,607,484,607,407,669,345,746,345,823,345,885,407,885,484,885,561,823,623,746,623,747,376,728,376,713,361,713,342,713,323,728,308,747,308,766,308,781,323,781,342,781,361,766,376,747,376,742,-8,751,-8,751,392,742,392,742,-8]}]]}];
var pu={};pu.parse=function(b){var X=new Uint8Array(b),q=null;if(X[0]==80&&X[1]==75){var N=Date.now(),J=UZIP.parse(X.buffer),q=J["document.json"];
q=JSON.parse(e.Re(q,0,q.length));pu.qc(q,J)}else{var _=_A.parse(b);q=pu.BU(_[2][0][1])}return q};pu.qc=function(b,X){var q=typeof b;
if(q=="string"||q=="number"||q=="boolean")return b;if(b instanceof Array){for(var N=0;N<b.length;N++)b[N]=pu.qc(b[N],X);
return b}var J=b._class;if(J==null)return b;if(J=="MSJSONFileReference"){var _=b._ref;if(!1){}else if(X[_+".json"]!=null){var p=X[_+".json"],z=p.length;
for(var N=0;N<z;N++)if(p[N]==11||p[N]==3)p[N]=32;var g=e.Re(p,0,z);b=JSON.parse(g)}else if(X[_+".png"]!=null)return{key:_.split("/").pop(),bdata:X[_+".png"]};
else if(X[_+".jpg"]!=null)return{key:_.split("/").pop(),bdata:X[_+".jpg"]};else if(X[_+".pdf"]!=null)return{key:_.split("/").pop(),bdata:X[_+".pdf"]};
else if(X[_]!=null)return{key:_.split("/").pop(),bdata:X[_]};else{console.log(b,X);throw"e"}}else if(J=="MSAttributedString"){var g=atob(b.archivedAttributedString._archive),W=g.length-1,o=new Uint8Array(W);
for(var N=0;N<W;N++)o[N]=g.charCodeAt(N);b.archivedAttributedString=pu.BU(o)}for(var y in b)b[y]=pu.qc(b[y],X);
return b};pu.r$=function(b,X,q,N){if(b instanceof Uint8Array)return null;if(N.indexOf(b)!=-1)return null;
N.push(b);if(b==X)return q;for(var J in b){q.push(J);var _=pu.r$(b[J],X,q,N);if(_){console.log(b,_);
throw"e"}q.pop()}};pu.BU=function(b){var X=gJ.parse(b,0),q=X.$objects,N=new Uint8Array(q.length),J=pu.iH(q,N,X.$top.root);
for(var _=0;_<q.length;_++)if(N[_]==0&&_!=0){console.log(_,q[_]);pu.r$(J,_,[],[])}for(var _=0;_<q.length;
_++){var p=q[_];if(p._class&&(p._class=="bitmap"||p._class=="fill"&&p.fillType==4&&(p.image||p.imageSHA))){var z=p.image,g=p.imageSHA,W=null,o=null;
if(z=="$null")z=null;if(g=="$null")g=null;if(z&&z.data){o=z.sha1["NS.bytes"];o=btoa(e.uT(o,0,o.length));
W=z.data instanceof Uint8Array?z.data:z.data["NS.bytes"]}else if(z==null&&g==null){var y=nr.PNG.Da([[x.K(4).buffer]],1,1);
W=new Uint8Array(y)}else{var D=(J.assets?J.assets.imageCollection:J.images).images;if(g)o=g instanceof Uint8Array?g:g["NS.bytes"];
else o=z.sha1["NS.bytes"];o=btoa(e.uT(o,0,o.length));var W=D[o].data;if(W["NS.bytes"])W=W["NS.bytes"]}W=new Uint8Array(W.buffer.slice(W.byteOffset,W.byteOffset+W.length));
delete p.imageSHA;p.image={key:o,bdata:W}}}return J};pu.xwY=function(b){return b.slice(0,11)=="MSImmutable"?"MS"+b.slice(11):b};
pu.iH=function(b,X,q){var N=b[q];if(X[q]==1){return N}X[q]=1;if(typeof N=="string")return N;if(typeof N=="number")return N;
if(typeof N=="boolean")return N;if(N instanceof Array)return N;if(N instanceof Uint8Array){return N}if(b[N.$class]==null){if(N.$class==null&&N["NS.data"]!=null)return N;
console.log(q,N);throw"e"}var J=b[N.$class],_=pu.xwY(J.$classname);X[N.$class]=1;N.$class=_;if(pu.BK[_]){delete N.$class;
N._class=pu.BK[_]}var p=pu.iH;if(_=="NSMutableArray"||_=="NSArray"){var z=[];if(N["NS.objects"]!=null)for(var g=0;
g<N["NS.objects"].length;g++)z.push(p(b,X,N["NS.objects"][g]));else for(var g=0;N["NS.object."+g]!=null;
g++)z.push(p(b,X,N["NS.object."+g]));b[q]=z;return z}if(_=="NSDictionary"||_=="NSMutableDictionary"){var W={$class:_};
if(N["NS.keys"]!=null)for(var g=0;g<N["NS.keys"].length;g++){var o=p(b,X,N["NS.keys"][g]);if(o instanceof Uint8Array)o=btoa(pu.iT.uT(o,0,o.length));
else if(typeof o!="string"&&typeof o!="number")o=btoa(pu.iT.uT(o["NS.bytes"],0,o["NS.bytes"].length));
W[o]=p(b,X,N["NS.objects"][g])}else for(var g=0;N["NS.key."+g]!=null;g++){var o=p(b,X,N["NS.key."+g]);
if(o instanceof Uint8Array)o=btoa(pu.iT.uT(o,0,o.length));else if(typeof o!="string"&&typeof o!="number")o=btoa(pu.iT.uT(o["NS.bytes"],0,o["NS.bytes"].length));
W[o]=p(b,X,N["NS.object."+g])}for(var y in N)delete N[y];for(var y in W)N[y]=W[y];return N}if(_=="NSURL")return{$class:_,base:p(b,X,N["NS.base"]),relative:p(b,X,N["NS.relative"])};
if(pu.xwV.indexOf(_)!=-1){b[q]=p(b,X,N.array_do);return b[q]}if(N.do_objectID!=null)N.do_objectID=p(b,X,N.do_objectID);
if(pu.xaE.indexOf(_)!=-1)return N;var D=pu.xaP[_];if(D==null){console.log(b,N);throw"unknown class "+_}for(var g=0;
g<D.length;g++)if(N[D[g]]!=null)N[D[g]]=p(b,X,N[D[g]]);if(_=="MSTextLayer"){var m=N,k,O,L,I;if(m.attributedString)k=m.attributedString.archivedAttributedString;
else k=m.storage;I=k.NSString;if(typeof I!="string")I=e.Re(I["NS.bytes"],0,I["NS.bytes"].length);if(k.NSAttributeInfo)O=k.NSAttributeInfo["NS.bytes"];
else{var H=I.length,Y=[];while(H>0){var n=Math.min(100,H);Y.push(n,0);H-=n}O=new Uint8Array(Y)}L=k.NSAttributes instanceof Array?k.NSAttributes:[k.NSAttributes];
var w={$class:"NSAttributedString",NSString:I,NSAttributes:L};m.attributedString={_class:"MSAttributedString",archivedAttributedString:w};
w.NSAttributeInfo={$class:"NSMutableData","NS.data":O};delete m.storage}return N};pu.iT={Dt:function(b,X){return b[X+1]<<8|b[X]},o:function(b,X){return b[X+3]<<24|b[X+2]<<16|b[X+1]<<8|b[X]},uT:function(b,X,q){var N="";
for(var J=0;J<q;J++)N+=String.fromCharCode(b[X+J]);return N}};pu.BK={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
pu.xwV=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
pu.xaE="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
pu.xaP={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var gJ={};gJ.parse=function(b,X){var q=e.uT(b,X,8);X+=8;var N=gJ.parse.xaT(b,b.length-31),J=[];if(N.T_==1){var X=b.length-31-N.T_*N.TS;
for(var _=0;_<N.TS;_++)J.push(b[X+_])}else if(N.T_==2){var X=b.length-31-N.T_*N.TS;for(var _=0;_<N.TS;
_++)J.push(e.Dt(b,X+_*2))}else if(N.T_==4){var X=b.length-31-N.T_*N.TS;for(var _=0;_<N.TS;_++)J.push(e.o(b,X+_*4))}else{throw"e"}var p=gJ.parse.iH(b,J,N.root,N);
return p};gJ.parse.iH=function(b,X,q,N){var J=gJ.iT,_=N.xCO,p=_==4?J.o:_==2?J.Dt:J.xaJ,z=gJ.parse,g=X[q],W=b[g],o=W>>4,y=W&15,m=null;
g+=1;if([4,5,6,10,12,13].indexOf(o)!=-1&&y==15){var D=z.pY(b,g);g+=D.aM;y=D.A}if(!1){}else if(o==0)m=y==8?!1:y==9?!0:null;
else if(o==1)m=z.pY(b,g-1).A;else if(o==2)m=1<<y==4?e.jJ(b,g):e.V$(b,g);else if(o==3)m=e.V$(b,g);else if(o==4)m=new Uint8Array(b.buffer,g,y);
else if(o==5)m=e.uT(b,g,y);else if(o==6)m=e.BZ(b,g,y);else if(o==8){m=0;for(var k=0;k<y+1;k++)m=m<<8|b[g+k]}else if(o==10){m=[];
for(var k=0;k<y;k++)m.push(z.iH(b,X,p(b,g+_*k),N))}else if(o==12){m=[];for(var k=0;k<y;k++)m.push(z.iH(b,X,p(b,g+_*k),N))}else if(o==13){m={};
for(var k=0;k<y;k++){var O=z.iH(b,X,p(b,g+_*k),N),L=z.iH(b,X,p(b,g+_*(y+k)),N);m[O]=L}}else throw"unknown mask "+o;
return m};gJ.parse.pY=function(b,X){var q=1<<(b[X]&15),N=0;for(var J=0;J<q;J++)N=N<<8|b[X+1+J];return{A:N,aM:q+1}};
gJ.parse.xaT=function(b,X){var q={};X+=6;q.T_=b[X];X++;q.xCO=b[X];X++;X+=4;q.TS=e.o(b,X);X+=4;X+=4;q.root=e.o(b,X);
X+=4;X+=4;q.xnJ=e.o(b,X);X+=4;return q};gJ.iT={xaJ:function(b,X){return b[X]},Dt:function(b,X){return b[X]<<8|b[X+1]},o:function(b,X){return b[X]<<24|b[X+1]<<16|b[X+2]<<8|b[X+3]},uT:function(b,X,q){var N="";
for(var J=0;J<q;J++)N+=String.fromCharCode(b[X+J]);return N}};var _A={parse:function(b){var X=new Uint8Array(b),q=_A.BO(X),N=[],J=new Uint8Array(X.length),_=[];
N.push(_);_A.qf(X,q,1,J,_);for(var p=0;p<_.length;p++){var z=[];N.push(z);_A.qf(X,q,_[p][3],J,z);_[p][3]=p+1}return N},qf:function(b,X,q,N,J){q--;
var _=q*X.pl+(q==0?100:0),p=b[_],z=_A.Dt(b,_+1);if(z!=0)throw"free block in a page";var g=_A.Dt(b,_+3),W=_A.Dt(b,_+5);
if(W==0)W=65536;var o=b[_+7],y=_A.Dt(b,_+8);if(p==2||p==5)_+=4;else y=0;for(var D=0;D<g;D++){var m=q*X.pl+_A.Dt(b,_+8+2*D),k=-1,O=0,L=0,I=0;
if(p==2||p==5){k=_A.o(b,m);m+=4}if(p==2||p==10||p==13){O=_A.Tq(b,m);m+=O.aM}if(p==5||p==13){L=_A.Tq(b,m);
m+=L.aM}if(p==5){_A.qf(b,X,k,N,J);continue}var H=X.pl-(q==0?100:0),Y=O.Qk,n=p==13?H-35:Math.floor((H-12)*64/255)-23,w=Math.floor((H-12)*32/255)-23,t=w+(Y-w)%(H-4);
if(Y<=n){_A.vM(b,m,N,0,Y)}else{var j=t<=n?t:w,E=0;_A.vM(b,m,N,0,j);E+=j;I=_A.o(b,m+j);while(I!=0){var h=(I-1)*X.pl;
I=_A.o(b,h);var u=Math.min(X.pl-4,Y-E);_A.vM(b,h+4,N,E,u);E+=u}}J.push(_A.xaN(N,Y))}},xaN:function(b,X){var q=0,N=_A.Tq(b,q);
q+=N.aM;var J=[],_=[];while(q<N.Qk){var p=_A.Tq(b,q);q+=p.aM;J.push(p.Qk)}if(q!=N.Qk)throw"e";for(var z=0;
z<J.length;z++){var p=J[z];if(!1){}else if(p==0)_.push(null);else if(p==1){_.push(_A.xPn(b,q));q+=1}else if(p==2){_.push(_A.aF(b,q));
q+=2}else if(p==3){_.push(_A.xak(b,q));q+=3}else if(p==4){_.push(_A.pY(b,q));q+=4}else if(p==7){_.push(_A.xPI(b,q));
q+=16}else if(p==8)_.push(0);else if(p==9)_.push(1);else if(p>=12&&(p&1)==0){var g=p-13>>1,W=new Uint8Array(g);
_A.vM(b,q,W,0,g);_.push(W);q+=g}else if(p>=13&&(p&1)==1){var g=p-12>>1;_.push(_A.Re(b,q,g));q+=g}else throw"unknonw type "+p}return _},BO:function(b){if(!(b[18]==1&&b[19]==1&&b[20]==0&&b[21]==64&&b[22]==32&&b[23]==32))throw"unexpected SQL3 header";
var X={zW:_A.uT(b,0,15),pl:_A.Dt(b,16),xnN:_A.o(b,24),size:_A.o(b,28),xnO:_A.o(b,32),xnj:_A.o(b,36),xnD:_A.o(b,40),xnG:_A.o(b,44),xno:_A.o(b,48),xnc:_A.o(b,52),xWI:_A.o(b,56),xnm:_A.o(b,60),xnk:_A.o(b,64)!=0,xnV:_A.o(b,68),xns:_A.o(b,92),xn$:_A.o(b,96)};
if(X.pl==1)X.pl=65536;if(X.xWI!=1)throw"unsupported text encoding "+X.xWI;return X},xam:function(b,X){return b[X]<<16|b[X+1]<<8|b[X+2]},xak:function(b,X){var q=_A.xam(b,X),N=q&8388608;
return N?-(16777215-q+1):q},xPn:function(b,X){_A.CU[0]=b[X];return _A.xP$[0]},pY:function(b,X){var q=_A.CU;
for(var N=0;N<4;N++)q[N]=b[X+3-N];return _A.xMQ[0]},aF:function(b,X){var q=_A.CU;q[0]=b[X+1];q[1]=b[X];
return _A.xMH[0]},Dt:function(b,X){return b[X]<<8|b[X+1]},o:function(b,X){return b[X]<<24|b[X+1]<<16|b[X+2]<<8|b[X+3]},xPI:function(b,X){var q=_A.CU;
for(var N=0;N<8;N++)q[N]=b[X+7-N];return _A.xMd[0]},Tq:function(b,X){var q=X,N=0;while(!0){var J=b[X];
X++;N=N*128+(J&127);if(J<128)break}return{Qk:N,aM:X-q}},uT:function(b,X,q){var N="";for(var J=0;J<q;
J++)N+=String.fromCharCode(b[X+J]);return N},Re:function(b,X,q){var N="";for(var J=0;J<q;J++)N+="%"+_A.xPj(b[X+J].toString(16));
return decodeURIComponent(N)},vM:function(b,X,q,N,J){if(b[X+J-1]==null||q[N+J-1]==null){console.log(X,N,J);
throw"e"}for(var _=0;_<J;_++)q[N+_]=b[X+_]},xPj:function(b){return b.length<2?"0"+b:b}};_A.CU=new Uint8Array(8);
_A.xP$=new Int8Array(_A.CU.buffer);_A.xMH=new Int16Array(_A.CU.buffer);_A.xMQ=new Int32Array(_A.CU.buffer);
_A.xMd=new Float64Array(_A.CU.buffer);function gY(b,X,q){this.Hp=b;this.QR=X;this.xCf=q;this.pX=new Ue(0,0);
this.Qt=-1;this.dU=0;this.kK=0;this.En=new R;this.Eb=[];this.zf=null;this.xIB=null;this.zV=null;this.TH=null;
this.kR=null;this.xAj=null}gY.prototype.StartPage=function(b,X,q,N){var J=this.QR,_=J.bq(),p=1;while((q-b)*(N-X)*_*_/(p*p)>8e3*8e3)p++;
J.scale(1/p,1/p);this.xIB=[b,X,q,N];var p=J.bq();b=Math.round(b*p);X=Math.round(X*p);q=Math.round(q*p);
N=Math.round(N*p);var z=this.Hp,g=this.zV;if(g==null){J.lf=-b}else{var W=g[2]-g[0]+30,o=Math.round(q-b)+30;
if(this.pX.x+W+o>8192){J.lf=-b;this.pX.x=0;this.pX.y+=this.kK+120;this.kK=0}else{J.lf+=W;this.pX.x+=W}}J.vw=this.pX.y+(this.xCf?N:-X);
this.kK=Math.max(this.kK,Math.round(N-X));this.zV=[b,X,q,N];z.F.push(z.lJ())};gY.prototype.qA=function(){var b=this.Hp,X=b.F[b.F.length-1];
return X};gY.prototype.qx=function(){var b=JSON.parse(JSON.stringify(UZ.FF.default));b.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
b.strokeEnabled.v=!1;b.fillEnabled.v=!1;return b};gY.prototype.qN=function(){var b=this.Hp,X=b.rY();
X.fT("Path "+b.F.length);this.Hp.F.push(X);X.aA|=16;X.add.SoCo={classID:"null",Clr:{t:"Objc",v:x.Z.Yr({D:0,q:0,b:0})}};
X.add.vmsk=new M.zo;X.add.vstk=this.qx();return X};gY.prototype.qm=function(b){var X={r:b.crds,W:b.cmds},q=x.j.EZ(X,!1);
x.g.SC(q,this.QR);return q};gY.qj=function(b,X){for(var q=0;q<b.length;q++)if(b[q].vR!=null)b[q].vR=X};
gY.xMl=function(b){return Math.sqrt(Math.abs(b[0]*b[3]-b[1]*b[2]))};gY.iO=function(b){return x.Z.Yr({D:b[0]*255,q:b[1]*255,b:b[2]*255})};
gY.TW=function(b){return new nQ(b[0],b[1],b[2],b[3],b[4],b[5])};gY.prototype.Stroke=function(b){if(this.Qt!=-1&&this.Qt!=this.dU)return;
if(b.pth.cmds.length<=1)return;var X=this.qm(b.pth);if(X.length<=2)return;this.TT(b);gY.qj(X,-1);X[2].vR=1;
var q=gY.iO(b.COLR),N=this.qA(),J=this.qx();J.strokeEnabled.v=!0;J.strokeStyleMiterLimit.v=b.mlimit;
J.strokeStyleLineDashSet.v=nM.ia(b.dash,1/b.lwidth);J.strokeStyleLineDashOffset.v.val=b.doff;J.strokeStyleLineJoinType.v.strokeStyleLineJoinType=UZ.FF.join[b.ljoin];
J.strokeStyleLineCapType.v.strokeStyleLineCapType=UZ.FF.RA[b.lcap];J.strokeStyleLineWidth.v.val=Math.max(.4,b.lwidth*gY.xMl(b.ctm)*this.QR.bq());
J.strokeStyleContent.v.Clr.v=q;var _=N!=null&&N.add.vmsk!=null&&!N.zu(),p=_&&!N.add.vstk.strokeEnabled.v&&M.zo.xgX(N.add.vmsk.s,X,!0),z=_&&!N.add.vstk.fillEnabled.v&&JSON.stringify(J)==JSON.stringify(N.add.vstk);
if(z){gY.qj(X,-1);N.add.vmsk.s=N.add.vmsk.s.concat(X.slice(2))}else if(p){N.add.vstk=J;J.fillEnabled.v=!0}else{N=this.qN();
N.add.vmsk.s=X;N.add.vstk=J}};gY.prototype.Fill=function(b,X){if(this.Qt!=-1&&this.Qt!=this.dU)return;
if(b.ca==0)return;var q=b.pth.cmds;if(q.length==0)return;if(q.length==2&&JSON.stringify(q)=="[\"M\",\"L\"]")return;
var N=x.j.Is(b.cpth.crds),J=x.j.Is(b.pth.crds);if(J.be(N).qa())return;var _=b.pth;if(this.TH==null&&UDOC.G.isBox(_,[J.x,J.y,J.x+J.n,J.y+J.z])&&J.Rh(N)){_=b.cpth}else this.TT(b);
var p=this.qm(_),z=x.j.fe(J);x.j.w(z.r,this.QR,z.r);J=x.j.Is(z.r);var g=gY.hr(b.colr,this.QR,J),W=this.qA(),o=W!=null&&W.add.vstk!=null&&!W.add.vstk.strokeEnabled.v&&W.add.SoCo&&g.type=="SoFi"&&JSON.stringify(W.add.SoCo.Clr.v)==JSON.stringify(g.A.v.Clr.v);
if(o){var y=!1;for(var D=0;D<p.length;D++){if(p[D].vR==0||p[D].vR==2)y=!0}if(y){var m=x.j.Is(x.g.Je(W.add.vmsk.s)),k=x.j.Is(x.g.Je(p));
o=m.be(k).qa()}}if(o){var O=W.add.vmsk.s;for(var D=2;D<p.length;D++)O.push(p[D])}else{W=this.qN();delete W.add.SoCo;
W.add.vmsk.s=M.zo.yR(p);gY.Zv(b.colr,W,this.QR,J);gY.hu(b,W)}};gY.Zv=function(b,X,q,N){var J=gY.hr(b,q,N),_=null,p=null;
X.add.vstk.fillEnabled.v=!0;if(J.type=="SoFi"){_="SoCo";p=UZ.tt}if(J.type=="GrFl"){_="GdFl";p=UZ.le}if(J.type=="patternFill"){_="PtFl";
p=UZ.Wd}if(_!=null){X.add[_]={classID:"null"};for(var z=0;z<p.length;z++){var g=p[z];X.add[_][g]=J.A.v[g]}}};
gY.prototype.TT=function(b){var X=this.Hp,q=b.cpth,N=q.cmds.join(""),J=q.crds,_=N+" "+J.join(","),p=UDOC.G.isBox(q,this.xIB);
if(p&&this.TH==null)return;if(_==this.TH)return;this.qG();if(!p){this.TH=_;X.F.push(X.lJ());var z=X.rY();
z.fT("Mask");z.add.lsct=_b.Uo;z.nB="pass";z.aA=24;var g=z.add.vmsk=new M.zo;g.s=this.qm(b.cpth);if(UDOC.G.isBox(q)){this.kR=x.g.Wg(g.s);
this.kR.Ii(3,3)}else this.kR=null;this.xAj=z}};gY.prototype.qG=function(){var b=this.Hp;if(this.TH!=null){var X=b.F.length-1,q=X,N=!1;
while(q>=0&&b.F[q].add.lsct!=_b.Rv)q--;var J=this.kR;if(J){var _=new R,p=X;while(p>q){_=b.F[p].RC(this.Hp,!1,!0);
p--}N=J.Rh(_)}if(N){this.Eb.splice(q,1);b.F.splice(q,1)}else{b.F.push(this.xAj)}this.TH=null}};gY.hr=function(b,X,q){var N,J;
if(b.length!=null){N="SoFi";var _=JSON.parse(UZ.IN[UZ.order.indexOf("SoFi")]);J={t:"Objc",v:_};J.v.Clr.v=gY.iO(b)}else{var p=gY.xMW(b,X,q);
N="GrFl";J={t:"Objc",v:p}}return{type:N,A:J}};gY.xMW=function(b,X,q){var N=JSON.parse(UZ.IN[UZ.order.indexOf("GrFl")]),J=N.Grad.v;
J.Intr.v=0;var _=gY.TW(b.mat);_.concat(X);var p=new Ue(0,0),z=new Ue(q.n,0),g=b.crds;if(b.typ=="rad"){N.Type.v.GrdT="Rdl";
var W=.7;p.x=(1-W)*g[0]+W*g[3];p.y=(1-W)*g[1]+W*g[4];z.x=p.x;z.y=p.y;z.x+=Math.max(g[2],g[5])}else{N.Type.v.GrdT="Lnr";
p.x=g[0];p.y=g[1];z.x=g[2];z.y=g[3];p.x=z.x+.5*(p.x-z.x);p.y=z.y+.5*(p.y-z.y)}p=_.PK(p);z=_.PK(z);x.Z.uA(p,z,q,N);
var o=b.grad;x.Z.sP(o,J);return N};gY.prototype.PutText=function(b,X,q){var N=X.charCodeAt(0),y=null;
if(this.Qt!=-1&&this.Qt!=this.dU)return;if(X.length==0||X.length==1&&(N==0||N==8203))return;this.TT(b);
var J=this.Hp,_=b.font,p=gY.TW(b.ctm);p.concat(this.QR);var z=gY.TW(_.Tm);z.concat(p);var g=c.C.bq(z),W=new nQ(1/g,0,0,-1/g,0,0);
W.concat(z);var o=_.Tfs*g;if(_.Th!=100||_.Trise!=0){console.log(_)}var D=J.F.length-1;while(D>=0&&J.F[D].add.TySh==null)D--;
if(D>=0&&J.F[D].add.TySh){var m=J.F[D],k=this.Eb[D],O=m.add.TySh.w,L=(O.lf+k.Eq-W.lf)/o,I=Math.abs(L),H=X.indexOf(" ")==-1,Y=O.i==W.i&&O.b==W.b&&O.Yb==W.Yb&&O.Tm==W.Tm,n=Y&&Math.abs(k.Eh-W.vw)<1e-5&&I<.6,w=W.vw-k.Eh;
if(n){y=m;k.Eq=W.lf-O.lf;if(L>.2&&H&&[".",",","?",":","!"].indexOf(X)==-1)X=" "+X}else if(Y&&Math.abs(W.lf-O.lf)<1e-5&&0<w&&w<o*1.7&&k.xUT==o){y=m;
this.ha(k);k.Eh=W.vw;X="\n"+X}}if(y==null){D=J.F.length;this.Eb[D]={WJ:[],Eq:0,Eh:W.vw,zy:"",xUT:o};
y=J.rY();J.F.push(y);y.add.lnsr="rend";y.add.TySh=ng.Rq(0,0);y.add.TySh.w=W}var k=this.Eb[D];k.Eq+=q*o;
k.zy+=X;var t=y.add.TySh.Bw,j=ng.IC(t),E=j.length-1,h=E+X.length;ng.DX(t,E,X);if(this.zf==null)this.zf=ng.c_(t,E,E);
var u=this.zf;u.qH.FontSize=Math.round(o);u.qH.Tracking=Math.round(_.Tc*100);u.qH.Underline=_.Tun==1;
u.qH.FillColor={Type:1,Values:[1,b.colr[0],b.colr[1],b.colr[2]]};if(_.Tal!=0)u.qE.Justification=_.Tal;
if(k.WJ.length!=0){u.qH.AutoLeading=!1;u.qH.Leading=k.Eh-k.WJ[k.WJ.length-1].y}var Z=_.Tf;Z=Z.replace(/#2B/g,"+");
Z=Z.replace(/#2C/g,"-");Z=Z.split("+").pop();var A={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(A[Z])Z=A[Z];ng.uJ(u,Z);ng.Fo(t,E,h-1,u);y.PM()};gY.prototype.ha=function(b){b.WJ.push({w$:b.Eq,vd:b.zy.slice(b.WJ.length==0?0:1)+"\n",y:b.Eh,qD:b.xUT});
b.Eq=0;b.zy=""};gY.prototype.PutImage=function(b,X,q,N,J,_,p){if(this.Qt!=-1&&this.Qt!=this.dU)return;
var z=this.Hp,g=b.font.Tmode;if(g==7&&z.F[z.F.length-1].add.TySh){return}this.TT(b);var W=gY.TW(b.ctm);
W.concat(this.QR);var o=new nQ(1/q,0,0,-1/N,0,1);o.concat(W);W=o;X=gY.HE(X,q,N);if(J)J=gY.HE(J,q,N);
if(J==null){if(X.length==q*N*4)X=new Uint8Array(nr.PNG.Da([[X.buffer,0]],q,N))}else{X=this.ww(X,q,N,_,!1);
J=this.ww(J,q,N,p,!0);var y=x.K(q*N);x.iJ(J,y,0);x.qR(y,X,3);X=new Uint8Array(nr.PNG.Da([[X.buffer,0]],q,N))}var D=z.$K(X,"Bitmap",0,0),m=D.rect.clone();
m.x=m.y=0;var k=x.j.fe(m).r;x.j.w(k,W,k);D.add.SoLd.Trnf=c.C.Rz(k);D.add.SoLd.nonAffineTransform=c.C.Rz(k);
D.ns(z,!1);gY.hu(b,D);z.F.push(D)};gY.hu=function(b,X){X.opacity=Math.round(255*b.ca);var q=gY.qk[b.bmode];
if(q==null)console.log("Unknown blend mode",q);else X.nB=q};gY.qk={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
gY.HE=function(b,X,q){var N=nr.xw(b.buffer);if(N=="jpg"){try{b=new Uint8Array(nr.JPG.xPF(b.buffer))}catch(gi){b=new Uint8Array(X*q*4)}}if(N==null&&b.length!=X*q*4){var J=new Uint8Array(X*q*4),_=new Uint8Array(Math.ceil(X*q/8));
UTIF.decode._decodeG4(b,0,b.length,_,0,X,1);for(var p=0;p<X*q;p++){var z=p*4,g=(_[p>>3]>>7-(p&7)&1)*255;
J[z]=g;J[z+1]=g;J[z+2]=g;J[z+3]=255}b=J}return b};gY.prototype.ww=function(b,X,q,N,J){if(b.length!=X*q*4){var _=nr.xw(b.buffer),p=nr.aC(_);
if(p==null||_=="tga")p=nr.aC("jpg");b=new Uint8Array(p.vu(b,N,J)[0].data)}return b};gY.prototype.ShowPage=function(){var b=this.Hp;
this.dU++;var X=this.zV;this.qG();var q=b.rY();b.F.push(q);var N=new R(Math.round(this.pX.x),Math.round(this.pX.y),Math.round(X[2]-X[0]),Math.round(X[3]-X[1]));
this.En=this.En.Tg(N);q.fm(N);q.fT("Page "+this.dU);q.add.lsct=_b.Uo;q.nB="pass";q.aA=24};gY.prototype.Print=function(b){console.log("Print:",b)};
gY.prototype.Done=function(){var b=this.Hp;if(this.dU==1)b.F[b.F.length-1].add.lsct=_b.iS;b._y(this.dU);
for(var X=0;X<b.F.length;X++){var q=b.F[X],N=q.add.vmsk,J=q.add.TySh,_=this.Eb[X];q.lN();q.he(b);if(J&&_.WJ.length!=0){this.ha(_);
var p=J.Bw,z=_.WJ.length,g=_.WJ[0],W=0,y=0;for(var o=0;o<z;o++)W=Math.max(W,_.WJ[o].w$);ng.aH(p,1);J.w.vw-=g.qD*.7;
ng.Sc(p,[0,0,Math.ceil(W*1.1),Math.ceil(_.WJ[z-1].y-g.y+g.qD*2)])}if(J){var p=J.Bw;ng.xBP(p);var D=ng.IC(p).split("\n");
for(var o=0;o<D.length-1;o++){var m=D[o],k=0;for(var O=0;O<m.length;O++){var L=m.charCodeAt(O);if(1473<=L&&L<=1524)k++}if(k>m.length/2){D[o]=m.split("").reverse().join("");
var I=p.EngineDict.ParagraphRun.RunArray[o].ParagraphSheet.Properties;I._Direction=1;I.Justification=ng.Kd(I)}}ng.iy(p,D.join("\n"))}}b.pd=!0;
b.n=this.En.n;b.z=this.En.z;b.buffer=x.K(this.En.c()*4)};var xJ={};xJ.oM=function(b,X,q,N){var J=!1,_=[b.root],p=b.root.children;
if(b.add.artd){J=!0;for(var z=0;z<p.length;z++)if(p[z].Q.add.artb==null)J=!1;if(J)_=p}var g=new R(0,0,b.n,b.z),W=X[0];
W=W.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();W=W.split(" ");var o=[];for(var z=0;
z<W.length;z++){var y=W[z];if(y=="-"){var D=o.pop(),m=parseInt(W[z+1]);while(D<m){o.push(D);D++}}else o.push(parseInt(y))}W=o;
for(var z=0;z<W.length;z++)if(isNaN(W[z])||W[z]<1||W[z]>_.length){W.splice(z,1);z--}var k=72/b.Dg;for(var z=0;
z<_.length;z++){if(W.length!=0&&W.indexOf(z+1)==-1)continue;var O=_[z],L=J?O.Q.Cz():g,I=Math.round(L.n*k),H=Math.round(L.z*k);
q.StartPage(0,0,I,H);var Y=UDOC.getState([[0,0,I,H]]),n=new nQ;n.translate(-L.x,-L.y-L.z);n.scale(k,-k);
if(X[2]){var w=b.US();if(!g.Rj(L)){w=x.K(L.c()*4);x.iX(b.US(),g,w,L)}if(X[1]!=100){var t=nr.JPG.Da([[w.buffer]],L.n,L.z,[X[1]]);
w=new Uint8Array(t)}var j=new nQ;j.translate(L.x,L.y);xJ.wL(Y,q,w,L,j,n)}else xJ.wa(b,O,Y,q,n,X,N);q.ShowPage()}q.Done()};
xJ.Hw=function(b){b=x.Z.vx(b);return[b.D/255,b.q/255,b.b/255]};xJ.wa=function(b,X,q,N,J,_,p){var z=X.Q,g=z.add.lsct,W=z.add.lmfx,o=z.add.vmsk,y=z.add.vstk,D=z.add.TySh;
if(!z.oF())return;var m=z.opacity/255,k=z.add.iOpa?z.add.iOpa/255:1;for(var O in gY.qk)if(gY.qk[O]==z.nB)q.bmode=O;
q.ca=q.CA=m*k;var L=W;if(L)L=L.solidFillMulti.v[0];if(L)L=L.v;if(L&&!L.enab.v)L=null;if(z.zu()){for(var I=0;
I<X.children.length;I++)xJ.wa(b,X.children[I],q,N,J,_,p)}else if(o){var H=o.s,Y=x.g.Wg(H),n=x.j.zn(H),w=!1,t=!1,j=!1;
x.j.w(n.r,J,n.r);q.pth={cmds:n.W,crds:n.r};if(y.fillEnabled.v){var E=nM.M$(W,z.add),h=E[0],u=E[1];if(h){q.colr=xJ.Hw(h.Clr.v)}else if(u){var Z=u,A=[],P,T=Z.Type.v.GrdT=="Rdl"?"rad":"lin",U=x.Z.Sg(Z,Y),r=J.PK(U[0]),i=J.PK(U[1]);
if(T=="rad")P=[r.x,r.y,0,r.x,r.y,Ue.NH(r,i)];else{r.gM(i.x+(r.x-i.x)*2,i.y+(r.y-i.y)*2);P=[r.x,r.y,i.x,i.y]}var V=Z.Grad.v.Clrs.v;
for(var I=0;I<V.length;I++){var F=V[I].v;A.push([F.Lctn.v/4096,xJ.Hw(F.Clr.v)])}q.colr={typ:T,mat:[1,0,0,1,0,0],grad:A,crds:P}}w=!0}var B=nM.iw(W);
if(!y.strokeEnabled.v&&B)y=B;if(y.strokeEnabled.v){var $=y.strokeStyleContent.v,l=y.strokeStyleLineDashSet.v,v=UZ.FF.Rb.indexOf(y.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if($.Clr==null)return;var C=x.Z.vx($.Clr.v);q.COLR=[C.D/255,C.q/255,C.b/255];q.lwidth=y.strokeStyleLineWidth.v.val*(v==2?2:1)*J.bq();
q.mlimit=y.strokeStyleMiterLimit.v;q.doff=y.strokeStyleLineDashOffset.v.val;q.ljoin=UZ.FF.join.indexOf(y.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
q.lcap=UZ.FF.RA.indexOf(y.strokeStyleLineCapType.v.strokeStyleLineCapType);q.dash=[];for(var I=0;I<l.length;
I++)q.dash.push(l[I].v.val*q.lwidth);if(q.dash.length==1&&q.dash[0]==0)q.dash=[];t=!0;if(v==2)j=!0}if(w&&!j)N.Fill(q);
if(t)N.Stroke(q);if(w&&j)N.Fill(q)}else if(D&&_[4]){var f=D.Bw,nx=new __(f,p),n=pN.D$(nx,D),nA=x.j.Sy(n);
for(var C in nA){var nU=parseInt(C.slice(1),16);q.colr=L?xJ.Hw(L.Clr.v):[(nU>>>16&255)/255,(nU>>>8&255)/255,(nU&255)/255];
var nn=nA[C];x.j.w(nn.r,J,nn.r);nn=x.j.xSt(nn);q.pth={cmds:nn.W,crds:nn.r};N.Fill(q)}}else if(D&&_[3]==!1){var f=D.Bw,nH=D.w.clone(),d=new nQ(1,0,0,-1,0,0);
d.concat(nH);d.concat(J);var np=ng.IC(f),nx=new __(f,p);for(var I=0;I<nx.qE.length;I++){var a=nx.qE[I];
if(a.io.length==1&&a.io[0].TN)continue;for(var nb=0;nb<a.am.length;nb++){var nK=a.am[nb],nq=a.bd.y+nK.bd.y,nS=a.io[nK.start].start,nB=a.io[nK.end-1].end,nE=ng.xBE(f,nS,nB);
for(var nh=0;nh<nE.length;nh++){var nv=nx.G_(nS),nC=nE[nh],nR=ng.c_(f,nS,nS),nu=nR.JX[nR.qH.Font].Name;
q.font.Tf=nu;var C=ng.vx(nR.qH);q.colr=L?xJ.Hw(L.Clr.v):[C.D/255,C.q/255,C.b/255];q.font.Tfs=Math.round(nR.qH.FontSize);
var nF=np.slice(nS,nS+nC);if(nR.qH.FontCaps==2)nF=nF.toUpperCase();var nP=new nQ;nP.translate(nv.h.x,-nq);
nP.concat(d);q.ctm=[nP.i,nP.b,nP.Yb,nP.Tm,nP.lf,nP.vw];N.PutText(q,nF,0);q.ctm=[1,0,0,1,0,0];nS+=nC}}}}else if(!z.rect.qa()){var ni,nw,nO=new nQ;
if(z.add.SoLd){var nT=z.add.SoLd,nI=nT.Idnt.v,gu=b.jO(nI,nT.Crop?nT.Crop.v:null),nL="";if(gu==null)return;
var nN=gu.aS,xn=nr.xw(gu.raw.buffer);if(_[5].indexOf(xn)!=-1)ni=gu.raw;else ni=nN[0];nw=nN[1];nO=x.GI.$g(nT)}else{ni=z.buffer;
nw=z.rect;nO.translate(nw.x,nw.y)}if(L)ni=nM.xKs(ni,L,nw);xJ.wL(q,N,ni,nw,nO,J)}};xJ.wL=function(b,X,q,N,J,_){var p=new nQ;
p.scale(N.n,-N.z);p.translate(0,N.z);p.concat(J);p.concat(_);b.ctm=[p.i,p.b,p.Yb,p.Tm,p.lf,p.vw];X.PutImage(b,q,N.n,N.z);
b.ctm=[1,0,0,1,0,0]};var gU={};gU.UU=function(b){var X=new Uint8Array(b);return gU.oG(X,0)};gU.oG=function(b,X){var q=e.o,N=e.uT,J={pA:N(b,X,4),I:X+8,size:q(b,X+4)},_=J.pA=="FORM"||J.pA=="LIST"||J.pA=="CAT ";
if(_)J.DC=N(b,X+8,4);if(J.size<0||J.I+J.size>b.length)throw"e";if(_){J.sub=[];X+=12;var p=J.I+J.size;
while(X<p){var z=gU.oG(b,X);J.sub.push(z);X+=8+z.size+(z.size&1)}}return J};var bI={};bI.UU=function(b,X){var q=new Uint8Array(b);
return bI.oG(q,0,X)};bI.oG=function(b,X,q){var N=e.Gs,J=e.uT,_={pA:J(b,X,4),I:X+8,size:N(b,X+4)};if(q&&q[_.size]!=null)_.size=q[_.size];
if(_.pA=="RIFF"||_.pA=="LIST"){_.DC=J(b,X+8,4)}if(_.size<0||_.I+_.size>b.length)throw"e";if(_.pA=="RIFF"||_.pA=="LIST"&&(_.DC!="cmpr"&&_.DC!="stlt")){_.sub=[];
X+=12;var p=_.I+_.size;while(X<p){var z=bI.oG(b,X,q);_.sub.push(z);X+=8+z.size+(z.size&1)}}return _};
var gU={};gU.UU=function(b){var X=new Uint8Array(b);return gU.oG(X,0)};gU.oG=function(b,X){var q=e.o,N=e.uT,J={pA:N(b,X,4),I:X+8,size:q(b,X+4)},_=J.pA=="FORM"||J.pA=="LIST"||J.pA=="CAT ";
if(_)J.DC=N(b,X+8,4);if(J.size<0||J.I+J.size>b.length)throw"e";if(_){J.sub=[];X+=12;var p=J.I+J.size;
while(X<p){var z=gU.oG(b,X);J.sub.push(z);X+=8+z.size+(z.size&1)}}return J};function nc(){}nc.UU=function(b,X){var q=new Uint8Array(b);
X.pd=!0;var N=e.uT(q,0,2);if(N=="WL"){alert("Unsupported CDR version")}else{var J=nc.qV,_=bI.UU(q.buffer),p={data:q,I:0,fG:nc.xCn(q[11])},D=300;
p.Xn=p.fG<600?16:32;nc.qs(p,_.sub,X,0);var z=J(_,"cmpr").sub,g=z[0],W=z.slice(1),o=J(g,"mcfg").A,y=o.xCm;
D/=xD.qv(new R(0,0,Math.round(y.x*D),Math.round(y.y*D)),8192*8192);var m=Math.round(y.x*D),k=Math.round(y.y*D);
X.n=m;X.z=k;X.buffer=x.K(X.n*X.z*4);var O=J(g,"filt").sub,L=J(g,"otlt").sub;g.XK={};for(var I=0;I<O.length;
I++)g.XK[O[I].sub[0].A.id]=O[I].sub[0].A;g.XB={};for(var I=0;I<L.length;I++)g.XB[L[I].A.id]=L[I].A;var H=new nQ(D,0,0,-D,y.x*D/2,y.y*D/2),Y=W[1];
nc.i_(Y,g,X,H);X._y(1);X.F[X.F.length-1].fm(new R(0,0,m,k))}};nc.qV=function(b,X){var q=null;for(var N=0;
N<b.sub.length;N++){var J=b.sub[N];if(J.pA==X||J.DC==X)q=J}return q};nc.i_=function(b,X,q,N){var J=nc.qV,_=b.DC?b.DC:b.pA,p=J(b,"lgob"),z=J(b,"txsm"),g,W;
if(p){g=J(p,"trfl");W=J(p,"loda")}var o=g?g.sub[0].sy.clone():new nQ;o.concat(N);var y=q.rY();if(_=="page"||_=="layr"||_=="grp "){y.fT((_=="page"?"Page":"Group")+" "+q.F.length);
y.add.lsct=_b.iS;y.nB="pass";y.aA=24;var D=[];if(_=="page")D=J(b,"gobj").sub;if(_=="layr")D=b.sub.slice(2);
if(_=="grp ")D=b.sub.slice(4);if(D.length==0)return;q.F.push(q.lJ());for(var m=D.length-1;m>=0;m--)nc.i_(D[m],X,q,N)}else if(_=="obj "&&W.A&&W.A.path){y.fT("Object "+q.F.length);
var k=X.XK[W.A.xvx],O=X.XB[W.A.xvg],L=y.getName(),I=k&&k.type!=0,H=I&&k.A!=null?k.A:[0,0,0];y.aA|=16;
y.add.vstk=JSON.parse(JSON.stringify(UZ.FF.default));var Y=y.add.vstk;Y.strokeEnabled.v=!1;y.add.vmsk=new M.zo;
if(O&&O.xvB!=1){Y.strokeEnabled.v=!0;Y.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
Y.strokeStyleLineWidth.v.val=O.lineWidth*N.bq();var n=O.color;Y.strokeStyleContent.v.Clr.v=x.Z.Yr({D:n[0]*255,q:n[1]*255,b:n[2]*255})}var w=W.A.path;
y.add.vmsk.s=x.j.EZ(w,!1);x.g.SC(y.add.vmsk.s,o);gY.Zv(H,y,o,x.g.Wg(y.add.vmsk.s));Y.fillEnabled.v=I;
y.lN();y.he(q)}else if(_=="obj "&&z){var t=W.A.xvY,j=W.A.xvJ,u="";y.add.TySh=ng.Rq(0,0);var E=o.bq();
y.add.TySh.w.translate(o.lf,o.vw);var h=y.add.TySh.Bw,Z=z.A.xUj;for(var m=0;m<Z.length;m++){var A=Z[m],P=u.length;
u+=A.text+"\n";ng.DX(h,P,A.text+"\n");var T=nc.xMu(A.xvO,X),U=ng.c_(h,P,u.length);if(T.align==3)U.qE.Justification=1;
else U.qE.Justification=0;var r=T.fill.A;U.qH.FillColor={Type:1,Values:[1,r[0],r[1],r[2]]};U.qH.FontSize=Math.round(T.xvj.fontSize*o.bq());
ng.Fo(h,P,u.length-1,U)}if(j){ng.aH(h,0)}else{ng.aH(h,1);ng.Sc(h,[0,0,Math.round(t.x*o.i),Math.round(-t.y*o.Tm)])}y.fT(u.slice(0,10))}else{y=null}if(y)q.F.push(y)};
nc.xMu=function(b,X){var q=nc.qV(X,"stlt").A,N=JSON.parse(JSON.stringify(q.zC[b]));if(N.XH!=0){var J=q.zC[N.XH];
for(var _ in J)if(N[_]==null||N[_]==0)N[_]=J[_];delete N.XH}N.align=q.xvc[N.xRx];N.fill=X.XK[q.xRw[N.xni]];
N.x_j=X.XB[q.xRC[N.x_C]];N.xvj=q.xbI[N.xRR];return N};nc.xMY=function(b){var X=b.data[b.I];b.I+=1;return X};
nc.ZL=function(b){var X=e.zr(b.data,b.I);b.I+=2;return X};nc.xU=function(b){var X=e.Gs(b.data,b.I);b.I+=4;
return X};nc.xML=function(b){var X=e.Gs(b.data,b.I);b.I+=8;return X};nc.Tt=function(b){var X=e.It(b.data,b.I);
b.I+=2;return X};nc.TJ=function(b){var X=e.pN(b.data,b.I);b.I+=4;return X};nc.V$=function(b){var X=e.xSO(b.data,b.I);
b.I+=8;return X};nc.eU=function(b){if(b.I>=b.data.length)throw"e";var X=0;while(b.data[b.I+X]!=0)X++;
var q=e.uT(b.data,b.I,X);b.I+=X+1;return q};nc.xMI=function(b){if(b.fG<600)return Math.PI*nc.Tt(b)/1800;
return Math.PI*nc.TJ(b)/18e7};nc.xMk=function(b){if(b.fG<1500)return nc.ie(b);else return nc.V$(b)/254e3};
nc.ie=function(b){if(b.fG<600)return nc.Tt(b)/1e3;else return nc.TJ(b)/254e3};nc.xib=function(b){if(b.fG<600)return CRDParser.ZL(b);
else return nc.xU(b)};nc.xii=function(b){if(b.fG<600)return CRDParser.Tt(b);else return nc.TJ(b)};nc.qs=function(b,X,q,N){var J=nc,_=J.xMY,p=J.ZL,z=J.xU,g=J.xML,W=J.Tt,o=J.TJ,y=J.V$,D=J.ie,m=J.xMk,k=J.xMI,O=J.xib,L=J.xii;
for(var I=0;I<X.length;I++){var H=b.fG,Y=X[I];b.I=Y.I+(Y.pA=="LIST"?4:0);if(Y.pA=="vrsn"){var n=p(b);
b.fG=n;console.log("Version",n);b.Xn=n<600?16:32}else if(Y.pA=="DISP"){}else if(Y.pA=="LIST"&&Y.DC=="cmpr"){var w=z(b),t=z(b),j=z(b),E=z(b),h=new Uint8Array(b.data.buffer,b.I+8+2,w-6-8),u=pako.inflateRaw(h),T=0;
b.I+=w;h=new Uint8Array(b.data.buffer,b.I+8+2);var Z=pako.inflateRaw(h),A=[];for(var P=0;P<Z.length;
P+=4)A.push(e.Gs(Z,P));Y.sub=[];while(T<u.length){var U=bI.oG(u,T,A);T=U.I+U.size;Y.sub.push(U)}var r={data:u,I:0,fG:H,Xn:b.Xn};
nc.qs(r,Y.sub,q,N+1)}else if(Y.pA=="LIST"&&Y.DC=="stlt"){var i=b.I,a=32;Y.A={};var V=z(b);if(V==0)return;
Y.A.xRw=nc.hx(b,H>=1300);Y.A.xRC=nc.hx(b);Y.A.xbI={};var F=z(b);for(var B=0;B<F;B++){var $=z(b);b.I+=H<1e3?12:20;
var l=p(b),v=p(b);b.I+=8;var C=D(b);b.I+=H<1e3?12:20;Y.A.xbI[$]={xRF:l,x_m:v,fontSize:C}}Y.A.xvc=nc.hx(b);
var f=z(b);b.I+=52*f;var nx=z(b);b.I+=152*nx;var nA=z(b);b.I+=784*nA;var nU=z(b);for(var B=0;B<nU;B++){b.I+=40;
if(H>1300)b.I+=4;if(H>=1300){if(z(b))b.I+=68;else b.I+=12}else{b.I+=20;if(H>=1e3)b.I+=8;if(z(b))b.I+=8;
b.I+=8}}var nn=z(b);Y.A.xRz={};for(var B=0;B<nn;B++){var nH=z(b),d={};b.I+=12;d.right=D(b);d.x_V=D(b);
d.left=D(b);Y.A.xRz[nH]=d}var np=z(b);if(H>=1300)a+=4;b.I+=a*np;var nb=z(b);b.I+=28*nb;if(H>800){var nK=z(b);
b.I+=12*nK}Y.A.zC={};for(var B=0;B<V;B++){var nq=z(b),nS=z(b),nB={};nB.XH=z(b);b.I+=8;var nE=z(b);if(H>=1200)nE*=2;
b.I+=nE;nB.xni=z(b);nB.x_C=z(b);if(nq>1){nB.xRR=z(b);nB.xRx=z(b);nB.x_s=z(b);nB.x_$=z(b);if(H>800)nB.x_y=z(b)}if(nq>2){nB.x_e=z(b);
nB.x_Z=z(b);nB.xbA=z(b);nB.xbx=z(b);nB.xbg=z(b)}Y.A.zC[nS]=nB}}else if(Y.pA=="LIST")nc.qs(b,Y.sub,q,N+1);
else if(Y.pA=="txsm"){Y.A={};if(H<600)throw"e";if(H<700)throw"e";if(H>=1600)throw"e";if(H>=1500)b.I+=37;
else b.I+=36;if(z(b)){if(H<800)b.I+=32}if(H<800)b.I+=4;Y.A.xbp=z(b);Y.A.xUj=[];b.I+=48;if(H>=800){if(z(b)){b.I+=32;
if(H>=1300)b.I+=8}}if(H>=1500)b.I+=12;var nq=z(b),nh=1,nv=!1;if(!nq){if(H>=800)b.I+=4;if(H>800)b.I+=2;
if(H>=1400)b.I+=2;b.I+=24;if(H<800)b.I+=8;nh=z(b)}for(var P=0;P<nh;P++){var nC=z(b),B=0;if(H>=1300&&nq)b.I++;
b.I++;var V=z(b),nR=[];for(B=0;B<V;B++){var nu=_(b),nP=0;_(b);var nF=_(b);if(H>=800)nP=_(b);var nB={};
if(nF&1){nB.xRF=p(b);var ni=p(b);if(ni)nB.xbU=ni}if(nF&2)b.I+=4;if(nF&4)nB.xbn=D(b);if(nF&8)b.I+=4;if(nF&16)b.I+=4;
if(nF&32)b.I+=4;if(nF&64){nB.xni=z(b);if(H>=1500)b.I+=48}if(nF&128){nB.x_C=z(b)}if(nP&8){if(H>=1300){var nw=z(b);
if(b.I+nw*2>=b.data.length){nv=!0;break}b.I+=nw*2}else b.I+=4}if(nP&32){var nO=_(b);if(nO)b.I+=52}if(nu==2)if(H>=1300)b.I+=48;
nR.push(nB)}if(nv){break}var nT=z(b);if(b.I+nT*4>b.data.length)break;var nI=[];for(B=0;B<nT;B++){var gu=0;
if(H>=1200)gu=g(b)&4294967295;else gu=z(b);nI[B]=gu>>16|gu&1}var nN=nT;if(H>=1200)nN=z(b);var xn=nc.eU(b);
Y.A.xUj.push({xvO:nC,text:xn,zC:nR})}}else if(Y.pA=="font"){var nL=p(b),nV=p(b);b.I+=14;var nX=nc.eU(b);
Y.A={id:nL,xb_:nV,name:nX}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(Y.pA)!=-1){}else if(Y.pA=="flgs")Y.A=z(b);
else if(Y.pA=="bbox"){var xY=D(b),ny=D(b),xp=D(b),nW=D(b);Y.A=new R(xY,ny,xp-xY,nW-ny)}else if(Y.pA=="fild"){var nk=z(b),_x=0,nZ;
if(H>=1300){b.I+=4;_x=p(b);b.I+=2}var xI=p(b);if(xI==0){}else if(xI==1){b.I+=H>=1300?13:2;nZ=nc.D_(b)}else if(xI==2){b.I+=H>=1300?8:2;
var gC=_(b),_q=0;if(H>=1300){b.I+=17;_q=W(b)}else if(H>=600){b.I+=19;_q=o(b)}else{b.I+=11;_q=W(b)}var gb=k(b),xE=.5+L(b),xC=.5+L(b)-.5;
if(H>=600)b.I+=2;var pq=O(b)&255,xB=_(b)/100;b.I++;var _r=O(b)&65535;if(H>=1300)b.I+=3;var _h=[];for(var B=0;
B<_r;B++){var _i=nc.D_(b);if(H>=1300){if(_x==158||H>=1600&&_x==150)b.I+=26;else b.I+=5}var bK=O(b)/100;
if(H>=1300)b.I+=3;_h.push([bK,_i])}nZ={typ:gC==1?"lin":"rad",crds:[xE-Math.cos(gb)/2,xC-Math.sin(gb)/2,xE,xC],grad:_h,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",xI);
Y.A={id:nk,type:xI,A:nZ}}else if(Y.pA=="outl"){var xb=z(b);if(H>=1300){var xv=0,gx=0;while(xv!=1){b.I+=gx;
xv=z(b);gx=z(b)}}var xK=p(b),_p=p(b),_n=p(b);if(H<1300&&H>=600)b.I+=2;var gq=D(b),xx=p(b)/100;if(H>=600)b.I+=2;
var gw=k(b);if(H>=1300)b.I+=46;else if(H>=600)b.I+=52;var nZ=nc.D_(b,xb==270963208||xb==276198e3,xb);
Y.A={id:xb,xvB:xK,xbb:_p,xbK:_n,lineWidth:gq,color:nZ}}else if(Y.pA=="mcfg"){if(1300<=H)b.I+=12;else if(900<=H)b.I+=4;
else if(600<=H&&H<700)b.I+=28;var xH=0,gr=0;if(H<400)throw"e";else{xH=D(b);gr=D(b)}Y.A={xCm:new Ue(xH,gr)}}else if(Y.pA=="loda"){var i=b.I,xR=O(b),xh=O(b),_H=O(b),pd=O(b),UD=O(b),_w=[],n$=[];
b.I=i+_H;for(var B=0;B<xh;B++)_w[B]=O(b);b.I=i+pd;for(var B=xh-1;B>=0;B--)n$[B]=O(b);Y.A={};for(var B=0;
B<xh;B++){b.I=i+_w[B];var _J=n$[B];if(_J==10)Y.A.xvg=z(b);else if(_J==20)Y.A.xvx=z(b);else if(_J==200)Y.A.xbS=O(b);
else if(_J==30){if(H<400)UD--;if(UD==1){var xY=m(b),ny=m(b),bp=0,_$=0,gL=0,xM=0;if(H<1500){xM=m(b);gL=H<900?xM:m(b);
_$=H<900?xM:m(b);bp=H<900?xM:m(b)}else throw"e";Y.A.path=x.j.zn(x.g.lQ.Rect(0,0,xY,ny,bp))}else if(UD==2){var bE=D(b),U$=D(b),_S=k(b),gd=k(b),Ko=Math.abs(bE),UX=Math.abs(U$);
Y.A.path=x.j.zn(x.g.lQ.tw(0,0,Ko,-UX))}else if(UD==3){Y.A.path=nc.xCU(b)}else if(UD==4){Y.A.xvJ=nc.xiV(b)}else if(UD==6){Y.A.xvY=nc.xiy(b)}else if(UD==37){Y.A.path=nc.CP(b)}else console.log(UD)}}}else if(Y.pA=="trfd"){var i=b.I,xR=O(b),xh=O(b),_H=O(b);
b.I=i+_H;var _w=[];for(var B=0;B<xh;B++)_w[B]=O(b);for(var B=0;B<xh;B++){b.I=i+_w[B];if(H>=1300)b.I+=8;
var bw=p(b);if(bw==8){var _F,bR,xY,pY,_Y,ny;if(H>=600)b.I+=6;if(H>=500){_F=y(b);bR=y(b);xY=y(b)/(H<600?1e3:254e3);
pY=y(b);_Y=y(b);ny=y(b)/(H<600?1e3:254e3)}else throw"e";Y.sy=new nQ(_F,pY,bR,_Y,xY,ny)}else console.log(bw)}}else if(!1){console.log(Y);
var xG=Math.min(Y.size,32);console.log(e.IY(data,Y.I,xG));console.log(e.xKh(data,Y.I,xG))}}};nc.hx=function(b,X){var q=nc.xU,N={},J=q(b);
for(var _=0;_<J;_++){var p=q(b);b.I+=4;var z=q(b);N[p]=z;if(X)b.I+=48}return N};nc.xiV=function(b){var X=nc,q=X.ie,N=q(b),J=q(b);
return new Ue(N,J)};nc.xiy=function(b){var X=nc,q=X.ie;b.I+=4;var N=q(b),J=q(b);return new Ue(N,J)};
nc.CP=function(b){var X=nc,q=X.xU,N=X.ZL,J=X.ie;b.I+=4;var _=N(b)+N(b);b.I+=16;var p=nc.wk(b,_);return p};
nc.xCU=function(b){var X=nc.ZL(b);b.I+=2;return nc.wk(b,X)};nc.wk=function(b,X){var q=nc,N=q.ie,J=b.fG<600?2:4,_=b.I,p={r:[],W:[]},z=0,g=0,W=0;
for(var o=0;o<X;o++){var z=N(b),g=N(b),y=b.data[_+X*J*2+o];if(!(y&64)&&!(y&128)){p.r.push(z,g);p.W.push("M");
W+=2}else if(y&64&&!(y&128)){p.r.push(z,g);p.W.push("L");W+=2}else if(!(y&64)&&y&128){p.r.push(z,g);
p.W.push("C");W+=6}else if(y&64&&y&128){p.r.push(z,g)}}if(W!=p.r.length)throw"e";return p};nc.xll=function(b,X){var q=e.Gs;
X+=8;var N=q(b,X);X+=4;var J=q(b,X);X+=4;X+=4*7;var _=X,p=x.K(N*J*4);X+=1024;for(var z=0;z<J;z++)for(var g=0;
g<N;g++){var W=z*N+g,o=(J-z-1)*N+g,y=b[X+W]<<2,D=o<<2;p[D+0]=b[_+y+2];p[D+1]=b[_+y+1];p[D+2]=b[_+y+0];
p[D+3]=255}return{Dl:p,rect:new R(0,0,N,J)}};nc.xCn=function(b){if(b==32)return 300;else if(b<49)return 0;
else if(b<58)return 100*(b-48);else if(b<65)return 0;return 100*(b-55)};nc.D_=function(b,X,q){var N=nc.ZL,J=nc.xU,_=b.fG,p=0,z=0;
if(_>=500){p=N(b);if(p==1&&_>=1300)p=25;if(p==25||p==30)throw"e";else if(p==14)throw"e";else{b.I+=6;
z=J(b)}}else throw"e";var g=[];if(p==2||p==9||p==17){var W=[z>>>0&255,z>>>8&255,z>>>16&255,z>>>24&255];
if(p==2)for(var o=0;o<4;o++)W[o]=Math.round(255*W[o]/100);for(var o=0;o<4;o++)W[o]/=255;g=UDOC.C.cmykToRgb(W)}else if(p==1||p==5){g=[z>>>0&255,z>>>8&255,z>>>16&255];
for(var o=0;o<3;o++)g[o]=g[o]/255}else console.log("Unknown color model "+p,z,z.toString(16));return g};
var gi={};gi.mQ=function(){var b=new ArrayBuffer(4);return[new Uint8Array(b),new Uint32Array(b),new Float32Array(b)]}();
gi.aa=function(b,X,q,N,J){function _(U,r){for(var i=0;i<U.length;i++)if(U[i][0]==r)return U[i]}function p(){var h=0,U=0,r=0;
do{r=b[X++];h|=(r&127)<<U;U+=7}while(r&128&&U<35);return h>>>0}var z=gi.mQ,g=z[0],W=z[1],o=z[2],y="",L=1;
for(var D=0;D<J;D++)y+="    ";var m=N[0]=="mesg",k=N[2],O={},I=m?1e9:k.length;while(L<=I){var H=L;if(m){H=b[X++];
if(H>127){if(b[X]!=1)throw"e";X++}if(H==0)break}var Y=_(k,H),n=Y[2],w=Y[1]==1,t=w?p():1,j=new Array(t);
if(n==3){if(!w)throw"e";j=b.slice(X,X+t);X+=t}else for(var D=0;D<t;D++){var E;if((n&1)==1){if(n==1)E=b[X++]==1;
else if(n==3)E=b[X++];else if(n==5){var h=p();E=h&1?~(h>>>1):h>>>1}else if(n==7)E=p();else if(n==9){if(b[X]==0){E=0;
X++}else{g[0]=b[X];g[1]=b[X+1];g[2]=b[X+2];g[3]=b[X+3];var u=W[0];W[0]=u<<23|u>>>9;E=o[0];X+=4}}else if(n==11){var Z=gi.xCH(b,X);
E=Z[0];X+=Z[1]+1}else throw n}else{var A=q[n>>>1];if(A[0]=="enum"){var P=b[X++];if(P>127)throw"e";E=A[2][P]}else{var T=gi.aa(b,X,q,A,J+1);
E=T[0];X=T[1]}}j[D]=E}O[Y[3]]=w?j:j[0];L++}return[O,X]};gi.xCH=function(b,X){var q=X;while(b[q]!=0)q++;
return[e.Re(b,X,q-X),q-X]};gi.xCu=function(b,X){var q=X;while(b[q]!=0)q++;for(var N=X;N<q;N++)if(b[N]>127)throw"e";
return e.uT(b,X,q-X)};gi.xCY=function(b,X){var q=gi.xCu,N=1,J=[];while(N<b.length){var _=N,p=J.length,z=q(b,N);
N+=z.length+1;var g=b[N++];if(g==0){var W=b[N++];if(W>127)N++;var o=[];for(var y=0;y<W;y++){var D=q(b,N);
N+=D.length+1;var m=b[N++];if(m!=0)throw m;var k=b[N++];if(k!=0)throw k;var O=b[N++];if(O>127){if(b[N]!=1)throw"e";
N++}if(O!=y)throw O;o.push(D)}J.push(["enum",z,o])}else if(g==1){var W=b[N++],o=[];for(var y=0;y<W;y++){var D=q(b,N);
N+=D.length+1;var m=b[N++];if(m>127){if(b[N]!=1)throw"e";N++}var k=b[N++];if(k>127){if(b[N]!=1)throw"e";
N++}var O=b[N++];if(O>127){if(b[N]!=1)throw"e";N++}o.push([O,k,m,D])}J.push(["strc",z,o])}else if(g==2){var W=b[N++];
if(W>127)N++;var o=[];for(var y=0;y<W;y++){var D=q(b,N);N+=D.length+1;var m=b[N++];if(m>127){if(b[N]!=1)throw"e";
N++}var k=b[N++];if(k>127){if(b[N]!=1)throw"e";N++}var O=b[N++];if(O>127){if(b[N]!=1)throw"e";N++}o.push([O,k,m,D])}J.push(["mesg",z,o])}else throw g}return J};
function pS(){}pS.UU=function(b,X){var q=new Uint8Array(b),N=8,J=e.Gs(q,N),U=1,r=0;N+=4;var _=[];while(N<q.length){var p=e.Gs(q,N);
N+=4;var z=q.slice(N,N+p);if(q[N]==137&&q[N+1]==80){}else z=UZIP.inflateRaw(z);_.push(z);N+=p}var g=gi.xCY(_[0]),W=gi.aa(_[1],0,g,g[g.length-1],0)[0],o={rw:{},EH:{}},y=W.nodeChanges;
for(var D=0;D<y.length;D++){var m=y[D],k=m.guid;o.EH[k.sessionID+","+k.localID]=m}for(var D=0;D<y.length;
D++){var m=y[D],k=m.parentIndex;if(k){var O=pS.Tc(o.EH,k.guid);if(O.children==null)O.children=[];O.children.push(m)}}var L=y[0],I=L.children,H=new R,Y=[],n=[];
for(var k=0;k<I.length;k++){var w=I[k],t=w.children;if(w.name=="Internal Only Canvas")continue;var j=new R;
for(var E=0;E<t.length;E++){var h=t[E],u=h.transform,Z=h.size,A=new R(u.m02,u.m12,Z.x,Z.y);j=j.Tg(A)}var P=H.z==0?0:H.z+100,T=j.clone();
T.x=0;T.y=P;H=H.Tg(T);Y[k]=j;n[k]=P}while(Math.max(H.n,H.z)/U>16e3)U++;if(U!=1)console.log("Scaling down "+U+"x");
X.n=Math.round(H.n/U);X.z=Math.round(H.z/U);X.buffer=x.K(X.n*X.z*4);for(var k=0;k<I.length;k++){var w=I[k],t=w.children;
if(w.name=="Internal Only Canvas")continue;var i=new nQ(1,0,0,1,-Y[k].x,n[k]-Y[k].y);i.scale(1/U,1/U);
for(var E=0;E<t.length;E++){var h=t[E];pS.i_(h,[],i,W.blobs,X,0,o);r++}}X._y(r);X.pd=!0};pS.i_=function(b,X,q,N,J,_,p){var z=pS,Z=!1,A,P;
for(var g=0;g<X.length;g++){var W=X[g],o=W.guidPath.guids[0];if(z.xCT(o,b.guid)){var y={};for(var D in b)y[D]=W[D]!=null?W[D]:b[D];
b=y}}var m=b.type,k=b.children,O=b.size,L=b.effects,I=J.rY();I.fT(b.name);I.HC(b.visible);I.opacity=Math.round(b.opacity*255);
var H=z.jc(b.transform),Y=H.clone();Y.concat(q);var n=new R(Math.round(Y.lf),Math.round(Y.vw),Math.round(O.x*Y.bq()),Math.round(O.y*Y.bq())),w=b.fillPaints,t=b.inheritFillStyleID;
if(t){var y=z.Tc(p.EH,t);if(y)w=y.fillPaints}for(var g=1;g<w.length;g++){var j=w[g];if(j.type=="IMAGE"&&j.opacity==1){w=w.slice(g);
break}}var E=w[0],h=b.strokePaints,t=b.inheritFillStyleIDForStroke;if(t){var y=z.Tc(p.EH,t);if(y)h=y.fillPaints}var u="BOOLEAN_OPERATION RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON".split(" ").indexOf(m)!=-1;
if(u||m=="FRAME"){A=new M.zo;P=[];z.az(b,N,A,P);Z=x.g.xvE(A.s);x.g.SC(A.s,Y);n=x.g.Wg(A.s);if(p.rw.zQ&&E){var T=M.zo.yR(p.rw.zQ.s);
for(var g=2;g<T.length;g++)if(T[g].vR!=null)T[g].vR=3;A.s=A.s.concat(T.slice(2));P=P.concat(JSON.parse(JSON.stringify(p.rw.P_)))}}if(m=="FRAME"){}else if(u&&Z&&E&&E.type=="IMAGE"&&["FILL","STRETCH","FIT"].indexOf(E.imageScaleMode)!=-1){var U=N[E.image.dataBlob].bytes,r=J.$K(U,I.getName(),0,0);
r.aA=I.aA;r.opacity=I.opacity;I=r;var i=x.j.fe(new R(0,0,O.x,O.y)).r;x.j.w(i,Y,i);I.add.SoLd.Trnf=c.C.Rz(i);
I.add.SoLd.nonAffineTransform=c.C.Rz(i);var V=[],L=b.effects,F=E.paintFilter;if(L)for(var g=0;g<L.length;
g++)if(L[g].type=="FOREGROUND_BLUR"){var B=L[g],$=nm.Qq("GsnB",{});V.push($);$.v.enab.v=B.visible;$.v.Fltr.v.Rds.v.val=B.radius/2.4}if(F&&F.exposure!=0){var $=nm.Qq("brit",{});
V.push($);$.v.Fltr.v.Brgh.v=Math.round(F.exposure*160);$.v.Fltr.v.useLegacy.v=!0}if(V.length!=0){I.add.SoLd.filterFX=nm.NI();
J.$p({id:I.add.SoLd.placed.v,rect:new R,buffer:x.K(1),G:new M.ah});I.add.SoLd.filterFX.v.filterFXList.v=V}I.ns(J,!1);
z.aL(p,I,J)}else if(u){I.aA|=16;I.add.vogk=P;I.add.vmsk=A;var l=I.add.vstk=JSON.parse(JSON.stringify(UZ.FF.default)),v=z.Tz(b,w[0],Y,n,N,J);
if(v[0]=="None"){l.fillEnabled.v=!1;I.add.SoCo=v[1]}else{var C=v[1].Opct.v.val;if(C!=100)I.opacity=Math.round(I.opacity/255*(C/100)*255);
I.add[v[0]]=v[1]}var v=z.Tz(b,h[0],Y,n,N,J);if(v[0]!="None"){l.strokeEnabled.v=!0;l.strokeStyleLineWidth.v.val=b.strokeWeight*Y.bq();
l.strokeStyleLineAlignment.v.strokeStyleLineAlignment=UZ.FF.Rb[["INSIDE","CENTER","OUTSIDE"].indexOf(b.strokeAlign)];
var f={SoCo:"SoFi",GdFl:"GrFl"}[v[0]],nx=["SoFi","GrFl","patternFill"].indexOf(f),nA=[UZ.tt,UZ.le,UZ.Wd][nx];
l.strokeStyleContent.v={classID:UZ.FF.DC[0]};var nU=l.strokeStyleContent.v={classID:UZ.FF.DC[nx]};for(var g=0;
g<nA.length;g++)nU[nA[g]]=v[1][nA[g]]}if(L)for(var g=0;g<L.length;g++){var B=L[g];if(B.type!="FOREGROUND_BLUR")continue;
A.Zt=B.radius/2.4}I.he(J)}else if(m=="TEXT"){var nn=b.textData,nH=nn.layoutSize,d=["LEFT","RIGHT","CENTER"].indexOf(b.textAlignHorizontal);
I.add.lnsr="rend";I.add.TySh=ng.Rq(0,0);I.add.TySh.Ug=new R(0,0,100,100);var np=Y.clone();I.add.TySh.w=np;
var a=I.add.TySh.Bw,nb=nn.characters;if(b.textCase=="TITLE"){for(var g=0;g<nb.length;g++)if(g==0||nb[g-1]==" "){var nK=nb.slice(0,g),nq=nb.slice(g+1);
nb=nK+nb[g].toUpperCase()+nq}}ng.DX(a,0,nb);var nS=b.textAutoResize,nB=nn.baselines;if(nS=="WIDTH_AND_HEIGHT"){var nE=d==0?0:d==1?nH.x:nH.x/2,nh=nB?nB[0].position.y:0;
np.translate(nE,nh*Y.bq());ng.aH(a,0)}else if(nS=="HEIGHT"||nS=="NONE"){var nh=nB?nB[0].position.y-b.fontSize*.7:0;
np.translate(0,nh*Y.bq());ng.aH(a,1);ng.Sc(a,[0,0,Math.round(nH.x),Math.round(1.2*nH.y)])}else throw nS;
if(!0){var nv=ng.c_(a,0,1);z.aT(b,Y,nv,I);ng.Fo(a,0,nb.length,nv);var nC=nn.characterStyleIDs,nR=nn.styleOverrideTable;
if(nC)for(var g=0;g<nC.length;g++){var nu=nC[g];if(nb[g]=="\n")continue;if(nu!=0){var nF;for(var nP=0;
nP<nR.length;nP++)if(nR[nP].styleID==nu)nF=nR[nP];var nv=ng.c_(a,0,1);z.aT(nF,Y,nv,I);ng.Fo(a,g,g+1,nv)}}}}else if(m=="SYMBOL"){}else if(m=="INSTANCE"){var ni=b.symbolData,nw=ni.symbolOverrides,y=z.Tc(p.EH,ni.symbolID);
if(y)k=y.children;else console.log(b.name,"symbol not found",ni.symbolID);X=X.slice(0);for(var g=0;g<nw.length;
g++)X.push(nw[g])}else console.log(m);if(!1){}else if(k&&!u){k.sort(function(nZ,gC){var _q=nZ.parentIndex.position,gb=gC.parentIndex.position;
return _q>gb?1:-1});if(_==0){I.fm(n);var j=w?w[0]:null;if(j&&j.type=="SOLID"){var nO=j.color;I.add.artb.artboardBackgroundType.v=4;
I.add.artb.Clr=z.D_(nO)}}J.F.push(J.lJ());var nT=p.rw;p.rw={};for(var nI=0;nI<k.length;nI++)z.i_(k[nI],X,Y,N,J,_+1,p);
p.rw=nT;I.add.lsct=!1?_b.iS:_b.Uo;I.nB="pass";var gu=I.oF();I.aA=24;I.HC(gu);var nN=_!=0&&w.length!=0&&!b.frameMaskDisabled&&b.containerSupportsFillStrokeAndCorners;
if(nN&&A){I.add.vmsk=A;I.add.vogk=P;I.he(J)}else z.aL(p,I,J);J.F.push(I)}else if(b.mask){if(A){p.rw.zQ=A;
p.rw.P_=P}}else{var xn=[];if(L)for(var nL=0;nL<L.length;nL++){var B=L[nL],nV=B.color,nX=B.type,xY=["DROP_SHADOW","INNER_SHADOW"].indexOf(nX);
if(xY!=-1){var ny=["DrSh","IrSh"][xY],xp=JSON.parse(UZ.IN[UZ.order.indexOf(ny)]);xn.push([ny,xp]);xp.Md.v.BlnM=nD.QM(z.xCJ(B.blendMode));
xp.Opct.v.val=Math.round(100*nV.a);xp.blur.v.val=Math.round(B.radius*Y.bq());xp.Clr=z.D_(nV);var nE=B.offset.x,nh=B.offset.y;
xp.uglg.v=!1;xp.lagl.v.val=Math.round(180/Math.PI*Math.atan2(nh,-nE));xp.Dstn.v.val=Math.round(Math.sqrt(nE*nE+nh*nh)*Y.bq())}}for(var g=1;
g<w.length;g++){var nW=w[g],nk=z.Tz(b,nW,Y,n,N,J);if(nk[0]=="GdFl")xn.push(["GrFl",nk[1]]);else if(nk[0]=="SoCo")xn.push(["SoFi",nk[1]]);
else if(nk[0]=="PtFl")xn.push(["patternFill",nk[1]]);else throw nk}if(xn.length!=0){var _x=JSON.parse(UZ.default);
for(var g=0;g<UZ.order.length;g++)_x[UZ.PS[g]]={t:"VlLs",v:[]};for(var g=0;g<xn.length;g++){var xI=xn[g],ny=UZ.PS[UZ.order.indexOf(xI[0])];
_x[ny].v.unshift({t:"Objc",v:xI[1]})}if(k==null)I.add.lmfx=_x}J.F.push(I)}};pS.aL=function(b,X,q){if(b.rw.zQ){X.add.vmsk=b.rw.zQ.clone();
X.add.vogk=JSON.parse(JSON.stringify(b.rw.P_));X.he(q)}};pS.aT=function(b,X,q,N){var J=b.fontSize,_=b.lineHeight,p=b.fontName,z=b.textAlignHorizontal,g=b.textTracking,W=b.textCase;
if(p)ng.uJ(q,p.postscript);if(J!=null)q.qH.FontSize=Math.round(J);if(g)q.qH.Tracking=Math.round(g*1e3);
if(W)q.qH.FontCaps=W=="UPPER"?2:0;if(_&&(_.units!="PERCENT"||_.value!=100)){var o=_.value;if(_.units=="PERCENT")o=1*J*o/100;
if(_.units=="RAW")o=1*J*o;q.qH.AutoLeading=!1;q.qH.Leading=Math.round(o)}if(z)q.qE.Justification=["LEFT","RIGHT","CENTER"].indexOf(z);
var y=b.fillPaints;if(y){var D=pS.Tz(b,y[0],X);if(D[0]=="SoCo"){var m=x.Z.vx(D[1].Clr.v);q.qH.FillColor={Type:1,Values:[1,m.D/255,m.q/255,m.b/255]};
N.opacity=Math.round(N.opacity/255*(D[1].Opct.v.val/100)*255)}else console.log(y)}};pS.Tz=function(b,X,q,N,J,_){var p=pS,z,g,W=b.size;
if(X){var o=X.type,y=["GRADIENT_LINEAR","GRADIENT_RADIAL"].indexOf(o);if(o=="SOLID"){z="SoCo";var D=X.color;
g=JSON.parse(UZ.IN[UZ.order.indexOf("SoFi")]);g.Clr=p.D_(D)}else if(y!=-1){var m=JSON.parse(UZ.IN[UZ.order.indexOf("GrFl")]),k=m.Grad.v;
k.Intr.v=0;m.Type.v.GrdT=["Lnr","Rdl","Angl"][y];var O=[],L=X.stops;for(var I=0;I<L.length;I++){var H=L[I],Y=H.color;
O.push([H.position,[Y.r,Y.g,Y.b],Y.a])}x.Z.sP(O,k);var n=p.jc(X.transform);n.Kn();var w=n.clone();w.scale(W.x,W.y);
w.concat(q);var t=new Ue(0,.5),j=new Ue(1,.5);t=w.PK(t);j=w.PK(j);if(!0){t.x=j.x+.5*(t.x-j.x);t.y=j.y+.5*(t.y-j.y)}x.Z.uA(t,j,N,m);
z="GdFl";g=m}else if(o=="IMAGE"){var m=JSON.parse(UZ.IN[UZ.order.indexOf("patternFill")]),E=m.phase.v,h=J[X.image.dataBlob].bytes,u=h.buffer,Z=nr.xw(u),A=nr.aC(Z),P=A.vu(u)[0],T={Dl:new Uint8Array(P.data),h:P._z};
T.id=nj.bj()+"-d71c-11e5-b1ae-a548a96e5f9f";T.name="someImage";_.Rs(T);m.Algn.v=!0;m.Ptrn.v.Idnt.v=T.id;
var U=q.lf,r=q.vw;if(X.imageScaleMode=="FILL"){var i=N.n,V=N.z,F=i/T.h.n,B=F*T.h.n,$=F*T.h.z;U+=-(B-i)/2;
r+=-($-V)/2;m.Scl.v.val=Math.round(100*F)}else console.log(X);E.Hrzn.v=U;E.Vrtc.v=r;z="PtFl";g=m}else throw o;
if(g)g.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(X.opacity*100)}}}else{z="None";g={classID:"null",Clr:{t:"Objc",v:x.Z.Yr({D:0,q:0,b:0})}}}return[z,g]};
pS.az=function(b,X,q,N){var J=b.type,_=b.size,p=b.cornerRadius,y;if(p==null)p=0;var z=x.P_.$j(),g=_.x,W=_.y,o=[p,p,p,p],D=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"];
for(var m=0;m<4;m++)if(b[D[m]]!=null)o[m]=b[D[m]];if(J=="RECTANGLE"||J=="ROUNDED_RECTANGLE"||J=="FRAME"){y=x.g.lQ.Rect(0,0,g,W,o)}else if(J=="ELLIPSE"){var k=b.arcData,O=k?k.startingAngle:0,L=k?k.endingAngle:2*Math.PI,I=k?k.innerRadius:0;
if(O==0&&L>1.999*Math.PI)y=x.g.lQ.tw(0,0,g,W,0);else y=x.g.lQ.xvQ(g/2,W/2,W/2,O,L);if(I!=0&&I!=1){var H=M.zo.yR(y).slice(3);
H.reverse();for(var m=0;m<H.length;m++){var Y=H[m],n=Y.jk;Y.jk=Y.p_;Y.p_=n}var w=new nQ;w.translate(-g/2,-W/2);
w.scale(I,I);w.translate(g/2,W/2);x.g.SC(H,w);y=y.concat(H);y[2].length*=2}}else if(J=="REGULAR_POLYGON"){y=x.g.lQ.rt(.5,.5,.5,Math.PI/2,b.count,0);
var t=new nQ;t.scale(g,W);x.g.SC(y,t)}else if(J=="BOOLEAN_OPERATION"){y=[{type:6},{type:8,all:0}];var j=b.children,E=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(b.booleanOperation);
if(E==-1)throw b;for(var m=0;m<j.length;m++){var h=j[m],u=new M.zo,Z=[],A=pS.az(h,X,u,Z);if(u.s==null)continue;
x.g.SC(u.s,pS.jc(h.transform));y=y.concat(u.s.slice(2));for(var P=0;P<Z.length;P++)N.push(Z[P])}for(var m=3;
m<y.length;m++)if(y[m].vR!=null)y[m].vR=E;z=null}else if(J=="VECTOR"){var T,U;if(!0){var r=b.vectorData;
T=r.normalizedSize;U=r.vectorNetworkBlob}else{T=_;U=fg[0].commandsBlob;console.log(fg)}var i=X[U].bytes,V=new Uint32Array(i.buffer),F=new Float32Array(i.buffer),B=V[0],$=V[1],l=[];
for(var m=0;m<B;m++){var v=3+m*3,C=new Ue(F[v+1],F[v+2]);l.push(C)}var f=[],nx=3+B*3;for(var m=0;m<$;
m++){var nA=nx+m*7,nU=V[nA+1],nn=V[nA+4];f.push([nU,nn,F[nA+2],F[nA+3],F[nA+5],F[nA+6]])}var nH=-1;for(var m=0;
m<$;m++){if(nH==-1){}else{var d=-1;for(var P=m;P<$;P++)if(f[P][1]==nH)d=P;for(var P=m;P<$;P++)if(f[P][0]==nH)d=P;
if(d!=-1){var np=0,n=f[d];f[d]=f[m];f[m]=n;if(n[0]!=nH){np=n[0];n[0]=n[1];n[1]=np;np=n[2];n[2]=n[4];
n[4]=np;np=n[3];n[3]=n[5];n[5]=np}}}nH=f[m][1]}var a=[],nb=[],nq=-1;nH=-1;for(var m=0;m<$;m++){var nS=f[m],nU=nS[0],nn=nS[1],nB=l[nU],nE=l[nn];
if(nH!=nU){nb.push("M");a.push(nB.x,nB.y);nq=nU}a.push(nB.x+nS[2],nB.y+nS[3]);a.push(nE.x+nS[4],nE.y+nS[5]);
nb.push("C");a.push(nE.x,nE.y);nH=nn;if(nq==nn){nb.push("Z");nq=nH=-1}}y=x.j.EZ({r:a,W:nb},!0);if(p!=0){var o=[],nh=y[2].length;
for(var m=0;m<nh;m++)o.push(p);if(x.g.rL(y))x.g.xCX(y,2,o)}var nv=new nQ;nv.scale(_.x/T.x,_.y/T.y);x.g.SC(y,nv)}q.s=y;
if(z)N.push(z)};pS.Tc=function(b,X){return b[X.sessionID+","+X.localID]};pS.xCT=function(b,X){return b.sessionID==X.sessionID&&b.localID==X.localID};
pS.xCJ=function(b){var X={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn"}[b];if(X==null)throw b;return X};
pS.D_=function(b){return{t:"Objc",v:x.Z.Yr({D:b.r*255,q:b.g*255,b:b.b*255})}};pS.jc=function(b){var X=[b.m00,b.m10,b.m01,b.m11,b.m02,b.m12];
for(var q=0;q<6;q++)if(Math.abs(X[q])<1e-20)X[q]=0;return new nQ(X[0],X[1],X[2],X[3],X[4],X[5])};var c={};
c.os=function(b,X,q){this.name=b;this.id=X;this.jQ=null;if(q!=null)this.C_=q};c.os.prototype.wt=function(b,X,q,N,J){};
c.os.prototype.enable=function(b,X,q,N,J,_){var p=new Q(K.E.T,!0);p.data={V:K.a.KW,Lf:"default"};X.X(p)};
c.os.prototype.disable=function(b,X,q,N){};c.os.prototype.Pr=function(b,X,q,N,J){return!1};c.os.prototype.vP=function(b,X,q,N,J){};
c.os.prototype.tx=function(b,X,q,N,J){};c.os.prototype.fI=function(b,X,q,N,J){};c.os.prototype.TE=function(b,X,q,N,J){};
c.os.prototype.cb=function(b,X,q,N,J){};c.os.prototype.aZ=function(b,X,q,N){};c.os.prototype.XN=function(b,X,q,N){};
c.os.prototype.we=function(b,X){};c.os.prototype.it=function(b,X){};c.os.prototype.gJ=function(b,X,q,N,J){};
c.os.prototype.TY=function(b,X){};c.os.prototype.Hd=function(b,X){return!1};c.os.prototype.KH=function(b,X){return!1};
c.os.prototype.Ze=function(){return!1};c.os.prototype.h_=function(b,X){return!0};c.os.prototype.tp=function(){return null};
c.os.prototype.Ph=function(b,X,q){};c.os.prototype.Pw=function(){return!1};c.os.prototype.PL=function(b,X,q,N){};
c.os.prototype.track=function(b){var X=new Q(K.E.gy,!0);X.data=b;b.Ev=!0;this.jQ.X(X)};c.os.xq=function(b,X,q,N,J){c.os.PT(b,X,[xA.get([12,41]).charAt(0)+": "+x.hM.zP(q.n,N.Dg,J,N.n,!0),xA.get([12,42]).charAt(0)+": "+x.hM.zP(q.z,N.Dg,J,N.z,!0)],N)};
c.os.PT=function(b,X,q,N){var J=14,_=130,p=q.length*17+8,z=new R(b,X-p,_,p),g=c.os.Pt;if(g==null)g=c.os.Pt=document.createElement("canvas");
g.width=_;g.height=p;var W=g.getContext("2d");W.fillStyle="rgba(0,0,0,1)";W.fillRect(0,0,_,p);W.font=J+"px monospace";
W.fillStyle="rgba(255,255,"+(G.ks?0:255)+",1)";for(var o=0;o<q.length;o++)W.fillText(q[o],6,(o+1)*17);
N.H.vk=[[W.getImageData(0,0,_,p).data,z.clone()]]};c.os.Pt=null;c.KC="0";c.ST="1";c.xCz="2";c.xvh="3";
c.Pz="5";c.xvw="6";c.xvd="7";c.cG="8";c.xvN="9";c.CH="10";c.hS="11";c.tn="12";c.hB="13";c.Pj="14";c.xvD="16";
c.PD="18";c.xE="19";c.Po="20";c.Pc="22";c.lZ="23";c.tb="24";c.xvs="25";c.tq="27";c.xa="31";c.xRA="32";
c.xRU="34";c.xRK="35";c.xC="36";c.xR="37";c.XO="38";c.Pf="39";c.Pk="40";c.Ps="41";c.hq="42";c.CQ="43";
c.Xe="47";c.CM="51";c.tQ="52";c.tX="54";c.hE="55";c.tN="56";c.Jp="57";c.hP="58";c.CT="59";c.o_="61";
c.dL="100";c.JU="101";c.fp="230";c.xlT="231";c.JH="232";c.iz="233";c.CO="234";c.Ht="235";c.Jr="236";
c.P$=function(b){var X=c.fw,q=null;for(var N in X)if(X[N][1].indexOf(b[1].classID)!=-1)q=N;return q};
c.fw={};c.fw[c.lZ]=["tools/brush",["PbTl"]];c.fw[c.tb]=["tools/pencil",["PcTl"]];c.fw[c.xa]=["tools/eraser",["ErTl"]];
c.Un=function(b,X,q){c.os.call(this,b,X,q);this.gw={brush:b?pl.Kq():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,prsr:[!1,!0],emode:0,wconf:[40,!0,!0],algnd:!1,sfrom:0,expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:"front",patch:0};
this.Ka=null;this.Zs=null;this.zz=null;this.kd=null;this.Xb=null;this.bA=null;this.kl=null;this.EF=null;
this.DG=null;this.C$=null;this.Xv=null;this.XF=null;this.za=null;this.mi=1;this.kn=!1;this.HU=null;this.caller=null};
c.Un.prototype=new c.os;c.Un.prototype.KH=function(b,X){return b.je&&X._(S.FI)};c.Un.prototype.tx=function(b,X,q,N,J){if(N._(S.PU)){this.bA=new Ue(J.x,J.y);
var _=this.gw.brush.Brsh.v,p=_.Dmtr.v.val,z=_.Hrdn!=null?_.Hrdn.v.val:-1;this.kl=[p,z,!0,JSON.parse(JSON.stringify(this.gw.brush)),J];
this._D(q)}};c.Un.prototype.re=function(b,X,q){var N=this.kl,J=b.M.d,_=q.x-N[4].x,p=q.y-N[4].y,z=N[0],g=N[1],W=Math.abs(_)>Math.abs(p);
if(W&&N[2]){var o=Math.round(2*_/J);z+=o;q.x-=_-.5*o*J}if(!W&&!N[2]&&g!=-1){var o=Math.round(.25*p);
g+=o;q.y-=p-4*o}z=Math.max(1,z);g=N[1]==-1?-1:Math.max(0,Math.min(100,g));var y=N[3];y.Brsh.v.Dmtr.v.val=z;
if(g!=-1)y.Brsh.v.Hrdn.v.val=g;this.kl=[z,g,W,y,q];var D=xa.iG(y,X.qz.Ho,J),m=D[1];m.x=Math.round(this.bA.x-m.n/2);
m.y=Math.round(this.bA.y-m.z/2);b.H.tU=[D];var k=b.M.X$(this.bA.x,this.bA.y);b.H.Ui={kW:[],ku:[k.x-z/2,k.y,k.x+z/2,k.y]};
if(g!=-1)b.H.Ui.ku.push(k.x+50/J,k.y-g/2,k.x+50/J,k.y+g/2);b.RZ=!0};c.Un.prototype.cb=function(b,X,q,N,J){if(this.id==c.Po)return;
if(this.bA){this.bA=null;this.hF(JSON.parse(JSON.stringify(this.kl[3])));b.H.tU=[];b.H.Ui=null;b.RZ=!0;
return}var _=new Q(K.E.T,!0);_.data={V:K.a.IZ,B:this.id,xRX:"showBrushOpts",EQ:new Ue(J.tz+4,J.dH)};
X.X(_)};c.Un.prototype.hF=function(b){var X=new Q(K.E.T,!0);X.data={V:K.a.dX,Zy:n_.VT,Ty:b};this.caller.X(X)};
c.Un.Hc=function(b,X,q,N){if(b==null)b="FrgC";if(X==null)X="norm";if(q==null)q=1;var J={classID:"Fl",Usng:{t:"enum",v:{FlCn:b}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(q*100)}},Md:{t:"enum",v:{BlnM:nD.QM(X)}}};
if(b=="Clr")J.Clr={t:"Objc",v:N};if(b=="contentAware")J.contentAwareColorAdaptationFill={t:"bool",v:!0};
return{pn:"fill",nv:J}};c.Un.prototype.wt=function(b,X,q,N,J){this.jQ=X;var _=q.nI.length;if(_==0&&!q.lC())return;
var p=_!=0?-1-q.nI[0]:q.k[0],z=q.F[p];if(b.V=="fromAction"){var g=b.t_,W=g.nv;if(g.pn=="fill"){var o=(W.Opct?W.Opct.v.val:100)/100,y=W.Md?nD.ei(W.Md.v.BlnM):"norm",D=W.Usng.v.FlCn,m;
if(D=="contentAware"){if(q.p==null){alert("Select an area to heal first.");return}if(!q.lC())return;
this.xJ(q);var k=q.p,O=x.K(k.rect.c()*4);x.qR(k.channel,O,3);this.Nx(q,"sheal",O,k.rect,k.rect);this.Y(q,k.rect);
this.finish(q,k.rect)}else{if(D=="FrgC")m=J.pp;else if(D=="BckC")m=J.HO;else if(D=="Blck")m=0;else if(D=="Wht")m=16777215;
else if(D=="Gry")m=8421504;else if(D=="Clr"){var L=x.Z.vx(W.Clr.v);m=L.D<<16|L.q<<8|L.b}var I=m>>16&255,H=m>>8&255,Y=m>>0&255;
this.Py(q,z,q.p,I,H,Y,Math.round(255*o),y,[2,3])}}else if(g.pn=="delete"){var n=p<0?1:z.ZZ,k=q.p,h;if(k==null)return;
var w=p<0?q.Ff[-p-1]:n<=0?null:n==1?z.DL():z._m(q).G,t=n<=0?z.rect:w.rect,j=n<=0?k.rect.be(t):k.rect.clone();
if(j.qa())return;var E=j.c();if(n<=0){h=x.K(E*4);x.iX(z.buffer,z.rect,h,j)}else{h=x.K(E);w.extend(j);
x.rS(w.channel,w.rect,h,j)}if(0<=p&&z.Nm(q,k)){if(n<=0){x.Ws(h,0);x.iX(z.ii.vW,z.ii.pL,h,j)}else{x.set(h,255);
x.rS(z.ii.vW,z.ii.pL,h,j)}}else{if(n<=0){var u=x.K(h.length>>2);x.iJ(h,u,3);x.t.Ea(x.$j(k.rect.c()),k.rect,u,j,k.channel,j,1);
x.qR(u,h,3)}else{var Z=x.K(k.rect.c()),I=J.HO>>16&255,H=J.HO>>8&255,Y=J.HO>>0&255;x.set(Z,Math.round(x.tW(I,H,Y)));
x.t.Ea(Z,k.rect,h,j,k.channel,j,1)}}this.hf(q,!0,[2,2],p,n,j,h)}}if(b.V=="stroke"){var A=b.xRo,k=q.p;
if(k==null){k={rect:z.rect.clone(),channel:x.K(z.rect.c())};x.iJ(z.buffer,k.channel,3)}var P=nM.DE(A),T=c.rl.Mq(k,Math.ceil(P[0]),Math.ceil(P[1])),m=x.Z.vx(A.Clr.v),I=Math.round(m.D),H=Math.round(m.q),Y=Math.round(m.b);
this.Py(q,z,T,I,H,Y,Math.round(255*A.Opct.v.val/100),nD.ei(A.Md.v.BlnM),[14,9])}if(b.V=="fillBMP"){this.PZ(q,z,q.p,b.LP,b.VG,b.ds)}if(b.V=="draw"){var U=b.k_,r=b.xbT?xu.Qi.xUh(U,q):U.rect,i=this.gw.bmode;
this.xJ(q);this.gw.bmode="norm";this.Nx(q,"draw",U.buffer,r,r.be(new R(0,0,q.n,q.z)));this.gw.bmode=i;
this.Y(q,r);this.finish(q,r,b.ds,b.xbT)}};c.Un.prototype.Py=function(b,X,q,N,J,_,p,z,g){var W=q==null?new R(0,0,b.n,b.z):q.rect,o=p<<24|_<<16|J<<8|N<<0,y=x.K(W.c()*4);
x.Ws(y,o);this.PZ(b,X,q,y,z,g)};c.Un.prototype.PZ=function(b,X,q,N,J,_){var p=b.nI.length!=0?-1-b.nI[0]:b.k[0],z=p<0?1:X.ZZ,g=p<0?b.Ff[-1-p]:z<=0?null:z==1?X.DL():X._m(b).G,W=z<=0?X.rect:g.rect,o=q==null?new R(0,0,b.n,b.z):q.rect,y=q==null?x.sv(b.n*b.z):q.channel,D=o.c(),m,k=null;
if(z<=0){m=x.K(D*4);x.iX(X.buffer,X.rect,m,o)}else{m=x.K(D);g.extend(o);x.rS(g.channel,g.rect,m,o)}if(q!=null)x.si(y,N);
if(z>0){k=x.K(D);x.J_(N,k)}if(0<=p&&q&&X.Nm(b,q)){var O=X.ii.zX,L=x.clone(X.ii.zX);if(z<=0)x.vM(N,L);
else x.vM(k,L);var I=new no([2,3],this);I.data={V:"drawtemp",Q:b.k[0],Wo:z,xFr:O,xFq:L};b.wV(I);this.we(I.data,b)}else{if(z<=0)x.t.TG(J,N,o,m,o,o,1);
else x.t.Ea(k,o,m,o,y,o,1);this.hf(b,!0,_,p,z,o,m)}};c.Un.prototype.Hd=function(b){if(S.NS.indexOf(b)!=-1)return!0;
return!1};c.Un.prototype.aZ=function(b,X,q,N){var J=this.gw.brush,_=N._(S.PU),p=_!=this.kn,z=c.Un.hD(J,N);
if(z!=null)this.hF(z);if(!N._(S.zN)&&N.wv()!=-1){var g=K.xgp(Math.round(this.gw.opacity*100),N.wv())/100;
this.gw.opacity=g;var o=new Q(K.E.T,!0);o.data={V:K.a.IZ,B:this.id,dE:{opacity:g}};X.X(o)}if(this.id==c.cG&&p&&b!=null){var y=this.gw.qsmode;
if(y==2)y=b.p==null?0:1;else y=2;this.hG(y,X)}this.kn=_;if(p){if(b)this.mi=b.M.d;this._D(q,N)}};c.Un.hD=function(b,X){var q=b.Brsh.v.Dmtr.v.val,N=b.Brsh.v.Hrdn!=null?b.Brsh.v.Hrdn.v.val:-1,J=q,_=N,p=X._(S.FI);
if(X._(S.N_)){if(p)N=25*Math.floor((N-1)/25);else{if(q<=10)q--;else if(q<=50)q=5*Math.floor((q-1)/5);
else if(q<=100)q=10*Math.floor((q-1)/10);else if(q<=200)q=25*Math.floor((q-1)/25);else if(q<=400)q=50*Math.floor((q-1)/50);
else q=100*Math.floor((q-1)/100)}}if(X._(S.wQ)){if(p)N=25*Math.ceil((N+1)/25);else{if(q<10)q++;else if(q<50)q=5*Math.ceil((q+1)/5);
else if(q<100)q=10*Math.ceil((q+1)/10);else if(q<200)q=25*Math.ceil((q+1)/25);else if(q<400)q=50*Math.ceil((q+1)/50);
else q=100*Math.ceil((q+1)/100)}}q=Math.max(1,q);N=Math.max(0,Math.min(100,N));if(_==-1)N=-1;if(q!=J||N!=_){var z=JSON.parse(JSON.stringify(b));
z.Brsh.v.Dmtr.v.val=q;if(_!=-1)z.Brsh.v.Hrdn.v.val=N;return z}return null};c.Un.prototype._D=function(b,X,q,N){if(b.qz.list.length==0)return;
var J=this.id,_;if((J==c.tq||J==c.xE||J==c.lZ||J==c.tb)&&X!=null&&X._(S.PU))_="crosshair";else{var p=this.mi,z=this.gw.brush,g;
if(q&&q.k.length!=0)g=q.F[q.k[0]];if((J==c.tq||J==c.xE)&&g!=null&&g.ZZ<=0){var W=q.M.X$(N.x,N.y),o=this.MH(W),y=this.gw.sfrom,D=g.buffer,m=g.rect,w,t;
if(y!=0){m=new R(0,0,q.n,q.z);D=q.US(y==1&&q.k[0]!=q.F.length-1?q.k[0]:null)}var k=new R(m.x+o.x,m.y+o.y,m.n,m.z),O=xa.iG(z,b.qz.Ho,p),L=O[0],I=O[1],H=Math.ceil(I.n/p),Y=new R(Math.round(W.x-H/2),Math.round(W.y-H/2),H,H),n=x.K(Y.c()*4);
x.iX(D,k,n,Y);if(p==1){w=n;t=Y}else if(p<1){var j=x.bH(n,Y,p);w=j.Dl;t=j.rect;if(t.c()!=I.c()){t=I.clone();
t.x=j.rect.x;t.y=j.rect.y;w=x.K(t.c()*4);x.iX(j.Dl,j.rect,w,t)}}else{w=L.slice(0);t=I;x.scale.wN(n,Y.n,Y.z,w,t.n,t.z,p)}var E=this.gw.opacity/255;
for(var h=0;h<w.length;h+=4)w[h+3]=E*(L[h+3]*w[h+3]);_={uC:w,h:t,gv:new Ue(t.n/2,t.z/2)}}else _=xa.im(z,b.qz.Ho,p)}var u=new Q(K.E.T,!0);
u.data={V:K.a.KW,Lf:_};if(this.caller)this.caller.X(u)};c.Un.prototype.enable=function(b,X,q,N){this.Ka=q;
this.caller=X;this.hF(JSON.parse(JSON.stringify(this.gw.brush)));if(b&&b.M.d!=0)this.mi=b.M.d;this._D(q,N)};
c.Un.prototype.TY=function(b,X){if(X==n_.VT){this.gw.brush=b.qz.kY;this._D(b)}};c.Un.prototype.gJ=function(b,X,q,N,J){for(var _ in b)this.gw[_]=b[_]};
c.Un.prototype.xJ=function(b,X){var q=b.nI.length!=0?-1-b.nI[0]:b.k[0],N=b.F[q],J=q<0?1:N.ZZ,_=q<0?b.Ff[-q-1]:J<=0?null:J==1?N.DL():N._m(b).G;
this.za=b.p==null?null:{rect:b.p.rect.clone(),channel:x.clone(b.p.channel)};this.C$=_?_.channel:N.buffer;
this.DG=(_?_.rect:N.rect).clone();var p=new R(0,0,b.n,b.z),z=p.Tg(this.DG);if((this.Jq()&&J<=0||z.Rj(this.DG))&&X!=!0)this.C$=this.C$.slice(0);
else{if(_)_.extend(z);else N.extend(z)}this.Xv=this.DG;this.XF=this.C$;if(J<=0&&(this.id==c.tq||this.id==c.xE)){var g=this.gw.sfrom;
if(g!=0){this.Xv=new R(0,0,b.n,b.z);this.XF=x.clone(b.US(g==1&&b.k[0]!=b.F.length-1?b.k[0]:null))}}};
c.Un.prototype.JB=function(b,X,q){if(b._(S.PU)){var N=new Q(K.E.e,!0);N.B=c.Pj;N.data={V:"pickhere",xFF:q};
X.X(N);return!0}return!1};c.Un.prototype.hU=function(b,X,q,N,J,_){if(!b.lC()){this.Zs=null;return}this.xJ(b);
var p=new R(0,0,b.n,b.z),z=null;if(_!=null){var g=b.nI.length!=0?-1-b.nI[0]:b.k[0],W=b.F[g],o=g<0?b.Ff[-g-1]:W.ZZ<=0?null:W.ZZ==1?W.DL():W._m(b).G;
z=x.K(p.c()*4);if(o)c.Un.NW(this.C$,this.DG,o.color,z,p);else x.iX(this.C$,this.DG,z,p)}var y=this.gw;
if(this.Zs&&this.id==c.cG&&y.qsmode!=0){}else{var D=X.pp,m=X.HO;if(this.HU=="erase"){var k=D;D=m;m=k}var O=this.id==c.cG?this.DG:p;
this.Zs=new xa(y.brush,X.qz.Ho,X.qz.Oh,{Tn:J,XD:_,xFu:y.smth*50*K.u()/b.M.d,XV:this.id==c.tb||y.emode==1,kT:y.prsr},D,m,O,z)}if(this.id==c.cG){this.Zs.xab(y.brush,y.qsmode==2?0:16777215)}var L=b.M.X$(N.x,N.y);
L=c.Gk.Lg(b,L,X);if(q._(S.FI)&&this.zz){this.Zs.moveTo(this.zz.x,this.zz.y,N.Et);this.Zs.lineTo(L.x,L.y,N.Et)}else this.Zs.moveTo(L.x,L.y,N.Et);
this.zz=L;this.kd=L.clone();this.Xb=new Sq(L)};c.Un.prototype.hs=function(b,X,q){if(b.M.d!=0&&b.M.d!=this.mi){this.mi=b.M.d;
this._D(q)}};c.Un.prototype.EK=function(b,X,q,N){if(this.Zs==null)return;var J=b.F[b.k[0]],_=b.M.X$(N.x,N.y);
_=c.Gk.Lg(b,_,X);var p=this.Xb.Dc(_,q);if(p.Rj(this.zz))return 1;this.Zs.lineTo(p.x,p.y,N.Et);this.zz=p};
c.Un.prototype.XN=function(b,X,q,N){if(this.id!=c.cG||b==null)return;if(b.p==null||b.k[0]!=this.xFY){this.xFY=b.k[0];
this.hG(0,X)}};c.Un.prototype.Y=function(b,X){if(b.nI.length!=0){b.RZ=!0;return}var q=b.F[b.k[0]];if(X==null){X=this.Zs.iY();
if(this.Jq()&&q.ZZ<=0)X=X.be(this.DG)}if(X.qa())return;if(q.ZZ<=0){q.Y(X)}if(q.ZZ==1){q.DL().zY=!0;q.he(b)}if(q.ZZ==3){q.Y()}b.Y(b.root.PV(X,b,b.k[0]))};
c.Un.prototype.TE=function(b,X,q,N,J){if(this.Zs==null)return;this.Zs.finish();if(this.id!=c.PD&&this.id!=c.xE&&this.id!=c.cG)this.Rp(b);
if(this.id==c.cG){var _=b.p;b.p=this.za;var p=new Q(K.E.e,!0);p.data={V:"setsel",ds:this.name,p:_};p.B=c.ST;
X.X(p);if(this.gw.qsmode==0)this.hG(1,X)}else{this.finish(b,this.Zs.lt());this.Zs=null;this.EF=null}this.dir=0};
c.Un.prototype.hG=function(b,X){if(b==this.gw.qsmode)return;this.gw.qsmode=b;var q=new Q(K.E.T,!0);q.data={V:K.a.IZ,B:this.id,dE:{qsmode:b}};
X.X(q)};c.Un.prototype.Jq=function(){var b=this.id;return b==c.cG||b==c.xa||b==c.Pf||b==c.Pk||b==c.Ps||b==c.Pc};
c.Un.prototype.finish=function(b,X,q,N){var J=b.nI.length!=0?-1-b.nI[0]:b.k[0],_=b.F[J],p=J<0?1:_.ZZ,z=J<0?b.Ff[-J-1]:p<=0?null:p==1?_.DL():_._m(b).G,g=z?z.rect:_.rect,y;
if(this.Jq()||!g.Rj(this.DG)){if(z==null){if(this.Jq())_.Du();else{var W=X.Tg(this.DG),o=x.K(W.c()*4);
x.iX(_.buffer,_.rect,o,W);_.buffer=o;_.rect=W}}else z.Du();this.Y(b,g)}if(p<=0){y=x.K(X.c()*4);x.iX(this.C$,this.DG,y,X)}else{y=x.K(X.c());
x.set(y,z.color);x.rS(this.C$,this.DG,y,X)}this.hf(b,!1,q?q:this.name,J,p,X,y,N)};c.Un.prototype.hf=function(b,X,q,N,J,_,p,z){var g=p;
if(J>0){g=x.K(_.c()*4);c.Un.NW(p,_,0,g,_)}var o=new no(q,this);o.data=[{Q:N,Wo:J,h:_,FU:g}];if(z)o.data.xKA=[b.p,null];
b.wV(o);if(X)this.we(o.data,b);else if(z)b.p=null;xu.wB.xxY(b,o.data)};c.Un.prototype.it=function(b,X){this.MA(b,X,!1)};
c.Un.prototype.we=function(b,X){this.MA(b,X,!0)};c.Un.prototype.MA=function(b,X,q){if(b.V=="drawtemp"){var N=q?b.xFq:b.xFr,J=X.F[b.Q];
J.ii.zX=N;J.QI(X,0,0,X.p);J.Y()}else{xu.wB.RG(X,b);if(b.xKA){X.p=b.xKA[q?1:0];X.Tf=!0}}X.Y()};c.Un.prototype.Rp=function(b){this.Nx(b,this.HU,this.Zs.yD(),this.Zs.pi(),this.Zs.iY());
this.Y(b)};c.Un.prototype.Nx=function(b,X,q,N,J){var _=this.gw,p=b.F[b.k[0]],z=b.nI.length!=0?b.Ff[b.nI[0]]:p.ZZ<=0?null:p.ZZ==1?p.DL():p._m(b).G,g=x.K(J.c()*4);
if(z==null){x.iX(this.C$,this.DG,g,J)}else{c.Un.NW(this.C$,this.DG,z.color,g,J)}if(b.p&&X!="qselect"){var W=J.be(b.p.rect),o=x.K(W.c()*4);
if(X=="copy"){var y=x.K(W.c());x.rS(b.p.channel,b.p.rect,y,W);x.iX(g,J,o,W);x.t.gB(q,N,o,W,y,W,0,W,1,!1)}else{x.iX(q,N,o,W);
x.KI(b.p.channel,b.p.rect,o,W)}q=o;N=W}if(X=="idraw"||X=="ierase"){if(this.EF==null)this.EF=x.K(this.DG.c());
var D=this.gw.samp,m=this.Ka.HO,k=D==0?this.zz:this.kd,O=k.x,L=k.y,I=c.Vo.zj(this.C$,this.DG,[k,new Ue(O-2,L),new Ue(O+2,L),new Ue(O,L-2),new Ue(O,L+2)]);
if(D==2)I=[[m>>>16&255,m>>>8&255,m>>>0&255,255]];var H=c.Vo.ty(g,J,this.zz,I,this.gw.wconf),Y=x.K(J.c());
x.rS(this.EF,this.DG,Y,J);x.aV.Tg(H,Y,Y);x.rS(Y,J,this.EF,this.DG);x.KI(Y,J,q,N);X=X.slice(1)}if(X=="erase"&&(xu.wB.xxP(b)!=16777215||z))X="draw";
if(X=="draw")x.t.TG(_.bmode,q,N,g,J,J,_.opacity);else if(X=="erase"){var n=x.K(J.c()*4);x.iX(q,N,n,J);
if(z==null){var w=x.K(J.c());x.iJ(n,w,3);x.WA(w,_.opacity);x.Kn(w);x.KI(w,J,g,J)}else{x.Ws(n,0,4278190080);
x.t.TG("norm",n,J,g,J,J,_.opacity)}}else if(X=="clone"||X=="heal"){var t=this.hm(),j=this.Xv.clone();
j.offset(t.x,t.y);var E=J.clone();E.Ii(1,1);var h=x.K(E.c()*4),u=x.K(E.c());x.iX(q,N,h,E);x.iJ(h,u,3);
x.Ws(h,0);if(z==null){x.iX(this.XF,j,h,E);var Z=x.K(E.c());x.iJ(h,Z,3);x.Wx(Z,u)}else c.Un.NW(this.C$,j,z.color,h,E);
if(X=="clone"){x.qR(u,h,3);x.t.TG(_.bmode,h,E,g,J,J,_.opacity)}if(X=="heal"){var A=x.clone(u);x.round(A,20);
var P=x.K(E.c()*4);x.iX(this.C$,this.DG,P,E);x.t.gB(h,E,P,E,A,E,0,E,1,!1);x.YB.sJ(P,A,E);x.t.gB(P,E,g,J,u,E,0,J,1,!1)}}else if(X=="dodge"||X=="burn"){var h=x.K(J.c()*4),r=1,i=0,V=0,F=0;
x.iX(q,N,h,J);var T=J.c()*4,U=c.Un.JC;if(this.kn){if(X=="dodge")X="burn";else X="dodge"}var B=_.rng;
if(X=="dodge"){i=[1-r/2,1,1+r][B];V=[1,1/(1+r),1][B];F=[r/2,0,0][B]}if(X=="burn"){i=[1/(1-r/2),1,1-r/2][B];
V=[1,1+r,1][B];F=[-(r/2)/(1-r/2),0,0][B]}for(var $=0;$<T;$+=4){var l=h[$+3];g[$+0]=U(g[$+0],i,V,F,l);
g[$+1]=U(g[$+1],i,V,F,l);g[$+2]=U(g[$+2],i,V,F,l)}}else if(X=="sponge"||X=="redeye"){var h=x.K(J.c()*4),u=x.K(J.c());
x.iX(q,N,h,J);x.iJ(h,u,3);x.vM(g,h);var v=_.smode;if(this.kn)v=1-v;var C=nm.Z$("hue2");if(X=="sponge")xz.DA(C,0,[0,[-50,46][v],[6,5][v]]);
else xz.DA(C,1,{ay:[265,305,25,55],hV:[0,-90,-70]});var f=nY.fb("hue2",C);nY.dI(f,h,h,J);x.t.gB(h,J,g,J,u,J,0,J,1,!1)}else if(X=="copy")x.iX(q,N,g,J);
else if(X=="sheal"){var h=x.K(J.c()*4),u=x.K(J.c());x.iX(q,N,h,J);x.iJ(h,u,3);x.ZT.sJ(this.C$,this.DG,u,g,J)}else if(X=="qselect"){var nx=this.DG,nA=nx.n,nU=nx.z,nn=nA*nU,nH=this.Zs.yD(),I=this.C$,d=c.rl.JF,u=d.RP;
u.fill(128);for(var $=0;$<nn;$++){var np=nH[$<<2],a=nH[($<<2)+3];if(a==255&&(np==0||np==255))u[$]=np}u[0]=u[nA-1]=0;
u[(nU>>>1)*nA]=u[(nU>>>1)*nA+nA-1]=0;c.gV.Xh(d,!0);b.p={rect:nx,channel:d.p.slice(0)};b.Tf=!0}if(z==null)x.iX(g,J,p.buffer,p.rect);
else c.Un.JR(g,J,z)};c.Un.hm=function(){return null};c.Un.JC=function(b,X,q,N,J){var _=b*(1/255),p=N+X*Math.pow(_,q),z=Math.round(p*J+_*(255-J));
return Math.max(0,Math.min(255,z))};c.Un.NW=function(b,X,q,N,J){var _=x.K(J.c());x.set(_,q);x.rS(b,X,_,J);
x.Ws(N,4278190080);x.bK(_,N)};c.Un.JR=function(b,X,q){var N=x.K(X.c());x.J_(b,N);x.rS(N,X,q.channel,q.rect)};
c.rl=function(b,X,q){c.os.call(this,b,X,q);this.gw={dx:"front",Zt:0,RD:{vd:0,x:3,y:2},XZ:[10,!0,!0]};
this.DP=new Ue(-1,-1);this.Z_=new Ue(-1,-1);this.pf="default";this.jQ=null;this.kB=!1;this.Nr=!1;this.kn=!1;
this.tB=0;this.WV=0;this.tP=!1;this.EJ=null;this.wn=null;this.kj=!1};c.rl.prototype=new c.os;c.rl.JF={key:""};
c.rl.Jd=function(b,X){var q={pn:b,nv:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(X)q.nv.T=X;return q};c.rl.Hi=function(b,X){return c.rl.Jd("set",{t:"Objc",v:{classID:b,Top:{t:"UntF",v:{type:"#Pxl",val:X.y}},Left:{t:"UntF",v:{type:"#Pxl",val:X.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:X.y+X.z}},Rght:{t:"UntF",v:{type:"#Pxl",val:X.x+X.n}}}})};
c.rl.xO=function(b,X){var q=[],N=[],p="set";for(var J=0;J<b.length;J+=2){q.push(b[J]);N.push(b[J+1])}var _={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:q},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:N}]}}}};
if(X)p={front:"set",union:"addTo",difference:"subtractFrom",intersection:"interfaceWhite"}[X];return c.rl.Jd(p,_)};
c.rl.xRS=function(b,X){var q={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:b.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:b.y}}}},N=c.rl.Jd("set",q);
N.nv.Tlrn={t:"long",v:X[0]};N.nv.AntA={t:"bool",v:X[1]};N.nv.Cntg={t:"bool",v:X[2]};return N};c.rl.zL=function(b){return c.rl.Jd("set",{t:"enum",v:{Ordn:b?"Al":"None"}})};
c.rl.xRd=function(b,X,q){var N={classID:"null"};if(b!="border")N.selectionModifyEffectAtCanvasBounds={t:"bool",v:q};
var J={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[b[0]];N[J]={t:"UntF",v:{type:"#Pxl",val:X}};return{pn:b,nv:N}};
c.rl.xRl=function(b,X,q){var N={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},J={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Trsp","Msk"][q]}},{t:"name",v:{classID:"Lyr",val:b}}]},_=[{classID:"null",null:N,T:J},{classID:"null",null:J,T:N},{classID:"null",null:J,From:N},{classID:"null",null:J,With:N}],p=["set","add","subtract","interfaceIconFrameDimmed"];
return{pn:p[X],nv:_[X]}};c.rl.Mx=function(b,X){var q=new Q(K.E.T,!0);q.data={V:K.a.dX,Zy:n_.Fu};if(!X.Jk)b.X(q);
q.data={V:K.a.dX,Zy:n_.NA};if(!X.ht.Up)b.X(q)};c.rl.prototype.wt=function(b,X,q,N,J){c.rl.Mx(X,J);this.jQ=X;
var _=b.V,p,z,g=new R(0,0,q.n,q.z),nE=!1,nh,nv;if(_=="fromAction"){var W=b.t_,o=W.pn,y=W.nv,D=y?y.selectionModifyEffectAtCanvasBounds:null,m=D&&D.v;
if(o=="inverse"){if(q.p==null){alert("No selection!");return}p={channel:x.K(g.c()),rect:g};x.rS(q.p.channel,q.p.rect,p.channel,p.rect);
x.Kn(p.channel);z=[7,2]}else if(o=="expand"){var k=y.By.v.val,O=q.p.rect.clone();O.Ii(k,k);var L=x.K(O.c()),I=x.K(O.c());
x.rS(q.p.channel,q.p.rect,I,O);x.style.stroke(I,L,O,k);p={channel:L,rect:O};z=[7,4]}else if(o=="contract"){var k=y.By.v.val,H=q.p.rect.clone();
H.Ii(1,1);if(!m)H=H.be(g);var I=x.K(H.c()),Y=x.K(I.length);x.rS(q.p.channel,q.p.rect,I,H);x.Kn(I);x.style.stroke(I,Y,H,k);
x.Kn(Y);p={channel:Y,rect:H};x.Du(p);z=[7,5]}else if(o=="border"){var k=y.Wdth.v.val;p=c.rl.Mq(q.p,k/2,k/2);
z=[7,9]}else if(o=="feather"||o=="smoothness"){var k=y.Rds.v.val;p=c.rl.MB(q.p,k,o=="smoothness",g,m);
z=o=="feather"?[7,6]:[19,3,0]}else{var n=y.null.v;function w(ny){var xp=ny.Top.v.val,nw=ny.Left.v.val;
return new R(nw,xp,ny.Rght.v.val-nw,ny.Btom.v.val-xp)}function t(ny){var xp=ny[0].arr,nW=ny[1].arr,nk={r:[],W:[]};
for(var nq=0;nq<xp.length;nq++){nk.W.push(nq==0?"M":"L");nk.r.push(xp[nq],nW[nq])}nk.W.push("Z");return nk}var j=["set","addTo","subtractFrom","interfaceWhite"].indexOf(o),E=y.T?y.T.v:null;
if(E&&E.classID=="Elps"){p=this.Mr(c.Cj.MR(w(E)));z=[10,4]}else if(E&&E.classID=="Rctn"){var h=w(E);
p={channel:x.K(h.c()),rect:h.clone()};x.set(p.channel,255);z=[10,15]}else if(E&&E.classID=="ObSl"){var h=w(E),u=c.rl.JF,Z=u.rect,A=u.RP,P=Z.n,T=Z.z,r=h.x-Z.x,i=r+h.n-1,V=Math.max(r,Math.min(i,r+i>>>1)),F=h.y-Z.y,B=F+h.z-1,$=Math.max(F,Math.min(B,F+B>>>1)),l=Math.max(r,0),v=Math.min(i,P),C=Math.max(F,0),f=Math.min(B,T);
A.fill(128);if(0<=F)for(var nx=l;nx<v;nx++)A[F*P+nx]=0;if(B<T)for(var nx=l;nx<v;nx++)A[B*P+nx]=0;if(0<=r)for(var nA=C;
nA<f;nA++)A[nA*P+r]=0;if(i<P)for(var nA=C;nA<f;nA++)A[nA*P+i]=0;var nU=c.mk.xbz,nn=Math.round(h.n*nU),nH=Math.round(h.z*nU);
for(var nx=Math.max(0,V-nn);nx<Math.min(P,V+nn);nx++)A[$*P+nx]=255;for(var nA=Math.max(0,$-nH);nA<Math.min(T,$+nH);
nA++)A[nA*P+V]=255;c.gV.Xh(u,!0);p={channel:u.p.slice(0),rect:Z.clone()};z=[10,44]}else if(E&&E.classID=="Plgn"){p=this.Mr(t(E.Pts.v.arr));
z=[10,9]}else if(E&&E.classID=="Pnt"){p=c.Vo.tJ(q,new Ue(E.Hrzn.v.val,E.Vrtc.v.val),[y.Tlrn.v,y.AntA==null||y.AntA.v,y.Cntg==null||y.Cntg.v]);
z=[10,12]}else if(E&&E.Ordn=="None"){p=null;z=[7,1]}else if(E&&E.Ordn=="Al"){p={channel:x.K(g.c()),rect:g};
x.set(p.channel,255);z=[7,0]}else{var d=q.k[0],nK;if(n.length==2)d=_U.sq(q,n[1]);else if(E.length==2)d=_U.sq(q,E[1]);
var np=(E?E:n)[0].v.enum,a=["Trsp","Msk","vectorMask"].indexOf(np);console.log(a);var nb=j!=-1?j:["set","add","subtract","interfaceIconFrameDimmed"].indexOf(o);
if(E&&E[0].t=="name"){for(var nq=0;nq<q.Ff.length;nq++)if(q.Ff[nq].name==E[0].v.val)d=nq;nK={V:"fromchannel",DM:[-5-d,0,nb]}}else if(np=="RGB")nK={V:"fromchannel",DM:[-1,0,nb]};
else nK={V:"fromlayer",DM:[d,a,nb]};this.wt(nK,X,q,N,J);return}if(y.Fthr)p=c.rl.MB(p,y.Fthr.v.val,!1);
if(o!="set"&&q.p!=null)p=x.aV.rK(p,q.p,["","union","difference","intersection"][j])}if(o=="expand"||o=="contract")if(!m&&!g.contains(p.rect)){var nS=p.rect.be(g),nB=x.K(nS.c());
x.rS(p.channel,p.rect,nB,nS);p.channel=nB;p.rect=nS}}if(_=="qmask"){nE=!0;var nC=q._l(),nR=new R(0,0,q.n,q.z);
if(nC){p=nC.rect.Rj(nR)&&x.lc(nC.channel,255)?null:{rect:nC.rect.clone(),channel:nC.channel.slice(0)};
nh=nC}else{p=null;nv=new M.ah;nv.color=0;nv.name="Quick Mask";nv.rX=!0;if(q.p){nv.rect=q.p.rect.clone();
nv.channel=q.p.channel.slice(0)}else{nv.rect=nR;nv.channel=x.K(nv.rect.c());x.set(nv.channel,255)}}z=[6,6,1]}if(_=="setsel"){p=b.p;
z=b.ds}if(_=="crange"){var nu=b.UK,nF=b.UC;p=c.rl.Mh(q,nu,nF,b.dF);z=[7,8];nu={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:nu.kf},A:{t:"doub",v:nu.i},B:{t:"doub",v:nu.b}}};
nF={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:nF.kf},A:{t:"doub",v:nF.i},B:{t:"doub",v:nF.b}}};this.track({pn:"colorRange",nv:{__name:"Color Range",classID:"ClrR",Fzns:{t:"long",v:Math.round(b.dF*200)},Mnm:nu,Mxm:nF,colorModel:{t:"long",v:0}}})}if(_=="makeselection"){var nP=q.Ku()[0];
this.wt({V:"fromlayer",DM:[nP[0].aP,2,0]},X,q,N,J);return}if(_=="fromlayer"||_=="fromchannel"){var ni=b.DM[0],a=b.DM[1],j=b.DM[2];
if(_=="fromlayer"){if(ni==null)ni=q.k[0];if(0<=ni){var nw=q.F[ni];if(a==0){var nO=nw.rect,nT=nw.buffer;
if(nO.qa())return;var nI=x.K(nT.length>>>2);x.iJ(nT,nI,3);p={channel:nI,rect:nO.clone()}}else{if(nw.G==null)nw.he(q);
var gu=a==1?nw.DL():nw.G;p=c.rl.Mg(gu,g)}this.track(c.rl.xRl(nw.getName(),j,a))}else{var nN=q.Dx[-1-ni],gu=nN.add.vmsk.DL(),xn=gu.pi();
if(xn.c()==0)return;var nI=gu.QT(),nL=q._H.indexOf(-1-ni);if(nL!=-1)q._H.splice(nL,1);p={channel:nI,rect:xn}}}else{if(-5<ni&ni<0){var nV=-ni-1,nX=q.US(),nI=x.K(g.c());
if(nV==0)x.J_(nX,nI);else x.iJ(nX,nI,nV-1);p={channel:nI,rect:g.clone()}}if(ni<-4){p=c.rl.Mg(q.Ff[-ni-5],g)}}if(j!=0&&q.p)p=x.aV.rK(p,q.p,["","union","difference","intersection"][j]);
z=[14,11]}if(p!=null&&x.lc(p.channel,0)){p=null;z=[7,1]}if(p)x.Du(p);var xY=new no(z,this);xY.data={V:"changesel",za:q.p,Tk:p,_l:nE,xKd:nh,xKe:nv};
q.wV(xY);this.we(xY.data,q)};c.rl.Mg=function(b,X){var q,N;if(b.vx()==0){N=b.pi();if(N.c()==0)return;
q=b.QT()}else{N=X;q=x.K(N.c());b.$O(N,q)}return{channel:q,rect:N}};c.rl.prototype.KH=function(b){return this.tP||b.je&&this.id!=c.Pz};
c.rl.prototype.vl=function(b,X,q){var N=new Q(X,!0);N.data=q;b.X(N)};c.rl.prototype.Mp=function(b,X){var q=new Q(K.E.T,!0);
q.data={V:K.a.KW,Lf:X};b.X(q)};c.rl.prototype.pi=function(b,X,q){X=b.p==null||this.tB>1||this.WV>1?X:null;
var N=this.DP,J=this.Z_;if(q){N.x=Math.max(0,Math.min(b.n,N.x));N.y=Math.max(0,Math.min(b.z,N.y));J.x=Math.max(0,Math.min(b.n,J.x));
J.y=Math.max(0,Math.min(b.z,J.y))}var _=c.od.EW(N,J,X,!0,this.gw.RD),p=_[0].x,z=_[0].y;return new R(p,z,_[1].x-p,_[1].y-z)};
c.rl.prototype.vP=function(b,X,q,N,J){if(this.Hl())return;this.jQ=X;this.kB=!1;this.Nr=N._(S.FI);this.kn=N._(S.PU);
this.tB=this.Nr?0:1;this.WV=this.kn?0:1;this.DP=b.M.X$(J.x,J.y);this.DP=c.Gk.Lg(b,this.DP,q);if(this.MU(b,this.DP)){this.tP=!0;
this.EJ=b.p.rect.clone();return}this.oL(b,q,N,J);b.M.t$=new R};c.rl.prototype.MU=function(b,X){if(b.p&&this.gw.dx=="front")return x.hT(X,b.p.channel,b.p.rect);
return!1};c.rl.prototype.fI=function(b,X,q,N,J){this.jQ=X;if(this.kj)return;var _=b.M.X$(J.x,J.y);if(Ue.NH(this.DP,_)*b.M.d>5)this.kB=!0;
if(N._(S.oW)){if(this.wn==null)this.wn=new Ue(_.x-this.DP.x,_.y-this.DP.y);this.DP.x=_.x-this.wn.x;this.DP.y=_.y-this.wn.y}else this.wn=null;
this.Z_=_;if(!this.tP)this.Z_=c.Gk.Lg(b,this.Z_,q);if(this.MU(b,this.Z_))this.Mp(X,"move");else this.Mp(X,this.pf);
if(this.tP){var p=this.EJ.clone();p.x+=this.Z_.x-this.DP.x;p.y+=this.Z_.y-this.DP.y;var z=c.Gk.Ck(b,p,q);
b.p.rect.x=Math.round(this.Z_.x-this.DP.x+this.EJ.x+z[0]);b.p.rect.y=Math.round(this.Z_.y-this.DP.y+this.EJ.y+z[1]);
b.Tf=!0;c.Gk.Cm(b,p,z);return}this.YF(b,q,N,J);if(b.M.t$)b.M.t$=this.pi(b,N)};c.rl.prototype.Hl=function(){return!1};
c.rl.prototype.TE=function(b,X,q,N,J){b.M.t$=null;this.Z_=b.M.X$(J.x,J.y);this.Z_=c.Gk.Lg(b,this.Z_,q);
if(this.tP){this.tP=!1;if(this.Z_.Rj(this.DP)&&this.MS()=="front"){this.vl(X,K.E.gy,c.rl.zL());return}this.Mn(b,this.EJ,b.p.rect.clone());
if(b!=null&&b.H.DW){b.H.DW=null;b.RZ=!0}return}this.QB(b,q,N,J);c.rl.Mx(X,q)};c.rl.prototype.Mn=function(b,X,q){var N=b.Sq();
if(N!=null&&N.B==this&&N.data.V=="movesel"){}else{N=new no([7,7],this);N.data={V:"movesel",Ls:X};b.wV(N)}N.data.JS=q;
this.we(N.data,b)};c.rl.prototype.tx=function(b,X,q,N,J){this.kj=!0};c.rl.prototype.cb=function(b,X,q,N,J){var _=new Q(K.E.T,!0);
_.data={V:K.a.IZ,B:this.id,pT:J,Hp:b,pe:q};X.X(_);this.kj=!1};c.rl.prototype.aZ=function(b,X,q,N){var J=N._(S.FI),_=N._(S.PU);
if(this.kB){if(this.tB==0&&!J)this.tB++;if(this.tB==1&&J)this.tB++;if(this.WV==0&&!_)this.WV++;if(this.WV==1&&_)this.WV++}if(b!=null&&b.p!=null){var p=N.oH();
if(p.x!=0||p.y!=0){var z=b.p.rect.clone();z.x+=p.x;z.y+=p.y;this.Mn(b,b.p.rect.clone(),z)}}var g=c.rl.HL(this.gw.dx,J,_),W=new Q(K.E.T,!0);
W.data={V:K.a.IZ,B:this.id,dx:g};X.X(W)};c.rl.prototype.finish=function(b,X,q,N){var J=b.p,_=this.getSelection(b,X,q,N);
if(_==null)_=c.rl.zL();else{var p=this.gw.Zt,z=this.MS();if(p!=0)_.nv.Fthr={t:"UntF",v:{type:"#Pxl",val:p}};
if(z!="front"&&z!="xor")_.pn={union:"addTo",difference:"subtractFrom",intersection:"interfaceWhite"}[z]}this.vl(this.jQ,K.E.gy,_);
this.DP.gM(-1,-1);this.Z_.gM(-1,-1)};c.rl.prototype.MS=function(){return c.rl.HL(this.gw.dx,this.Nr,this.kn)};
c.rl.HL=function(b,X,q){if(X)b="union";if(q)b="difference";if(X&&q)b="intersection";return b};c.rl.prototype.getSelection=function(b,X,q,N){return null};
c.rl.prototype.oL=function(b,X,q,N){};c.rl.prototype.YF=function(b,X,q,N){};c.rl.prototype.QB=function(b,X,q,N){};
c.rl.prototype.it=function(b,X){var q=b.V;if(q=="changesel")X.p=b.za;if(q=="movesel")X.p.rect=b.Ls;if(b._l){if(b.xKd){X.nI=[X.Ff.length];
X.Ff.push(b.xKd)}else{X.Ff.pop();X.nI=[]}}X.Tf=!0};c.rl.prototype.we=function(b,X){var q=b.V;if(q=="changesel")X.p=b.Tk;
if(q=="movesel")X.p.rect=b.JS;if(b._l){if(b.xKe){X.nI=[X.Ff.length];X.Ff.push(b.xKe)}else{X.Ff.pop();
X.nI=[]}}X.Tf=!0};c.rl.prototype.gJ=function(b){this.gw=b};c.rl.prototype.Mr=function(b){var X=x.j.z_(b.r);
if(X.qa())return null;var q=K.m("canvas","");q.width=X.n;q.height=X.z;var N=q.getContext("2d");N.beginPath();
N.translate(-X.x,-X.y);Typr.U.pathToContext({cmds:b.W,crds:b.r},N);N.closePath();N.fill();var J=x.K(X.c()),_=N.getImageData(0,0,q.width,q.height);
x.iJ(_.data,J,3);return{rect:X,channel:J}};c.rl.MB=function(b,X,q,N,J){if(q)X=Math.round(X*.7);var _=Math.ceil(2.6*X),p=b.rect.clone();
p.Ii(_,_);if(N&&!J)p=p.be(N);var z=x.K(p.c()),g=x.K(z.length);x.rS(b.channel,b.rect,g,p);x.blur.Jh(g,z,p,X);
if(q){var W=z.length;for(var o=0;o<W;o++){var y=(z[o]-128)*X*2.5;z[o]=Math.max(0,Math.min(255,Math.round(128+y)))}}return{channel:z,rect:p}};
c.rl.Mq=function(b,X,q){var N=Math.max(1,Math.ceil(q)),J=b.rect.clone();J.Ii(N,N);var _=J.c(),p={channel:x.K(_),rect:J},z=x.K(_);
x.rS(b.channel,b.rect,z,p.rect);if(q!=0)x.style.stroke(z,p.channel,p.rect,q);else x.vM(z,p.channel);
var g=x.K(_);x.Kn(z);if(X!=0)x.style.stroke(z,g,p.rect,X);else x.vM(z,g);x.aV.be(p.channel,g,p.channel);
return p};c.rl.Mh=function(b,X,q,N){var J=new R(0,0,b.n,b.z),_=b.US();if(b.p){var p=b.p.rect.be(J),z=x.K(p.c()*4);
x.iX(_,J,z,p);J=p;_=z}var g=J.c(),o=x.K(g),y=1/N;for(var m=0;m<g;m++){var k=m<<2,O=x.tT(_[k],_[k+1],_[k+2]),L=x.sS(O,X,q,N,y);
o[m]=255*L}return{rect:J,channel:o}};c.Jl=function(){c.Un.call(this,[10,18],c.xC,"tools/blur");this.HU="copy"};
c.Jl.prototype=new c.Un;c.Jl.prototype.vP=function(b,X,q,N,J){var _=N._(S.PU)?xa.DV:xa.xC;this.hU(b,q,N,J,this.gw.strn,_);
if(this.Zs==null)return;this.Rp(b)};c.Jl.prototype.fI=function(b,X,q,N,J){this.hs(b,X,q);if(this.bA)this.re(b,q,J);
if(this.Zs==null)return;if(!J.je)return;this.EK(b,q,N,J);this.Rp(b)};c.JI=function(){c.Un.call(this,[10,0],c.lZ,"tools/brush");
this.HU="draw"};c.JI.prototype=new c.Un;c.JI.prototype.vP=function(b,X,q,N,J){if(this.JB(N,X,J))return;
this.hU(b,q,N,J,this.gw.flow);if(this.Zs==null)return;this.Rp(b)};c.JI.prototype.fI=function(b,X,q,N,J){this.hs(b,X,q);
if(this.bA)this.re(b,q,J);if(this.Zs==null)return;if(!J.je)return;this.EK(b,q,N,J);this.Rp(b)};c.Jt=function(){c.Un.call(this,[10,42],c.xvs,"tools/crepl");
this.HU="idraw";this.gw.bmode="hue "};c.Jt.prototype=new c.Un;c.Jt.prototype.vP=function(b,X,q,N,J){if(this.JB(N,X,J))return;
this.hU(b,q,N,J,this.gw.flow);if(this.Zs==null)return;this.Rp(b)};c.Jt.prototype.fI=function(b,X,q,N,J){this.hs(b,X,q);
if(this.bA)this.re(b,q,J);if(this.Zs==null)return;if(!J.je)return;this.EK(b,q,N,J);this.Rp(b)};c.JJ=function(){c.Un.call(this,[10,43],c.Pc,"tools/redeye");
this.gw.smode=0;this.HU="redeye"};c.JJ.prototype=new c.Un;c.JJ.prototype.vP=function(b,X,q,N,J){this.hU(b,q,N,J,this.gw.flow);
if(this.Zs==null)return;this.Rp(b)};c.JJ.prototype.fI=function(b,X,q,N,J){this.hs(b,X,q);if(this.bA)this.re(b,q,J);
if(this.Zs==null)return;if(!J.je)return;this.EK(b,q,N,J);this.Rp(b)};c.JN=function(){c.Un.call(this,[10,38],c.tb,"tools/pencil");
this.HU="draw"};c.JN.prototype=new c.Un;c.JN.prototype.vP=function(b,X,q,N,J){if(this.JB(N,X,J))return;
this.hU(b,q,N,J,this.gw.flow);if(this.Zs==null)return;this.Rp(b)};c.JN.prototype.fI=function(b,X,q,N,J){this.hs(b,X,q);
if(this.bA)this.re(b,q,J);if(this.Zs==null)return;if(!J.je)return;this.EK(b,q,N,J);this.Rp(b)};c.Jf=function(){c.Un.call(this,[10,22],c.Pk,"tools/burn");
this.HU="burn"};c.Jf.prototype=new c.Un;c.Jf.prototype.vP=function(b,X,q,N,J){this.hU(b,q,N,J,this.gw.expo/Math.E);
if(this.Zs==null)return;this.Rp(b)};c.Jf.prototype.fI=function(b,X,q,N,J){this.hs(b,X,q);if(this.bA)this.re(b,q,J);
if(this.Zs==null)return;if(!J.je)return;this.EK(b,q,N,J);this.Rp(b)};c.fv=function(b,X,q){c.Un.call(this,b==""?null:b?b:[10,1],X?X:c.tq,q?q:"tools/clone");
this.HU="clone";this.Uz=null;this.I=null};c.fv.prototype=new c.Un;c.fv.prototype.vP=function(b,X,q,N,J){if(N._(S.PU)||N._(S.wz)){this.Uz=b.M.X$(J.x,J.y);
this.I=null;return}if(this.Uz==null){alert(xA.get([15,7,0]));return}this._D(q,N);this.hU(b,q,N,J,this.gw.flow);
if(this.Zs==null)return;this.I=this.MH(b.M.X$(J.x,J.y));this.Rp(b)};c.fv.prototype.MH=function(b){var X=this.I;
if(X==null||!this.gw.algnd)X=new Ue(Math.round(b.x-this.Uz.x),Math.round(b.y-this.Uz.y));return X};c.fv.prototype.fI=function(b,X,q,N,J){this.hs(b,X,q);
if(this.bA)this.re(b,q,J);if(this.Zs==null){if(this.Uz!=null)this._D(q,N,b,J);return}if(!J.je||this.Uz==null)return;
this.EK(b,q,N,J);this.Rp(b)};c.fv.prototype.hm=function(){return this.I};c.fv.prototype.disable=function(b,X,q,N){this.Uz=null;
this.I=null};c.IP=function(b,X,q){c.os.call(this,b,X,q);this.uW={VI:{vd:0,x:0,y:0}};this._S=null;this.cursor=null;
this.xrg=0;this.Jj=null;this.DP=null;this.NE=null};c.IP.prototype=new c.os;c.IP.prototype.Ze=function(){return this._S!=null};
c.IP.prototype.KH=function(b){return this._S&&this._S.xxx()};c.IP.prototype.vP=function(b,X,q,N,J){this.Jj=J;
var _=b.M.X$(J.x,J.y);_.x=Math.round(_.x);_.y=Math.round(_.y);var p=this.uW.VI,z=p.vd!=0?p.x/p.y:null;
if(this._S)this._S.vP(b,q,N,_,z,!1);else this.DP=c.Gk.Lg(b,_,q)};c.IP.prototype.ME=function(b,X){var q=[b.x,b.y,b.x+b.n,b.y,b.x+b.n,b.y+b.z,b.x,b.y+b.z];
return new gH(q,!0,!1,this.id==c.hS,!0,X,this.id==c.hS?2:0)};c.IP.prototype._D=function(b){var X=new Q(K.E.T,!0);
X.data={V:K.a.KW,Lf:this.cursor};b.X(X)};c.IP.prototype.enable=function(b,X,q,N){this.cursor="crosshair";
this._D(X);if(b!=null&&b.p){var J=this.uW.VI={vd:0,x:0,y:0};this.vl(X,K.E.T,{V:K.a.IZ,B:this.id,w_:!1,RD:J});
this.gJ({Be:"cropby",xql:3},X,b,N,q)}};c.IP.prototype.fI=function(b,X,q,N,J){this.Jj=J;var _=b.M.X$(J.x,J.y);
if(!J.je){var p="crosshair";if(this._S){var z=this._S.Ra(_,b.M.d);if(z)p=z;else p="default"}if(p!=this.cursor){this.cursor=p;
this._D(X)}}if(this._S)this._S.fI(b,q,N,_);else if(this.DP){var g=c.od.EW(this.DP,c.Gk.Lg(b,_,q),N,!0,this.uW.VI),W=g[0].x,o=g[0].y,y=this.NE=new R(W,o,g[1].x-W,g[1].y-o);
b.H.Rt=x.j.fe(y);b.RZ=!0;c.os.xq(J.x+10,J.y-10,y,b,q)}};c.IP.prototype.TE=function(b,X,q,N,J){this.Jj=J;
if(this._S==null){if(this.DP){var _=this.NE;if(_){var p=this.uW.VI;this._S=this.ME(_,p.vd!=0);this._S.NF(b,q);
this.NE=null;this.vl(X,K.E.T,{V:K.a.IZ,B:this.id,w_:!0})}this.DP=null;b.H.vk=[];b.RZ=!0}return}var z=b.M.X$(J.x,J.y);
this._S.TE(b,q,N,z);this.vl(X,K.E.T,{V:K.a.IZ,B:this.id,w_:!0});var g=this._S.Fn();if(Math.abs(g[0]-g[4])<2||Math.abs(g[1]-g[5])<2){this.disable(b,X,null,N);
return}if(Date.now()-this.xrg<200&&this._S.pE(z)){this.HT(b,q);this.disable(b,X,q,N);return}this.xrg=Date.now()};
c.IP.prototype.aZ=function(b,X,q,N){var J=this._S;if(J==null||this.Jj&&this.Jj.je)return;if(N._(S.jV)){this.HT(b,q);
this.disable(b,X,q,N)}else if(N._(S.pj)){this.disable(b,X,q,N)}else J.aZ(b,q,N)};c.IP.HI=function(b,X){if(X==null)X=[!0,!0,!0,!0];
var q={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][b]}}},N=["Top","Left","Btom","Rght"];
for(var J=0;J<4;J++)q[N[J]]={t:"bool",v:X[J]};return{pn:"trim",nv:q}};c.IP.Mw=function(b,X,q,N){var J={classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:b}},Hght:{t:"UntF",v:{type:"#Pxl",val:X}},Intr:{t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][N==null?1:N]}}};
if(q!=null)J.Rslt={t:"UntF",v:{type:"#Rsl",val:q}};return{pn:"imageSize",nv:J}};c.IP.Ma=function(b,X,q){if(q==null)q=4;
var N=Math.floor(q/3),J=q%3;return{pn:"canvasSize",nv:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:b}},Hght:{t:"UntF",v:{type:"#Pxl",val:X}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][J]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][N]}}}}};
c.IP.prototype.wt=function(b,X,q,N,J){var _=new R(0,0,q.n,q.z),p=[11,3],z=q.Dg,g=q.n/2,W=q.z/2,o=1,$,l;
if(b.V=="fromAction"){var y=b.t_,D=y.pn,m=y.nv,k=q.n/q.z,O=m.Wdth?m.Wdth.v.val:-1,L=m.Hght?m.Hght.v.val:-1,z=m.Rslt?m.Rslt.v.val:null,I=m.Wdth?m.Wdth.v.type:m.Hght?m.Hght.v.type:-1,Y=1,n;
if(D=="imageSize"){if(m.Intr){if(m.Intr.v.Intp=="Nrst")Y=0;if(m.Intr.v.Intp=="bicubicSharper")Y=2;if(O==-1&&L==-1){var w=z/q.Dg;
O=Math.round(q.n*w);L=Math.round(q.z*w)}else if(I=="#Prc"){if(O!=-1)O=Math.round(q.n*O/100);if(L!=-1)L=Math.round(q.z*L/100)}if(m.CnsP&&m.CnsP.v){if(O==-1)O=Math.round(L*k);
if(L==-1)L=Math.round(O/k)}}else{if(I=="#Prc")z=Math.round(q.Dg/((O!=-1?O:L)/100));else throw"e";O=q.n;
L=q.z}n={V:"imgsize",wM:O,wF:L,wd:z,JP:Y}}else if(D=="canvasSize"){console.log(D,m);if(O==-1)O=q.n;if(L==-1)L=q.z;
if(m.Rltv&&m.Rltv.v==!0){if(m.Wdth)O+=q.n;if(m.Hght)L+=q.z}var t=m.Vrtc?m.Vrtc.v.VrtL:"Cntr",j=m.Hrzn?m.Hrzn.v.HrzL:"Cntr";
n={V:"canvsize",wM:O,wF:L,Rl:3*["Top","Cntr","Btom"].indexOf(t)+["Left","Cntr","Rght"].indexOf(j)}}else if(D=="revealAll"){n={V:"revealAll"}}else if(D=="trim"){var E={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[m.trimBasedOn.v.trimBasedOn];
if(E==null)throw"e";var h=["Top","Left","Btom","Rght"],u=[!0,!0,!0,!0];for(var Z=0;Z<4;Z++)if(m[h[Z]])u[Z]=m[h[Z]].v;
n={V:"trim",xvR:E,RD:u}}if(n)this.wt(n,X,q,N,J);return}else if(b.V=="imgsize"){_=new R(0,0,b.wM,b.wF);
if(b.wd)z=b.wd;o=b.JP}else if(b.V=="canvsize"){var A=b.Rl!=null?b.Rl:0;_=new R(0,0,b.wM,b.wF);var P=q.n-b.wM,T=q.z-b.wF,U=Math.round(P/2),r=Math.round(T/2);
if(A==1||A==4||A==7)_.x=U;if(A==2||A==5||A==8)_.x=P;if(A==3||A==4||A==5)_.y=r;if(A==6||A==7||A==8)_.y=T;
if(b.I){_.x=b.I.x;_.y=b.I.y}}else if(b.V=="rot"&&(b.A+2*Math.PI)%(Math.PI/2)!=0){var i=x.j.fe(_).r,V=new nQ;
V.translate(-g,-W);V.rotate(b.A);V.translate(g,W);x.j.w(i,V,i);_=x.j.z_(i)}else if(b.V=="rot"&&b.A!=Math.PI&&b.A!=-Math.PI){_=new R(g-q.z/2,W-q.n/2,q.z,q.n);
if((q.n+q.z&1)==1){g=Math.floor(g);W=Math.floor(W);_=new R(g-Math.floor(q.z/2),W-Math.floor(q.n/2),q.z,q.n);
if((q.n&1)==1&&b.A!=-Math.PI/2)_.y--;if((q.z&1)==1&&b.A==-Math.PI/2)_.x--}}else if(b.V=="trim"){p=[11,12,0];
var F=q.US(),B=new R(0,0,q.n,q.z);_=x.bQ(F,B,b.xvR,b.RD);if(_.qa())_=B}else if(b.V=="cropbysel"){p=[11,12,1];
_=q.p.rect.clone()}else if(b.V=="revealAll"){p=[11,12,2];_=q.root.pi(q,!0)}if(b.V=="imgsize"||b.V=="rot"||b.V=="scl"){var v=new nQ;
if(b.V=="imgsize"){p=[11,10];v.scale(b.wM/q.n,b.wF/q.z)}else{v.translate(-g,-W);if(b.V=="rot")v.rotate(b.A);
if(b.V=="scl")v.scale(b.A.x,b.A.y);v.translate(g,W);p=b.ds}l=x.GI.SW(v);$=this.MM(q,J,l,o)}var C=new R(0,0,q.n,q.z);
if(!_.qa()&&(!_.Rj(C)||$!=null)){var f=new no(p,this);f.data={Ls:C,JS:_,xhz:q.Dg,wd:z,UG:$,Na:l,wl:c.IP.MP(q,_,C,$!=null)};
q.wV(f);this.we(f.data,q)}};c.IP.MP=function(b,X,q,N){if(b.lg.length==0)return null;var J=JSON.stringify(b.lg),_=JSON.parse(J);
c.IV.xdI(_,X,q,N);_=JSON.stringify(_);return[J,_]};c.IP.prototype.MM=function(b,X,q,N,J){var _={F:[],iq:null,LK:null};
for(var p=0;p<b.F.length;p++)_.F.push(p);for(var p=0;p<b.Dx.length;p++)_.F.push(-1-p);_.iq=c.C.gj(b,_.F,!0);
c.C.ED(b,X,_.F,_.iq,N,q,null,!0,J);_.LK=c.C.gj(b,_.F,!0);return _};c.IP.prototype.we=function(b,X){if(b.wd)X.Dg=b.wd;
if(b.wl)X.lg=JSON.parse(b.wl[1]);if(b.UG){c.IP.Mi(X,x.GI.al(b.Na));c.C.pq(X,b.UG.F,b.UG.LK)}c.IP.xo(X,b.JS)};
c.IP.prototype.it=function(b,X){if(b.xhz)X.Dg=b.xhz;if(b.wl)X.lg=JSON.parse(b.wl[0]);var q=b.Ls.clone();
q.offset(-b.JS.x,-b.JS.y);c.IP.xo(X,q);if(b.pV)X.M.I.Ob(b.pV);X.xCe();if(b.UG){var N=x.GI.al(b.Na).clone();
N.Kn();c.IP.Mi(X,N);c.C.pq(X,b.UG.F,b.UG.iq)}};c.IP.Mi=function(b,X){for(var q=0;q<b.F.length;q++){var N=b.F[q];
if(N.add.artb==null)continue;var J=x.j.fe(N.Cz()).r;x.j.w(J,X,J);var _=x.j.z_(J);N.fm(_)}};c.IP.xo=function(b,X){b.n=X.n;
b.z=X.z;var q=[];for(var N=0;N<b.F.length;N++)q.push(N);c.Gk.zi(b,q,null,-X.x,-X.y);for(var N=0;N<b.F.length;
N++){b.F[N].he(b)}b.xCe();b.M.I.gM(0,0);if(b.p)b.p.rect.offset(-X.x,-X.y);for(var N=0;N<b.Ff.length;
N++)b.Ff[N].rect.offset(-X.x,-X.y)};c.IP.prototype.gJ=function(b,X,q,N,J){if(b.Be=="commit"){this.HT(q,J);
this.disable(q,X,null,N)}else if(b.Be=="cancel"){this.disable(q,X,null,N)}var _=null,p=this.uW.VI;if(b.Be=="config"){this.uW=b.uW;
p=this.uW.VI;if(q==null)return;_=new R(0,0,q.n,q.z);if(p.vd==1){var z=p.x/p.y;_.z=Math.round(_.n/z)}if(p.vd==2){_.n=p.x;
_.z=p.y}_.x=Math.round((q.n-_.n)/2);_.y=Math.round((q.z-_.z)/2)}if(b.Be=="cropby"){if(q==null)return;
var g=b.xql,_;if(g==0)_=q.root.pi(q,!0);if(g==1){if(q.k.length==0)alert("No layer is selected.");else{var W=q.root.vf(q.k[0]);
_=W.pi(q,!0)}}if(g==2){if(q.k.length==0)alert("No layer is selected.");else{var o=q.F[q.k[0]];_=x.bQ(o.buffer,o.rect,0);
if(_.qa())_=o.rect.clone()}}if(g==3){if(q.p!=null)_=q.p.rect;else alert("There is no selection.")}}if(_&&_.qa())_=null;
if(_!=null){this._S=this.ME(_,p.vd!=0);this._S.NF(q,J);this.vl(X,K.E.T,{V:K.a.IZ,B:this.id,w_:!0})}};
c.IP.prototype.HT=function(b,X){var q=this._S.Fn(),N=x.j.z_(q),J=this.xRG(b,q),_=!1,p=this.uW.VI,z=p.x,g=p.y,y;
if(this.id==c.CH&&p.vd==2&&J.c()!=z*g){J=new R(J.x,J.y,z,g);_=!0}var W=x.GI.IG(q,J);W=x.GI.Kn(W);var o=x.GI.Wj(W),D=Math.atan2(W[3],W[0]);
if(Math.abs(D)>1e-9||!o||_)y=this.MM(b,X,W,1,N);var m=new no(this.name,this),k=new R(0,0,b.n,b.z);m.data={Ls:k,JS:J,UG:y,Na:W,pV:b.M.I.clone(),wl:c.IP.MP(b,J,k,!1)};
b.wV(m);this.we(m.data,b)};c.IP.prototype.xRG=function(b,X){var q=x.GI.IG(X),N=x.GI.Wj(q),J=x.GI.al(q),_=J.lf,p=J.vw,z=Math.atan2(J.b,J.i);
J.rotate(z);var g=new R(_,p,J.i,J.Tm);if(!N){function W(Y,n,w){var t=Y[n]-Y[w],j=Y[n+1]-Y[w+1];return Math.sqrt(t*t+j*j)}var o=W(X,0,2),y=W(X,4,6),D=Math.max(o,y),m=W(X,2,4),k=W(X,6,0),O=Math.max(m,k),L=c.IP.xFg(X,b.n/2,b.z/2),I,H;
if(isNaN(L)||L==Infinity||L==-Infinity||Math.min(L,1/L)<.1)L=(o+y)/(m+k);if(D/O>L){I=D*1;H=I/L}else{H=O*1;
I=H*L}g.n=I;g.z=H}g.x=Math.round(g.x);g.y=Math.round(g.y);g.n=Math.round(g.n);g.z=Math.round(g.z);return g};
c.IP.xFg=function(b,X,q){var N=b[0]-X,J=b[1]-q,_=b[2]-X,p=b[3]-q,z=b[6]-X,g=b[7]-q,W=b[4]-X,o=b[5]-q,y=((J-o)*z-(N-W)*g+N*o-J*W)/((p-o)*z-(_-W)*g+_*o-p*W),D=((J-o)*_-(N-W)*p+N*o-J*W)/((g-o)*_-(z-W)*p+z*o-g*W),m=-((D*g-J)*(y*p-J)+(D*z-N)*(y*_-N))/((D-1)*(y-1));
function k(L){return L*L}var O=Math.sqrt((k(y-1)+k(y*p-J)/m+k(y*_-N)/m)/(k(D-1)+k(D*g-J)/m+k(D*z-N)/m));
if(y==1&&D==1)O=Math.sqrt((k(p-J)+k(_-N))/(k(g-J)+k(z-N)));return O};c.IP.prototype.disable=function(b,X,q,N){if(b==null)return;
if(this._S)this._S.clear(b);this._S=null;this.vl(X,K.E.T,{V:K.a.IZ,B:this.id,w_:!1})};c.IP.prototype.vl=function(b,X,q,N){var J=new Q(X,!0);
J.data=q;if(N)J.B=N;b.X(J)};c.MC=function(){c.IP.call(this,[10,2],c.CH,"tools/rcrop")};c.MC.prototype=new c.IP;
c.Mv=function(){c.IP.call(this,[10,39],c.hS,"tools/pcrop")};c.Mv.prototype=new c.IP;c.Jm=function(){c.Un.call(this,[10,21],c.Pf,"tools/dodge");
this.HU="dodge"};c.Jm.prototype=new c.Un;c.Jm.prototype.vP=function(b,X,q,N,J){this.hU(b,q,N,J,this.gw.expo/Math.PI);
if(this.Zs==null)return;this.Rp(b)};c.Jm.prototype.fI=function(b,X,q,N,J){this.hs(b,X,q);if(this.bA)this.re(b,q,J);
if(this.Zs==null)return;if(!J.je)return;this.EK(b,q,N,J);this.Rp(b)};c.J$=function(){c.Un.call(this,[10,3],c.xa,"tools/eraser");
this.HU="erase"};c.J$.prototype=new c.Un;c.J$.prototype.vP=function(b,X,q,N,J){this.hU(b,q,N,J,this.gw.flow);
if(this.Zs==null)return;this.Rp(b)};c.J$.prototype.fI=function(b,X,q,N,J){this.hs(b,X,q);if(this.bA)this.re(b,q,J);
if(this.Zs==null)return;if(!J.je)return;var _=this.EK(b,q,N,J);this.Rp(b)};c.Jy=function(){c.Un.call(this,[10,45],c.xRA,"tools/beraser");
this.HU="ierase"};c.Jy.prototype=new c.Un;c.Jy.prototype.vP=function(b,X,q,N,J){if(this.JB(N,X,J))return;
this.hU(b,q,N,J,this.gw.flow);if(this.Zs==null)return;this.Rp(b)};c.Jy.prototype.fI=function(b,X,q,N,J){this.hs(b,X,q);
if(this.bA)this.re(b,q,J);if(this.Zs==null)return;if(!J.je)return;this.EK(b,q,N,J);this.Rp(b)};c.xk=function(){c.rl.call(this,[10,15],c.ST,"tools/rselect");
this.pf="crosshair"};c.xk.prototype=new c.rl;c.xk.prototype.YF=function(b,X,q,N){if(!N.je||!this.kB)return;
var J=this.pi(b,q,!0);b.H.Rt=x.j.fe(J);b.RZ=!0;c.os.xq(N.x+10,N.y-10,J,b,X)};c.xk.prototype.QB=function(b,X,q,N){b.H.Rt=null;
b.H.vk=[];b.RZ=!0;this.finish(b,X,q,N)};c.xk.prototype.getSelection=function(b,X,q,N){if(this.DP.Rj(this.Z_)||!this.kB)return null;
var J=this.pi(b,q,!0);if(J.qa())return null;return c.rl.Hi("Rctn",J)};c.Cj=function(){c.rl.call(this,[10,4],c.xCz,"tools/eselect");
this.pf="crosshair"};c.Cj.prototype=new c.rl;c.Cj.prototype.YF=function(b,X,q,N){if(!N.je||!this.kB)return;
var J=this.pi(b,q);b.H.Rt=c.Cj.MR(J);b.RZ=!0;c.os.xq(N.x+10,N.y-10,J,b,X)};c.Cj.prototype.QB=function(b,X,q,N){b.H.Rt=null;
b.H.vk=[];b.RZ=!0;this.finish(b,X,q,N)};c.Cj.prototype.getSelection=function(b,X,q,N){if(this.DP.Rj(this.Z_)||!this.kB)return null;
var J=this.pi(b,q);if(!J.Dj(new R(0,0,b.n,b.z)))return null;return c.rl.Hi("Elps",J)};c.Cj.MR=function(b){var X=b.x,q=b.y,N=b.x+b.n,J=b.y+b.z,_=(X+N)/2,p=(q+J)/2,z=(X-N)/2,g=(q-J)/2,W=.5522848,o={r:[_,p-g],W:["M","C","C","C","C"]};
o.r.push(_+W*z,p-g,_+z,p-W*g,_+z,p);o.r.push(_+z,p+W*g,_+W*z,p+g,_,p+g);o.r.push(_-W*z,p+g,_-z,p+W*g,_-z,p);
o.r.push(_-z,p-W*g,_-W*z,p-g,_,p-g);return o};c.ES=function(){c.os.call(this,[10,5],c.Pj,"tools/eyedropper");
this.dt=!1;this.kG=1};c.ES.prototype=new c.os;c.ES.prototype.KH=function(b){return b.je};c.ES.prototype.wt=function(b,X,q,N,J){if(b.V=="pickhere")this.HJ(q,X,J,N,b.xFF)};
c.ES.prototype.vP=function(b,X,q,N,J){this.dt=!0;this.HJ(b,X,q,N,J)};c.ES.prototype.fI=function(b,X,q,N,J){if(this.dt)this.HJ(b,X,q,N,J)};
c.ES.prototype.TE=function(b,X,q,N,J){this.dt=!1};c.ES.prototype.HJ=function(b,X,q,N,J){var _=c.ES.gA(b,J,this.kG),p=new Q(K.E.T);
p.data={V:K.a.dX,Zy:n_.$f,qe:0,A:_};X.X(p)};c.ES.gA=function(b,X,q){var N=b.M.X$(X.x,X.y),J=Math.floor(N.x),_=Math.floor(N.y),p=(q-1)/2,z=Math.max(0,J-p),g=Math.max(0,_-p),W=Math.min(b.n,J+p+1),o=Math.min(b.z,_+p+1),y=(W-z)*(o-g),D=b.US(),m=0,k=0,O=0;
for(var J=z;J<W;J++)for(var _=g;_<o;_++){var L=4*(_*b.n+J);m+=D[L];k+=D[L+1];O+=D[L+2]}m=Math.round(m/y);
k=Math.round(k/y);O=Math.round(O/y);return m<<16|k<<8|O};c.ES.prototype.gJ=function(b){this.kG=b.kG};
c.Wq=function(){c.os.call(this,[10,6],c.xRU,"tools/gradient");this.gw={Z:JSON.parse(UZ.RO.xPS).v,zh:"Lnr",Ux:!1,xHU:!1,xES:"norm",Tn:1};
this.zw=!1;this.RT=null};c.Wq.prototype=new c.os;c.Wq.prototype.enable=function(b,X,q,N){var J=new Q(K.E.T,!0);
J.data={V:K.a.KW,Lf:"default"};X.X(J)};c.Wq.prototype.gJ=function(b){this.gw=b.Zy};c.Wq.prototype.vP=function(b,X,q,N,J){if(!b.lC())return;
this.RT=b.M.X$(J.x,J.y);this.RT=c.Gk.Lg(b,this.RT,q);this.zw=!0};c.Wq.prototype.fI=function(b,X,q,N,J){if(!this.zw)return;
var _=b.M.X$(J.x,J.y);_=c.Gk.Lg(b,_,q);if(N._(S.FI))_=c.Wq.fO(this.RT,_);b.H.Rt={r:[this.RT.x,this.RT.y,_.x,_.y],W:["M","L"]};
b.H.TF=[this.RT.x,this.RT.y,_.x,_.y];b.RZ=!0};c.Wq.prototype.TE=function(b,X,q,N,J){if(!this.zw)return;
var _=b.F[b.k[0]],p=b.M.X$(J.x,J.y);p=c.Gk.Lg(b,p,q);if(N._(S.FI))p=c.Wq.fO(this.RT,p);var z=p.cB(this.RT),g=Ue.Se(this.RT,p,.5),W=Math.atan2(z.y,z.x),o=Ue.NH(this.RT,p),y=Math.sin(W),D=Math.cos(W);
if(o>2){var m;if(b.p)m=b.p.rect;else m=new R(0,0,b.n,b.z);var k=x.K(m.c()*4),O=this.gw,L=O.zh;if(L!="Lnr"){o*=2;
g=this.RT}x.Z.sH(O.Z,k,m,[D*1/o,y*1/o,-y*1/o,D*1/o],g.x,g.y,O.Ux,UZ.Z.types.indexOf(L),q.pp,q.HO,null,O.xHU);
var I=Math.round(O.Tn*256),H=k.length;if(I!=256)for(var Y=0;Y<H;Y+=4)k[Y+3]=k[Y+3]*I>>>8;var n=new Q(K.E.e);
n.B=c.xa;n.data={V:"fillBMP",LP:k,VG:O.xES,ds:this.name};X.X(n)}b.H.Rt=null;b.H.TF=[];b.RZ=!0;this.zw=!1};
c.Wq.fO=function(b,X){if(b.Rj(X))return b;var q=X.x-b.x,N=X.y-b.y,J=Math.abs(q),_=Math.abs(N);if(J>_)_=J/2>_?0:J;
if(_>J)J=_/2>J?0:_;J=q>0?J:-J;_=N>0?_:-_;var p=Math.sqrt(q*q+N*N)/Math.sqrt(J*J+_*_);return new Ue(b.x+J*p,b.y+_*p)};
c.Wq.FY=function(b,X,q,N,J,_,p){if(p==null)p=K.m("canvas","");var z=p.getContext("2d");p.width=X;p.height=q;
var g=new R(0,0,X,q),W=x.K(X*q*4);x.kN(W,X,q,4,0,0);var o=Math.sin(N),y=Math.cos(N),D=x.K(X*q*4);x.Z.sH(b,D,g,[y*1/X,o*1/X,-o*1/q,y*1/q],X/2,q/2,!1,0,J,_);
x.t.TG("norm",D,g,W,g,g,1);var m=z.getImageData(0,0,X,q);x.vM(W,m.data);z.putImageData(m,0,0);return p.toDataURL()};
c.Wq.xFp=function(b,X,q){var N=JSON.parse(JSON.stringify(b));for(var J=0;J<N.Clrs.v.length;J++){var _=N.Clrs.v[J].v,p=_.Type.v.Clry;
if(p=="UsrS")continue;var z=p=="FrgC"?X:q;_.Type.v.Clry="UsrS";_.Clr={t:"Objc",v:x.Z.Yr({D:z>>16&255,q:z>>8&255,b:z&255})}}return N};
c.zm=function(){c.os.call(this,[10,7],c.CT,"tools/hand");this.NM=new Ue(0,0);this.NC=new Ue(0,0)};c.zm.prototype=new c.os;
c.zm.prototype.wt=function(b,X,q,N,J){var _=b.V;if(_=="setcls"){q.M.Yk=b.Yk;q.RZ=!0}if(_=="scroll"&&!N._(S.PU)){if(N._(S.zN))c.zm.zx(q,q.M.I.x-b.UV.y,q.M.I.y-b.UV.x);
else c.zm.zx(q,q.M.I.x-b.UV.x,q.M.I.y-b.UV.y)}};c.zm.prototype.enable=function(b,X,q,N){var J=new Q(K.E.T,!0);
J.data={V:K.a.KW,Lf:"grab"};X.X(J)};c.zm.prototype.vP=function(b,X,q,N,J){this.NC.Ob(b.M.I);this.NM.gM(J.x,J.y)};
c.zm.prototype.fI=function(b,X,q,N,J){if(!J.je)return;c.zm.zx(b,this.NC.x+(J.x-this.NM.x),this.NC.y+(J.y-this.NM.y))};
c.zm.zx=function(b,X,q){var N=b.M.d;if(b.n*N<b.M.L.n&&b.z*N<b.M.L.z)b.M.I.gM(0,0);else{b.M.I.x=X;b.M.I.y=q}b.Ri=!0};
c.H$=function(){c.fv.call(this,[10,25],c.xE,"tools/hbrush")};c.H$.prototype=new c.fv("");c.H$.prototype.TE=function(b,X,q,N,J){if(this.Zs==null)return;
this.Nx(b,"heal",this.Zs.yD(),this.Zs.pi(),this.Zs.lt());this.Y(b,this.Zs.lt());c.Un.prototype.TE.call(this,b,X,q,N,J);
if(!this.gw.algnd)this.I=null};c.zq=function(){c.os.call(this,[10,8],c.Xe,"tools/htype");this.U_=[];
this.kM=null;this.pe=null;this.caller=null;this.xEq=0;this.wY=0;this.Nv=null;this.xEV=null;this.NL=null;
this.xs=null;this.kk=null;this.UE=null;this.Uj=null;this.xPl=null;this.U$=null;this._S=null;this.dz=!1;
this.XG=!1;this.ek=!1;this.kZ=null;this.Gl=null;this.xPJ=null;this.Nt=!1;this.JQ=!1;this._X=-1;this.Gr=-1;
this.tG=document.createElement("textarea");this.tG.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1;  position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; user-select:none; width:200px; height:150px;");
this.tG.addEventListener("input",this.Yq.bind(this),!1);this.tG.addEventListener("keydown",this.xFR.bind(this),!1)};
c.zq.prototype=new c.os;c.zq.prototype.KH=function(b){return b.je};c.zq.prototype.XN=function(b,X,q,N){if(this.xs!=null)return;
this.caller=X;this.kM=b;var J=this.MF(b);if(J.length!=0){var _=null,p=[],z=[];for(var g=0;g<J.length;
g++){var W=b.F[J[g]],o=W.add.TySh,y=0,D=ng.IC(o.Bw).length-2,m=ng.c_(o.Bw,y,D);ng.CA(m,c.C.bq(o.w));
if(m.qH.Font!=null)m.qH.Font=m.JX[m.qH.Font].Name;_=m.JX;p.push(m.qH);z.push(m.qE)}var m={JX:_,qH:ng.gt(p),qE:ng.gt(z)};
if(m.qH.Font)ng.uJ(m,m.qH.Font);this.Nv=JSON.stringify(m);this.RI(X,m)}};c.zq.prototype.MF=function(b){var X=[];
for(var q=0;q<b.k.length;q++)if(b.F[b.k[q]].add.TySh)X.push(b.k[q]);return X};c.zq.prototype.wt=function(b,X,q,N,J){if(this.xs!=null){var _=this.JQ;
if(b.V=="warp"||b.V=="warpCancel"){if(b.V=="warp")this.xs.add.TySh.HM=b.Gg;else this.xs.add.TySh.HM=this.xPl;
var q=this.kM;this.vK(q,J);if(!_)this.vr(q)}if(b.V!="warp")this.tG.focus();if((b.V=="warpConfirm"||b.V=="warpCancel")&&_){this.JQ=!1;
if(b.V=="warpConfirm")this.gZ(q,X);else this.FL(q,X)}}if(b.V=="editCurr"){if(this.xs!=null)this.disable(q,X,J,N);
this.kM=q;this.pe=J;this.caller=X;this.zg(q,X,J,[b.np]);var p=ng.IC(this.xs.add.TySh.Bw);this._X=0;this.Gr=p.length-1;
this.vr(q);this.gg();this.tG.focus()}if(b.V=="switchPntPrgr"){var z=q.F[q.k[0]],g=z.add.TySh,W=g.w.bq(),o=JSON.parse(JSON.stringify(g.Bw)),y=ng.__(o),D=y==1?ng.uX(o):[0,0,Math.round(z.rect.n*1.05/W),Math.round(z.rect.z*1.25/W)],m=ng.c_(o,0,0),k=[0,D[2],D[2]/2][m.qE.Justification%3],O=m.qH.FontSize*.8;
ng.aH(o,1-y);if(y==0){k=-k;O=-O;ng.Sc(o,[0,0,D[2],D[3]])}var L=new nQ(1,0,0,1,k,O);L.concat(g.w);b={nA:q.k[0],V:"newED",NJ:o,w:L}}if(b.V=="newED"){var z=q.F[b.nA],g=z.add.TySh,I=this.zp(q,[b.nA]);
g.Bw=b.NJ;if(b.w)g.w=b.w;var H=new __(g.Bw,J._v),Y=pN.KE(H,g);z.rect=Y.h;z.buffer=Y.Dl;z.Y();q.Y();var n=new no(this.name,this);
n.data={$J:I,Nz:this.zp(q,[b.nA])};q.wV(n)}};c.zq.prototype.Hd=function(b){return this.U_.indexOf(b)!=-1};
c.zq.prototype.enable=function(b,X,q,N){var J=this.tG;if(!K.OH(J))X.U.appendChild(J);this.U$="default";
this._D(X)};c.zq.prototype.Ze=function(){return this.xs!=null};c.zq.prototype.Md=function(b,X){for(var q=b.F.length-1;
q>=0;q--){var N=b.F[q];if(N.add.TySh&&N.rect.gD(X)&&b.xBg(q)){var J=N.g$(2)||N.g$(31);return J?-2:q}}return-1};
c.zq.prototype.vP=function(b,X,q,N,J){this.kM=b;this.pe=q;this.caller=X;var _=b.M.X$(J.x,J.y),p=this.xs==null;
if(p){var z=this.Md(b,_);if(z==-2){alert(xA.get([6,57,0]));return}if(z>=0)this.zg(b,X,q,[z]);else{this.ek=!0;
this.kZ=J;return}}if(this._S&&this._S.vP(b,q,N,_)&&x.Gg.tM(this.xs.add.TySh.HM)||!p&&x.j.yg(_,this.xs.rect)>20/b.M.d&&ng.__(this.xs.add.TySh.Bw)==0){this.dz=!0;
this.Gl=_;this.xPJ=this.xs.add.TySh.w.clone();if(this._X==-1&&this.Gr==-1)this._X=this.Gr=this.EA(_)}else{this.XG=!0;
this._X=this.Gr=this.EA(_);var g=Date.now();if(g-this.xEq>300)this.wY=0;this.wY++;this.xEq=g;if(this.wY==2)this.xFS();
if(this.wY==3)this.xFB();if(this.wY>1){this.XG=!1;this.gg()}}this.vr(b)};c.zq.prototype.zg=function(b,X,q,N){var J=b.F[N[0]];
this.xs=J;this.vl(X,K.E.T,{V:K.a.IZ,B:this.id,Be:"showactive"});this.kk=N;b.k=N.slice(0);b.MJ();b.JL=!0;
this.Uj=this.zp(b,N);this.MN(J.add.TySh);this.vK(b,q)};c.zq.prototype.MN=function(b){if(ng.__(b.Bw)!=1)return;
var X=ng.uX(b.Bw);X=new R(0,0,X[2]-X[0],X[3]-X[1]);var q=[X.x,X.y,X.x+X.n,X.y,X.x+X.n,X.y+X.z,X.x,X.y+X.z];
x.j.w(q,b.w,q);this._S=new gH(q,!1,!1,!1,!0)};c.zq.prototype.xFS=function(){var b=ng.IC(this.xs.add.TySh.Bw);
this._X=this.il(b,this._X);this.Gr=this.iW(b,this._X)};c.zq.prototype.il=function(b,X){var q=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",N=[];
for(var J=0;J<q.length;J++)N.push(q.charAt(J));var _=N.indexOf(b[X])==-1?!0:!1;for(var J=X-1;J>=0;J--)if(N.indexOf(b.charAt(J))!=-1==_)return J+1;
return 0};c.zq.prototype.iW=function(b,X){var q=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",N=[];for(var J=0;
J<q.length;J++)N.push(q.charAt(J));var _=N.indexOf(b[X])==-1?!0:!1;for(var J=X+1;J<b.length;J++)if(N.indexOf(b.charAt(J))!=-1==_)return J;
return b.length-1};c.zq.prototype.xFB=function(){var b=this.UE.xSg(this._X);this._X=b[0];this.Gr=b[1]};
c.zq.prototype._D=function(b){var X=new Q(K.E.T,!0);X.data={V:K.a.KW,Lf:this.U$};b.X(X)};c.zq.prototype.fI=function(b,X,q,N,J){var _=b.M.X$(J.x,J.y),p=this.xs;
if(!J.je){var z="default";if(this._S&&x.Gg.tM(p.add.TySh.HM)){var g=this._S.Ra(_,b.M.d);if(g)z=g;else if(this._S.pE(_))z="text"}else if(p&&x.j.yg(_,p.rect)>20/b.M.d)z="move";
else if(this.Md(b,_)>=0)z="text";if(z!=this.U$){this.U$=z;this._D(X)}}if(this.ek&&Ue.NH(this.kZ,J)>4){this.ek=!1;
this.CZ(b,X,q,N,J);p=this.xs;this.dz=!0;this._S=new gH(null,!1,!1,!1,!0);var W=b.M.X$(this.kZ.x,this.kZ.y);
W.x=Math.round(W.x);W.y=Math.round(W.y);this._S.vP(b,q,N,W)}if(this.dz){var o=p.add.TySh;if(this._S){this._S.fI(b,q,N,_);
var y=o.w.clone(),D=Math.atan2(y.b,y.i);y.rotate(D);var m=x.GI.al(x.GI.IG(this._S.Fn())),k=Math.atan2(m.b,m.i);
m.rotate(k);if(!isNaN(m.i)&&m.i*m.Tm-m.b*m.Yb!=0){var O=new R(0,0,m.i/y.i,m.Tm/y.Tm),L=Math.round(O.n),I=Math.round(O.z),H=o.Bw.Curve;
if(H){var Y=ng.uX(o.Bw),n=new nQ(L/Y[2],0,0,I/Y[3],0,0);x.j.w(H.Points,n,H.Points);ng.CP(o)}ng.Sc(o.Bw,[0,0,L,I]);
o.w=x.GI.al(x.GI.IG(this._S.Fn(),O));this.vK(b,q);ng.CP(o)}}else{var w=_.x-this.Gl.x,t=_.y-this.Gl.y;
o.w=this.xPJ.clone();var j=new Ue(o.w.lf+w,o.w.vw+t);j=c.Gk.Lg(b,j,q);o.w.lf=j.x;o.w.vw=j.y;this.vK(b,q)}}if(this.XG)this.Gr=this.EA(_);
if(this.dz||this.XG)this.vr(b)};c.zq.prototype.CZ=function(b,X,q,N,J){var _=b.Ku(),p=_[0],z=_[1],g=b.rY();
g.add.lnsr="rend";var W=b.F.slice(0);g.fT("Text layer "+W.length);this.xs=g;var o=b.k.length==0?b.F.length-1:b.k[b.k.length-1],y=o+1;
if(W[o].add.lsct==_b.iS)y--;this.Uj={zJ:W.slice(0),za:b.k.slice(0)};W.splice(y,0,g);b.k=[y];this._X=this.Gr=0;
b.lD(W);this.Uj.GJ=W.slice(0);this.Uj.Tk=b.k.slice(0);this.vl(X,K.E.T,{V:K.a.IZ,B:this.id,Be:"showactive"});
var D=b.M.X$(J.x,J.y);g.add.TySh=ng.Rq(D.x,D.y,q.KU);var m=g.add.TySh,k=m.Bw;if(J.je)ng.aH(k,1);else{ng.aH(k,0);
var O=p[z.pop()],L=O?O.add.vmsk:null;if(L){L=L.clone();var I=L.s,n,w;for(var H=0;H<I.length;H++)if(I[H].vR!=null)I[H].vR=0;
var Y=4*K.u()/b.M.d;n=x.g.hT(L.s,D,!0,Y);if(n.aP==-1)n=x.g.hT(L.s,D);if(n.aP!=-1){ng.aH(k,1);var t=x.g.wm(I,n.aP),j=x.g.rR(I,n.aP)-1;
I=L.s=I.slice(0,2).concat(I.slice(t,t+j+1));L.k=[];m.add={vmsk:L,vogk:M.lN(I)};k.Curve={};ng.Kt(m);if(n.rw!=null){var E=__.Dy(k.Curve);
x.j.w(E[0],m.w,E[0]);var h=x.j.yx(E[0],D.x,D.y),u=q.KU.qE.Justification;if(u==2||u==5){var Z=(E[2][h]+E[3]*.5)%E[3];
h=__.ik(Z,E[2])}var A=E[1][h];A=A%j;L.YP=[A,A];ng.Kt(m)}else this.MN(m)}}}return g};c.zq.prototype.TE=function(b,X,q,N,J){var _=b.M.X$(J.x,J.y);
if(this.ek){this.ek=!1;this.CZ(b,X,q,N,J);this.XG=!0}if(this.dz||this.XG){this.vr(b);this.gg()}if(this.dz&&this._S)this._S.TE(b,q,N,_);
this.dz=this.XG=!1;this.tG.focus()};c.zq.prototype.gg=function(){var b=this.xs.add.TySh,X=Math.min(this._X,this.Gr),q=Math.max(this._X,this.Gr),N,J;
if(X==q){var _=ng.IC(b.Bw);if(X==0||_.charAt(X-1)=="\n")N=J=X;else N=J=X-1}else{N=X;J=q-1}var p=ng.c_(b.Bw,N,J);
ng.CA(p,c.C.bq(b.w));this.RI(this.caller,p)};c.zq.prototype.RI=function(b,X){this.vl(b,K.E.T,{V:K.a.dX,Zy:n_.Fh,KU:X})};
c.zq.prototype.aZ=function(b,X,q,N){if(N._(S.pj))this.FL(b,X)};c.zq.prototype.disable=function(b,X,q,N){var J=this.xs;
if(J&&ng.IC(J.add.TySh.Bw)!="\n")this.gZ(b,X);else this.FL(b,X)};c.zq.prototype.gJ=function(b,X,q,N,J){if(this.JQ)return;
if(b.Be=="commit")this.gZ(q,X);if(b.Be=="cancel")this.FL(q,X);if(b.Be=="showwarp"){if(q==null)return;
if(this.xs==null){var _=q.F[q.k[0]],p=_.add.TySh;if(p==null)return;this.zg(q,X,J,[q.k[0]]);this.tG.focus();
this.JQ=!0}this.xPl=this.xs.add.TySh.HM;var z=new Q(K.E.T,!0);z.data={V:K.a.Ko,zE:"textwarp"};X.X(z)}};
c.zq.prototype.TY=function(b,X){this.pe=b;var q=this.kM;if(q==null)return;if(X!=n_.LX&&X!=n_.Fh&&X!=n_.Gn)return;
if(this.Nt){this.Nt=!1;var N=this.kk;for(var J=0;J<N.length;J++){this.xs=q.F[N[J]];this.vK(q,b)}this.gZ(q,this.caller);
return}if(this.xs==null){var _=JSON.stringify(b.KU),p=!1;if(this.Nv==_){return}this.Nv=_;var N=this.MF(q);
if(N.length!=0){this.zg(q,this.caller,b,N);for(var J=0;J<N.length;J++){var z=q.F[N[J]],g=z.add.TySh;
this.xs=z;var W=ng.IC(g.Bw);this._X=0;this.Gr=W.length-1;ng.Fo(g.Bw,this._X,this.Gr,this.Hy(b,g));var o=this.vK(q,b);
if(o==!1)p=!0}if(p){this.Nt=!0;return}this.gZ(q,this.caller)}return}var y=Math.min(this._X,this.Gr),D=Math.max(this._X,this.Gr),g=this.xs.add.TySh;
ng.Fo(g.Bw,y,D-1,this.Hy(b,g));var q=this.kM,o=this.vK(q,b);if(o)this.vr(q);if(document.activeElement.tagName.toLowerCase()!="input")this.tG.focus()};
c.zq.prototype.Hy=function(b,X){var q=JSON.parse(JSON.stringify(b.KU));ng.CA(q,1/c.C.bq(X.w));return q};
c.zq.prototype.we=function(b,X){if(b.$J!=null)this.HZ(X,b.Nz);else this.WN(X,b.GJ,b.Tk)};c.zq.prototype.it=function(b,X){if(b.$J!=null)this.HZ(X,b.$J);
else this.WN(X,b.zJ,b.za)};c.zq.prototype.HZ=function(b,X){for(var q=0;q<X.length;q++){var N=X[q],J=N.nA,_=b.F[J];
_.buffer=N.FU;_.rect=N.h.clone();_.Y();var p=_.add.TySh;p.HM=N.Gg;p.Ug=N.Ug.clone();p.w=N.w.clone();
p.Bw=JSON.parse(JSON.stringify(N.Bw));_.PM()}b.Y()};c.zq.prototype.zp=function(b,X){var q=[];for(var N=0;
N<X.length;N++){var J=X[N],_=b.F[J],p=_.add.TySh;q.push({nA:J,w:p.w.clone(),Gg:JSON.parse(JSON.stringify(p.HM)),Ug:p.Ug.clone(),Bw:JSON.parse(JSON.stringify(p.Bw)),FU:x.clone(_.buffer),h:_.rect.clone()})}return q};
c.zq.prototype.WN=function(b,X,q){b.k=q;b.lD(X);b.Y()};c.zq.prototype.vK=function(b,X,q){if(q==null)q=!1;
var N=this.xs.add.TySh;if(!pN.KP(N,X._v))return!1;this.UE=new __(N.Bw,X._v);if(!q){var J=ng.IC(N.Bw);
this.tG.value=J.slice(0,J.length-1)}var _=pN.KE(this.UE,N);if(x.Gg.tM(N.HM))N.Ug=new R;else{if(ng.__(N.Bw)==1){var p=ng.uX(N.Bw),z=_.Ug.y;
N.Ug=new R(0,z,p[2]-p[0],p[3]-p[1]-z)}else{N.Ug=_.Ug}}var g=this.xs.rect;this.xs.rect=_.h;this.xs.buffer=_.Dl;
this.xs.Y();b.FB();b.Y(b.root.PV(_.h.Tg(g),b,b.F.indexOf(this.xs)));return!0};c.zq.prototype.Yq=function(b){if(this.xs==null||this.JQ)return;
var X=this.tG.selectionStart,q=this.xs.add.TySh,N=ng.IC(q.Bw),J=this.tG.value+"\n",_=Math.min(this._X,this.Gr),p=Math.max(this._X,this.Gr),y=!1;
this._X=Math.min(X,_);if(J.length-X<N.length-this.Gr)this.Gr=N.length-J.length+X;if(N!=J){while(this._X>0&&N.charAt(this._X-1)!=J.charAt(this._X-1))this._X--}var z=N.substring(0,this._X),g=N.substring(this.Gr,N.length),W=J.substring(this._X,J.length-g.length);
ng.iZ(q.Bw,this._X,this.Gr);ng.DX(q.Bw,this._X,W);var o=this.Hy(this.pe,q),D=-1;for(var m=0;m<W.length;
m++)D=Math.max(D,W.charCodeAt(m));if(D!=-1&&D>128&&o.qH.Font!=null){var k=o.JX[o.qH.Font].Name,O=this.pe._v.Vv(D,k,o.JX);
if(k!=O){ng.uJ(o,O);y=!0}}if(this.NL!=null&&W==this.NL){var L=JSON.parse(this.xEV);o.qH=L.qH;o.JX=L.JX;
y=!0}ng.Fo(q.Bw,this._X,this._X+W.length-1,o);this._X=this.Gr=z.length+W.length;var I=this.kM,H=this.vK(I,this.pe,!0);
if(H)this.vr(I,!0);if(y)this.gg()};c.zq.prototype.xFR=function(b){if(this.xs==null||this.JQ)return;if(this.xs==null)return;
var X=S,q=0,N=0,I=!1;if(X.In(b.code,X.xxA))q=1;if(X.In(b.code,X.xSI))q=-1;if(X.In(b.code,X.n_))N=-1;
if(X.In(b.code,X.nq))N=1;var J=b.ctrlKey||b.metaKey,_=X.In(b.code,S.xWq),p=X.In(b.code,S.xWh);if(X.In(b.code,S.jV)&&J){this.gZ(this.kM,this.caller);
return}if(X.In(b.code,S.Np)){b.preventDefault();var z=this.tG,g=z.value,W=z.selectionStart,o=z.selectionEnd;
z.value=g.substring(0,W)+"\t"+g.substring(o);z.selectionStart=z.selectionEnd=W+1;this.Yq(null);return}if((X.In(b.code,X.Rm)||X.In(b.code,X.Nb))&&J){var y=this._X,D=this.Gr;
if(y>D){var m=y;y=D;D=m}var k=this.xs.add.TySh,O=ng.IC(k.Bw);if(y!=D){this.NL=O.slice(y,D);this.xEV=JSON.stringify(this.pe.KU)}}var L=ng.IC(this.xs.add.TySh.Bw);
if(q!=0||N!=0||_||p){b.preventDefault();var H=this._X;if(q!=0){if(J&&q==-1)H=this.il(L,this._X-1);else if(J&&q==1)H=this.iW(L,this._X);
else H=this._X+q}else if(N!=0){var Y=this.UE.G_(this._X);if(N==-1&&Y.VA==0)H=0;else if(N==1&&Y.VA==this.UE.xKq()-1)H=99999999999;
else H=this.UE.xrb(new Ue(Y.h.x+Y.h.n/2,0),Y.VA+N)}else if(_){var n=this._X-1;while(n>0&&L.charCodeAt(n)!=10)n--;
H=n==0?0:n+1}else if(p){var n=this._X;while(n<L.length-1&&L.charCodeAt(n)!=10)n++;H=n}H=Math.max(0,Math.min(L.length-1,H));
if(b.shiftKey)this._X=H;else this._X=this.Gr=H;I=!0}if(X.In(b.code,S.a)&&J){this._X=0;this.Gr=L.length-1;
I=!0}if(I){this.gg();this.vr(this.kM)}};c.zq.xFW=function(b,X){var q=b.length;if(q!=X.length)return!1;
for(var N=0;N<q;N++)if(b[N].nA!=X[N].nA)return!1;return!0};c.zq.prototype.gZ=function(b,X){if(this.xs==null)return;
this.xs.PM();var q=this.Uj;if(q instanceof Array){var N=this.zp(b,this.kk),J=b.Sq();if(J!=null&&J.B==this&&J.data.$J&&c.zq.xFW(J.data.$J,q))J.data.Nz=N;
else{var _=new no(this.name,this);_.data={$J:q,Nz:N};b.wV(_)}}else{var _=new no(this.name,this);_.data={zJ:q.zJ,GJ:q.GJ,za:q.za,Tk:q.Tk};
b.wV(_)}this.escape(b,X)};c.zq.prototype.FL=function(b,X){if(this.xs==null)return;if(this.Uj instanceof Array){this.HZ(b,this.Uj);
if(this.xs)ng.CP(this.xs.add.TySh)}else{b.k=this.Uj.za;b.lD(this.Uj.zJ)}b.Y();this.escape(b,X)};c.zq.prototype.escape=function(b,X){this.xs=null;
this.kk=null;this.UE=null;this._S=null;this.tG.blur();b.H.Rt=null;b.H.Jw=null;b.H.TF=[];b.RZ=!0;this.dz=!1;
this.XG=!1;this._X=this.Gr=-1;this.vl(X,K.E.T,{V:K.a.IZ,B:this.id,Be:"hideactive"})};c.zq.prototype.vl=function(b,X,q,N){var J=new Q(X,!0);
J.data=q;if(N)J.B=N;b.X(J)};c.zq.prototype.EA=function(b){var X=this.xs.add.TySh,q=this.UE,N=X.w.clone();
N.Kn();var J=N.PK(b),_=ng.pi(X,q),p=x.Gg.Pg(X.HM,_),z=x.iN.J.sm(p,0,1,0,1),g=new Uint32Array(30),W=x.iN.J.xxv(z.q$,z.fr,J.x,J.y,g),o=x.iN.hT(p,J.x,J.y,z.q$,g,W,!1),y=x.iN.Wz;
if(y==null)y=new Float64Array(2);J=new Ue(_.x+y[0]*_.n,_.y+y[1]*_.z);var D=q.xrb(J);return D};c.zq.prototype.vr=function(b,X){if(X==null)X=!1;
var q=this.xs.add.TySh,N=ng.__(q.Bw),J=this.UE,_=J?ng.pi(q,J):null;b.H.TF=[];b.H.Rt=null;b.H.Jw=null;
if(this._S){this._S.NF(b,this.pe,!x.Gg.tM(q.HM));var p=q.w.clone();p.Kn();x.j.w(b.H.TF,p,b.H.TF);x.j.w(b.H.Rt.r,p,b.H.Rt.r);
if(J&&J.xKr()){var z=_.n-20,g=_.z+8;b.H.Rt.r.push(z,g,z+10,g,z+5,g-5,z+5,g+5);b.H.Rt.W.push("M","L","M","L")}}else if(N==0)this.xFI(b,q,J);
else b.H.Rt={r:[],W:[]};var W=Math.min(this._X,this.Gr),o=Math.max(this._X,this.Gr);if(!X){this.tG.selectionStart=W;
this.tG.selectionEnd=o}if(J!=null){var y=function(n,w){var t=n.x,j=n.y+n.z,E=new nQ;E.translate(-t,-j);
E.rotate(-w);E.translate(t,j);n.y+=n.z*.27;var H=x.j.fe(n);x.j.w(H.r,E,H.r);return H};if(W==o){W=Math.max(W,0);
var D=J.G_(W);if(D){var m=D.h,k=this.pe.KU.qH.FontSize;if(k!=null&&k!=0){m.y+=m.z-k;m.z=k}var O=J.xKl(W);
if(O!=null&&O.nx==1)m.x+=m.n;var L=y(m,D.na).r;b.H.Rt.W.push("M","L");b.H.Rt.r.push(L[0],L[1],L[6],L[7])}}else{b.H.Jw={r:[],W:[]};
for(var I=W;I<o;I++){var D=J.G_(I),H=y(D.h,D.na);x.j.concat(b.H.Jw,H)}}}if(J!=null){if(!_.qa()){var Y=x.Gg.Pg(q.HM,_);
if(b.H.Rt){b.H.Rt=x.j.sG(b.H.Rt);b.H.Rt=x.j.$B(b.H.Rt,Math.min(_.n,_.z)/10);x.iN.apply(Y,b.H.Rt.r,_)}if(b.H.Jw){b.H.Jw=x.j.sG(b.H.Jw);
b.H.Jw=x.j.$B(b.H.Jw,Math.min(_.n,_.z)/10);x.iN.apply(Y,b.H.Jw.r,_)}x.iN.apply(Y,b.H.TF,_)}}if(b.H.Rt)x.j.w(b.H.Rt.r,q.w,b.H.Rt.r);
if(b.H.Jw)x.j.w(b.H.Jw.r,q.w,b.H.Jw.r);x.j.w(b.H.TF,q.w,b.H.TF);b.RZ=!0};c.zq.prototype.xFI=function(b,X,q){if(q==null)return;
b.H.TF.push(0,0);if(b.H.Rt==null)b.H.Rt={W:[],r:[]};for(var N=0;N<q.qE.length;N++){var J=q.qE[N];for(var _=0;
_<J.am.length;_++){var p=J.am[_],z=J.bd.x+p.bd.x+p.h.x,g=J.bd.y+p.bd.y+p.h.y+p.h.z;b.H.Rt.W.push("M","L");
b.H.Rt.r.push(z,g,z+p.h.n,g)}}b.RZ=!0};c.Hf=function(){c.rl.call(this,[10,9],c.Pz,"tools/lasso");this.pf="crosshair";
this.xj=null;this.oD=null;this.Gl=null};c.Hf.prototype=new c.rl;c.Hf.prototype.oL=function(b,X,q,N){this.xj=this.DP;
this.oD={r:[this.xj.x,this.xj.y],W:["M"]}};c.Hf.prototype.YF=function(b,X,q,N){this.Gl=N;var J=this.oD;
if(!N.je){if(this.oD!=null&&this.WV>1&&q._(S.PU)){J.r.pop();J.r.pop();J.r.push(this.Z_.x,this.Z_.y);
b.H.Rt=J;b.RZ=!0}return}J.W.push("L");J.r.push(this.Z_.x,this.Z_.y);this.xj=this.Z_;if(this.kB){b.H.Rt=J;
b.RZ=!0}};c.Hf.prototype.Ze=function(){return this.oD!=null};c.Hf.prototype.Hl=function(){return this.oD!=null};
c.Hf.prototype.aZ=function(b,X,q,N){c.rl.prototype.aZ.call(this,b,X,q,N);if(this.oD&&this.WV>1&&this.Gl&&!this.Gl.je&&!N._(S.PU))this.Yz(b,q,N)};
c.Hf.prototype.QB=function(b,X,q,N){this.Gl=N;if(this.WV>1&&q._(S.PU)){var J=this.oD;J.W.push("L");J.r.push(this.Z_.x,this.Z_.y);
return}this.Yz(b,X,q)};c.Hf.prototype.Yz=function(b,X,q){this.finish(b,X,q,this.Gl);this.oD=null;b.H.Rt=null;
b.RZ=!0};c.Hf.prototype.getSelection=function(b,X,q,N){if(this.DP.Rj(this.Z_)||!this.kB)return null;
return c.rl.xO(this.oD.r)};c.Gk=function(){c.os.call(this,[10,11],c.KC,"tools/move");this.wT=new Ue(0,0);
this.wJ=new Ue(0,0);this.Ow=null;this.Xb=null;this.Xg=new Ue(0,0);this.Fw=null;this.Ka=null;this.jQ=null;
this.RJ=null;this.pS=[];this.uj=null;this.zw=!1;this.V=0;this.NX=null;this.ng=null;this.aE=null;this.Vx=!1;
this.gw={Jz:!1,JD:!1,Ui:!1};this._S=null;this.ry=null;this.xMr=null;var b=[];for(var X=0;X<x.hM.$E.length;
X++)b.push({name:x.hM.$E[X],O:function(q,N,J){return{QZ:N.ht.Ms==J}}});this.Qa=new Uo(b);this.Qa.l("select",this.EB,this)};
c.Gk.prototype=new c.os;c.os.prototype.KH=function(b){return this.zw&&this.V!=2};c.Gk.prototype.Pw=function(){return this.zw&&this.V==0};
c.Gk.prototype.PL=function(b,X,q,N){this.gn(b,-this.Xg.x,-this.Xg.y);this.Xg.gM(0,0);this.gP(b,null,q);
this.XM(b)};c.Gk.prototype.tp=function(){var b=this.gw;return[b.Jz?1:0,b.JD?1:0,b.Ui?1:0]};c.Gk.prototype.Ph=function(b,X,q){var N=this.gw;
if(b&&b[0]!=null)N.Jz=b[0]==1;if(b&&b[1]!=null)N.JD=b[1]==1;if(b&&b[2]!=null)N.Ui=b[2]==1;var J=new Q(K.E.T,!0);
J.data={V:K.a.IZ,B:this.id,Vg:N,xFV:X};q.X(J)};c.Gk.LQ=function(b,X,q,N,J,_,p){if(p==null)p=[!1,!0];
var z=new R(0,0,b.n,b.z),g=b.uu(null,J,!0),W=b.xgl(g,p[0]?z:null,p[1]?null:z)[0];if(q!=1){var o=new R(0,0,Math.round(W.n*q),Math.round(W.z*q));
c.IP.xo(W,o);var y=[];for(var m=0;m<W.F.length;m++)y.push(m);var k=c.C.gj(W,y,!0);c.C.ED(W,N,y,k,1,x.GI.SW(new nQ(q,0,0,q,0,0)),null,!0);
W.RL()}var O=[];for(var m=0;m<X.length;m++)O.push(nr.kz(W,X[m].toUpperCase(),null,null,_?_[m]:null,N));
return O};c.Gk.prototype.Ld=function(b,X,q,N,J){if(b==null||b.k.length==0)return;var _=c.Gk.LQ(b,[X],q,N,null)[0],p=new Q(K.E.T,!0);
p.data={V:K.a.SD,data:_,name:b.F[b.k[0]].getName()+"."+X};J.X(p)};c.Gk.prototype.gJ=function(b,X,q,N,J){if(b.qe=="getPNG"){this.Ld(q,"png",b.xvz,J,X)}else if(b.qe=="getSVG"){this.Ld(q,"svg",b.xvz,J,X)}if(b.qe=="prms"){this.gw=b;
this.XM(q)}};c.Gk.xFt=function(b){var X=b.length,N=0;b.sort(function(z,g){return z[0]+z[1]/2-(g[0]+g[1]/2)});
var q=b[X-1][0]+b[X-1][1]-b[0][0];for(var J=0;J<X;J++)N+=b[J][1];var _=Math.round((q-N)/(X-1)),p=b[0][0];
for(var J=0;J<X;J++){b[J][0]=p;p+=b[J][1]+_}};c.Gk.prototype.wt=function(b,X,q,N,J){var _=b.V;if(_=="trsl"){var p=Math.round(b.xRv),z=Math.round(b.xRJ);
this.Xg.gM(p,z);this.zM(q,X,N,J,!1,b.Q);this.gn(q,p,z);this.gP(q,null,J)}else if(_=="gids"||_=="gidsFromLayer"){var g=b.ng,W,o;
if(g==null)g=JSON.parse(JSON.stringify(q.LA));if(_=="gids"){W=b.LZ;var y=g[0].length+g[1].length,D=W[0].length+W[1].length;
o=y==D?[23,2]:y>D?[23,3]:[23,4];if(D==0)o=[11,15,0]}else if(_=="gidsFromLayer"){var m=[[],[]];for(var k=0;
k<q.k.length;k++){var O=q.F[q.k[k]].rect;if(O.qa())continue;m[0].push(O.x,O.x+O.n);m[1].push(O.y,O.y+O.z)}o=[11,15,1];
W=JSON.parse(JSON.stringify(q.LA));c.Gk.Ex(W,m)}if(JSON.stringify(g)==JSON.stringify(W))return;var _=new no(o,this);
_.data={V:2,ng:g,LZ:W};q.wV(_);this.we(_.data,q)}else if(_=="algn"){var L=b.A;if(q==null)return;if(q.k.length<2&&!(q.p!=null&&L!=3&&L!=7)){alert(xA.get([15,7,5]));
return}var I=q.p;q.p=null;var O=I?I.rect:c.C.pi(q);this.zM(q,X,N,J,!1);if(!this.zw)return;var H=this.RJ,Y={},n=[],w=[],t=[];
for(var k=0;k<H.length;k++){var j=H[k];while(q.F[j].getName()=="</Layer group>")j++;var E=q.root.vf(j),h=E;
while(E.parent!=null){E=E.parent;if(H.indexOf(E.index)!=-1)h=E}var u=w.indexOf(h.index);if(u==-1){u=w.length;
w.push(h.index)}n[k]=u}var Z=[],P=[],T=[];for(var k=0;k<w.length;k++){var U=c.C.pi(q,q.uu(!0,w[k]));
T.push(U);var r=L==3?[U.y,U.z]:[U.x,U.n];Z[k]=r;P.push(r)}c.Gk.xFt(P);for(var k=0;k<w.length;k++){var U=T[k],i=U.x,V=U.y;
if(L==0)i=O.x;if(L==1)i=O.x+(O.n-U.n)/2;if(L==2)i=O.x+(O.n-U.n);if(L==3)V=Z[k][0];if(L==4)V=O.y;if(L==5)V=O.y+(O.z-U.z)/2;
if(L==6)V=O.y+(O.z-U.z);if(L==7)i=Z[k][0];t.push(Math.round(i-U.x),Math.round(V-U.y))}var F=[];for(var k=0;
k<H.length;k++){var B=n[k];F[2*k]=t[2*B];F[2*k+1]=t[2*B+1]}this.gn(q,0,0,null,F);var $=L==3||L==7?[20,4,6]:[20,4,L<3?L:L-1];
this.gP(q,null,J,F,$);q.p=I}};c.Gk.Ex=function(b,X){for(var q=0;q<X.length;q++)for(var N=0;N<X[q].length;
N++)if(b[q].indexOf(X[q][N])==-1)b[q].push(X[q][N])};c.Gk.prototype.enable=function(b,X,q,N,J){this.Ka=q;
this.jQ=X;this.Vx=J?!0:!1;this.XM(b);this._D("default",X)};c.Gk.prototype.disable=function(b,X,q,N){this.Ll(b)};
c.Gk.prototype.Ll=function(b){if(b==null)return;if(this._S){this._S.clear(b);this._S=null}if(b.H.Ui){b.H.Ui=null;
b.RZ=!0}if(b.H.DW){b.H.DW=null;b.RZ=!0}if(b.H.zd[this.id]){delete b.H.zd[this.id];b.RZ=!0}if(b.H.vk.length!=0){b.H.vk=[];
b.RZ=!0}};c.Gk.prototype.XN=function(b,X,q,N){this.XM(b)};c.Gk.prototype.XM=function(b,X){if(b==null)return;
var q=this.gw;this.Ll(b);if(!this.Vx){var N;if(q.JD||q.Ui)N=x.j.Ja(c.C.pi(b));if(q.JD&&!N.qa()){this._S=new gH([N.x,N.y,N.x+N.n,N.y,N.x+N.n,N.y+N.z,N.x,N.y+N.z],!0);
this._S.NF(b,this.Ka)}if(q.Ui){var J=b.xBI(b.k[0]),o=null,y=!1;if(J==null)J=new R(0,0,b.n,b.z);b.H.Ui={kW:[N],ku:[]};
var _=b.H.Ui.ku,p=N.x+N.n,z=N.y+N.z,g=N.x+Math.floor(N.n/2),W=N.y+Math.floor(N.z/2);if(X){var D=b.root.hT(new Ue(Math.floor(X.x),Math.floor(X.y)));
if(D){o=x.j.Ja(D.Q.RC(b));if(o.Dj(N)){y=(o.Rh(N)||N.Rh(o))&&!N.Rj(o);if(!y)o=null}}}this.LW(N,_);if(o!=null){b.H.Ui.kW.push(o);
var m=o.x+o.n,k=o.y+o.z,O=o.x+Math.floor(o.n/2),L=o.y+Math.floor(o.z/2);if(y){var I=g,H=W;if(N.Rh(o)){I=O;
H=L}_.push(N.x,H,o.x,H);_.push(p,H,m,H);_.push(I,N.y,I,o.y);_.push(I,z,I,k)}else{this.LW(o,_);var Y=z<o.y||k<N.y,n=p<o.x||m<N.x;
if(p<o.x)_.push(p,W,o.x,W);if(m<N.x)_.push(m,W,N.x,W);if(z<o.y)_.push(g,z,g,o.y);if(k<N.y)_.push(g,k,g,N.y);
if(Y&&!n){if(N.x<o.x)_.push(N.x,L,o.x,L);if(o.x<N.x)_.push(o.x,W,N.x,W)}}}else{if(N.y>J.y)_.push(g,J.y,g,N.y);
if(z<J.y+J.z)_.push(g,z,g,J.y+J.z);if(N.x>J.x)_.push(J.x,W,N.x,W);if(p<J.x+J.n)_.push(p,W,J.x+J.n,W)}b.RZ=!0}}if(this.V==2&&this.zw){var w=this.RJ,t=w[0],j=(t==0?"X":"Y")+": "+x.hM.zP(b.LA[t][w[1]],b.Dg,this.Ka,t==0?b.n:b.z,!0);
c.os.PT(Math.round(this.Ow.x)+10,Math.round(this.Ow.y)-10,[j],b);b.RZ=!0}if(this.V==3&&this.zw){var E=x.j.fe(this.NX);
b.H.zd[this.id]={Rt:E};b.RZ=!0}};c.Gk.prototype.LW=function(b,X){var q=b.n,N=b.z,J=b.x+Math.floor(q*.2),_=b.y+Math.floor(N*.2);
X.push(J,b.y,J,b.y+N);X.push(b.x,_,b.x+q,_)};c.Gk.prototype._D=function(b,X){var q={V:K.a.KW,Lf:b},N=new Q(K.E.T,!0);
N.data=q;X.X(N)};c.Gk.prototype.TQ=function(b){var X=this.ry.FO()[0],q=this.Fw,N=this.xMr[X];this.LL(q,N)};
c.Gk.prototype.EB=function(b){var X=JSON.parse(JSON.stringify(this.Ka.ht));X.Ms=this.Qa.FO()[0];var q=new Q(K.E.T,!0);
q.data={V:K.a.dX,Zy:n_.UX,wS:X};this.jQ.X(q)};c.Gk.prototype.cb=function(b,X,q,N,J){if(this.zw)this.TE(b,X,q,N,J);
this.Fw=b;this.Ka=q;this.jQ=X;var _=b.M.X$(J.x,J.y),p;if(c.Gk.EP(q,J)){p=this.Qa}else{if(this.ry)this.ry.removeEventListener("select",this.TQ);
var z=[];b.root.hT(_,z);if(z.length==0)return;var g=[];this.xMr=z;for(var W=0;W<z.length;W++)g.push({name:b.F[z[W]].getName()});
p=this.ry=new Uo(g);p.l("select",this.TQ,this)}p.parent=X;p.f();p.update(b,q);var o=new Q(K.E.T,!0);
o.data={V:K.a.Vj,SU:p,x:J.tz+2,y:J.dH+1};X.X(o)};c.Gk.prototype.Pr=function(b,X,q,N,J){return c.Gk.EP(q,J)};
c.Gk.prototype.vP=function(b,X,q,N,J){this.Ow=J;this.wT.gM(J.x,J.y);this.wJ=b.M.X$(J.x,J.y);this.Xb=new Sq(this.wJ);
this.zM(b,X,N,q,!0)};c.Gk.EP=function(b,X){return b.da&&(0<X.x&&X.x<x.hM.OT||0<X.y&&X.y<x.hM.OT)};c.Gk.prototype.zM=function(b,X,q,N,J,_){var p,z=this.wJ,g=!1;
if(J){var W=N.Jk&&N.ht.LA;if(c.Gk.EP(N,this.wT)){p=JSON.parse(JSON.stringify(b.LA));if(this.wT.x<x.hM.OT)b.LA[0].push(z.x);
if(this.wT.y<x.hM.OT)b.LA[1].push(z.y);if(!W){var o=new Q(K.E.T);if(!N.ht.LA){o.data={V:K.a.dX,Zy:n_.UN};
X.X(o)}if(!N.Jk){o.data={V:K.a.dX,Zy:n_.Fu};X.X(o)}W=!0}}var y=this.LI(b,z);if(W&&y){this.V=2;this.ng=p?p:JSON.parse(JSON.stringify(b.LA));
this.RJ=y;this.zw=!0;this.uj=c.C.pi(b);return}if(b.nI.length!=0){this.V=4;this.uj=b.Ff[b.nI[0]].rect.clone();
this.zw=!0;return}if(this._S&&this._S.Ra(z,b.M.d,!0)!=null){var o=new Q(K.E.T);o.data={V:K.a.Iq,B:c.dL};
X.X(o);var D=new Q(K.E.e);D.B=c.dL;D.data={V:"doMouseDown",Ow:this.wT};X.X(D);return}if(b.p&&b.p.rect.gD(z)){var m=Math.round(z.x),k=Math.round(z.y),O=b.p.rect;
g=b.p.channel[(k-O.y)*O.n+m-O.x]>128}if(!g&&(!this.Vx&&(q._(S.zN)||this.gw.Jz)||this.Vx&&this.gw.Jz&&(q._(S.FI)||b.k.length<2))){var L=this.xQB(b,z,q);
if(!L){b.k=[];b.GN=null;b.fY=b.Vp=!0;this.V=3;this.NX=new R;this.zw=!0;return}}if(q._(S.PU)&&!g){var D=new Q(K.E.e);
D.B=c.iz;D.data={V:M.CX,xFs:!0};X.X(D)}}if(b.nI.length!=0){this.V=4;this.uj=b.Ff[b.nI[0]].rect.clone();
this.zw=!0;return}this.RJ=b.uu(_==null,_,null,!0);for(var I=0;I<this.RJ.length;I++){var H=b.F[this.RJ[I]];
if(H.g$(2)||H.g$(31)){alert(xA.get([6,57,0]));return}}this.pS=c.Gk.LJ(b,this.RJ);this.V=0;if(b.p&&(!J||g)&&b.k.length==1&&b.lC(!1)){if(!b.xPb()){this.zw=!1;
return}var Y=b.F[b.k[0]],n=q._(S.PU);this.V=1;var w=b.history[b.W_];if(w.B==this&&w.data.V==1&&w.data.Q==b.k[0]&&Y.ZZ==Y.ii.ZZ&&!n){this.aE=w}else{var t=Y.ii,j=!1,E;
if(!Y.Nm(b,b.p)||n){j=!0;Y.Pa(b,b.p,n)}if(Y.ii.ZZ<=0){E=x.K(Y.ii.zX.length>>2);x.iJ(Y.ii.zX,E,3)}else E=x.clone(b.p.channel);
var h={rect:Y.ii.vF.clone(),channel:E};this.aE=new no(n?[12,53]:[12,54],this);this.aE.data={V:1,Q:b.k[0],ii:Y.ii,nP:t,uG:j,za:b.p,Tk:h,Tm:new Ue(0,0)};
b.wV(this.aE);b.p=h;b.Tf=!0}}this.zw=!0;this.uj=c.C.pi(b)};c.Gk.prototype.xQB=function(b,X,q){var N=b.root.hT(new Ue(Math.floor(X.x),Math.floor(X.y)));
if(N){if(N.Q.add.vmsk)b.RZ=!0;var J=b.F.indexOf(N.Q);if(q._(S.FI)){var _=b.k.indexOf(J);if(_==-1)b.k.push(J);
else if(b.k.length>1)b.k.splice(_,1)}else if(b.k.indexOf(J)==-1){this.LL(b,J)}}return N!=null};c.Gk.prototype.LL=function(b,X){b.F[X].ZZ=0;
b.k=[X];b.GN=null;b.MJ();b.JL=!0;b.fY=!0};c.Gk.prototype.fI=function(b,X,q,N,J){this.Ow=J;var _=b.M.X$(J.x,J.y),D,m;
if(this.Xb&&this.V<2)_=this.Xb.Dc(_,N);if(!this.zw){if(q.Jk&&q.ht.LA){var p=this.LI(b,_),z="default";
if(p)z=["col-resize","row-resize"][p[0]];else if(this._S){var g=this._S.Ra(_,b.M.d);if(g)z=g}this._D(z,X)}this.XM(b,_);
return}var W=this.wJ,o=Math.round(_.x-W.x)-this.Xg.x,y=Math.round(_.y-W.y)-this.Xg.y;if(this.uj){if(this.V==2){_=c.Gk.Lg(b,_,q,[!1,b.p?b.p.rect:this.uj,!0])}else{m=this.uj.clone();
m.offset(this.Xg.x+o,this.Xg.y+y);D=c.Gk.Ck(b,m,q);o+=Math.round(D[0]);y+=Math.round(D[1])}}this.Xg.x+=o;
this.Xg.y+=y;this.gn(b,o,y,_,null,N._(S.FI));this.XM(b,_);if(D)c.Gk.Cm(b,m,D)};c.Gk.prototype.LI=function(b,X){X=[X.x,X.y];
for(var q=0;q<2;q++)for(var N=0;N<b.LA[q].length;N++)if(Math.abs(b.LA[q][N]-X[q])*b.M.d<4)return[q,N];
return null};c.Gk.prototype.gn=function(b,X,q,N,J,_){if(this.V==0){if(J)c.Gk.zt(b,this.RJ,this.pS,J);
else c.Gk.zi(b,this.RJ,this.pS,X,q)}else if(this.V==1){var p=this.aE.data;p.Tm.offset(X,q);c.Gk.gh(b,p.Q,X,q)}else if(this.V==2){var z=1e-5;
if(_)z=b.M.d<=1?10:1;else if(b.M.d<=1)z=1;var g=z*Math.round(N.x/z),W=z*Math.round(N.y/z),o=[g,W],y=this.RJ;
b.LA[y[0]][y[1]]=o[y[0]]}else if(this.V==3){var D=this.wJ,m=x.j.z_([D.x,D.y,N.x,N.y]);this.NX=m;var k=[];
b.root.xAX(m,k);if(JSON.stringify(b.k)!=JSON.stringify(k)){b.k=k;b.fY=!0;b.Vp=!0}}else if(this.V==4){for(var O=0;
O<b.nI.length;O++)b.Ff[b.nI[O]].rect.offset(X,q);b.RZ=!0}};c.Gk.gh=function(b,X,q,N){var J=b.F[X];b.p.rect.offset(q,N);
J.QI(b,q,N,b.p);b.Tf=!0;b.Y()};c.Gk.prototype.TE=function(b,X,q,N,J){this.gP(b,J,q);this.XM(b)};c.Gk.prototype.gP=function(b,X,q,N,J){if(!this.zw)return;
this.zw=!1;if(this.V==0){if(N){this.LT(b,null,N,J)}else{if(this.Xg.x==0&&this.Xg.y==0)return;this.LT(b,this.Xg.clone())}b.Ri=!0}else if(this.V==2){var _=0;
X=[X.x,X.y];var p=this.RJ,z=this.ng[0].length+this.ng[1].length,g=b.LA[0].length+b.LA[1].length;if(q.da&&X[p[0]]<x.hM.OT){b.LA[p[0]].splice(p[1],1);
_=1;if(z==g-1)return}if(z<g)_=2;var W=new no([[23,2],[23,3],[23,4]][_],this);W.data={V:2,ng:this.ng,LZ:JSON.parse(JSON.stringify(b.LA))};
b.wV(W)}else if(this.V==4){var W=new no([12,54],this);W.data={V:4,k:b.nI.slice(0),I:this.Xg.clone()};
b.wV(W)}this.Xg.gM(0,0)};c.Gk.prototype.aZ=function(b,X,q,N){var J=N.oH();if(b!=null&&(J.x!=0||J.y!=0)){this.Xg.gM(J.x,J.y);
this.zM(b,X,N,q,!1);if(!this.zw)return;this.gn(b,J.x,J.y);this.gP(b,null,q);this.XM(b)}};c.Gk.prototype.it=function(b,X){if(b.V==0)c.Gk.zt(X,b.k,b.nU,b.VU,!0);
else if(b.V==2){X.LA=JSON.parse(JSON.stringify(b.ng));X.RZ=!0}else if(b.V==4){for(var q=0;q<b.k.length;
q++)X.Ff[b.k[q]].rect.offset(-b.I.x,-b.I.y);X.RZ=!0}else{var N=X.F[b.Q];if(b.uG){N.PP(X,b.nP);X.p=b.za;
X.Tf=!0;X.Y();N.Y()}else{c.Gk.gh(X,b.Q,-b.Tm.x,-b.Tm.y)}}};c.Gk.prototype.we=function(b,X){if(b.V==0)c.Gk.zt(X,b.k,b.nU,b.VU);
else if(b.V==2){X.LA=JSON.parse(JSON.stringify(b.LZ));X.RZ=!0}else if(b.V==4){for(var q=0;q<b.k.length;
q++)X.Ff[b.k[q]].rect.offset(b.I.x,b.I.y);X.RZ=!0}else{var N=X.F[b.Q];if(b.uG){N.ii=b.ii;X.p=b.Tk;c.Gk.gh(X,b.Q,0,0);
N.Y()}else{c.Gk.gh(X,b.Q,b.Tm.x,b.Tm.y)}}};c.Gk.prototype.LT=function(b,X,q,N){if(q){var J=!0;for(var _=0;
_<q.length;_++)if(q[_]!=0)J=!1;if(J)return}var p=b.history[b.W_];if(p.data&&p.B==this&&p.data.V==0&&q==null&&JSON.stringify(p.data.k)==JSON.stringify(this.RJ)&&JSON.stringify(p.data.nU)==JSON.stringify(this.pS)){var z=p.data.VU,g=p.data.xF$.nv.T.v;
g.Hrzn.v.val+=X.x;g.Vrtc.v.val+=X.y;for(var _=0;_<z.length;_+=2){z[_]+=X.x;z[_+1]+=X.y}}else{if(X==null)X=new Ue(q[0],q[1]);
var W={pn:"move",nv:{classID:"null",null:_U.YN("Lyr",!0),T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:X.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:X.y}}}}}},o=new no(N?N:[12,54],this);
if(q)o.data={V:0,k:this.RJ,nU:this.pS,VU:q};else o.data={V:0,k:this.RJ,nU:this.pS,VU:c.Gk.Lt(this.RJ,X.x,X.y)};
o.data.xF$=W;b.wV(o);this.track(W)}};c.Gk.Lt=function(b,X,q){var N=[];for(var J=0;J<b.length;J++)N.push(X,q);
return N};c.Gk.zi=function(b,X,q,N,J){c.Gk.zt(b,X,q,c.Gk.Lt(X,N,J))};c.Gk.zt=function(b,X,q,N,J){if(X.length==0)return;
if(q==null){q=[];for(var _=0;_<X.length;_++){q.push(b.F[X[_]].OM(b,!0))}}var p=new R,z=new R(0,0,b.n,b.z);
for(var _=0;_<X.length;_++){var g=N[2*_],W=N[2*_+1];if(J){g=-g;W=-W}var o=b.F[X[_]],y=q[_];if(o.add.fxrp&&(y.indexOf(0)!=-1||o.gC()))o.add.fxrp.offset(g,W);
for(var D=0;D<y.length;D++){var m=y[D];if(m==0){o.rect.offset(g,W);if(o.ot()&&o._m(b))o._m(b).rect.offset(g,W);
if(o.add.artb){var k=o.Cz();k.offset(g,W);o.fm(k)}if(o.add.TySh){o.add.TySh.w.translate(g,W);if(o.add.TySh.add){o.add.TySh.add.vmsk.offset(g,W)}}if(o.add.SoLd){var O=new nQ(1,0,0,1,g,W),L=o.add.SoLd,I=c.C.Nk(L.Trnf),H=c.C.Nk(L.nonAffineTransform);
x.j.w(I,O,I);x.j.w(H,O,H);L.Trnf=c.C.Rz(I);L.nonAffineTransform=c.C.Rz(H)}}if(m==1)o.DL().rect.offset(g,W);
if(m==2){o.add.vmsk.offset(g,W);if(o.add.vogk)x.P_.w(o.add.vogk,[1,0,g,0,1,W,0,0],[])}if(m==3){o._m(b).G.rect.offset(g,W);
if(y.length==1)o.Y()}}if(y.length>0){var Y=o.add.GdFl;if(Y==null)Y=o.add.PtFl;if(o.gC()&&!o.nf()&&o.add.vmsk!=null&&x.g.yA(o.add.vmsk.s)&&o.add.vmsk.hw==255&&(Y==null||Y.Algn&&Y.Algn.v)){o.rect.offset(g,W)}else o.he(b);
var n=b.root.PV(o.RC(b),b,X[_]);p=p.Tg(n);n.offset(-g,-W);p=p.Tg(n);if(o.add.SoCo||o.add.GdFl||o.add.PtFl||nY.get(o.add)!=null)p=p.Tg(z);
o.xxO()}}b.Y(p)};c.Gk.LJ=function(b,X){var q=[];for(var N=0;N<X.length;N++){var J=b.F[X[N]];q.push(J.OM(b))}return q};
c.Gk.Cm=function(b,X,q){var N=b.H.DW={r:[],W:[]},J=X.x+q[0],_=X.y+q[1];if(q[2]!=1e9){N.W.push("M","L");
N.r.push(q[2],_,q[2],_+X.z)}if(q[3]!=1e9){N.W.push("M","L");N.r.push(J,q[3],J+X.n,q[3])}b.RZ=!0};c.Gk.Lg=function(b,X,q,N){var J=c.Gk.Lz(b,[[X.x],[X.y]],q,N);
return new Ue(X.x+J[0],X.y+J[1])};c.Gk.Ck=function(b,X,q,N,J){var _=J==!0?0:1,p=c.Gk.Lz(b,[[X.x,X.x+(X.n>>>_),X.x+X.n],[X.y,X.y+(X.z>>>_),X.y+X.z]],q,N);
return p};c.Gk.Lz=function(b,X,q,N){if(N==null)N=[!0,null,!0];var J=[0,0,1e9,1e9];if(!q.Vh)return J;
var _=JSON.parse(JSON.stringify(X));for(var p=0;p<2;p++){var z=1e9,g=X[p],W=0;for(var o=0;o<g.length;
o++){var y=c.Gk.xQP(b,g[o],_[1-p][o],p,q,N);if(y!=1e9)_[p][o]=y;if(y!=1e9&&Math.abs(y-g[o])<Math.abs(z)){z=y-g[o];
W=y}}if(z!=1e9){J[p]=z;J[p+2]=W}}return J};c.Gk.xQP=function(b,X,q,N,J,_){var p=1e9,z=J.nY,g=J.ht;if(_[0]&&z[0]&&g.LA&&J.Jk){var W=b.LA[N];
for(var o=0;o<W.length;o++)if(Math.abs(W[o]-X)<Math.abs(p-X))p=W[o]}if(z[1]&&g.nH&&J.Jk){var y=Math.round(x.hM.yS(g.df,b,g.dk));
if(N==1&&g.nJ==1){var D=q*.5*Math.sqrt(4/3),m;y*=Math.sqrt(4/3);m=Math.round((X-D)/y)*y+D;if(Math.abs(m-X)<Math.abs(p-X))p=m;
m=Math.round((X+D)/y)*y-D;if(Math.abs(m-X)<Math.abs(p-X))p=m}else{var m=Math.round(X/y)*y;if(Math.abs(m-X)<Math.abs(p-X))p=m}}var k=b.lg;
if(z[3]&&g.lg&&J.Jk&&k.length!=0){for(var o=0;o<k.length;o++){if(!_[2]&&b.HA.indexOf(o)!=-1)continue;
var O=c.IV.pB(k,o);for(var L=0;L<3;L+=2)if(O[L+N]!=X&&Math.abs(O[L+N]-X)<Math.abs(p-X))p=O[L+N]}}if(_[1]){var I=_[1],H=I.n,Y=I.z,n=[I.x,I.y,I.x+(H>>>1),I.y+(Y>>>1),I.x+H,I.y+Y];
for(var o=0;o<6;o+=2)if(Math.abs(n[o+N]-X)<Math.abs(p-X))p=n[o+N]}if(z[4]){var H=b.n,Y=b.z,n=[0,0,H>>>1,Y>>>1,H,Y];
for(var o=0;o<6;o+=2)if(Math.abs(n[o+N]-X)<Math.abs(p-X))p=n[o+N]}var w=Math.abs(p-X)<=4*K.u()/b.M.d?p:1e9;
return w};c.Vo=function(){c.rl.call(this,[10,12],c.xvN,"tools/mwand")};c.Vo.prototype=new c.rl;c.Vo.prototype.oL=function(b,X,q,N){this.finish(b,X,q,N)};
c.Vo.prototype.getSelection=function(b,X,q,N){var J=this.Z_,_=c.rl.xRS(new Ue(Math.floor(J.x),Math.floor(J.y)),this.gw.XZ);
return _};c.Vo.tJ=function(b,X,q){if(b.k.length!=1){alert("More than one layer selected.");return null}var N=b.F[b.k[0]],J;
if(N.add.lsct!=null&&N.add.lsct!=_b.Pi){alert("No layer selected.");return null}if(X.x<0||X.x>b.n||X.y<0||X.y>b.z)return null;
var _=new R(0,0,b.n,b.z),p=N.ZZ<=0?null:N.ZZ==1?N.DL():N._m(b).G;if(p==null&&_.Rj(N.rect))J=N.buffer;
else{J=x.K(_.c()*4);if(p==null)x.iX(N.buffer,N.rect,J,_);else c.Un.NW(p.channel,p.rect,p.color,J,_)}var z=c.Vo.ty(J,_,X,null,q),g=x.E_(z,_),W=x.K(g.c());
x.rS(z,_,W,g);return{rect:g,channel:W}};c.Vo.zj=function(b,X,q){var N=X.n,_=0,p=0,z=0,g=0;b=new Uint32Array(b.buffer);
var J=[],W=q.length;for(var o=0;o<W;o++){var y=q[o],D=Math.round(y.x-.5-X.x),m=Math.round(y.y-.5-X.y);
if(!X.gD(y))D=m=0;var k=m*N+D,O=b[k];J.push([O&255,O>>8&255,O>>16&255,O>>>24])}return J};c.Vo.ty=function(b,X,q,N,J){b=new Uint32Array(b.buffer);
var _=X.n,p=X.z,z=_*p;if(N==null)N=c.Vo.zj(b,X,[q]);var g=Math.round(q.x-.5-X.x),W=Math.round(q.y-.5-X.y),o=W*_+g,y=Date.now(),D=x.K(_*p),m=J[0],k=1/m,O=J[1]&&m>0?255:0;
if(J[2]){var L=x.K(D.length),I=new Uint32Array(z),H=1;I[0]=g<<16|W;L[o]=1;while(H>0){var Y=I[H-1];H--;
var n=Y>>>16,w=Y&65535,t=w*_+n,j=c.Vo.EM(b[t],N);if(j>m){var E=O*(1-Math.max(0,Math.min(1,(j-m)*k)));
D[t]=~~E}else{D[t]=255;if(w!=p-1&&L[t+_]==0){I[H++]=n<<16|w+1;L[t+_]=1}if(w!=0&&L[t-_]==0){I[H++]=n<<16|w-1;
L[t-_]=1}if(n!=_-1&&L[t+1]==0){I[H++]=n+1<<16|w;L[t+1]=1}if(n!=0&&L[t-1]==0){I[H++]=n-1<<16|w;L[t-1]=1}}}}else{for(var t=0;
t<z;t++){var j=c.Vo.EM(b[t],N);if(j<=m)D[t]=255}for(var w=0;w<p;w++)for(var n=0;n<_;n++){var t=w*_+n;
if(D[t]==0&&(n>0&&(D[t-1]==255||w>0&&D[t-_-1]==255||w<p-1&&D[t+_-1]==255)||n<_-1&&(D[t+1]==255||w>0&&D[t-_+1]==255||w<p-1&&D[t+_+1]==255)||w>0&&D[t-_]==255||w<p-1&&D[t+_]==255)){var j=c.Vo.EM(b[t],N),E=O*(1-Math.max(0,Math.min(1,(j-m)*k)));
D[t]=~~E}}}return D};c.Vo.EM=function(b,X){var q=X.length,N=c.Vo.Xp(b,X[0]),J=1;while(J!=q){N=Math.min(N,c.Vo.Xp(b,X[J]));
J++}return N};c.Vo.Xp=function(b,X){var q=b&255,N=b>>>8&255,J=b>>>16&255,_=b>>>24&255;if(X[3]==0)return _<5?0:255;
var p=Math.max(Math.abs(q-X[0]),Math.max(Math.abs(N-X[1]),Math.abs(J-X[2])));return _==0?255:p};c.fV=function(){c.Un.call(this,[10,26],c.Po,"tools/patch");
this.xj=null;this.oD=null;this.I=null;this.bd=null;this.NN=new Ue;this.NO=null};c.fV.prototype=new c.Un;
c.fV.prototype.vP=function(b,X,q,N,J){var _=b.M.X$(J.x,J.y);if(b.p&&x.hT(_,b.p.channel,b.p.rect)){var p=new R(0,0,b.n,b.z),z=p.be(b.p.rect);
if(!b.lC()||z.qa())return;if(!z.Rj(b.p.rect)){var g=x.K(z.c());x.rS(b.p.channel,b.p.rect,g,z);b.p={channel:g,rect:z}}this.xJ(b);
this.bd=_;this.NN=new Ue(_.x-b.p.rect.x,_.y-b.p.rect.y);this.NO=x.K(b.p.rect.c()*4);x.set(this.NO,4294967295);
if(this.gw.patch==1){var W=b.F[b.k[0]];W.Pa(b,b.p,!0);if(W.ii==null)this.bd=null}}else{this.oD={r:[_.x,_.y],W:["M"]};
this.xj=_}};c.fV.prototype.fI=function(b,X,q,N,J){var _=b.M.X$(J.x,J.y);if(this.bd){if(this.gw.patch==1){var p=b.F[b.k[0]].ii,z=_.x-this.NN.x,g=_.y-this.NN.y;
c.Gk.gh(b,b.k[0],Math.round(z-p.vF.x),Math.round(g-p.vF.y))}else this.Xw(b,_,"clone")}if(this.xj){this.oD.W.push("L");
this.oD.r.push(_.x,_.y);this.xj=_;b.H.Rt=this.oD;b.RZ=!0}};c.fV.prototype.TE=function(b,X,q,N,J){var _=b.M.X$(J.x,J.y);
if(this.bd){this.Xw(b,_,"heal");this.finish(b,b.p.rect);this.bd=null}if(this.xj){var p=c.rl.HL(this.gw.setop,N._(S.FI),N._(S.PU)),z=new Q(K.E.gy,!0);
if(this.oD.r.length<=4)z.data=c.rl.zL();else z.data=c.rl.xO(this.oD.r,p);X.X(z);this.xj=null;b.H.Rt=null;
b.RZ=!0}};c.fV.prototype.hm=function(){return this.I};c.fV.prototype.gJ=function(b,X,q,N,J){c.Un.prototype.gJ.call(this,b,X,q,N,J);
this._D(J,N)};c.fV.prototype._D=function(b,X){var q="auto;";if(X!=null&&X._(S.FI)&&!X._(S.PU)||this.gw.setop=="union")q="copy";
var N=new Q(K.E.T,!0);N.data={V:K.a.KW,Lf:q};if(this.caller)this.caller.X(N)};c.fV.prototype.Xw=function(b,X,q){var N=new Ue(Math.round(this.bd.x-X.x),Math.round(this.bd.y-X.y));
if(this.gw.patch==1)N.gM(-N.x,-N.y);this.I=N;this.Nx(b,q,this.NO,b.p.rect,b.p.rect);this.Y(b,b.p.rect)};
c.gN=function(){c.Un.call(this,[10,13],c.xRK,"tools/pbucket")};c.gN.prototype=new c.Un;c.gN.prototype.enable=function(b,X,q,N){var J=new Q(K.E.T,!0);
J.data={V:K.a.KW,Lf:"default"};X.X(J)};c.gN.prototype.TY=function(b,X){};c.gN.prototype.TE=function(b,X,q,N,J){if(!b.lC())return;
var _=b.M.X$(J.x,J.y),p=c.Vo.tJ(b,_,this.gw.wconf);if(p==null)return;var z=x.K(p.rect.c()*4);x.Ws(z,(q.pp&255)<<16|(q.pp>>8&255)<<8|(q.pp>>16&255)<<0);
x.qR(p.channel,z,3);this.xJ(b);this.Nx(b,"draw",z,p.rect,p.rect);this.Y(b,p.rect);this.finish(b,p.rect)};
c.RM=function(){c.rl.call(this,[10,14],c.xvw,"tools/plasso");this.pf="crosshair";this.U_=[];this.oD=null;
this.xRf=0};c.RM.prototype=new c.rl;c.RM.prototype.disable=function(b,X,q,N){this.NY(b)};c.RM.prototype.oL=function(b,X,q,N){this.U_=[S.nw,S.UL]};
c.RM.prototype.Hd=function(b){return this.U_.indexOf(b)!=-1};c.RM.prototype.KH=function(b){return this.oD!=null};
c.RM.prototype.Hl=function(){return this.oD!=null};c.RM.prototype.Ze=function(){return this.oD!=null};
c.RM.prototype.YF=function(b,X,q,N){if(this.oD==null)return;var J=this.oD,_=J.r,p=_.length-2,z=this.Z_;
if(this.WV>1&&q._(S.PU)&&N.je){_.push(0,0);J.W.push("L");p+=2}else if(q._(S.FI))z=c.Wq.fO(new Ue(_[p-2],_[p-1]),z);
_[p]=z.x;_[p+1]=z.y;b.H.Rt=J;b.RZ=!0};c.RM.prototype.QB=function(b,X,q,N){var J=Date.now();if(this.oD==null)this.oD={r:[this.Z_.x,this.Z_.y,this.Z_.x,this.Z_.y],W:["M","L"]};
else{this.YF(b,X,q,N);this.oD.W.push("L");this.oD.r.push(this.Z_.x,this.Z_.y);b.H.Rt=this.oD;if(J-this.xRf<250||Ue.NH(this.Z_,new Ue(this.oD.r[0],this.oD.r[1]))<5*K.u()/b.M.d){this.finish(b,X,q,N);
this.NY(b)}}this.xRf=J;b.H.Rt=this.oD};c.RM.prototype.NY=function(b){this.oD=null;this.U_=[];if(b!=null){b.H.Rt=null;
b.RZ=!0}};c.RM.prototype.aZ=function(b,X,q,N){c.rl.prototype.aZ.call(this,b,X,q,N);if(this.oD==null)return;
if(N._(S.nw)||N._(S.UL)){this.oD.r.pop();this.oD.r.pop();this.oD.W.pop();this.YF(b,q,N)}if(N._(S.jV)){if(this.oD.r.length>4)this.finish(b,q,N);
this.oD=null}if(N._(S.pj)){this.oD=null}b.H.Rt=this.oD;b.RZ=!0};c.RM.prototype.getSelection=function(b,X,q,N){return c.rl.xO(this.oD.r)};
c.$r=function(){c.rl.call(this,[10,10],c.xvd,"tools/mlasso");this.pf="crosshair";this.U_=[];this.DQ={fW:3};
this.s=[];this.Va=[];this.am=[];this.VQ=null;this.dV=null;this.aJ=null;this.ak=0};c.$r.prototype=new c.rl;
c.$r.prototype.disable=function(b,X,q,N){this.clear(b)};c.$r.prototype.KH=function(b){return this.s.length!=0};
c.$r.prototype.Ze=function(){return this.s.length!=0};c.$r.prototype.Hd=function(b){return this.U_.indexOf(b)!=-1};
c.$r.prototype.oL=function(b,X,q,N){this.U_=[S.nw,S.UL];var J=this.zk(this.DP,b);if(this.s.length!=0&&(Ue.NH(J,this.s[0])<4*K.u()/b.M.d||Date.now()-this.ak<300)){this.zD(b,this.s[0]);
this.finish(b,X,q);this.clear(b);return}this.ak=Date.now();if(this.s.length!=0)J=this.EC(J,b,this.DQ.fW);
else{var _=b.n,p=b.z,z=x.K(_*p),g=b.US(),W=_*p*4;for(var o=0;o<W;o+=4)z[o>>>2]=x.Ry(Math.round(.3*g[o]+.6*g[o+1]+.1*g[o+2])*g[o+3]);
this.VQ=x.IO.xxX(z,_,p);this.aJ=new Uint16Array(z.length)}this.zD(b,J);this.SL(b)};c.$r.prototype.zD=function(b,X){var q=this.s;
this.Va[q.length]=this.am.length;if(q.length!=0){x.IO.Ky(this.dV,X.y*b.n+X.x);var N=this.Ei(b,X);N.reverse();
var J=this.jY(b,N);this.am=this.am.concat(J)}q.push(X);this.Xa(b)};c.$r.prototype.Xa=function(b){var X=this.s[this.s.length-1],q=X.y*b.n+X.x;
this.dV=x.IO.xxc(this.VQ.FK,this.VQ.hZ,q);x.set(this.aJ,0)};c.$r.prototype.zk=function(b,X){return new Ue(Math.floor(Math.max(0,Math.min(X.n-1,b.x))),Math.floor(Math.max(0,Math.min(X.z-1,b.y))))};
c.$r.prototype.clear=function(b){this.am=[];this.s=[];this.Va=[];this.VQ=null;this.dV=null;this.aJ=null;
if(b!=null){b.H.Rt=null;b.H.TF=[];b.RZ=!0}this.U_=[]};c.$r.prototype.YF=function(b,X,q,N){if(this.s.length==0)return;
var J=this.EC(this.zk(this.Z_,b),b,this.DQ.fW),_=this.Ei(b,J);for(var p=0;p<_.length;p++){var z=_[p],g=new Ue(z%b.n,Math.floor(z/b.n));
if(this.aJ[z]>30&&Ue.NH(g,this.s[this.s.length-1])>20){this.zD(b,g);return}this.aJ[z]++}this.SL(b)};
c.$r.prototype.SL=function(b){var X=this.s;if(X.length!=0){var q=this.EC(this.zk(this.Z_,b),b,this.DQ.fW),N=this.Ei(b,q);
N.reverse();var J=this.jY(b,N),_=this.am.concat(J);b.H.Rt=this.jg(_)}b.H.TF=[];for(var p=0;p<X.length;
p++)b.H.TF.push(X[p].x+.5,X[p].y+.5);b.RZ=!0};c.$r.prototype.QB=function(b,X,q,N){};c.$r.prototype.aZ=function(b,X,q,N){if(this.s.length==0)return;
if(N._(S.nw)||N._(S.UL)){this.s.pop();this.am=this.am.slice(0,this.Va[this.s.length]);this.Va.pop();
if(this.s.length==0)this.clear(b);else this.Xa(b);this.SL(b)}if(N._(S.jV)){var J=this.zk(this.Z_,b);
this.zD(b,J);this.finish(b,q,N);this.clear(b)}if(N._(S.pj)){this.clear(b)}};c.$r.prototype.jg=function(b){var X={r:b.slice(0),W:["M"]};
for(var q=2;q<b.length;q+=2)X.W.push("L");return X};c.$r.prototype.getSelection=function(b,X,q,N){var J=this.jg(this.am);
return c.rl.xO(J.r)};c.$r.prototype.Ei=function(b,X){var q=this.s[this.s.length-1],N=q.y*b.n+q.x,J=X.y*b.n+X.x,_=[J];
while(J!=N){J=this.dV.dB[J];_.push(J);if(_.length>5e3){console.log(_);throw"e"}}return _};c.$r.prototype.jY=function(b,X){var q=[],N=b.n;
for(var J=0;J<X.length;J++){var _=X[J];q.push(_%N+.5,Math.floor(_/N)+.5)}return q};c.$r.prototype.EC=function(b,X,q){var N=X.n,J=X.z,_=b.clone();
x.IO.Ky(this.dV,b.y*N+b.x);var p=this.dV.tL[b.y*N+b.x];for(var z=-q+1;z<q;z++)for(var g=-q+1;g<q;g++){var W=b.x+g,o=b.y+z;
if(W<0||W>=N||o<0||o>=J)continue;x.IO.Ky(this.dV,o*N+W);if(this.dV.tL[o*N+W]<p)_.gM(W,o)}return _};c.XR=function(){c.os.call(this,[10,36],c.xvD,"tools/ruler");
this.YP=null;this.Wr=null;this.No=null;this.Nc=null};c.XR.prototype=new c.os;c.XR.prototype.KH=function(b){return b.je};
c.XR.prototype.disable=function(b,X,q,N){this.YP=this.Wr=null;if(b)this.XM(b)};c.XR.prototype.vP=function(b,X,q,N,J){var _=b.M.d/K.u(),p=b.M.X$(J.x,J.y);
p.x=Math.round(p.x);p.y=Math.round(p.y);var z=this.YP;if(z&&Ue.NH(p,z[0])*_<6)this.Wr=[0];else if(z&&Ue.NH(p,z[1])*_<6)this.Wr=[1];
else if(z&&c.XR.xQi(z[0],z[1],p)*_<6&&Math.min(z[0].x,z[1].x)-5<=p.x&&p.x<=Math.max(z[0].x,z[1].x)+5&&Math.min(z[0].y,z[1].y)-5<=p.y&&p.y<=Math.max(z[0].y,z[1].y)+5){this.Wr=[0,1];
this.Nc=[z[0].clone(),z[1].clone()];this.No=p}else{this.YP=[p.clone(),p.clone()];this.Wr=[1]}};c.XR.prototype.fI=function(b,X,q,N,J){if(this.Wr==null)return;
var _=this.YP,p=this.Wr,z=b.M.X$(J.x,J.y);z.x=Math.round(z.x);z.y=Math.round(z.y);if(p.length==2){var g=z.x-this.No.x,W=z.y-this.No.y;
_[0]=this.Nc[0].clone();_[0].offset(g,W);_[1]=this.Nc[1].clone();_[1].offset(g,W)}else{_[p[0]].gM(z.x,z.y);
if(N._(S.FI)){_[p[0]]=c.Wq.fO(_[1-p[0]],_[p[0]])}}this.XM(b);this.vl(X,K.E.T,{V:K.a.IZ,B:this.id,xFy:_[0],hh:_[1]})};
c.XR.prototype.TE=function(b,X,q,N,J){this.Wr=null};c.XR.prototype.vl=function(b,X,q){var N=new Q(X,!0);
N.data=q;b.X(N)};c.XR.prototype.XM=function(b){var X=this.YP;if(X==null){b.H.Rt=null;b.H.TF=[]}else{var q=[X[0].x,X[0].y,X[1].x,X[1].y];
b.H.Rt={W:["M","L"],r:q};b.H.TF=q}b.RZ=!0};c.XR.xQi=function(b,X,q){var N=X.x-b.x,J=X.y-b.y,_=Math.abs(J*q.x-N*q.y+X.x*b.y-X.y*b.x),p=Math.sqrt(N*N+J*J);
return _/p};c.z$=function(){c.Un.call(this,[10,19],c.xR,"tools/sharpen");this.HU="copy"};c.z$.prototype=new c.Un;
c.z$.prototype.vP=function(b,X,q,N,J){var _=this.gw.pdetail?xa.DV:xa.xR;if(N._(S.PU))_=xa.xC;this.hU(b,q,N,J,this.gw.strn,_);
if(this.Zs==null)return;this.Rp(b)};c.z$.prototype.fI=function(b,X,q,N,J){this.hs(b,X,q);if(this.bA)this.re(b,q,J);
if(this.Zs==null)return;if(!J.je)return;this.EK(b,q,N,J);this.Rp(b)};c.gO=function(){c.Un.call(this,[10,24],c.PD,"tools/shbrush");
this.HU="draw";this.gw.opacity=.5};c.gO.prototype=new c.Un;c.gO.prototype.vP=function(b,X,q,N,J){this.hU(b,q,N,J,1);
if(this.Zs==null)return;this.Rp(b)};c.gO.prototype.fI=function(b,X,q,N,J){this.hs(b,X,q);if(this.bA)this.re(b,q,J);
if(this.Zs==null)return;if(!J.je)return;this.EK(b,q,N,J);this.Rp(b)};c.gO.prototype.TE=function(b,X,q,N,J){if(this.Zs==null)return;
this.Nx(b,"sheal",this.Zs.yD(),this.Zs.pi(),this.Zs.lt(),null);this.Y(b,this.Zs.lt());c.Un.prototype.TE.call(this,b,X,q,N,J)};
c.XS=function(){c.Un.call(this,[10,20],c.XO,"tools/smudge");this.HU="copy"};c.XS.prototype=new c.Un;
c.XS.prototype.vP=function(b,X,q,N,J){this.hU(b,q,N,J,this.gw.strn,xa.XO);if(this.Zs==null)return;this.Rp(b)};
c.XS.prototype.fI=function(b,X,q,N,J){this.hs(b,X,q);if(this.bA)this.re(b,q,J);if(this.Zs==null)return;
if(!J.je)return;this.EK(b,q,N,J);this.Rp(b)};c.Xr=function(){c.Un.call(this,[10,23],c.Ps,"tools/sponge");
this.HU="sponge"};c.Xr.prototype=new c.Un;c.Xr.prototype.vP=function(b,X,q,N,J){this.hU(b,q,N,J,this.gw.flow);
if(this.Zs==null)return;this.Rp(b)};c.Xr.prototype.fI=function(b,X,q,N,J){this.hs(b,X,q);if(this.bA)this.re(b,q,J);
if(this.Zs==null)return;if(!J.je)return;this.EK(b,q,N,J);this.Rp(b)};c.Hu=function(){c.os.call(this,[10,17],c.o_,"tools/zoom");
this.Kn=!1;this.JE=!0;this.a$=0;this.RT=null;this.Nf=0;this.pV=null;this.ne=0;this.Qa=new Uo([{name:[8,0],no:"Ctrl + +"},{name:[8,1],no:"Ctrl + -",xy:!0},{name:[20,3],no:"Ctrl + 0"},{name:[20,2],O:function(b){return{hR:xA.get([20,2])+": 100%"}},no:"Ctrl + 1"}],[{v:K.E.e,B:c.o_,R:{V:"zoom",JE:!0}},{v:K.E.e,B:c.o_,R:{V:"zoom",JE:!1}},{v:K.E.e,B:c.o_,R:{V:"adapt",A:"fitscr"}},{v:K.E.e,B:c.o_,R:{V:"adapt",A:"pixel"}}])};
c.Hu.prototype=new c.os;c.Hu.prototype.cb=function(b,X,q,N,J){var _=this.Qa;_.f();_.parent=X;_.update(b,q);
var p=new Q(K.E.T,!0);p.data={V:K.a.Vj,SU:_,x:J.tz+2,y:J.dH+1};X.X(p)};c.Hu.prototype.enable=function(b,X,q,N){this.El(X);
if(Date.now()-this.a$<300)this.wt({V:"adapt",A:"pixel"},X,b,N,q);this.a$=Date.now()};c.Hu.prototype.vP=function(b,X,q,N,J){this.RT=new Ue(J.x,J.y);
this.Nf=b.M.d;this.pV=b.M.I.clone()};c.Hu.prototype.fI=function(b,X,q,N,J){if(this.RT==null)return;var _=Math.round((J.x-this.RT.x)/16);
if(_==0)return;var p=c.Hu.Ed(this.Nf),z=c.Hu.mw[Math.max(0,Math.min(c.Hu.mw.length-1,p-_))];b.M.d=this.Nf;
b.M.I=this.pV.clone();this.wt({V:"zoom",d:z,Ow:this.RT},X,b,N,q)};c.Hu.prototype.TE=function(b,X,q,N,J){if(Ue.NH(this.RT,J)<4){var _=this.JE;
if(this.Kn)_=!_;this.wt({V:"zoom",JE:_,Ow:J},X,b,N,q)}this.RT=null};c.Hu.mw=[32,16,12,8,7,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
c.Hu.ER=function(b,X,q,N){var J=1;while(b*J*1/2>q||X*J*1/2>N)J*=1/2;if(b*J*2/3>q||X*J*2/3>N)J*=1/2;else if(b*J>q||X*J>N)J*=2/3;
return J};c.Hu.xQL=function(b,X){var q=c.Hu.Ed(b);if(X&&q==0)return b;if(!X&&q==c.Hu.mw.length-1)return b;
return c.Hu.mw[X?q-1:q+1]};c.Hu.Ed=function(b){var X=0;while(c.Hu.mw[X]>b)X++;return X};c.Hu.DB=function(b,X,q,N){var J=b.kM;
if(N==0||N==null){N=c.Hu.xQL(b.d,q);if(N==b.d)return}var _=b.X$(X.x,X.y);if(J.n*N<=b.L.n&&J.z*N<=b.L.z)b.I.gM(0,0);
else{b.I.x=Math.round(J.n*N/2-_.x*N+(X.x-b.L.n/2));b.I.y=Math.round(J.z*N/2-_.y*N+(X.y-b.L.z/2))}b.d=N};
c.Hu.prototype.wt=function(b,X,q,N,J){var _=0,p=!1,z=null;if(b.V=="adapt"){var g=0;if(b.A=="pixel")g=1;
if(b.A=="fitscr"){var g=0,W=q.M.L.n,o=q.M.L.z;if(q.n<=W&&q.z<=o){var y=1;while(q.n*(y+1)<=W&&q.z*(y+1)<=o)y++;
g=y}else{g=c.Hu.ER(q.n,q.z,W,o)}}z=new Ue(Math.round(q.M.L.n/2),Math.round(q.M.L.z/2));_=g}if(b.V=="scroll"){z=b.Ow;
this.ne+=b.UV.y;var D=14;if(this.ne<-D){p=!0;this.ne=Math.max(this.ne+D,-(D-1))}else if(this.ne>D){p=!1;
this.ne=Math.min(this.ne-D,D-1)}else return}if(b.V=="zoom"){z=b.Ow?b.Ow:new Ue(Math.round(q.M.L.n/2),Math.round(q.M.L.z/2));
if(b.d!=null)_=b.d;else p=b.JE}if(b.V=="mskView"){var m=q.F[q.k[0]],k=m.ZZ==3?m._m(q).G:m.DL();if(b.A==0){q.M.Yk=[1,1,1];
k.rX=!1}if(b.A==1){q.M.Yk=[1,1,1];k.rX=!0}if(b.A==2){q.M.Yk=[0,0,0];k.rX=!0}for(var O=0;O<q.Ff.length;
O++)q.Ff[O].rX=!1;q.nI=[];q.RZ=!0}if(z==null)return;c.Hu.DB(q.M,z,p,_);q.Ri=!0};c.Hu.prototype.aZ=function(b,X,q,N){if(this.Kn!=N._(S.PU)){this.Kn=N._(S.PU);
var J={V:K.a.IZ,B:this.id,Kn:this.Kn},_=new Q(K.E.T,!0);_.data=J;X.X(_);this.El(X)}};c.Hu.prototype.El=function(b){var X=new Q(K.E.T,!0),q=this.JE;
if(this.Kn)q=!q;X.data={V:K.a.KW,Lf:q?"zoom-in":"zoom-out"};b.X(X)};c.Hu.prototype.gJ=function(b,X,q,N){this.JE=b.JE;
this.El(X)};c.YC=function(b,X,q){c.os.call(this,b,X,q);this.wi=null;this.Ka=null;this.jQ=null;this.xRm=0};
c.YC.prototype=new c.os;c.YC.prototype.enable=function(b,X,q,N,J){this.Ka=q;var _=new Q(K.E.T,!0);_.data={V:K.a.KW,Lf:"default"};
X.X(_)};c.YC.prototype.cb=function(b,X,q,N,J){if(b.Ku()[0].length==0)return;var _=new Q(K.E.T,!0);_.data={V:K.a.IZ,B:this.id,pT:J,Hp:b,pe:q};
X.X(_)};c.YC.prototype.XN=function(b,X,q,N){if(b.k.length==0)return;var J=b.F[b.k[0]],_=J.add.vmsk,p=J.add.vstk,z=c.YC.oC(b,b.k[0]);
this.wi=b;this.jQ=X;if(J.gC()&&_!=null&&(JSON.stringify(p)!=JSON.stringify(q.Pp)||JSON.stringify(z)!=JSON.stringify(q.Pq))){this.xRm=Date.now();
var g=new Q(K.E.T,!0);g.data={V:K.a.dX,Zy:n_.Fd,A:z};X.X(g);g.data={V:K.a.dX,Zy:n_.UA,A:p};X.X(g)}};
c.YC.prototype.TY=function(b,X){if(this.wi==null)return;if(X==n_.LX||X==n_.Fd||X==n_.UA){if(Date.now()-this.xRm<50)return;
var q=X==n_.Fd,N=this.wi,J=q?b.Pq:b.Pp,_=[];for(var p=0;p<N.k.length;p++){var z=N.k[p],g=N.F[z];if(!g.gC()||g.add.vmsk==null)continue;
_.push(z)}var W=new Q(K.E.e,!0);W.B=c.iz;W.data={V:M.dZ,WL:_,dM:q,A:J};if(_.length!=0)this.jQ.X(W)}};
c.YC.prototype.xQT=function(b){if(typeof b=="number"){var X=new Q(K.E.gy,!0);X.data=c.od.Hc(0);X.data.nv.Usng.v.Type.v.Clr.v=x.Z.Yr({D:b>>>16&255,q:b>>>8&255,b:b>>>0&255});
this.jQ.X(X)}};c.YC.prototype.wt=function(b,X,q,N,J){this.jQ=X;if(b.V=="newfill"){if(b.VS==0){var _=new Q(K.E.T,!0);
_.data={V:K.a.Ko,zE:"colorpicker",tY:J.pp,VY:this.xQT.bind(this)};X.X(_)}}else if(b.V=="pathedit"){var p=b.qe,z=q.Dx.slice(0),g=q._H.slice(0),W=q.Dx.slice(0),o=q._H.slice(0);
if(p=="rnm"){var y=-1-b.aP,D=z[y],m=nj.FS(b.name,D.add);W[y]=m}if(p=="new"){W.push(nj.FS("Path "+z.length));
o=[W.length-1]}if(p=="del"){if(o.length==0)return;o.sort(function(O,u){return O-u});if(o[0]==0){W[0]=nj.FS(z[0].name);
o=o.slice(1)}var k=0;while(o.length!=0){W.splice(o[0]-k,1);o=o.slice(1);k++}}var O=new no((p=="new"?"New":p=="del"?"Delete":"Rename")+" Path",this);
O.data={dG:z,Ns:g,xQr:W,N$:o};q.wV(O);this.we(O.data,q)}else{var L=q.Ku(b.V=="append"),I=L[0],H=L[1],Y=I[H[0]],n=Y.add.vmsk,w=Y.add.vogk,t=n.clone(),j=n.clone(),E=JSON.stringify(w);
if(b.V=="remove"){if(j.k.length==0)return;var k=0;for(var h=0;h<j.k.length;h++){w.splice(j.k[h]+k,1);
k--}j.s=x.g.xiW(j.s,j.k);j.k=[];j.Ep=[]}if(b.V=="append"){c.YC.GL(b.xQq,j,w)}this.Er(q,Y.aP,j,w);this.XY(q,b.ds,Y.aP,t,j.clone(),null,E,JSON.stringify(w))}};
c.YC.Di=function(b,X){var q=x.g.xif(b.s,b.k),N=[];for(var J=0;J<b.k.length;J++)N.push(JSON.parse(JSON.stringify(X[b.k[J]])));
return[q,N]};c.YC.GL=function(b,X,q){var N=x.g.SG(X.s),J=x.g.SG(b[0]);X.s=X.s.concat(b[0].slice(2));
X.k=[];for(var _=0;_<J;_++)X.k.push(N+_);for(var _=0;_<J;_++)q.push(JSON.parse(JSON.stringify(b[1][_])))};
c.YC.prototype.Hd=function(b,X){if(X==null)return!1;var q=X.Ku(),N=q[0],J=q[1];if(J.length==0)return!1;
var _=N[J[0]],p=_.add.vmsk;if(p&&p.k.length+p.Ep.length!=0)return[S.nw,S.UL].indexOf(b)!=-1};c.YC.prototype.aZ=function(b,X,q,N){if(b==null)return;
var J=b.Ku(),_=J[0],p=J[1];if(p.length==0)return;var z=_[p[0]],g=z.add.vmsk;if(N._(S.pj)||N._(S.jV)){g.Ep=[];
b.RZ=!0}if(g.k.length!=0){var W=N.oH();if(W.x!=0||W.y!=0){var o=g.clone(),y=g.clone(),D=new nQ(1,0,0,1,W.x,W.y),m=z.add.vogk,k=JSON.stringify(m);
x.g.SC(y.s,D,y.k);x.P_.w(m,x.GI.SW(D),y.k);this.Er(b,z.aP,y,m);this.XY(b,"Move Paths",z.aP,o,y.clone(),!0,k,JSON.stringify(m))}if(N._(S.nw)||N._(S.UL))this.wt({V:"remove",ds:"Delete Paths"},X,b,N,q)}};
c.YC.prototype.XY=function(b,X,q,N,J,_,p,z){var g=new no(X,this);g.data={Xm:q,Ny:N,_d:J,xxM:_,xxi:p,NZ:z};
b.wV(g)};c.YC.prototype.we=function(b,X){if(b.Xm!=null)this.Er(X,b.Xm,b._d.clone(),JSON.parse(b.NZ));
else{X.Dx=b.xQr.slice(0);X._H=b.N$.slice(0);X.RZ=X.fY=!0}};c.YC.prototype.it=function(b,X){if(b.Xm!=null)this.Er(X,b.Xm,b.Ny.clone(),JSON.parse(b.xxi));
else{X.Dx=b.dG.slice(0);X._H=b.Ns.slice(0);X.RZ=X.fY=!0}};c.YC.prototype.Er=function(b,X,q,N){var J=X<0?b.Dx[-1-X]:X<1e6?b.F[X]:b.F[X-1e6].add.TySh;
J.add.vmsk=q;J.add.vogk=N;if(1e6<=X){ng.Kt(J);var _=b.F[X-1e6],p=J,z=this.Ka,g=new __(p.Bw,z._v),W=pN.KE(g,p);
_.rect=W.h;_.buffer=W.Dl;_.Y();b.Y()}else if(0<=X){q.zY=!0;J.he(b);b.Y()}b.RZ=b.fY=!0};c.YC.oC=function(b,X){var q=b.F[X],N=q.add.vstk,J=null;
if(N&&!N.fillEnabled.v)J={Rk:0};else if(q.add.SoCo)J={Rk:1,G$:q.add.SoCo};else if(q.add.GdFl)J={Rk:2,G$:q.add.GdFl};
else if(q.add.PtFl)J={Rk:3,G$:q.add.PtFl};return J};c.YC.cf=function(b,X){var q=b.add.vmsk,N=b.add.vstk,J=X.Rk;
if(N)N.fillEnabled.v=J!=0;if(J>0){var _=["SoCo","GdFl","PtFl"][J-1];for(var p=0;p<3;p++)delete b.add[["SoCo","GdFl","PtFl"][p]];
b.add[_]=X.G$}};c.od=function(b,X,q,N){c.YC.call(this,b,X,q);this.gw={tmode:1,shape:SB.Z$(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,cstr:{vd:0}};
this.xQH=N;this._g=null;this.OA=null;this.PC=null};c.od.prototype=new c.YC;c.od.prototype.KH=function(b){return b.je&&this.id!=c.CQ};
c.od.prototype.enable=function(b,X,q,N,J){var _=new Q(K.E.T,!0);_.data={V:K.a.KW,Lf:"crosshair"};X.X(_)};
c.od.prototype.xS=function(b,X,q,N){};c.od.prototype.vP=function(b,X,q,N,J){var _=this.gw.tmode;if(_==2&&!b.lC())return;
var p=b.M.X$(J.x,J.y);p=c.Gk.Lg(b,p,q);this.PC=[p.x,p.y];this._g=p;this.OA=new Ue(0,0)};c.od.prototype.st=function(b,X,q){var N=[this._g.clone(),X.clone()];
if(this.xQH)N=c.od.EW(N[0],N[1],q,!0,this.gw.cstr);if(b)b.M.t$=new R(N[0].x,N[0].y,N[1].x-N[0].x,N[1].y-N[0].y);
return this.xS(N[0],N[1],q._(S.FI),this.PC)};c.od.prototype.$U=function(b,X,q){var N=b.M.X$(X.x,X.y),J=this.gw.cstr;
if(J.vd==2){var _=new R(N.x-J.x,N.y-J.y,J.x,J.y),p=c.Gk.Ck(b,_,q);N.x+=p[0];N.y+=p[1];c.Gk.Cm(b,_,p)}else N=c.Gk.Lg(b,N,q);
return N};c.od.prototype.fI=function(b,X,q,N,J){if(this._g==null)return;var _=this.$U(b,J,q);if(N._(S.oW))this._g=_.cB(this.OA);
else this.OA=_.cB(this._g);this.PC.push(_.x,_.y);if(this.gw.shape==null)this.gw.shape=q.Pv[0];var p=this.st(b,_,N)[0],z=x.j.zn(p);
b.H.Rt=z;if(this.id!=c.CQ&&this.id!=c.tN&&this.id!=c.Jp)c.os.xq(J.x+10,J.y-10,b.M.t$,b,q);b.RZ=!0};c.od.prototype.xQc=function(b,X,q,N){var J=b[4].clone();
if(N){J.x-=X/2;J.y-=q/2}var _=this.xS(J,new Ue(J.x+X,J.y+q),!1,this.PC);this.eF(b[0],b[1],b[2],_)};c.od.prototype.eF=function(b,X,q,N){var J=new Q(K.E.gy,!0);
J.data=c.od.ZP(N[1],q);X.X(J);if(N[1].v.classID=="customShape"&&N[1].v.Nm.v.startsWith("--")){var _=b.Ku(),p=_[0],z=_[1],g=p[z.pop()],W=g.add.vmsk,o=g.add.vogk,y=W.clone();
y.s=N[0];this.Er(b,g.aP,y,o)}};c.od.prototype.TE=function(b,X,q,N,J){if(this._g==null)return;var _=this.$U(b,J,q),p=this.gw.binop,z=this.gw.tmode,g=this.PC,W=g.length;
if(this.id==c.CQ&&W<=4){}else if(W<=4){_.x=Math.round(_.x);_.y=Math.round(_.y);var o=new Q(K.E.T);o.data={V:K.a.Ko,zE:"createshape",xQC:this.xQc.bind(this),xQd:this.name,xQl:[b,X,q,N,_]};
X.X(o)}else if(W!=2){var y=this.st(b,_,N),D=y[0];if(z==0&&D.length>2){D[2].vR=[1,2,3,0][p];var m=b.Ku(!0),k=m[0],O=m[1],L=k[O.pop()],I=L.add.vmsk,H=L.add.vogk,Y=I.clone(),n=I.clone(),w=JSON.stringify(H);
n.s=n.s.concat(D.slice(2));n.k=[x.g.SG(n.s)-1];var t=x.P_.$G(y[1]);H.push(t?t:x.P_.$j());this.Er(b,L.aP,n,H);
this.XY(b,this.name,L.aP,Y,n,null,w,JSON.stringify(H))}else if(z==1){this.eF(b,X,q,y)}else if(z==2){var n=new M.zo;
n.s=n.s.concat(D.slice(2));var j=n.DL(),E=x.K(j.rect.c()*4);x.Ws(E,(q.pp&255)<<16|(q.pp>>8&255)<<8|(q.pp>>16&255)<<0);
x.qR(j.channel,E,3);var h=new Q(K.E.e,!0);h.B=c.lZ;h.data={V:"draw",k_:{buffer:E,rect:j.rect.clone()},ds:this.name};
X.X(h)}}this._g=null;b.H.Rt=null;b.H.DW=null;b.H.vk=[];b.M.t$=null;b.RZ=!0};c.od.prototype.gJ=function(b,X,q,N,J){for(var q in b)this.gw[q]=b[q]};
c.od.EW=function(b,X,q,N,J){var _=b.x,p=b.y,z=X.x,g=X.y;if(J&&J.vd==2){if(N){z=Math.round(z);g=Math.round(g)}_=z-J.x;
p=g-J.y}else{var W=0;if(J&&J.vd==1)W=J.y/J.x;else if(q&&q._(S.FI))W=1;if(W!=0){if(N){if(_<z)_=Math.floor(_);
else _=Math.ceil(_);if(p<g)p=Math.floor(p);else p=Math.ceil(p)}var o=Math.abs(z-_),y=Math.abs(g-p),D=o;
if(y/o<W)D*=y/o/W;z=z>_?_+D:_-D;g=g>p?p+D*W:p-D*W}if(q&&q._(S.PU)){_-=z-_;p-=g-p}}var b=new Ue(_,p),X=new Ue(z,g);
if(N)c.od.xQs(b,X);return[b,X]};c.od.xQs=function(b,X){if(b.x>X.x){var q=b.x;b.x=X.x;X.x=q}if(b.y>X.y){var q=b.y;
b.y=X.y;X.y=q}b.x=Math.floor(b.x);b.y=Math.floor(b.y);X.x=Math.ceil(X.x);X.y=Math.ceil(X.y)};c.od.xQ$=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
c.od.Hc=function(b,X){var q=c.od.xQ$();if(X==null)X=JSON.parse(JSON.stringify(UZ.ex[b]));xu.Qi.pC(X,q.Usng.v.Type.v,b);
return{pn:"make",nv:q}};c.od.ZP=function(b,X){var q=X.Pq,N=JSON.parse(JSON.stringify(X.Pp));if(q.Rk==0)N.fillEnabled.v=!1;
var J=c.od.Hc(Math.max(0,q.Rk-1),q.G$);J.nv.Usng.v.Shp=b;J.nv.Usng.v.strokeStyle={t:"Objc",v:N};return J};
c.ND=function(){c.YC.call(this,[10,29],c.hq,"tools/pen");this.hN=null;this.um=null;this.PR=1;this.xxQ=0;
this.VO=null;this.sB=!1};c.ND.prototype=new c.YC;c.ND.prototype.KH=function(b){return this.hN!=null};
c.ND.prototype.vP=function(b,X,q,N,J){var _=b.M.X$(J.x,J.y),m,k;_.x=Math.round(_.x);_.y=Math.round(_.y);
var p=c.Gk.Lg(b,_,q),z=b.Ku(this.PR==0),g=z[0],W=z[1],o=g[W.pop()],y=o?o.add.vmsk:null,D=4*K.u()/b.M.d;
if(y)m=x.g.hT(y.s,_,!0,D);if(this.PR==1&&(y==null||(y.Ep.length==0||y.Ep[0]!=y.s.length-1)&&m.aP==-1)){var O=new Q(K.E.gy,!0),L=x.P_.JK("customShape",[0,0,1,1],null,null,null,"--");
O.data=c.od.ZP(L,q);X.X(O);z=b.Ku(!0);g=z[0];W=z[1];o=g[W.pop()];y=o.add.vmsk;y.s=y.s.slice(0,2)}var I=o.add.vogk;
this.hN=y.clone();this.um=JSON.stringify(I);var H=y.s,Y=x.g.SG(H);k=x.g.rv(y.s,new R(_.x-D,_.y-D,D*2,D*2));
m=x.g.hT(y.s,_,!0,D);if(m.aP!=-1&&k[0].length==0){var n=x.g.wm(H,m.aP);while(H[n].length<=m.rw){m.rw-=H[n].length;
n+=H[n].length+1}H[n].length++;H.splice(n+2+m.rw,0,{type:4,jk:p.clone(),P:p.clone(),p_:p.clone()});y.Ep=[n+2+m.rw]}else if(k[0].length==1&&N._(S.PU)){var w=k[0],t=y.s.length-1,j=y.s[w];
j.p_=j.P.clone();if(w!=t)j.jk=j.P.clone()}else{var E=0;if(y.Ep.length!=1){y.k=[Y];H.push({type:3,length:1,vR:[1,2,3,0][this.xxQ],ap:0,Q_:0,Qb:0});
E=H.length;I.push(x.P_.$j())}else{var h=y.Ep[0],u=x.g.yO(H,h),n=x.g.wm(H,u);if(h==n+H[n].length&&Ue.NH(_,H[n+1].P)<D){H[n].type=0;
y.Ep=[n+1];this.VO=p;this.sB=!0;this.Er(b,o.aP,y,I);b.RZ=!0;return}H[n].length++;E=h+1}if(N._(S.FI)&&H[E-1]&&H[E-1].P)p=c.Wq.fO(H[E-1].P,p);
H.splice(E,0,{type:4,jk:p.clone(),P:p.clone(),p_:p.clone()});y.Ep=[E];this.VO=p}this.Er(b,o.aP,y,I);
b.RZ=!0};c.ND.prototype.fI=function(b,X,q,N,J){if(this.hN==null)return;var _=b.M.X$(J.x,J.y),p=c.Gk.Lg(b,_,q),z=b.Ku(this.PR==0),g=z[0],W=z[1],o=g[W.pop()],y=o.add.vmsk,D=y.s,m=D[y.Ep[0]];
if(N._(S.oW)){if(N._(S.FI))p=c.Wq.fO(this.VO,p);var k=m.P.cB(m.p_),O=m.jk.cB(m.P);m.p_=p;m.P=p.add(k);
m.jk=m.P.add(O)}else{if(N._(S.FI))p=c.Wq.fO(m.P,p);if(this.sB){var L=Ue.NH(m.P,p),I=L==0?0:Ue.NH(m.P,m.p_)/L;
m.p_.x=m.P.x+I*(p.x-m.P.x);m.p_.y=m.P.y+I*(p.y-m.P.y)}else m.p_=p;if(N._(S.PU))m.type=5;else{m.type=4;
m.jk=m.P.add(m.P.cB(p))}this.VO=p}this.Er(b,o.aP,y,o.add.vogk);b.RZ=!0};c.ND.prototype.TE=function(b,X,q,N,J){if(this.hN==null)return;
var _=b.Ku(this.PR==0),p=_[0],z=_[1],g=p[z.pop()],W=g.add.vmsk,o=g.add.vogk;this.XY(b,this.sB?"Close Path":"Add Anchor Point",g.aP,this.hN,W.clone(),null,this.um,JSON.stringify(o));
this.sB=!1;this.hN=null};c.ND.prototype.gJ=function(b,X,q,N,J){this.PR=b.tmode;this.xxQ=b.binop};c.Eu=function(){c.od.call(this,[10,30],c.CQ,"tools/fpen",!1)};
c.Eu.prototype=new c.od;c.Eu.prototype.xS=function(b,X,q,N){return[x.g.rT(N,this.gw.tolr),x.P_.JK("customShape",[0,0,1,1],null,null,null,"--")]};
c.va=function(){c.YC.call(this,[10,27],c.CM,"tools/pselect");this.Dr=null;this.PX=!1;this.oD=null;this.hN=null;
this.Ox=null;this.um=null;this.Og=null;this.uj=null;this.PN=null;this.Xb=null};c.va.prototype=new c.YC;
c.va.prototype.KH=function(b){return b.je};c.va.prototype.vP=function(b,X,q,N,J){var _=b.M.X$(J.x,J.y),p=b.Ku(),z=p[0],g=p[1],W,o;
for(var y=0;y<g.length;y++){var D=z[g[y]],m=D.add.vmsk,k=x.g.hT(m.s,_).aP;if(k!=-1){this.oD=W=D;o=k}for(var O=0;
O<m.YP.length;O++){var L=x.g.yt(m.s,m.YP[O]);if(L==null)continue;var I=Ue.NH(L,_);if(I<4*K.u()/b.M.d){var H=b.F[D.aP-1e6].add.TySh,Y=H.Bw.Curve,n=H.w,w=Y.Reversed;
Y.Reversed=!1;var Y=__.Dy(H.Bw.Curve);Y.Reversed=w;x.j.w(Y[0],n,Y[0]);this.PN=[Y,O,n.i*n.Tm-n.b*n.Yb];
this.oD=W=D;o=0}}if(this.PN)break}if(W!=null){var m=W.add.vmsk;m.Ep=[];var t=m.k.indexOf(o);if(N._(S.FI)){if(t==-1){m.k.push(o);
this.PX=!0}else m.k.splice(t,1)}else{if(t==-1)m.k=[o];this.PX=!0}this.uj=x.g.Wg(m.s,m.k)}this.Dr=_;this.Xb=new Sq(_);
b.fY=!0;b.RZ=!0};c.va.prototype.fI=function(b,X,q,N,J){if(this.Dr==null)return;var _=b.M.X$(J.x,J.y);
if(this.PX){_=this.Xb.Dc(_,N);var p=this.oD;if(this.hN==null){this.hN=this.Ox=p.add.vmsk.clone();this.um=this.Og=JSON.stringify(p.add.vogk);
if(N._(S.PU)){var z=this.hN.clone(),g=JSON.parse(this.um),W=c.YC.Di(z,g);c.YC.GL(W,z,g);this.Ox=z;this.Og=JSON.stringify(g)}}var z=this.Ox.clone(),g=JSON.parse(this.Og);
if(this.PN){var o=this.PN,y=o[0][0],D=x.j.yx(y,_.x,_.y);z.YP[o[1]]=o[0][1][D];var m=y[D*2],k=y[D*2+1],O=(y[D*2+2]-m)*(_.y-k)-(y[D*2+3]-k)*(_.x-m);
if(o[2]<0)O=-O;z.Ux=O>0}else{var L=this.uj.clone(),I=L.x,H=L.y;L.offset(_.x-this.Dr.x,_.y-this.Dr.y);
L.x=Math.round(L.x);L.y=Math.round(L.y);var Y=c.Gk.Ck(b,L,q),n=new nQ(1,0,0,1,L.x-I+Y[0],L.y-H+Y[1]);
x.g.SC(z.s,n,z.k);x.P_.w(g,x.GI.SW(n),z.k);c.Gk.Cm(b,L,Y)}this.Er(b,p.aP,z,g)}else{var w=this.Dr;b.H.Rt=x.j.fe(new R(w.x,w.y,_.x-w.x,_.y-w.y));
b.RZ=!0}};c.va.prototype.TE=function(b,X,q,N,J){if(this.Dr==null)return;var _=b.M.X$(J.x,J.y),p=this.oD,z=p?p.add.vmsk:null;
if(this.PX){var g=JSON.stringify(p.add.vogk);if(!this.Dr.Rj(_))this.XY(b,"Move Paths",p.aP,this.hN,z,null,this.um,g);
if(b!=null&&b.H.DW){b.H.DW=null;b.RZ=!0}}else{if(z){var W=this.Dr,o=new R(W.x,W.y,_.x-W.x,_.y-W.y),y=x.g.xiS(z.s,o);
if(N._(S.FI)){for(var D=0;D<y.length;D++)if(z.k.indexOf(y[D])==-1)z.k.push(y[D])}else z.k=y}b.H.Rt=null;
b.RZ=!0}this.Dr=null;this.hN=null;this.PN=null;this.PX=!1;this.Xb=null};c.va.prototype.XN=function(b,X,q,N){c.YC.prototype.XN.call(this,b,X,q,N);
if(b.k.length==0)return;var J=b.Ku(),_=J[0],p=J[1];if(p.length==0)return;var z=_[p[0]],g=z.add.vmsk,W=z.add.vstk,o=z.add.vogk,y=new Q(K.E.T,!0);
y.data={V:K.a.IZ,B:this.id,Be:"main",zQ:g?g:null,P_:o};X.X(y)};c.va.prototype.gJ=function(b,X,q,N,J){var _=b.DM;
if(_.zQ){var p=q.Ku(),z=p[0],g=p[1],W=z[g[0]],o=W.add.vmsk.clone(),y=JSON.stringify(W.add.vogk),D=_.zQ;
this.Er(q,W.aP,D,_.P_);var m=[18,5];if(o.s.length==D.s.length)m=o.k[0]==D.k[0]?"Fill Rule":"Path Order";
this.XY(q,m,W.aP,o,D,null,y,JSON.stringify(_.P_))}};c.EI=function(){c.YC.call(this,[10,28],c.tQ,"tools/dselect");
this._x=-1;this.Wc=-1;this.sd=null;this.Dr=null;this.oD=null;this.hN=null;this.um=null;this.ak=0;this.xxe={psnap:!1};
this.Xb=null};c.EI.prototype=new c.YC;c.EI.prototype.KH=function(b){return b.je};c.EI.prototype.gJ=function(b){this.xxe=b};
c.EI.prototype.vP=function(b,X,q,N,J){var _=b.M.X$(J.x,J.y),o,y,D;this.sd=_.clone();var p=b.Ku(),z=p[0],g=p[1];
if(g.length==0)return;var W=4*K.u()/b.M.d;for(var m=0;m<g.length;m++){o=this.oD=z[g[m]];y=o.add.vmsk;
D=x.g.rv(y.s,new R(_.x-W,_.y-W,W*2,W*2));if(D[0].length+D[1].length+D[2].length!=0)break}var k=[!1,!1,!1];
for(var O=0;O<3;O++){for(var L=0;L<D[O].length;L++)if(y.Ep.indexOf(D[O][L])!=-1){D[O]=[D[O][L]];k[O]=!0;
break}}if(D[0].length!=0&&(k[0]||!k[1]&&!k[2])){var I=D[0][0],H=y.Ep.indexOf(I);if(N._(S.FI)){if(H==-1)y.Ep.push(I);
else{y.Ep.splice(H,1);b.RZ=!0;return}}else if(H==-1)y.Ep=[I];this._x=I;this.Wc=0}else if(D[1].length!=0&&(k[1]||!k[2])){this._x=D[1][0];
this.Wc=1}else if(D[2].length!=0){this._x=D[2][0];this.Wc=2}else{var Y=x.g.hT(y.s,_,!0,W);if(Y.aP==-1)this.Dr=_;
else{y.k=[Y.aP];y.Ep=[]}}if(this.hN==null){this.hN=o.add.vmsk.clone();this.um=JSON.stringify(o.add.vogk)}this.Xb=new Sq(_);
b.RZ=!0};c.EI.prototype.fI=function(b,X,q,N,J){if(b==null)return;var _=b.M.X$(J.x,J.y),p=this.oD;if(this._x!=-1){var z=this.hN.clone(),g=p.add.vogk,W=z.s[this._x];
W=[W.P,W.jk,W.p_][this.Wc];if(N._(S.FI)){_=this.Xb.Dc(_,N);_.x+=W.x-this.sd.x;_.y+=W.y-this.sd.y}else{if(this.xxe.psnap){_.x=Math.round(_.x);
_.y=Math.round(_.y)}_=c.Gk.Lg(b,_,q)}if(this.Wc==0){var o=new nQ(1,0,0,1,_.x-W.x,_.y-W.y);x.g.SC(z.s,o,null,z.Ep)}else{var y=z.s[this._x],D=y.jk,m=y.p_;
if(this.Wc==2){D=y.p_;m=y.jk}D.gM(_.x,_.y);if(y.type==1||y.type==4){var k=Ue.NH(D,y.P),O=Ue.NH(m,y.P);
if(O!=0){m.x=y.P.x-(D.x-y.P.x)*(O/k);m.y=y.P.y-(D.y-y.P.y)*(O/k)}}}this.Ez(z,g);this.Er(b,p.aP,z,g)}else if(this.Dr!=null){var L=this.Dr;
b.H.Rt=x.j.fe(new R(L.x,L.y,_.x-L.x,_.y-L.y));b.RZ=!0}};c.EI.prototype.TE=function(b,X,q,N,J){var _=b.M.X$(J.x,J.y),p=this.oD,z=p?p.add.vmsk:null,g=p?p.add.vogk:null;
if(this._x!=-1){if(Date.now()-this.ak<300){var W=z.s[this._x],o=this.Wc,y=null;if(o==0){var D=W.jk.Rj(W.P),m=W.p_.Rj(W.P);
if(!D&&!m){y="Anchor Type";if(W.type==1||W.type==4)W.type++;else{W.type--;W.p_=W.P.add(W.P.cB(W.jk))}}else{y="Add Handles";
if(D&&m){W.jk.x-=30;W.p_.x+=30}else if(D)W.jk=W.P.add(W.P.cB(W.p_));else if(m)W.p_=W.P.add(W.P.cB(W.jk))}}else{y="Remove Handle";
if(o==1)W.jk.Ob(W.P);else W.p_.Ob(W.P)}this.Ez(z,g);this.Er(b,p.aP,z,g);this.XY(b,y,p.aP,this.hN,z,null,this.um,JSON.stringify(g))}else if(!this.sd.Rj(_)){this.XY(b,"Drag Anchors",p.aP,this.hN,z,null,this.um,JSON.stringify(g))}this.ak=Date.now()}else if(this.Dr!=null){var k=this.Dr,O=new R(k.x,k.y,_.x-k.x,_.y-k.y);
if(O.n<0)O.x+=O.n;if(O.z<0)O.y+=O.z;O.n=Math.abs(O.n);O.z=Math.abs(O.z);var L=x.g.rv(z.s,O);z.Ep=L[0];
b.H.Rt=null}this.oD=null;this.hN=null;this.Dr=null;this._x=this.Wc=-1;this.Xb=null;b.RZ=!0};c.EI.prototype.Ez=function(b,X){for(var q=0;
q<b.Ep.length;q++){var N=x.g.yO(b.s,b.Ep[q]);x.P_.uM(X,N)}};c.EI.prototype.aZ=function(b,X,q,N){if(b==null)return;
var J=b.Ku(),_=J[0],p=J[1];if(p.length==0)return;var z=_[p[0]],g=z.add.vmsk;if(g==null||g.Ep.length==0)return;
var W=z.add.vogk,o=JSON.stringify(W),y=N.oH();if(y.x!=0||y.y!=0){var D=g.clone(),m=g.clone(),k=new nQ(1,0,0,1,y.x,y.y);
x.g.SC(m.s,k,null,m.Ep);this.Ez(m,W);this.Er(b,z.aP,m,W);this.XY(b,"Move Anchors",b.k[0],D,m.clone(),!0,o,JSON.stringify(W))}if(N._(S.nw)||N._(S.UL)){var D=g.clone(),m=g.clone();
m.s=x.g.xih(m.s,m.Ep,W);m.Ep=[];this.Er(b,z.aP,m,W);this.XY(b,"Delete Anchors",z.aP,D,m.clone(),!0,o,JSON.stringify(W))}};
c.EI.prototype.XY=function(b,X,q,N,J,_,p,z){var g=b.Sq();if(_&&g!=null&&g.B==this&&g.data.xxM&&g.data.Xm==q&&JSON.stringify(g.data.Ny.Ep)==JSON.stringify(N.Ep)){g.data._d=J;
g.data.NZ=z}else{var g=new no(X,this);g.data={Xm:q,Ny:N,_d:J,xxM:_,xxi:p,NZ:z};b.wV(g)}};c.Rect=function(){c.od.call(this,[10,32],c.tX,"tools/rect",!0)};
c.Rect.prototype=new c.od;c.Rect.prototype.xS=function(b,X,q){var N=this.gw.crad,J=X.x-b.x,_=X.y-b.y;
return[x.g.lQ.Rect(b.x,b.y,J,_,N),x.P_.JK("Rctn",[b.x,b.y,X.x,X.y],[N,N,N,N])]};c.tw=function(){c.od.call(this,[10,33],c.hE,"tools/ellipse",!0)};
c.tw.prototype=new c.od;c.tw.prototype.xS=function(b,X,q){var N=X.x-b.x,J=X.y-b.y;return[x.g.lQ.tw(b.x,b.y,N,J),x.P_.JK("Elps",[b.x,b.y,X.x,X.y])]};
c.EO=function(){c.od.call(this,[10,34],c.tN,"tools/pshape",!1)};c.EO.prototype=new c.od;c.EO.prototype.xS=function(b,X,q){var N=this.gw.pshape,J=this.gw.crad,_=this.gw.irad/100,p=this.gw.sides,z=this.gw.width,g=this.gw.tsiz,W=this.gw.length,L;
X=X.clone();if(q){if(Math.abs(X.x-b.x)<Math.abs(X.y-b.y))X.x=b.x;else X.y=b.y}var o=b.x,y=b.y,D=X.x,m=X.y,k=Math.sqrt((D-o)*(D-o)+(m-y)*(m-y)),O=Math.atan2(-m+y,D-o);
if(N==0)L=x.g.lQ.rt(o,y,k,O,p,J);if(N==1)L=x.g.lQ.xvM(o,y,k,O,p,J,_);if(N==2)L=x.g.lQ.xvv(b.x,b.y,X.x,X.y,z,g/100);
if(N==3)L=x.g.lQ.xva(o,y,k,O,W);return[L,x.P_.JK("customShape",[b.x,b.y,X.x,X.y],null,null,null,"--")]};
c.aI=function(){c.od.call(this,[10,35],c.Jp,"tools/line",!1)};c.aI.prototype=new c.od;c.aI.prototype.xS=function(b,X,q){var N=this.gw.width;
X=X.clone();if(q){X=c.Wq.fO(b,X)}return[x.g.lQ.aI(b.x,b.y,X.x,X.y,N),x.P_.JK("Ln",null,null,[b.x,b.y,X.x,X.y],N)]};
c.Ej=function(){c.od.call(this,[10,31],c.hP,"tools/cshape",!0)};c.Ej.prototype=new c.od;c.Ej.prototype.xS=function(b,X,q){var N=this.gw.shape,J=N.vW.n/N.vW.z,_=M.zo.yR(N.s);
X=X.clone();if(q){X.y=b.y+(X.x-b.x)/J}var p=X.x-b.x,z=X.y-b.y;x.g.SC(_,new nQ(p,0,0,z,b.x,b.y));return[_,x.P_.JK("customShape",[b.x,b.y,X.x,X.y],null,null,null,N.WC)]};
c.C=function(b,X,q){c.os.call(this,b,X,q);this.XA=0;this.F=null;this.uk=null;this.pe=null;this.JP=1;
this.sT=!1;this.cursor=null;this.nP=null;this.za=null;this.uG=!1;this.iq=null;this.xxZ=0;this.OK=null;
this.QS=0;this.Ls=null;this._S=null;this.ld=null;this.OS=null;this.Oa=null};c.C.prototype=new c.os;c.C.vY=function(b,X){var q={classID:"null",null:_U.YN("Dcmn",!0)};
if(b)q.Angl={t:"UntF",v:{type:"#Ang",val:X}};else q.Axis={t:"enum",v:{Ornt:X}};return{pn:b?"rotateEventEnum":"flip",nv:q}};
c.C.prototype.cb=function(b,X,q,N,J){var _=new Q(K.E.T,!0);_.data={V:K.a.IZ,B:this.id,pT:J,Hp:b,pe:q};
X.X(_);this.kj=!1};c.C.prototype.KH=function(b){return this._S&&this._S.xxx()};c.C.prototype.wt=function(b,X,q,N,J){this.pe=J;
if(b.V=="again"&&this.OK==null)return;if(b.V=="doMouseDown"){if(this._S==null)return;this.vP(q,X,J,N,b.Ow);
return}if(!this.h_(q,J))return;if(this._S){this.xAJ(b,this._S.R_());this.jw(q,J,0);this.vL(q);return}this.xrU(q,b.Q==null,b.Q);
this.xAx(q);this.xAJ(b);this.gZ(q,X,b.ds,!1)};c.C.prototype.xAJ=function(b,X){var q=this.Ls;if(X==null){var N=b.Rl!=null?b.Rl:4;
X=this._S.xdt()[N]}var J=X.x,_=X.y;if(b.V=="rot"&&b.A!=Math.PI&&(q.n+q.z&1)==1){J=Math.floor(J);_=Math.floor(_)}var p=new nQ;
p.translate(-J,-_);if(b.V=="rot")p.rotate(b.A);if(b.V=="scl")p.scale(b.A.x,b.A.y);if(b.V=="mat")p.concat(b.A);
p.translate(J,_);if(b.V=="again")p=this.OK;var z=this._S.Fn();x.j.w(z,p,z);this._S.Ec(z)};c.C.prototype.Ze=function(){return!0};
c.C.prototype.h_=function(b,X){if(b==null)return!1;if(this.id==c.JU)return b.p!=null;var q=b.uu(!0,null,null,!0);
for(var N=0;N<q.length;N++){var J=b.F[q[N]];if(J.g$(2)||J.g$(31)){alert(xA.get([6,57,0]));return!1}if(J.add.artb){alert("You can not transform the whole artboard");
return!1}if(J.add.TySh)if(!pN.KP(J.add.TySh,X._v))return!1;if(J.add.SoLd){if(q.length==1&&!x.Gg.tM(J.add.SoLd.warp.v)&&(J.DL()&&J.DL().ov||J.add.vmsk&&J.add.vmsk.ov)){alert("Unlink masks before transforming Smart Object");
return!1}if(!b.xpt(J.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+b.Fb(J.add.SoLd.Idnt.v).zK+")");
return!1}}}if(b.p==null)return!0;if(!b.lC())return!1;return b.xPb()};c.C.prototype.vP=function(b,X,q,N,J){var _=b.M.X$(J.x,J.y);
if(this.QS==1){var p=x.GI.Kn(x.GI.IG(this._S.Fn(),this.Ls));_=x.GI.$n(p,_)}var z=this.QS==0?this._S:this.ld;
this.sT=z.vP(b,q,N,_);if(this.sT&&z.pE(_)){if(Date.now()-this.xxZ<250)this.gZ(b,X,null,!0);this.xxZ=Date.now()}};
c.C.prototype._D=function(b){var X=new Q(K.E.T,!0);X.data={V:K.a.KW,Lf:this.cursor};b.X(X)};c.C.prototype.fI=function(b,X,q,N,J){var _=b.M.X$(J.x,J.y);
if(this.QS==1){var p=x.GI.Kn(x.GI.IG(this._S.Fn(),this.Ls));_=x.GI.$n(p,_)}var z=this.QS==0?this._S:this.ld;
if(!J.je){var g="default";if(z){var W=z.Ra(_,b.M.d);if(W)g=W}if(g!=this.cursor){this.cursor=g;this._D(X)}}if(!this.sT)return;
z.fI(b,q,N,_);this.jw(b,q,0);this.vL(b);this.vV(X)};c.C.prototype.TE=function(b,X,q,N,J){var _=b.M.X$(J.x,J.y);
this._S.TE(b,q,N,_);this.sT=!1};c.C.prototype.aZ=function(b,X,q,N){if(N._(S.jV))this.gZ(b,X,null,!0);
else if(N._(S.pj))this.FL(b,X);else{var J=this._S.aZ(b,q,N);if(J){this.jw(b,q,0);this.vV(X)}}};c.C.prototype.gJ=function(b,X,q,N){if(b.Be=="commit")this.gZ(q,X,null,!0);
else if(b.Be=="cancel")this.FL(q,X);else if(b.Be=="switchWarp"){this.QS=1-this.QS;this.xdP();this.vL(q);
this.vV(X)}else if(b.Be=="wrp"){this.ld.xba(b.sN);this.vL(q);this.jw(q,this.pe,0)}else if(b.Be=="ctyp"){this._S.xdz(b.Oi);
this.vL(q);this.vV(X)}else if(b.Be=="cen"){this._S.xdX(b.gv);this.vL(q);this.jw(q,this.pe,0);this.vV(X)}else if(b.Be=="trn"){var J=x.GI.SW(b.hJ),_=this.Ls,p=x.GI.IG(this._S.Fn(),this.Ls);
J[6]=p[6],J[7]=p[7];var z=[_.x,_.y,_.x+_.n,_.y,_.x+_.n,_.y+_.z,_.x,_.y+_.z];x.GI.apply(J,z);this.JP=b.JP;
this._S.Ec(z);this.vL(q);this.jw(q,this.pe,0)}};c.C.prototype.vL=function(b){if(this.QS==0)this._S.NF(b,this.pe);
else{this.ld.NF(b);var X=x.GI.IG(this._S.Fn(),this.Ls);x.GI.apply(X,b.H.Rt.r);x.GI.apply(X,b.H.TF)}};
c.C.prototype.gZ=function(b,X,q,N){this.jw(b,this.pe,this.JP);var J=new no(q?q:this.name,this);if(this.XA==0)J.data={type:this.XA,F:this.F,iq:this.uk,LK:c.C.gj(b,this.F)};
else if(this.XA==1){var _=b.F[this.F[0]],p;if(_.ii.ZZ<=0){p=x.K(_.ii.vF.c());x.iJ(_.ii.zX,p,3)}else p=b.p.channel;
var z={rect:_.ii.vF.clone(),channel:p};J.data={type:this.XA,Q:this.F[0],za:this.za,Tk:z,nP:this.nP,uG:this.uG,ii:_.ii,iq:this.iq,LK:{h:_.ii.vF,FU:_.ii.zX}}}else if(this.XA==2){J.data={type:this.XA,za:this.za,Tk:{rect:b.p.rect.clone(),channel:x.clone(b.p.channel)}}}b.wV(J);
var g=this.Ls,W=new Ue(g.x+g.n/2,g.y+g.z/2),o=x.GI.IG(this._S.Fn(),g),y=x.GI.al(o),D=new nQ;D.translate(W.x,W.y);
D.concat(y);D.translate(-W.x,-W.y);y=D.clone();var m=-Math.atan2(-y.b,y.i),k=new nQ;k.rotate(m);y.concat(k);
function O(I,H){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][H],val:I}}}var L={classID:"null",null:_U.YN("Lyr",!0),FTcs:{t:"enum",v:{QCSt:"Qcsa"}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:O(D.lf,0),Vrtc:O(D.vw,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:O(Math.atan(y.Yb)*180/Math.PI,2),Vrtc:O(0,2)}},Wdth:O(y.i*100,1),Hght:O(y.Tm*100,1),Angl:O(m*180/Math.PI,2)};
this.jQ=X;this.track({pn:"transform",nv:L});this.escape(b,X,N)};c.C.prototype.FL=function(b,X){if(this.XA==0)c.C.pq(b,this.F,this.uk);
else if(this.XA==1){var q=b.F[this.F[0]];b.p=this.za;if(!this.uG){q.ii.vF=this.iq.h;q.ii.zX=this.iq.FU;
q.QI(b,0,0,b.p)}else{q.PP(b,this.nP)}b.Y();b.Tf=!0}else if(this.XA==2){b.p=this.za;b.Tf=!0}this.escape(b,X,!0)};
c.C.prototype.escape=function(b,X,q){this._S.clear(b);this._S=null;this.ld=null;this.QS=0;if(q)this.vl(X,K.E.T,{V:K.a.xrK})};
c.C.prototype.we=function(b,X){if(b.type==0)c.C.pq(X,b.F,b.LK);else{if(b.type==1){var q=X.F[b.Q];if(b.uG){q.ii=b.ii}else{q.ii.vF=b.LK.h;
q.ii.zX=b.LK.FU}q.QI(X,0,0,X.p);X.Y()}X.p={rect:b.Tk.rect.clone(),channel:x.clone(b.Tk.channel)};X.Tf=!0}};
c.C.prototype.it=function(b,X){if(b.type==0)c.C.pq(X,b.F,b.iq);else{if(b.type==1){var q=X.F[b.Q];if(b.uG){q.PP(X,b.nP)}else{q.ii.vF=b.iq.h;
q.ii.zX=b.iq.FU;q.QI(X,0,0,X.p)}X.Y()}X.p=b.za;X.Tf=!0}};c.C.prototype.xrU=function(b,X,q){b.Ku();var N=[];
if(q==null)for(var J=0;J<b._H.length;J++)if(b.Dx[b._H[J]].add.vmsk.s.length>2)N.push(-1-b._H[J]);var _=[];
if(q!=null||N.length==0||b.GN!=null&&b.GN.length!=0)_=b.uu(X,q,null,!0);_=_.concat(N);this.F=_};c.C.prototype.enable=function(b,X,q,N,J,_,p){if(this.cursor==null)this.cursor="default";
this._D(X);if(this._S)return;this.pe=q;this.xrU(b,!0);this.xAx(b,_&&_.Ml==1?1:null,p);this.vV(X);this.vL(b);
if(_&&_.Ml==2)this.gJ({Be:"switchWarp"},X,b,N)};c.C.prototype.vV=function(b){var X={V:K.a.IZ,B:this.id};
if(this.QS==0){var q=x.GI.IG(this._S.Fn(),this.Ls),N=x.GI.al(q);X.hJ={sy:N,Oi:this._S.xdJ(),gv:this._S.R_(),h:this.Ls.clone()}}else{X.sN=this.ld.Em()}X.xQW=this.ld!=null;
this.vl(b,K.E.T,X)};c.C.prototype.xAx=function(b,X,q){var N=this.id==c.JU,J=!0,_=this.F[0],p=b.F[_],W=null;
if(N){this.XA=2;this.za=b.p}else if(b.p&&this.F.length==1&&_>=0&&!p.rect.qa()){this.XA=1;this.za=b.p;
this.nP=p.ii;this.uG=!1;if(!p.Nm(b,b.p)){this.uG=!0;p.Pa(b,b.p,!1)}this.iq={FU:p.ii.zX,h:p.ii.vF}}else{this.XA=0;
this.uk=c.C.gj(b,this.F,null,q);for(var z=0;z<this.uk.length;z++)if(this.uk[z][3]!=null)J=!1}var g=this.XA==1;
if(this.uk&&this.uk.length==1){var o=this.uk[0];if(o[3]==null)g=!0;if(o[4]!=null){W=b.F[this.F[0]].add.SoLd;
if(o[1]||o[2])g=!1}}var y=N?b.p.rect.clone():c.C.pi(b,this.F,q);this.Ls=y;if(!N&&W){var D=c.C.Nk(W.nonAffineTransform);
this.Ls=x.j.Is(x.Gg.Pg(W.warp.v));if(g)this.ld=new gp(W.warp.v);this.OS=x.GI.IG(D,this.Ls);this._S=new gH(D,!0,!0,J,!1,!1,X)}else{if(g||N)this.ld=new gp(x.Gg.K(this.Ls));
this.OS=[1,0,0,0,1,0,0,0];this._S=new gH([y.x,y.y,y.x+y.n,y.y,y.x+y.n,y.y+y.z,y.x,y.y+y.z],!0,!0,J,!1,!1,X)}this.Oa=[1,0,0,0,1,0,0,0]};
c.C.pi=function(b,X,q){if(X==null)X=b.uu(!0,null,null,!0);var N=new R;if(b.p&&X.length==1&&X[0]>=0)N=b.p.rect.clone();
else for(var J=0;J<X.length;J++){var _=X[J],p=0<=_?b.F[_]:b.Dx[-1-_],z=p.add.vmsk,g=0<=_?p.RC(b,X.length==1,!1,q):x.g.Wg(z.s,X.length==1&&z.k.length!=0?z.k:null);
N=N.Tg(g)}return N};c.C.prototype.vl=function(b,X,q,N){var J=new Q(X,!0);J.data=q;if(N)J.B=N;b.X(J)};
c.C.gj=function(b,X,q,N){var J=[];for(var _=0;_<X.length;_++){var p=X[_],z,g;if(p>=0){z=b.F[p];g=z.OM(b,q,N)}else{z=b.Dx[-1-p];
g=[2]}var W=[];if(g.indexOf(0)!=-1){var o={OC:[x.clone(z.buffer),z.rect.clone()]};W.push(o);if(z.ot()){var y=z._m(b);
o.xQe=x.clone(y.buffer);o.xQZ=y.rect.clone()}}else W.push(null);if(g.indexOf(1)!=-1)W.push(z.DL().clone());
else W.push(null);if(g.indexOf(2)!=-1)W.push({zQ:z.add.vmsk.clone(),FF:z.add.vstk?JSON.parse(JSON.stringify(z.add.vstk)):null,P_:z.add.vogk?JSON.parse(JSON.stringify(z.add.vogk)):null});
else W.push(null);if(z.add.TySh&&W[0]){ng.Kt(z.add.TySh);W.push(z.add.TySh.w.clone())}else W.push(null);
if(z.add.SoLd&&W[0])W.push(JSON.parse(JSON.stringify(z.add.SoLd)));else W.push(null);if(g.indexOf(3)!=-1)W.push(z._m(b).G.clone());
else W.push(null);if(z.add.lmfx)W.push(JSON.stringify(z.add.lmfx));else W.push(null);J.push(W)}return J};
c.C.pq=function(b,X,q){for(var N=0;N<X.length;N++){var J=X[N],_=0<=J?b.F[J]:b.Dx[-1-J],p=q[N];if(p[0]){_.rect=p[0].OC[1].clone();
_.buffer=x.clone(p[0].OC[0]);if(_.ot()){var z=_._m(b);z.buffer=x.clone(p[0].xQe);z.rect=p[0].xQZ.clone()}}if(p[1]){_.DL().channel=x.clone(p[1].channel);
_.DL().rect=p[1].rect.clone();_.DL().zY=!0}if(p[2]){_.add.vmsk=p[2].zQ.clone();if(p[2].FF)_.add.vstk=JSON.parse(JSON.stringify(p[2].FF));
if(p[2].P_)_.add.vogk=JSON.parse(JSON.stringify(p[2].P_))}if(p[3]){_.add.TySh.w=p[3].clone();ng.CP(_.add.TySh)}if(p[4]){_.add.SoLd=JSON.parse(JSON.stringify(p[4]))}if(p[5]){var g=_._m(b).G;
g.channel=x.clone(p[5].channel);g.rect=p[5].rect.clone()}if(p[6]){_.add.lmfx=JSON.parse(p[6])}if(0<=J){_.he(b);
_.Y()}}b.Y()};c.C.bq=function(b){var X=b.clone(),q=Math.atan2(-X.b,X.i),N=new nQ;N.rotate(-q);X.concat(N);
return(Math.abs(X.i)+Math.abs(X.Tm))/2};c.C.ED=function(b,X,q,N,J,_,p,z,g){var W=x.GI.al(_),o=c.C.bq(W);
for(var y=0;y<q.length;y++){var D=q[y],m=0<=D?b.F[D]:b.Dx[-1-D],k=N[y];if(m.add.lmfx&&z)nM.xSU(m.add.lmfx,o);
if(k[0]&&!k[3]&&!k[4]&&!k[5]){var O=k[0].OC;if(g){var L=g.clone(),I=x.K(L.c()*4);x.iX(O[0],O[1],I,L);
O=[I,L]}var H=c.C.vs(O,J,_,p,J==0?m.buffer.buffer:null);if(H){m.rect=H.rect;m.buffer=H.buffer}}if(k[1])c.C.xAz(b,k[1],m.DL(),J,_,p);
if(k[2]){var Y=p&&!x.Gg.tM(p),n=k[2].zQ.clone(),w=q.length==1&&n.k.length!=0,t=q.length==1&&n.Ep.length>1;
if(t)w=!1;var j=w?n.k:null,E=t?n.Ep:null;if(Y){var h=x.Gg.Pg(p);x.GI.apply(_,h);x.g.xMq(n.s,h,j,E)}else x.g.xMx(n.s,_,j,E);
if(m.add.vstk&&z)m.add.vstk.strokeStyleLineWidth.v.val=k[2].FF.strokeStyleLineWidth.v.val*o;if(m.add.vogk){m.add.vogk=JSON.parse(JSON.stringify(k[2].P_));
if(Y||t)x.P_.xSb(m.add.vogk);else x.P_.w(m.add.vogk,_,q.length>1?[]:n.k,z)}n.Zt*=o;m.add.vmsk=n;if(m.add.vogk)x.P_.ui(m.add.vogk,m.add.vmsk)}if(k[3]){var u=k[3].clone();
u.concat(W);m.add.TySh.w=u;ng.CP(m.add.TySh);var Z=new __(m.add.TySh.Bw,X._v),P=pN.KE(Z,m.add.TySh);
m.rect=P.h;m.buffer=P.Dl}if(k[4]){var T=m.add.SoLd,U=c.C.Nk(k[4].nonAffineTransform);x.GI.apply(_,U);
var r=x.j.z_(U);if(gH.Ef(U)){if(p){var i=x.j.Is(x.Gg.Pg(k[4].warp.v)),V=x.GI.IG(U,i),F=x.j.Is(x.Gg.Pg(p));
U=[F.x,F.y,F.x+F.n,F.y,F.x+F.n,F.y+F.z,F.x,F.y+F.z];x.GI.apply(V,U);T.warp.v=p}var B=x.GI.IG(U),$=U;
if(!x.GI.Wj(B)){B[6]=B[7]=0;$=[0,0,1,0,1,1,0,1];x.GI.apply(B,$)}T.Trnf=c.C.Rz($);T.nonAffineTransform=c.C.Rz(U);
m.ns(b,J==0)}}if(k[5])c.C.xAz(b,k[5],m._m(b).G,J,_,p);if(0<=D){if(J!=0)m.Du();m.he(b);m.Y()}}b.Y()};
c.C.wx=function(b,X,q,N,J,_){if(q==null)q=!1;return c.C.vs(b,q?0:1,x.GI.SW(X),null,N,J,_)};c.C.vs=function(b,X,q,N,J,_,p){var z={},y=0;
if(N&&!x.Gg.tM(N)){var g=x.Gg.Pg(N);x.GI.apply(q,g);z.rect=x.j.z_(g);z.buffer=x.K(z.rect.c()*4);x.iN.drawImage(g,b[0],b[1].n,b[1].z,z.buffer,z.rect,X==0);
return z}x.lo(b);var W=b[0],o=b[1];while(y+3<b.length&&b[y+3].c()>16&&x.GI.Wj(q)&&c.C.bq(x.GI.al(q))<.3){y+=2;
var D=b[y],m=b[y+1],k=o.n/m.n,O=o.z/m.z;q=x.GI.gt(q,[1,0,o.x,0,1,o.y,0,0]);q=x.GI.gt(q,[k,0,0,0,O,0,0,0]);
q=x.GI.gt(q,[1,0,-o.x,0,1,-o.y,0,0]);o=m;W=D}var L=x.GI.gt(q,x.GI.SW(new nQ(o.n,0,0,o.z,o.x,o.y))),I=[0,0,1,0,1,1,0,1];
x.GI.apply(L,I);z.rect=x.j.z_(I);if(p)z.rect=z.rect.be(p);if(!gH.Ef(I)||z.rect.n>1e5||z.rect.z>1e5||z.rect.c()>1e4*2e4)return null;
var H=z.rect.c()*4;if(J&&J.byteLength>=H&&H>=J.byteLength>>2){z.buffer=new Uint8Array(J)}else{z.buffer=x.K(H)}x.GI.drawImage(L,W,o.n,o.z,z.buffer,z.rect,X==0,_);
if(X==2&&z.buffer){var Y=z.rect.n,n=z.rect.z,w;w=[0,-1,0,-1,16,-1,0,-1,0];w=x.vh.EX(w);var t=z.buffer.slice(0);
x.bP(t);x.vh.JA(t,z.buffer,Y,n,w,0);x.sC(z.buffer);x.bM(z.buffer)}if(z.buffer)return z};c.C.xAz=function(b,X,q,N,J,_){if(X.color==255)x.Kn(X.channel);
var p=X.rect,z=x.K(p.c()*4);x.qR(X.channel,z,3);var g=c.C.vs([z,p],N,J,_);if(g){q.rect=g.rect;q.channel=x.K(g.rect.c());
x.iJ(g.buffer,q.channel,3);q.zY=!0}if(X.color==255){x.Kn(X.channel);if(g)x.Kn(q.channel)}};c.C.Nk=function(b){var X=[],q=b.v.length;
for(var N=0;N<q;N++)X.push(b.v[N].v);return X};c.C.Rz=function(b){var X={t:"VlLs",v:[]},q=b.length;for(var N=0;
N<q;N++)X.v.push({t:"doub",v:b[N]});return X};c.C.prototype.xdP=function(){var b=x.j.Is(x.Gg.Pg(this.ld.Em())),X=x.GI.IG(this._S.Fn(),this.Ls),q=[b.x,b.y,b.x+b.n,b.y,b.x+b.n,b.y+b.z,b.x,b.y+b.z];
x.GI.apply(X,q);this._S.Ec(q);this.Ls=b};c.C.prototype.jw=function(b,X,q){var N=x.GI.IG(this._S.Fn(),this.Ls),z=1e-10,m=!1,k=!1;
N=x.GI.gt(N,x.GI.Kn(this.OS));var J=x.GI.al(N),_=this.Oa,p=x.GI.al(_);this.Oa=N;var g=Math.abs,W=Math.round,o=N[2]-_[2],y=N[5]-_[5],D=g(N[0]-_[0])<z&&g(N[1]-_[1])<z&&g(N[3]-_[3])<z&&g(N[4]-_[4])<z&&g(N[6]-_[6])<z&&g(N[7]-_[7])<z&&g(o-W(o))<z&&g(y-W(y))<z;
if(this.XA==0&&this.F.length==1){var O=this.uk[0][2];m=O&&(O.zQ.k.length!=0||O.zQ.Ep.length>1)}for(var L=0;
L<this.F.length;L++)if(this.F[L]<0)k=!0;if(D&&this.XA==0&&q==0&&this.QS==0&&!m&&!k){c.Gk.zi(b,this.F,c.Gk.LJ(b,this.F),Math.round(-p.lf+J.lf),Math.round(-p.vw+J.vw));
return}var I=this.ld?this.ld.Em():null;if(this.XA==0){this.OK=x.GI.al(N);c.C.ED(b,X,this.F,this.uk,q,N,I)}else if(this.XA==1){var H=b.F[this.F[0]],Y=this.iq.h;
if(H.ZZ<=0){var n=this.iq.FU,w=this.za;if(I&&!x.Gg.tM(I)&&!w.rect.Rj(Y)){var t=x.K(w.rect.c()*4);x.iX(n,Y,t,w.rect);
n=t;Y=w.rect}var j=c.C.vs([n,Y],q,N,I);if(j){H.ii.zX=j.buffer;H.ii.vF=j.rect;var E=x.K(j.rect.c());x.iJ(H.ii.zX,E,3);
b.p={channel:E,rect:H.ii.vF.clone()}}}else{var h=x.K(Y.c()*4);x.qR(this.iq.FU,h,3);var j=c.C.vs([h,Y],q,N,I);
if(j){H.ii.zX=x.K(j.rect.c());x.iJ(j.buffer,H.ii.zX,3);H.ii.vF=j.rect}this.xAt(b,q,N,I)}H.QI(b,0,0,b.p);
if(q!=0){H.Du();x.Du(b.p)}b.Tf=!0;b.Y()}else if(this.XA==2)this.xAt(b,q,N,I)};c.C.prototype.xAt=function(b,X,q,N){var J=this.za.rect,_=x.K(J.c()*4);
x.qR(this.za.channel,_,3);var p=c.C.vs([_,J],X,q,N),z=x.K(p.rect.c());x.iJ(p.buffer,z,3);b.p={channel:z,rect:p.rect};
b.Tf=!0};c.C.prototype.disable=function(b,X,q,N){if(this._S)this.gZ(b,X,null,!0)};c.xgU=function(){c.C.call(this,[10,16],c.dL,"tools/transform")};
c.xgU.prototype=new c.C;c.xAU=function(){c.C.call(this,[7,10],c.JU,"tools/transform")};c.xAU.prototype=new c.C;
c.IV=function(b,X,q){c.os.call(this,b?b:[10,40],X?X:c.tn,q?q:"tools/slice");this.oa=null;this.jQ=null;
this.PO=null;this.xpZ=null;this.yr=null;this.Qa=null};c.IV.prototype=new c.os;c.IV.hT=function(b,X){var q=-1;
for(var N=0;N<b.length;N++){var J=c.IV.pB(b,N);if(J[0]<=X.x&&X.x<=J[2]&&J[1]<=X.y&&X.y<=J[3]){q=N;break}}return q};
c.IV.prototype.wt=function(b,X,q,N,J){this.jI(q);q.lg[q.HA[0]].v=b;q.RZ=!0;this.v$(q)};c.IV.prototype.enable=function(b,X,q,N,J,_){c.os.prototype.enable.call(this,b,X,q,N,J,_);
if(!q.ht.lg){var p=new Q(K.E.T,!0);p.data={V:K.a.dX,Zy:n_.Xf};X.X(p)}};c.IV.prototype.disable=function(){this.oa=null;
this.jQ=null};c.IV.prototype.cb=function(b,X,q,N,J){var _=b.M.X$(J.x,J.y),p=c.IV.hT(b.lg,_);if(p==-1)return;
this.oa=b;this.jQ=X;b.HA=[p];b.RZ=!0;if(this.Qa==null){this.Qa=new Uo([{name:[5,4]},{name:[8,11,1],GB:!0}]);
this.Qa.l("select",this.EB,this)}var z=this.Qa;z.parent=X;z.f();z.update(b,q);var g=new Q(K.E.T,!0);
g.data={V:K.a.Vj,SU:z,x:J.tz+2,y:J.dH+1};X.X(g)};c.IV.prototype.EB=function(b){var X=this.Qa.FO()[0],q=this.oa;
if(X==0){this.jI(q);q.lg.splice(q.HA[0],1);q.HA=[];q.RZ=!0;this.v$(q)}if(X==1){var N=new Q(K.E.T,!0);
N.data={V:K.a.Ko,zE:"soptions",A:q.lg[q.HA[0]].v};this.jQ.X(N)}};c.IV.prototype.vP=function(b,X,q,N,J){if(b==null)return;
this.jI(b);var _=b.M.X$(J.x,J.y);_=c.Gk.Lg(b,_,q,[!0,null,!1]);_.x=Math.round(_.x);_.y=Math.round(_.y);
this.yr=_;b.lg.unshift(c.IV.xxp());b.HA=[0];c.IV.jm(b.lg,0,[_.x,_.y,_.x+20,_.y+20]);b.RZ=!0};c.IV.prototype.fI=function(b,X,q,N,J){if(this.PO==null)return;
var _=b.M.X$(J.x,J.y),p=this.yr;_=c.Gk.Lg(b,_,q,[!0,null,!1]);_.x=Math.round(_.x);_.y=Math.round(_.y);
var z=[p.x,p.y,_.x,_.y];c.IV.xAE(z);c.IV.jm(b.lg,0,z);b.RZ=!0};c.IV.prototype.TE=function(b,X,q,N,J){this.v$(b);
this.yr=null};c.IV.prototype.jI=function(b){this.PO=JSON.stringify(b.lg);this.xpZ=JSON.stringify(b.HA)};
c.IV.prototype.v$=function(b){var X=JSON.stringify(b.lg);if(X!=this.PO){var q=new no(this.name,this);
q.data={iq:this.PO,LK:X,xdK:this.xpZ,xdr:JSON.stringify(b.HA)};b.wV(q)}this.PO=null};c.IV.prototype.it=function(b,X){X.lg=JSON.parse(b.iq);
X.HA=JSON.parse(b.xdK);X.RZ=!0};c.IV.prototype.we=function(b,X){X.lg=JSON.parse(b.LK);X.HA=JSON.parse(b.xdr);
X.RZ=!0};c.IV.prototype.Hd=function(b,X){return X!=null&&X.HA.length!=0&&(b==S.nw||b==S.UL)};c.IV.prototype.aZ=function(b,X,q,N){if(b==null)return;
this.jI(b);var J=N.oH();if(J.x!=0||J.y!=0)c.IV.XG(b,J);if(N._(S.nw)||N._(S.UL)){var _=b.lg.slice(0);
for(var p=0;p<b.HA.length;p++)b.lg.splice(b.lg.indexOf(_[b.HA[p]]),1);b.HA=[]}this.v$(b)};c.IV.prototype.gJ=function(b,X,q,N,J){if(q==null||q.HA.length==0)return;
this.jI(q);var _=q.lg,p=q.HA;p.sort(function(k,O){return k-O});console.log(p);var z=_.slice(0),g=[],W=[];
for(var o=0;o<p.length;o++){var y=p[o],D=_[y];W.push(D);z.splice(z.indexOf(D),1)}var m=Math.max(0,Math.min(z.length,p[0]-b.dir));
for(var o=0;o<W.length;o++){z.splice(m+o,0,W[o]);g.push(m+o)}q.lg=z;q.HA=g;this.v$(q)};c.IV.xdI=function(b,X,q,N){var J=new Ue(-X.x,-X.y),_=X.n/q.n,p=X.z/q.z,z=[0,0,X.n,X.z];
for(var g=0;g<b.length;g++){var W=c.IV.pB(b,g);if(N){W[0]=Math.round(W[0]*_);W[1]=Math.round(W[1]*p);
W[2]=Math.round(W[2]*_);W[3]=Math.round(W[3]*p)}else{c.IV.EG(W,J);c.IV.xdT(W,z)}if(W[0]>=W[2]||W[1]>=W[3]){b.splice(g,1);
g--;continue}c.IV.jm(b,g,W)}};c.IV.XG=function(b,X){var q=b.lg;for(var N=0;N<b.HA.length;N++){var J=c.IV.pB(q,b.HA[N]);
c.IV.EG(J,X);c.IV.jm(q,b.HA[N],J)}};c.IV.xdT=function(b,X){if(b[0]<X[0])b[0]=X[0];if(b[1]<X[1])b[1]=X[1];
if(X[2]<b[2])b[2]=X[2];if(X[3]<b[3])b[3]=X[3]};c.IV.EG=function(b,X){b[0]=Math.round(b[0]+X.x);b[2]=Math.round(b[2]+X.x);
b[1]=Math.round(b[1]+X.y);b[3]=Math.round(b[3]+X.y)};c.IV.jm=function(b,X,q){var N=b[X].v.bounds.v;N.Left.v=q[0];
N.Top.v=q[1];N.Rght.v=q[2];N.Btom.v=q[3]};c.IV.pB=function(b,X){var q=b[X].v.bounds.v;return[q.Left.v,q.Top.v,q.Rght.v,q.Btom.v,X]};
c.IV.xAE=function(b){if(b[2]<b[0]){var X=b[0];b[0]=b[2];b[2]=X}if(b[2]==b[0])b[2]++;if(b[3]<b[1]){var X=b[1];
b[1]=b[3];b[3]=X}if(b[3]==b[1])b[3]++};c.IV.Is=function(b,X){var q=1e9,N=-1e9,J=1e9,_=-1e9;for(var p=0;
p<X.length;p++){var z=c.IV.pB(b,X[p]);q=Math.min(q,z[0]);J=Math.min(J,z[1]);N=Math.max(N,z[2]);_=Math.max(_,z[3])}return[q,J,N,_]};
c.IV.xxp=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
c.RU=function(){c.IV.call(this,[10,41],c.hB,"tools/sselect");this.yr=null;this.Xi=null;this.wW=null;
this.us=null;this.Ol=!1};c.RU.prototype=new c.IV;c.RU.prototype.vP=function(b,X,q,N,J){if(b==null)return;
var _=b.M.X$(J.x,J.y),p=c.RU.xxg(_,4/b.M.d,b.lg,b.HA);p.pop();if(p.length!=0){this.yr=_;this.wW=p;this.jI(b);
return}var z=b.lg,g=c.IV.hT(z,_);if(g==-1)b.HA=[];else{var W=b.HA.indexOf(g);if(N._(S.FI)){if(W==-1)b.HA.push(g);
else b.HA.splice(W,1)}else{b.HA.sort(function(L,I){return L-I});if(W==-1)b.HA=[g];this.yr=_;this.jI(b);
this.Xi=c.IV.Is(z,b.HA);this.us=[];for(var o=0;o<b.HA.length;o++)this.us.push(c.IV.pB(z,b.HA[o]));if(N._(S.PU)){var y=z.slice(0),D=b.HA,m=[];
for(var o=0;o<D.length;o++){var g=D[o],k=y[g],O=z.indexOf(k);m.push(O);z.splice(O,0,JSON.parse(JSON.stringify(k)))}b.HA=m}}}b.RZ=!0};
c.RU.prototype.fI=function(b,X,q,N,J){var _=b.M.X$(J.x,J.y);if(this.yr==null){var p=c.RU.xxg(_,4/b.M.d,b.lg,b.HA),z=p.pop(),g=p.length==0?"default":["ew","nwse","ns","nesw"][z]+"-resize",W=new Q(K.E.T,!0);
W.data={V:K.a.KW,Lf:g};X.X(W);return}if(!this.Ol&&_.Rj(this.yr))return;this.Ol=!0;var o=b.lg,p=this.wW;
if(p){_=c.Gk.Lg(b,_,q,[!0,null,!1]);var y=Math.round(_.x),D=Math.round(_.y);for(var m=0;m<p.length;m+=2){var k=c.IV.pB(o,p[m]),O=p[m+1];
k[O]=(O&1)==0?y:D;c.IV.xAE(k);c.IV.jm(o,p[m],k)}}else{var L=_.cB(this.yr),I=this.Xi.slice(0);c.IV.EG(I,L);
var H=new R(I[0],I[1],I[2]-I[0],I[3]-I[1]),Y=c.Gk.Ck(b,H,q,[!0,null,!1],!0);c.Gk.Cm(b,H,Y);L.x+=Y[0];
L.y+=Y[1];for(var m=0;m<b.HA.length;m++)c.IV.jm(o,b.HA[m],this.us[m]);c.IV.XG(b,L)}b.RZ=!0};c.RU.prototype.TE=function(b,X,q,N,J){if(this.yr==null)return;
this.v$(b);b.H.DW=null;b.RZ=!0;this.yr=null;this.wW=null;this.us=null;this.Ol=!1};c.RU.xxg=function(b,X,q,N){var J=b.x,_=b.y,p=[],z=-1,g=[];
for(var W=0;W<N.length;W++){var o=N[W],y=c.IV.pB(q,o),D=y[0],m=y[1],k=y[2],O=y[3];if(J<D-X||k+X<J||_<m-X||O+X<_)continue;
var L=[J<D+X,_<m+X,k-X<J,O-X<_],I=-1;for(var H=0;H<4;H++){if(L[H]&&L[H+1&3])I=1+2*(H&1);if(L[H])p.push(o,H)}if(I==-1){if(L[0]||L[2])I=0;
if(L[1]||L[3])I=2}if(I!=-1){z=I;g.push(o)}}var Y=p.length;for(var W=0;W<Y;W+=2){var o=p[W],n=p[W+1],w=c.IV.pB(q,o)[n];
for(var H=0;H<N.length;H++){var t=N[H];if(g.indexOf(t)!=-1)continue;var y=c.IV.pB(q,t);if(y[n&1]==w)p.push(t,n&1);
if(y[2+(n&1)]==w)p.push(t,2+(n&1))}}p.push(z);return p};c.mk=function(){c.rl.call(this,[10,44],c.xvh,"tools/oselect");
this.pf="crosshair";this.xUg=0};c.mk.prototype=new c.rl;c.mk.prototype.oL=function(b,X,q,N){if(Math.random()<1/(1+this.xUg)){alert("The cross should be fully inside the object.",3500);
this.xUg++}};c.mk.prototype.YF=function(b,X,q,N){c.gV.xnC(b,c.rl.JF,this.jQ);if(!N.je||!this.kB)return;
var J=this.pi(b,q,!1),_=J.n,p=J.z,z=J.x,g=J.y,W=J.x+_,o=J.y+p,y=z+_/2,D=g+p/2,m=c.mk.xbz;b.H.Rt={r:[z,g,W,g,W,o,z,o,y-_*m,D,y+_*m,D,y,D-p*m,y,D+p*m],W:"M L L L Z M L M L".split(" ")};
b.RZ=!0};c.mk.xbz=.12;c.mk.prototype.QB=function(b,X,q,N){b.H.Rt=null;b.RZ=!0;this.finish(b,X,q,N)};
c.mk.prototype.getSelection=function(b,X,q,N){if(this.DP.Rj(this.Z_)||!this.kB)return null;var J=this.pi(b,q,!1),_=b.F[b.k[0]];
if(J.qa()||!J.Dj(_.rect))return null;return c.rl.Hi("ObSl",J)};c.gV=function(){c.Un.call(this,[10,37],c.cG,"tools/qselect");
this.HU="qselect"};c.gV.prototype=new c.Un;c.gV.prototype.vP=function(b,X,q,N,J){this.hU(b,q,N,J,1);
if(this.Zs==null)return;this.Rp(b)};c.gV.prototype.fI=function(b,X,q,N,J){this.hs(b,X,q);c.gV.xnC(b,c.rl.JF,X);
if(this.bA)this.re(b,q,J);if(this.Zs==null)return;if(!J.je)return;var _=this.EK(b,q,N,J);if(_!=1)this.Rp(b)};
c.gV.xnC=function(b,X,q){if(b&&X.key!=c.gV.Eo(b)){X.key=c.gV.Eo(b);var N=b.F[b.k[0]].rect.c(),_="Image Analysis ...";
if(N==0)return;var J=N>1e6,p=new Q(K.E.T,!0);p.data={V:K.a.Ct,Wf:_};if(J)q.X(p);setTimeout(function(){var z=c.gV.xAG(b);
for(var g in z)X[g]=z[g];var p=new Q(K.E.T,!0);p.data={V:K.a.CJ,Wf:_};if(J)q.X(p)},30)}};c.gV.Eo=function(b){var X=b.k[0],q=b.F[X],N=q.rect,J=N.n,_=N.z,p=J*_,z=q.buffer;
return[X,N.x,N.y,J,_,z[0],z[1],z[2],z[3]].join(",")};c.gV.xAG=function(b){var X=b.k[0],q=b.F[X],N=q.rect,J=N.n,_=N.z,p=J*_,z=q.buffer,g=Date.now(),W=x.K(p);
W.fill(128);var o=x.OB.ej(z,J,_);console.log(Date.now()-g);var y={key:c.gV.Eo(b),xHJ:z,rect:N.clone(),w$:J,ai:_,dF:12,xUb:!1,RP:W,OW:o,p:x.K(p),BF:null,sD:null,so:null};
c.gV.Xh(y);return y};c.gV.Xh=function(b,X){var q=b.w$,N=b.ai,J=0,_=0,p=Date.now(),z=b.BF!=null&&x.OB.xHn(b.OW.Bl,b.BF.Bl,b.BF.wz,b.RP);
J=Date.now()-p;p=Date.now();if(!z&&!b.xUb){b.BF=x.OB.rT(b.OW,q,N,b.RP,b.dF);if(!x.OB.xHn(b.OW.Bl,b.BF.Bl,b.BF.wz,b.RP)){b.xUb=!0;
console.log("conflict")}b.sD=x.OB.xMZ(b.xHJ,q,N,b.BF.Bl,b.BF.wz);b.so=[b.sD[0].slice(0),[]];_=Date.now()-p;
p=Date.now()}var p=Date.now();if(X){b.so[0].set(b.sD[0]);var g=b.sD[1],W=b.so[1];for(var o=0;o<g.length;
o++)W[o]=g[o].slice(0);x.OB.xiP(b.BF.Bl,q,N,b.BF.wz,b.RP,b.p,b.so)}};function gH(b,X,q,N,J,_,p){this.dG=null;
this.YP=b?b.slice(0):null;this.DJ=4;this.Z_=null;this.OL=null;this.sZ=null;this.Js=-1;this.pD=null;this.xnl=!1;
this.x_E=[];for(var z=0;z<8;z++)this.x_E.push(nr.xaO(0,PIMG.rotate,-.5,-.5,-45-z*45));this.xKp=X;this.xdE=q;
this.xdQ=N;this.xdk=J;this.xKu=_;this.Ml=p}gH.prototype.xxx=function(){return this.Js!=-1};gH.prototype.Fn=function(){return this.YP.slice(0)};
gH.prototype.Ec=function(b){this.YP=b};gH.prototype.xdt=function(){return this.j$(this.YP)};gH.prototype.xdJ=function(){return this.DJ};
gH.prototype.xdz=function(b){this.DJ=b};gH.prototype.R_=function(b){if(b==null)b=this.YP;if(this.DJ==9)return this.Z_;
else return this.j$(b)[this.DJ]};gH.prototype.xdX=function(b){if(this.DJ==9)this.Z_=b.clone();else{var X=this.R_(),q=new nQ(1,0,0,1,b.x-X.x,b.y-X.y);
x.j.w(this.YP,q,this.YP)}};gH.prototype.Ra=function(b,X,q){var N=this.pa(b,X),J;if(N==9)return"default";
if(N==10){if(q)return null;return!this.xKp?"move":null}if(N==-1||N==4)return null;if(N==11){var _=this.R_().cB(b);
J=90-Math.atan2(_.y,_.x)*180/Math.PI;var p=Math.round(8*(J/360));p=(p+8)%8;return this.x_E[p]}else{var z=this.RR(b,this.YP);
J=[135,90,45,180,0,0,225,270,315][N];var g=x.GI.IG(this.YP);J+=Math.atan2(-g[3],g[0])*180/Math.PI;var W="ew nesw ns nwse ew nesw ns nwse".split(" "),p=Math.round(8*(J/360));
p=(p+8)%8;return W[p]+"-resize"}};gH.prototype.RR=function(b,X){var q=x.GI.Kn(x.GI.IG(X)),N=new Float64Array(2);
x.GI.SA(b.x,b.y,q,N);return new Ue(N[0],N[1])};gH.prototype.pE=function(b){var X=this.RR(b,this.YP);
return 0<=X.x&&X.x<=1&&0<=X.y&&X.y<=1};gH.prototype.vP=function(b,X,q,N,J,_){this.xnl=_;this.pD=N;var p=b.M.d,z;
if(this.YP==null)N=c.Gk.Lg(b,N,X);this.sZ=N.clone();if(this.YP==null){this.sZ.offset(1,1);var g=J==null?1:1/J;
this.YP=[N.x,N.y,N.x+1,N.y,N.x+1,N.y+g,N.x,N.y+g];z=8}else{z=this.pa(N,p);if(0<=z&&z<=8)this.sZ=this.j$(this.YP)[z]}this.dG=this.YP.slice(0);
this.Js=z;this.NF(b,X);this.OL=this.R_();return z!=-1};gH.prototype.pa=function(b,X){var q=-1,N=this.j$(),J=6*K.u()/X;
if(q==-1)if(Ue.NH(this.R_(),b)<J)q=9;if(q==-1)for(var _=0;_<N.length;_++)if(_!=4&&Ue.NH(N[_],b)<J)q=_;
if(q==-1){if(this.pE(b)){if(this.xKp)q=10}else{var p=this.RR(b,this.YP),z=new R(0,0,1,1);z.Ii(.2,.2);
q=z.gD(p)?11:10}}return q};gH.prototype.fI=function(b,X,q,N){if(this.Js==-1)return;this.pD=N;var J=q._(S.FI),_=q._(S.PU),p=q._(S.zN),z=b.M.d,g=this.sZ,W=this.Js,o=this.j$(),y=c.Gk.Lg(b,g,X),D=c.Gk.Lg(b,N,X),m,k;
if(W==9){var o=this.j$(),O=-1;for(var L=0;L<o.length;L++)if(Ue.NH(o[L],D)*z<10)O=L;this.DJ=O==-1?9:O;
this.Z_=J?c.Wq.fO(y,D):D.clone()}else if(W==10){k=x.j.Is(this.dG);var I=k.x,H=k.y;k.offset(N.x-g.x,N.y-g.y);
if(this.xAI()){k.x=Math.round(k.x);k.y=Math.round(k.y)}m=c.Gk.Ck(b,k,X);var Y=new nQ(1,0,0,1,k.x-I+m[0],k.y-H+m[1]);
x.j.w(this.dG,Y,this.YP)}else if(W==11){var n=this.R_(this.dG),w=n.cB(N),t=n.cB(g),j=Math.atan2(w.y,w.x),E=Math.atan2(t.y,t.x),Y=new nQ(1,0,0,1,-n.x,-n.y),h=Math.PI/12;
if(J)Y.rotate(Math.round((E-j)/h)*h);else Y.rotate(E-j);Y.translate(n.x,n.y);x.j.w(this.dG,Y,this.YP)}else{var u,Z=this.dG,A=W==0||W==2||W==6||W==8;
if(this.Ml==1){if(A)J=_=p=!0}else if(this.Ml==2&&A&&this.xnl!=!0)p=!0;if(this.xdQ&&A&&p){var L=[0,0,2,0,0,0,6,0,4,0][W],P=-1,T=D.x,U=D.y;
if(J){var r=L+6&7,i=L+10&7,V=gH.xgx(Z[L],Z[L+1],Z[r],Z[r+1],D.x,D.y),F=gH.xgx(Z[L],Z[L+1],Z[i],Z[i+1],D.x,D.y),B=V[2]<F[2]?V:F;
T=B[0];U=B[1];if(_)P=V[2]<F[2]?r:i}else if(_)P=L+4&7;u=Z.slice(0);if(P!=-1){var $=Z[P],l=Z[P+1],v=(Z[L]+$)/2,C=(Z[L+1]+l)/2;
u[P]=v-(T-v);u[P+1]=C-(U-C)}u[L]=T;u[L+1]=U}else if(A&&_){var n=this.OL,f=n.x,nx=n.y,nA=y.x-f,nU=y.y-nx,nn=1,nH=1;
if(Math.abs(nA)>=1)nn=(D.x-f)/nA;if(Math.abs(nU)>=1)nH=(D.y-nx)/nU;if(J)nn=nH=(nn+nH)/2;var d=new nQ;
d.translate(-f,-nx);d.scale(nn,nH);d.translate(f,nx);u=Z.slice(0);x.j.w(u,d,u)}else{if(this.xAI()){D.x=Math.round(D.x);
D.y=Math.round(D.y)}var np=[0,1,2,5,8,7,6,3],a=np[(np.indexOf(W)+4)%8],nb=[];for(var L=0;L<3;L++)for(var P=0;
P<3;P++)nb.push(new Ue(P/2,L/2));var n=this.OL,nK=this.RR(D,Z),nq=this.RR(g,Z),nB=_&&(this.DJ==4||this.DJ==9)?this.RR(n,Z):nb[a],nE=new nQ,nh=new nQ,nn=(nK.x-nB.x)/(nq.x-nB.x);
if(nn==0)nn=1e-4;var nH=(nK.y-nB.y)/(nq.y-nB.y);if(nH==0)nH=1e-4;if(this.xdk){nn=Math.max(nn,0);nH=Math.max(nH,0)}if(W==0||W==2||W==6||W==8){if(J||this.xKu)nE.scale(nn,nn);
else nE.scale(nn,nH)}if(W==1||W==3||W==5||W==7){var nv=this.xKu;if(W==1||W==7)nE.scale(nv?nH:1,nH);else nE.scale(nn,nv?nn:1);
if(this.xdE&&p){if(W==1||W==7)nh.Yb=(nK.x-nB.x)/(nK.y-nB.y);else nh.b=(nK.y-nB.y)/(nK.x-nB.x)}}var d=new nQ;
d.translate(-nB.x,-nB.y);d.concat(nE);d.concat(nh);d.translate(nB.x,nB.y);u=[0,0,1,0,1,1,0,1];x.j.w(u,d,u);
var B=x.GI.IG(Z);x.GI.apply(B,u)}if(gH.Ef(u))this.YP=u}this.NF(b,X);if(m)c.Gk.Cm(b,k,m)};gH.xgx=function(b,X,q,N,J,_){var p=q-b,z=N-X,g=J-b,W=_-X,o=p*p+z*z,y=g*p+W*z,D=y/o,m=b+D*p,k=X+D*z,O=J-m,L=_-k;
return[m,k,Math.sqrt(O*O+L*L)]};gH.prototype.xAI=function(){var b=this.YP;return Math.abs(b[1]-b[3])<1e-6&&Math.abs(b[2]-b[4])<1e-6||Math.abs(b[0]-b[2])<1e-6&&Math.abs(b[3]-b[5])<1e-6};
gH.Ef=function(b){return x.j.$Z(b)||x.j.$Z([b[6],b[7],b[4],b[5],b[2],b[3],b[0],b[1]])};gH.prototype.TE=function(b,X,q,N){this.Js=-1;
this.pD=null;b.H.DW=null;b.H.vk=[];b.RZ=!0};gH.prototype.aZ=function(b,X,q){var N=q.oH();if(N.x||N.y){var J=new nQ(1,0,0,1,N.x,N.y);
x.j.w(this.YP,J,this.YP);this.NF(b,X);return!0}return!1};gH.prototype.j$=function(b){if(b==null)b=this.YP;
var X=b[6]-b[0],q=b[7]-b[1],N=b[4]-b[2],J=b[5]-b[3],_=[b[0],b[1],b[2],b[3],b[0]+X/2,b[1]+q/2,b[2]+N/2,b[3]+J/2,b[6],b[7],b[4],b[5]],p=[];
for(var z=0;z<3;z++){var g=z*4,W=_[g+0],o=_[g+1],y=_[g+2],D=_[g+3];p.push(new Ue(W,o));p.push(new Ue(W+(y-W)/2,o+(D-o)/2));
p.push(new Ue(y,D))}return p};gH.prototype.NF=function(b,X,q){if(q==null)q=!1;var N=this.j$(),J=N[0],_=N[2],p=N[6],z=N[8];
b.H.Rt={W:[],r:[]};b.H.Rt.W.push("M","L","L","L","Z");b.H.Rt.r.push(J.x,J.y,_.x,_.y,z.x,z.y,p.x,p.y);
if(this.Ml==2){var g=_.cB(J),W=p.cB(J),o=z.cB(_),y=z.cB(p);for(var D=0;D<3;D++){b.H.Rt.W.push("M","L","M","L");
var m=(D+1)*.25;b.H.Rt.r.push(J.x+g.x*m,J.y+g.y*m,p.x+y.x*m,p.y+y.y*m);b.H.Rt.r.push(J.x+W.x*m,J.y+W.y*m,_.x+o.x*m,_.y+o.y*m)}}b.M.t$=new R(0,0,Ue.NH(N[0],N[2]),Ue.NH(N[0],N[6]));
if(this.Js!=-1&&this.Js<9&&this.pD){var k=b.M.lm(this.pD.x,this.pD.y);c.os.xq(k.x+10,k.y-10,b.M.t$,b,X)}if(!q){b.H.TF=[];
for(var D=0;D<N.length;D++)if(D!=4)b.H.TF.push(N[D].x,N[D].y);var O=this.R_();b.H.TF.push(O.x,O.y)}b.RZ=!0};
gH.prototype.clear=function(b){b.M.t$=null;b.H.DW=null;b.H.Rt=null;b.H.TF=[];b.RZ=!0};function gp(b,X){this.Gg=null;
this.Js=-1;this.xba(b)}gp.prototype.Em=function(){return JSON.parse(JSON.stringify(this.Gg))};gp.prototype.xba=function(b){this.Gg=JSON.parse(JSON.stringify(b))};
gp.prototype.pE=function(b){return!0};gp.prototype.Ra=function(b,X){var q=this.pa(b,X);if(q==-1)return"default";
return"pointer"};gp.prototype.vP=function(b,X,q,N){this.Js=this.pa(N,b.M.d);return this.Js!=-1};gp.prototype.pa=function(b,X){var q=-1,N=20*K.u(),J=this.xgq();
for(var _=0;_<J.length;_++)if(Ue.NH(J[_],b)*X<N)q=_;return q};gp.prototype.fI=function(b,X,q,N){if(this.Js==-1)return;
var J=b.M.d,_=this.Js,p=x.Gg.Pg(this.Gg);p[_*2]=N.x;p[_*2+1]=N.y;x.Gg.yf(p,this.Gg)};gp.prototype.TE=function(b,X,q,N){this.Js=-1;
b.RZ=!0};gp.prototype.aZ=function(b,X,q){var N=q.oH();if(N.x||N.y){var J=new nQ(1,0,0,1,N.x,N.y);x.j.w(this.YP,J,this.YP);
this.NF(b)}};gp.prototype.xgq=function(b){var X=x.Gg.Pg(this.Gg),q=[];for(var N=0;N<X.length;N+=2)q.push(new Ue(X[N],X[N+1]));
return q};gp.prototype.NF=function(b){var X=this.xgq();b.H.Rt={W:[],r:[]};b.H.Rt.W.push("M","C","C","C","C");
var q=[0,1,2,3,7,11,15,14,13,12,8,4,0];for(var N=0;N<q.length;N++)b.H.Rt.r.push(X[q[N]].x,X[q[N]].y);
b.H.Rt.W.push("M","L","L","M","L","L","M","L","L","M","L","L");q=[4,0,1,2,3,7,11,15,14,13,12,8];for(var N=0;
N<q.length;N++)b.H.Rt.r.push(X[q[N]].x,X[q[N]].y);b.H.TF=[];for(var N=0;N<X.length;N++)b.H.TF.push(X[N].x,X[N].y);
b.RZ=!0};gp.prototype.clear=function(b){b.H.Rt=null;b.H.TF=[];b.RZ=!0};var xu={};xu.CI=function(b){this.id=b;
this.jQ=null};xu.CI.prototype.wt=function(b,X,q,N,J){};xu.CI.prototype.we=function(b,X){};xu.CI.prototype.it=function(b,X){};
xu.CI.prototype.track=function(b){var X=new Q(K.E.gy,!0);X.data=b;b.Ev=!0;this.jQ.X(X)};xu.History=function(){xu.CI.call(this,c.JH);
this.Ot=!0;this.xKy=0};xu.History.prototype=new xu.CI;xu.History.prototype.wt=function(b,X,q,N){if(b.V=="h_itemchange"){if(b.index<q.W_)for(var J=q.W_;
J>b.index;J--)this.EV(q);if(b.index>q.W_)for(var J=q.W_;J<b.index;J++)this.Es(q)}if(b.V=="h_stepfwd")this.Es(q);
if(b.V=="h_stepbck")this.EV(q);if(b.V=="h_undoredo"){var _=this.Ot||this.xKy!=q.W_;if(_){this.EV(q);
_=!1}else{this.Es(q);_=!0}this.Ot=_;this.xKy=q.W_}else this.Ot=!0};xu.History.prototype.EV=function(b){if(b.W_==0)return;
var X=b.history[b.W_];X.B.it(X.data,b);b.W_--};xu.History.prototype.Es=function(b){if(b.W_==b.history.length-1)return;
var X=b.history[b.W_+1];X.B.we(X.data,b);b.W_++};xu.Qi=function(){xu.CI.call(this,c.iz);this.jQ=null};
xu.Qi.prototype=new xu.CI;xu.Qi.prototype.wt=function(b,X,q,N,J){this.jQ=X;var _=b.V,p=b.Q!=null?b.Q:q.k.length!=0?q.k[0]:q.F.length-1,z=q.F[p];
if(_==M.yy&&q.p==null)_=M.CX;if(_==M.km){var g=new no([6,33],this),W=z.zu()?["pass"].concat(nD.YO):nD.YO,o=b.Q!=null?[b.Q]:q.k,y=JSON.stringify(o),D=[];
for(var m=0;m<o.length;m++)D.push(q.F[o[m]].nB);g.data={V:_,WL:y,tl:D,wS:W[b.wS]};q.wV(g);this.we(g.data,q);
this.track(_U.wI("Md",{t:"enum",v:{BlnM:nD.$s[b.wS]}}))}if(_==M.VK){var g,k=q.Sq(),o=b.Q!=null?[b.Q]:q.k,y=JSON.stringify(o);
if(k&&k.data&&k.data.V==_&&k.data.WL==y)g=k;else{var O=_U.wI("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(O);var D=[];for(var m=0;m<o.length;m++)D.push(q.F[o[m]].opacity);g=new no([6,32],this);g.data={V:_,WL:y,tl:D,wS:b.wS,Oz:O.nv};
q.wV(g)}g.data.wS=b.wS;g.data.Oz.T.v.Opct.v.val=Math.round(b.wS*100/255);this.we(g.data,q)}if(_==M._b){if(z.add.iOpa==null)z.add.iOpa=255;
var g,k=q.Sq();if(k&&k.data&&k.data.V==_&&k.data.Q==p)g=k;else{g=new no("Fill Opacity Change",this);
g.data={V:_,Q:p,tl:z.add.iOpa,wS:b.wS};q.wV(g)}g.data.wS=b.wS;this.we(g.data,q)}if(_==M.dd){if(z.add.lspf==null)z.add.lspf=0;
var D=z.add.lspf,L=D,I=b.wS,g;for(var m=0;m<I[0].length;m++){var H=I[1][m],Y=1<<H;if((L&Y)==0&&I[0][m])L^=Y;
else if((L&Y)!=0&&!I[0][m])L^=Y}var k=q.Sq();if(k&&k.data&&k.data.V==_&&k.data.Q==p)g=k;else{var g=new no([6,57,1],this);
g.data={V:_,Q:p,tl:D,wS:L};q.wV(g)}g.data.wS=L;this.we(g.data,q)}if(_==M.Om){var n="----",w=b.$_,L=null;
for(var m=0;m<nz.hj.Sr.length;m++)if(z.add[nz.hj.Sr[m]])n=nz.hj.Sr[m];var t=z.add[n];if(w=="TySh")L=ng.Rq(50,50,J.KU);
var g=new no("Layer Type",this);g.data={V:_,Q:p,xrC:[n,t],$_:[w,L]};q.wV(g);this.we(g.data,q)}if(_==M.RQ){var j=[];
if(N._(S.PU)){var h=q.Sq(),u=h?h.data:null;if(h!=null&&h.B==this&&u.V==M.RQ&&u.WL.length!=1){var Z=new Q(K.E.e);
Z.B=c.JH;Z.data={V:"h_stepbck"};X.X(Z);if(u.Q==p)return}var A=q.root.vf(p),P=q.uu(null,p);while(A.parent!=q.root){P.push(A.parent.index);
A=A.parent}for(var m=0;m<q.F.length;m++){var T=q.F[m],U=T.oF(),r=P.indexOf(m)!=-1;if(!r&&U)j.push(m);
if(m==p&&!U)j.push(m)}}else{j.push(p);var U=q.F[p].oF(),O={pn:U?"hide":"show",nv:{classID:U?"Hd":"Shw",null:{t:"VlLs",v:[_U.YN("Lyr",!0)]}}};
this.track(O)}var g=new no("Layer visibility",this,!0);g.data={V:_,WL:j,Q:p};q.wV(g);this.we(g.data,q)}if(_==M.VC){var O={pn:"select",nv:{classID:"null",MkVs:{t:"bool",v:!1}}},i,escape=!1;
if(q.M.Yk.join("")!="111"){q.M.Yk=[1,1,1];q.RZ=!0}if(N._(S.zN)||b.xrm==0){var V=q.k.indexOf(p);if(V==-1)q.k.push(p);
else if(q.k.length>1)q.k.splice(V,1);q.k.sort(function(g,_F){return g-_F});O.nv.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};
i=p}else if(N._(S.FI)&&!N._(S.PU)&&b.Xz>0){_=b.Xz==1?M.mZ:b.Xz==2?M.Qy:M._A;escape=!0}else if((N._(S.FI)||b.xrm==1)&&q.k.length>0){var F=Math.min(p,q.k[0]),B=Math.max(p,q.k[q.k.length-1]);
q.k=[];for(var m=F;m<=B;m++)if(q.F[m].add.lsct!=_b.Rv)q.k.push(m);O.nv.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
i=p}else{i=p;var T=q.F[p];if(T.zu()&&b.xdy)T.add.lsct=_b.iS;else if(q.k.length==1&&q.k[0]==p&&b.Xz==T.ZZ){return}q.k=[p];
q.MJ()}if(i!=null){O.nv.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:q.F[i].getName()}}]},this.track(O)}if(!escape){if(q.k.length==1){var $=q.k[0];
for(var m=0;m<q.F.length;m++){if(m==$)continue;var l=q.F[m];l.ZZ=0;l.Ga=!1}var z=q.F[$];if(b.Xz==2)z.Ga=!z.Ga;
else{z.ZZ=b.Xz<=0?0:b.Xz;if(b.Xz==1||b.Xz==3){var v=b.Xz==3?z._m(q).G:z.DL();v.rX=!1}}}else for(var m=0;
m<q.F.length;m++){var l=q.F[m];l.ZZ=0;l.Ga=!1}q.GN=null;q.Ri=!0}}if(_==M.mZ||_==M._A){var C=_==M.mZ,v=C?z.DL():z._m(q).G;
if(v==null)return;var g=new no(v.isEnabled?C?[6,15]:[6,42]:C?[6,14]:[6,41],this);g.data={V:_,Q:p};q.wV(g);
this.we(g.data,q)}if(_==M.Qy){var v=z.add.vmsk;if(v==null)return;var g=new no(v.isEnabled?[6,17]:[6,16],this);
g.data={V:_,Q:p};q.wV(g);this.we(g.data,q)}if(_==M.xSN){if(z.add.lsct==_b.iS)z.add.lsct=_b.Uo;else z.add.lsct=_b.iS;
q.Ri=!0}if(_==M.yJ){if(!q.jl(p))return;var g=new no(z.Hg?[6,19]:[6,18],this);g.data={V:_,Q:p};q.wV(g);
if(b.wS==null||b.wS!=z.Hg)this.we(g.data,q);this.track({pn:"groupEvent",nv:{classID:"GrpL",null:{t:"obj ",v:[_U.YN("Lyr",!0)]}}})}if(_==M.xiL){if(z.nW())z.aA-=32;
else z.aA+=32;q.Ri=!0}if(_==M._r||_==M._j){var g;if(_==M._r)g=new no(z.add.lmfx.masterFXSwitch.v?[6,30]:[6,29],this);
if(_==M._j)g=new no(z.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);g.data={V:_,Q:p};q.wV(g);this.we(g.data,q)}if(_==M._w||_==M._G){var $=b.index,g;
if(_==M._w)g=new no(z.add.lmfx[UZ.PS[$[0]]].v[$[1]].v.enab.v?[6,30]:[6,29],this);if(_==M._G)g=new no(z.add.SoLd.filterFX.v.filterFXList.v[$].v.enab.v?[6,44]:[6,43],this);
g.data={V:_,Q:p,index:b.index};q.wV(g);this.we(g.data,q)}if(_==M.j_){if(b.src==b.XL)return;var f=q.F[b.src],nx=q.F[b.XL],nA=f.add.lmfx?JSON.stringify(f.add.lmfx):"",nU=nx.add.lmfx?JSON.stringify(nx.add.lmfx):"";
if(nx.add.lmfx==null){nx.add.lmfx=JSON.parse(UZ.default);for(var m=0;m<UZ.order.length;m++)nx.add.lmfx[UZ.PS[m]]={t:"VlLs",v:[]}}if(b.l_==null){nx.add.lmfx=JSON.parse(nA);
if(!b.YA)delete f.add.lmfx}else{var nn=b.l_[0],nH=UZ.PS[nn];if(UZ.xaI.indexOf(UZ.order[nn])==-1)nx.add.lmfx[nH].v=[];
nx.add.lmfx[nH].v.push(f.add.lmfx[nH].v[b.l_[1]]);if(!b.YA)f.add.lmfx[nH].v.splice(b.l_[1],1)}var d=f.add.lmfx?JSON.stringify(f.add.lmfx):"",np=nx.add.lmfx?JSON.stringify(nx.add.lmfx):"";
if(!nx.nW())nx.aA+=32;var g=new no("Move Layer Styles",this);g.data={V:_,xBV:b.src,xqS:b.XL,xlB:nA,xlY:nU,xlo:d,xlc:np};
q.wV(g);this.we(g.data,q)}if(_==M.xS$){var l=q.F[b.src],a=JSON.stringify(l.add.SoLd),nb=JSON.parse(a),nK=nb.filterFX.v.filterFXList.v;
nK.splice(b.l_,1);var g=new no([6,53],this);g.data={V:M._V,nU:[{Xm:b.src,W$:[a,JSON.stringify(nb)]}]};
q.wV(g);this.we(g.data,q)}if(_==M.xbJ){var f=q.F[b.src],nx=q.F[b.XL],nq=[];if(f!=nx&&nx.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(f==nx&&!b.YA&&(b.l_==b.$S||b.l_==-1))return;var nS=f._m(q),a=JSON.stringify(f.add.SoLd),nb=JSON.parse(a),nK=nb.filterFX.v.filterFXList.v;
if(f==nx){nK.splice(b.$S,0,nK[b.l_]);if(!b.YA)nK.splice(b.l_+(b.l_<b.$S?0:1),1);nq.push({Xm:b.src,W$:[a,JSON.stringify(nb)]})}else if(b.l_==-1){var nB=nb.filterFX;
if(!b.YA){delete nb.filterFX;nq.push({Xm:b.src,W$:[a,JSON.stringify(nb)],sX:[nS,null]})}var nE=nx.ot()?nx._m(q):null,nh=nj.xUX(nS),nv=JSON.stringify(nx.add.SoLd),nC=JSON.parse(nv);
nC.placed.v=nh.id;nC.filterFX=nB;nq.push({Xm:b.XL,W$:[nv,JSON.stringify(nC)],sX:[nE,nh]})}else{var nR=nK[b.l_];
if(!b.YA){nK.splice(b.l_,1);nq.push({Xm:b.src,W$:[a,JSON.stringify(nb)]})}var nv=JSON.stringify(nx.add.SoLd),nC=JSON.parse(nv);
if(nC.filterFX==null)nC.filterFX=nm.NI();var nu=nC.filterFX.v.filterFXList.v;nu.splice(b.$S,0,nR);var nF={Xm:b.XL,W$:[nv,JSON.stringify(nC)]};
if(!nx.ot()){var nh=nj.xgE(nx.add.SoLd.placed.v);nF.sX=[null,nh]}nq.push(nF)}var g=new no([6,52],this);
g.data={V:M._V,nU:nq};q.wV(g);this.we(g.data,q)}if(_==M._p){var v=z.DL(),g=new no(v.ov?[6,26]:[6,25],this);
g.data={V:_,Q:p};q.wV(g);this.we(g.data,q);this.track({pn:"set",nv:{classID:"setd",null:{t:"obj ",v:[_U.YN("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:v.ov}}}}})}if(_==M.OI){var v=z.add.vmsk,g=new no(v.ov?[6,28]:[6,27],this);
g.data={V:_,Q:p};q.wV(g);this.we(g.data,q)}if(_==M.OJ){var nP=[],g;for(var m=0;m<q.k.length;m++){var ni=q.k[m],T=q.F[ni];
if(T.add.vogk)nP.push(ni,JSON.stringify(T.add.vogk))}for(var m=0;m<q._H.length;m++){var ni=q._H[m],T=q.Dx[ni];
if(T.add.vogk)nP.push(-1-ni,JSON.stringify(T.add.vogk))}x.P_.xSS(q,b.vW,b.xlV);var nw=[];for(var m=0;
m<q.k.length;m++){var ni=q.k[m],T=q.F[ni];if(T.add.vogk)nw.push(ni,JSON.stringify(T.add.vogk))}for(var m=0;
m<q._H.length;m++){var ni=q._H[m],T=q.Dx[ni];if(T.add.vogk)nw.push(-1-ni,JSON.stringify(T.add.vogk))}var k=q.Sq();
if(k&&k.data&&k.data.V==_){var nO=!0;for(var m=0;m<nP.length;m+=2)if(nP[m]!=k.data.$a[m])nO=!1;if(nO){g=k;
g.data.dE=nw}}if(g==null){var g=new no([12,91,1],this);g.data={V:_,$a:nP,dE:nw};q.wV(g)}this.we(g.data,q)}if(_==M.OX){var g,k=q.Sq();
if(k&&k.data&&k.data.V==_&&k.data.Q==p){g=k;g.data.PG=JSON.stringify(b.PG)}if(g==null){var g=new no("Editing Artboard",this);
g.data={V:_,Q:p,xls:JSON.stringify(z.add.artb),PG:JSON.stringify(b.PG)};q.wV(g)}this.we(g.data,q)}if(_==M.kX){var nw=q.Ff.slice(0),nT=q.nI.slice(0),nI=q.p,gu=q.p;
if(b.qe=="fromAction"){var nN=b.A.pn,xn=b.A.nv;if(nN=="make"||nN=="duplicate"){var nL=nw.length,nX=!1,xY=!1;
if(q._l())nL--;var nV=new M.ah;nV.name="Alpha "+(nL+1);if(nN=="make"){var ny=xn.Nw.v;nV.color=255;nT=[nL];
nV.rX=!0;nV.HV=ny.Opct.v;if(ny.Nm)nV.name=ny.Nm.v;if(ny.classID=="SCch"){nX=!0;gu=null;nV.VS=1}}else nX=!0;
if(nX){nV.color=0;if(q.p){nV.rect=q.p.rect.clone();nV.channel=q.p.channel.slice(0)}if(xY){nV.color=255-nV.color;
x.Kn(nV.channel)}}nw.splice(nL,0,nV)}else if(nN=="delete"){var P=q.nI;P.sort(function(g,_F){return _F-g});
if(P.length==0)return;for(var m=0;m<P.length;m++)nw.splice(P[m],1);nT=[]}else if(nN=="hide"){nw[nT[0]]=nw[nT[0]].clone();
nw[nT[0]].rX=!1}}if(b.qe=="rnm"){nw[b.aP]=nw[b.aP].clone();nw[b.aP].name=b.name}var g=new no("Channel Edit",this);
g.data={V:_,$a:q.Ff.slice(0),Ns:q.nI.slice(0),dE:nw,N$:nT,za:nI,Tk:gu};this.we(g.data,q);q.wV(g)}if(_==M.lb){var g=new no(b.ds,this);
g.data={V:M.lb,zJ:q.F.slice(0),GJ:b.GJ,ls:q.k.slice(0),Wl:b.Tk};q.wV(g);this.we(g.data,q)}if(_==M.RF){var xp=q.uu(null,b.Q),nk=1e10;
if(xp.length==0)return;if(q.F.length==xp.length){alert("Project must have at least 1 layer");return}var nW=[];
for(var m=0;m<q.F.length;m++)if(xp.indexOf(m)==-1)nW.push(q.F[m]);for(var m=0;m<xp.length;m++)nk=Math.min(nk,xp[m]);
nk=Math.max(nk-1,0);while(nW[nk].name=="</Layer group>")nk++;this.track({pn:"delete",nv:{classID:"Dlt",null:_U.YN("Lyr",!0)}});
var g=new no([6,31],this);g.data={V:M.lb,zJ:q.F.slice(0),GJ:nW,ls:q.k.slice(0),Wl:[nk]};q.wV(g);this.we(g.data,q)}if(_==M.QG){var P=b.xqL?b.xqL:q.k,_x=0,gC=!1;
if(P.length==0)return;if(P.length==1&&q.F[P[0]].zZ==0){alert(xA.get([15,7,5]));return}var xI=[];for(var m=0;
m<q.F.length;m++){var nZ=q.F[m].zZ;xI.push(nZ);_x=Math.max(_x,nZ)}var _q=-1,gb=-1;for(var m=0;m<P.length;
m++){var nZ=q.F[P[m]].zZ;if(nZ==0)gC=!0;else if(_q==-1||_q==nZ)_q=nZ;else gb=nZ}if(!gC)for(var m=0;m<P.length;
m++)q.F[P[m]].zZ=0;else if(_q!=-1&&gb==-1)for(var m=0;m<P.length;m++)q.F[P[m]].zZ=_q;else for(var m=0;
m<P.length;m++)q.F[P[m]].zZ=_x+1;var xE=[];for(var m=0;m<q.F.length;m++){var nZ=q.F[m].zZ;if(xE[nZ]==null)xE[nZ]=0;
xE[nZ]++}for(var m=0;m<q.F.length;m++){var nZ=q.F[m].zZ;if(xE[nZ]==1)q.F[m].zZ=0}var xC=xI;xI=[];for(var m=0;
m<q.F.length;m++){var nZ=q.F[m].zZ;xI.push(nZ);_x=Math.max(_x,nZ)}var g=new no(gC?[6,54,0]:[6,54,1],this);
g.data={V:M.QG,xWA:xC,xWg:xI};q.wV(g);this.we(g.data,q)}if(_==M.CX&&(b.Q!=null||q.k.length!=0)||_==M.PF){var pq=q.bD(_==M.CX?b.Q:p,null,b.xFs);
if(_==M.PF){var l=pq[0],nN=l.add.SoLd.Idnt.v,xB=q.Fb(nN).clone();l.add.SoLd.Idnt.v=xB.pA=nj.bj()+nN.slice(8);
q.add.lnk2.push(xB)}if(_==M.CX){var _r={pn:"duplicate",nv:{classID:"null",null:_U.YN("Lyr",!0)}};if(b.OU){pq[0].fT(b.OU);
_r.Nm={t:"TEXT",v:b.OU}}this.track(_r);b.xhb=b.Q}_=M._M;b.F=pq;b._U=q;b.$R=q}if(_==M._M){var _h,_i,bK=b._U,xb=b.$R;
if(bK!=xb){console.log("ADDLAYERS different projs");var _h=new R(0,0,bK.n,bK.z),_i=new R(0,0,xb.n,xb.z),xv=[],gx=[];
for(var m=0;m<b.F.length;m++){var l=b.F[m];if(l.add.SoLd==null)continue;var nN=l.add.SoLd.Idnt.v;if(xv.indexOf(nN)==-1){xv.push(nN);
gx.push(nj.bj()+nN.slice(8))}l.add.SoLd.Idnt.v=gx[xv.indexOf(nN)];var nS=l._m(bK);if(nS){bK.Mt(nS);xb.$p(nS)}}if(xv.length>0){if(xb.add.lnk2==null)xb.add.lnk2=[];
for(var m=0;m<xv.length;m++){var xK=bK.Fb(xv[m]),xB=xK.clone();xB.pA=gx[m];xb.add.lnk2.push(xB)}}}var nI=xb.k.slice(0);
nI.sort(function(g,_F){return g-_F});var nW=xb.F.slice(0),gu=[],_p=-1;for(var m=0;m<nI.length;m++)_p=Math.max(_p,nI[m]);
if(b.xhb!=null)_p=b.xhb;_p++;for(var m=0;m<b.F.length;m++){var T=b.F[m];nW.splice(_p,0,T);gu.push(_p);
_p++}if(b.F[b.F.length-1].zu())gu=[_p-1];var g=new no([6,0],this);g.data={V:M.lb,zJ:xb.F.slice(0),GJ:nW,ls:nI,Wl:gu};
xb.wV(g);this.we(g.data,xb)}if(_==M.xUm){var _n=b.Q!=null?[b.Q]:q.uu(),nW=q.F.slice(0);for(var m=0;m<_n.length;
m++){var T=q.F[_n[m]].clone();T.xxb(q);nW.splice(_n[m],1,T)}var g=new no([6,8],this);g.data={V:M.lb,zJ:q.F.slice(0),GJ:nW,ls:q.k.slice(0),Wl:q.k.slice(0)};
q.wV(g);this.we(g.data,q)}if(_==M.xUK){var nW=q.F.slice(0),T=nW[q.k[0]]=nW[q.k[0]].clone(),gq=T.add.lmfx,xH=0;
delete T.add.lmfx;var xx=x.K(T.rect.c());x.iJ(T.buffer,xx,3);var gw=nM.iE(gq,null,xx,T.rect,q,T.rect).type;
for(var m=0;m<UZ.order.length;m++){var gr=UZ.order[m],xR=gw[gr],xh=m>7;for(var _H=0;_H<xR.length;_H++){var pd=xR[_H],o=q.rY();
o.nB=pd.VG;o.opacity=Math.round(255*pd.dx);o.Hg=!xh;o.buffer=pd.Dl;o.rect=pd.ut;o.rect.offset(T.rect.x,T.rect.y);
o.fT(T.getName()+"'s "+xA.get(UZ.names[m]));nW.splice(q.k[0]+(xh?0:1),0,o);if(xh)xH++}}var g=new no("Styles to Layers",this);
g.data={V:M.lb,zJ:q.F.slice(0),GJ:nW,ls:q.k.slice(0),Wl:[q.k[0]+xH]};q.wV(g);this.we(g.data,q)}if(_==M.PQ){var _n=q.uu(),nW=q.F.slice(0),UD=new R(0,0,q.n,q.z);
for(var m=0;m<_n.length;m++){var _w=q.F[_n[m]],n$=_w.oF();_w.HC(!0);var _J=q.root.vf(_n[m]);if(_w.zu())continue;
if(_J==null)continue;var T=_w.clone();T.xxb(q);var bp=_J.pi(q,!0),_$=q.F;q.lD([T]);q.Y();q.RL();T.buffer=x.K(bp.c()*4);
x.iX(q.US(),UD,T.buffer,bp);T.rect=bp;T.opacity=255;T.add.iOpa=255;T.nB="norm";T.Y();T.J.jn=!0;q.lD(_$);
if(T.add.lmfx)delete T.add.lmfx;T.G=T.YM=null;nW.splice(_n[m],1,T);T.HC(n$);_w.HC(n$)}var g=new no([6,34],this);
g.data={V:M.lb,zJ:q.F.slice(0),GJ:nW,ls:q.k.slice(0),Wl:q.k.slice(0)};q.wV(g);this.we(g.data,q)}if(_==M.xph){var _n=q.uu(),nW=q.F.slice(0);
for(var m=0;m<_n.length;m++){var T=q.F[_n[m]],gL=T.add.TySh;if(gL==null)continue;var l=new __(gL.Bw,J._v),xM=x.j.Sy(pN.D$(l,gL));
for(var bE in xM){var U$=xM[bE],_S=T.clone();delete _S.add.TySh;_S.aA=_S.aA|1<<4;_S.add.SoCo=JSON.parse(JSON.stringify(UZ.ex[0]));
var gd=_S.add.SoCo.Clr.v;gd.Rd.v=parseInt(bE.slice(1,3),16);gd.Grn.v=parseInt(bE.slice(3,5),16);gd.Bl.v=parseInt(bE.slice(5,7),16);
var Ko=new M.zo;Ko.s=x.j.EZ(U$,!1);if(_S.add.vmsk!=null){_S.add.vmsk.xgj();Ko.concat(_S.add.vmsk)}_S.add.vmsk=Ko;
_S.add.vstk=JSON.parse(JSON.stringify(UZ.FF.default));_S.lN();_S.he(q);nW.splice(nW.indexOf(T),0,_S)}nW.splice(nW.indexOf(T),1)}var g=new no([6,40],this);
g.data={V:M.lb,zJ:q.F.slice(0),GJ:nW,ls:q.k.slice(0),Wl:q.k.slice(0)};q.wV(g);this.we(g.data,q)}if(_==M.xUN){var UX=q.k.length;
if(UX<2)return;if(!q.jX())return;var _S=q.F[q.k[0]].clone(),nW=[];for(var m=0;m<q.F.length;m++)if(q.k.indexOf(m)==-1)nW.push(q.F[m]);
nW.splice(q.k[0],0,_S);for(var m=1;m<UX;m++){var T=q.F[q.k[m]],bw=T.rect.clone();bw.Ii(1,1);var _F=x.K(bw.c()*4);
x.iX(T.buffer,T.rect,_F,bw);_S.extend(bw);var bR=x.K(bw.c()*4);x.iX(_S.buffer,_S.rect,bR,bw);var g=x.K(bw.c());
x.iJ(_F,g,3);x.round(g,200);x.qR(g,_F,3);x.t.TG("norm",_F,bw,bR,bw,bw,1);x.YB.sJ(bR,g,bw);x.iX(bR,bw,_S.buffer,_S.rect)}var g=new no([2,10],this);
g.data={V:M.lb,zJ:q.F.slice(0),GJ:nW,ls:q.k.slice(0),Wl:[q.k[0]]};q.wV(g);this.we(g.data,q)}if(_==M.PJ){var nW=q.F.slice(0),nT=q.k.slice(0);
for(var m=0;m<nW.length;m++){var T=nW[m],pY=T.add.vmsk;if(T.gC()&&pY&&T.add.vstk.strokeEnabled.v&&!T.add.vstk.fillEnabled.v){var _Y=pY.s,xG=0,gh=-1;
for(var _H=0;_H<_Y.length;_H++){if((_Y[_H].type==0||_Y[_H].type==3)&&_Y[_H].vR!=-1){xG++;if(_Y[_H].type==3&&gh==-1){_Y[_H].ap=_Y[_H].vR=1;
gh=_H}}}if(xG>1&&gh!=-1){console.log("separating an open path into a new layer");T=T.clone();pY=T.add.vmsk;
_Y=pY.s;var o=_Y[gh].length,gG=T.clone();gG.add.lyid=q.jT();pY.s=_Y.slice(0,2).concat(_Y.slice(gh,gh+o+1));
pY.k=[];T.he(q);T.Y();var gK=gG.add.vmsk.s;gG.add.vmsk.s=gK.slice(0,gh).concat(gK.slice(gh+o+1,gK.length));
gG.add.vmsk.k=[];gG.he(q);nW[m]=T;nW.splice(m+1,0,gG);for(var _H=0;_H<nT.length;_H++)if(nT[_H]>m)nT[_H]++;
var gE=nT.indexOf(m);if(gE!=-1){nT.splice(gE+1,0,m+1)}}}}if(nW.length!=q.F.length){var g=new no("Splitting open paths",this);
g.data={V:M.lb,zJ:q.F.slice(0),GJ:nW,ls:q.k.slice(0),Wl:nT};q.wV(g);this.we(g.data,q)}}if(_==M.xvo){this.wt({V:M.PJ},X,q,N,J);
var nI=q.k.slice(0),_$=q.F.slice(0),_n=q.uu();if(_n.length==0)return;q.xPA(_n);var g=new no([6,36,0],this);
g.data={V:M.lb,zJ:_$,GJ:q.F.slice(),ls:nI,Wl:q.k.slice(0)};q.wV(g);this.we(g.data,q)}if(_==M.nL){var xK=b.kM.Fb(b.id),xB=xK.clone();
xB.raw=b.data;xB.If="8BIM";xB.Rk="8BPB";xB.zK=xB.zK+".psd";xB.US(!1);xK.US(!1);var g=new no([6,36,1],this);
g.data={V:M.nL,id:b.id,$L:xK,$I:xB};b.kM.wV(g);this.we(g.data,b.kM)}if(_==M.xYl){var xo,Uv;if(b.zl){xo=b.kM;
Uv=b.zl}else{b.kM.FB();b.kM.jo();b.kM.Y();b.kM.RL();b.kM.US();xo=nr.PSD.Da(b.kM,0,0,[!0,!0]);Uv=b.kM.name}if(!(xo instanceof ArrayBuffer))throw"e";
xo=new Uint8Array(xo);var V=b.np!=null?b.np:q.k[q.k.length-1]+1,_I=q.$K(xo,Uv,0,0,!0),nW=q.F.slice(0);
nW.splice(V,0,_I);var g=new no([6,36,2],this);g.data={V:M.lb,zJ:q.F.slice(),GJ:nW,ls:q.k.slice(0),Wl:[nW.indexOf(_I)]};
q.wV(g);this.we(g.data,q)}if(_==M.xUk){var _c=[],px=[],bU=0;for(var m=0;m<q.k.length;m++){var ni=q.k[m],T=q.F[ni];
if(T.zu()&&_c.indexOf(ni)==-1){_c.push(ni);px.push(T.getName())}}if(_c.length!=2){_c=[];px=[];for(var m=0;
m<q.F.length;m++){var ni=m,T=q.F[ni];if(T.zu()&&_c.indexOf(ni)==-1){_c.push(ni);px.push(T.getName())}}}if(_c.length<2){alert("We need at least two folders of layers");
return}var xR=[];for(var pR=0;pR<_c.length;pR++){var A=q.root.vf(_c[pR]),nF=[[],[],0,pR];xR.push(nF);
if(A.children.length==0){alert("There is a folder \""+A.Q.getName()+"\" without any layers.");return}for(var m=0;
m<A.children.length;m++){var ni=A.children[m].index,T=A.children[m].Q,nV=T.getName(),bF=20;if(!nV.startsWith("_a_")){alert("Name of every frame should start with \"_a_\"");
return}var bu=nV.split(",");if(bu.length>1){var gN=parseInt(bu.pop());if(!isNaN(gN)&&gN!=0)bF=gN}nF[0].push(T);
nF[1].push(bF);nF[2]+=bF}}xR.sort(function(g,_F){return _F[2]-g[2]});var gD=xR[0],gO=gD[2];for(var K_=1;
K_<xR.length;K_++){var nF=xR[K_],g_=1,pn=nF[1].slice(0),bd=0;while((g_+1)*nF[2]<=gD[2]){g_++;pn=pn.concat(nF[1])}nF[1]=pn;
nF[2]*=g_;var ph=gD[2]/nF[2];for(var m=0;m<nF[1].length;m++){var _u=Math.floor(nF[1][m]*ph);nF[1][m]=_u;
bd+=_u}while(bd<gO){bd++;nF[1][nF[1].length-1]++}nF[2]=bd}var UV=[],pz=[],_u=[];for(var m=0;m<xR.length;
m++){UV.push(0);pz.push(0)}while(bU<gO){var b$=1e9,nL=-1;for(var m=0;m<xR.length;m++){var U_=xR[m][1],SA=UV[m];
if(SA!=U_.length&&pz[m]+U_[SA]<bU+b$){nL=m;b$=pz[m]+U_[SA]-bU}}pz[nL]+=xR[nL][1][UV[nL]];UV[nL]++;if(b$!=0){_u.push(b$);
bU+=b$}}for(var m=0;m<_u.length;m++){var S_=_u[m],ba=S_>>>1;if(S_<17){var ni=_u.length-1;if(m==0)_u[1]+=S_;
else if(m==_u.length-1)_u[ni-1]+=S_;else{_u[m-1]+=ba;_u[m+1]+=S_-ba}_u.splice(m,1);m--}}var bY=q.k.slice(0);
q.k=_c;var xp=q.uu();xp.sort(function(g,_F){return g-_F});var nW=[];for(var m=0;m<q.F.length;m++){if(xp.indexOf(m)==-1)nW.push(q.F[m])}xR.sort(function(g,_F){return g[3]-_F[3]});
function bs(U_,Sh){var m=0,Sr=0;while(Sr+U_[m]<=Sh){Sr+=U_[m];m++}return m}bU=0;nW.splice(xp[0],0,q.lJ());
for(var bv=0;bv<_u.length;bv++){var j=[],KC=new R;for(var m=0;m<xR.length;m++){var SA=bs(xR[m][1],bU)%xR[m][0].length,T=xR[m][0][SA];
j.push(T);KC=KC.Tg(T.rect)}var T=q.rY();T.rect=KC;T.buffer=x.K(KC.c()*4);x.iX(j[0].buffer,j[0].rect,T.buffer,KC);
for(var m=1;m<xR.length;m++){var pU=j[m];x.t.TG("norm",pU.buffer,pU.rect,T.buffer,KC,KC,1)}T.HC(bv==0);
T.fT("_a_frm"+bv+","+_u[bv]);nW.splice(xp[0]+1+bv,0,T);bU+=_u[bv]}var T=q.rY();T.fT(px.join(" + "));
T.nB="pass";T.add.lsct=_b.Uo;T.aA=24;nW.splice(xp[0]+1+_u.length,0,T);var g=new no([6,12,0],this);g.data={V:M.lb,zJ:q.F,GJ:nW,ls:bY,Wl:[xp[0]+1+_u.length]};
q.wV(g);this.we(g.data,q)}if(_==M.mj||_==M.nX||_==M.nZ){var _$=q.F.slice(0),nI=q.k.slice(0),bV=!0,_I,gu;
if(_==M.mj)q.k=[q.k[0],q.k[0]-1];if(_==M.nZ){q.k=[];for(var m=0;m<q.F.length;m++)if(q.F[m].oF())q.k.push(m)}var _n=q.uu();
_n.sort(function(g,_F){return g-_F});var bi=new R,UD=new R(0,0,q.n,q.z);for(var m=0;m<_n.length;m++){var ni=_n[m],T=q.F[ni];
bV=bV&&T.gC()&&T.add.vmsk!=null;bi=bi.Tg(q.root.vf(ni).pi(q,!0))}if(bV){_I=q.F[_n[0]].clone();var pY=_I.add.vmsk;
for(var m=1;m<_n.length;m++){var o=q.F[_n[m]],gK=M.zo.yR(o.add.vmsk.s);pY.s=pY.s.concat(gK.slice(2));
_I.add.vogk=_I.add.vogk.concat(JSON.parse(JSON.stringify(o.add.vogk)))}_I.add.vmsk.zY=!0;_I.he(q)}else if(UD.Rh(bi)){_I=q.rY();
_I.fT(q.F[_n[_n.length-1]].getName());_I.rect=bi;_I.buffer=x.K(bi.c()*4);var Kx=q.US(_n);x.iX(Kx,UD,_I.buffer,bi);
_I.Y()}else{q.xPA(_n,!0);_I=q.F[q.k[0]];q.F.splice(q.k[0],1);var bL=q.Fb(_I.add.SoLd.Idnt.v);q.add.lnk2.splice(q.add.lnk2.indexOf(bL),1);
delete _I.add.SoLd}var UP=N._(S.PU),bG=-1;if(b.nv&&b.nv.Dplc&&b.nv.Dplc.v)UP=!0;if(UP&&_==M.nZ&&q.F[nI[0]].My()&&q.F[nI[0]].rect.qa()){bG=nI[0];
_I.fT(q.F[bG].getName())}var nW=[];for(var m=0;m<q.F.length;m++)if(UP||_n.indexOf(m)==-1)if(m!=bG)nW.push(q.F[m]);
var bT=_n[_n.length-1],gt=bT==q.F.length-1?null:q.F[bT+1],pL=gt?nW.indexOf(gt):nW.length;nW.splice(pL,0,_I);
gu=[pL];var g=new no([6,12,0],this);g.data={V:M.lb,zJ:_$,GJ:nW,ls:nI,Wl:gu};q.wV(g);this.we(g.data,q)}if(_==M.Pd){var _S=q.rY();
_S.rect=new R(0,0,q.n,q.z);_S.buffer=x.K(_S.rect.c()*4);x.Ws(_S.buffer,4294967295);x.t.TG("norm",q.US(),_S.rect,_S.buffer,_S.rect,_S.rect,1);
_S.fT("Background");_S.add.lspf=1<<2;var g=new no([6,12,1],this);g.data={V:M.lb,zJ:q.F.slice(),GJ:[_S],ls:q.k.slice(0),Wl:[0]};
q.wV(g);this.we(g.data,q)}if(_==M.RY||_==M._i||_==M.RX||_==M._F||_==M.yy){var T=_==M.yy?q.F[q.k[0]].clone():q.rY(),gy=xA.get([0,3]),Kk=b.OU,KL=!1,_N,KQ;
if(_==M.RX)gy=xA.get([12,76,1]);if(_==M.yy){var _w=q.F[q.k[0]],Kr=_w.xb$(q,q.p);if(Kr==null){alert("Copied area is empty");
return}T.rect=Kr.rect,T.buffer=Kr.FU}if(_==M._F){T.rect=xu.Qi.xUh(b.k_,q);T.buffer=x.clone(b.k_.buffer)}if(_==M.RY){this.track({pn:"make",nv:{classID:"Mk",null:_U.YN("Lyr")}})}if(_==M._i){T.aA|=16;
var pg=b.nv.Usng.v,Kq=pg.Type.v,bZ=nY.Nh[Kq.classID];gy=xA.get(nY.names[bZ]);if(pg.Nm)Kk=pg.Nm.v;T.add[bZ]=nm.Z$(bZ);
for(var bc in Kq)T.add[bZ][bc]=JSON.parse(JSON.stringify(Kq[bc]));T.G=xu.Qi.xAA(q)}if(_==M.RX){T.aA|=16;
var xn=b.nv,pg=xn.Usng.v,KE=pg.Type.v,bn=pg.Shp;if(bn==null)T.G=xu.Qi.xAA(q);else{console.log(pg);T.add.vmsk=new M.zo;
T.add.vstk=JSON.parse(JSON.stringify(pg.strokeStyle?pg.strokeStyle.v:UZ.FF.default));T.add.vogk=[];if(bn){var Kh=x.P_.$G(bn);
if(Kh){T.add.vogk=[Kh];T.add.vmsk.s.push({type:0,vR:1,length:0});x.P_.ui(T.add.vogk,T.add.vmsk)}else{bn=bn.v;
var Sp=bn.classID;if(Sp=="Plgn"){var pI=bn.Cntr.v,xy=bn.corner.v;pI=new Ue(pI.Hrzn.v.val,pI.Vrtc.v.val);
xy=new Ue(xy.Hrzn.v.val,xy.Vrtc.v.val);T.add.vmsk.s=x.g.lQ.rt(pI.x,pI.y,Math.sqrt(xy.x*xy.x+xy.y*xy.y),Math.atan2(xy.y,xy.x),bn.sides.v,0)}else if(Sp=="customShape"){var Uk=x.P_.SY(bn),UU=Uk[2]-Uk[0],Ka=Uk[3]-Uk[1],KR=J.Pv,KF,Kp;
for(var m=0;m<KR.length;m++)if(KR[m].WC==bn.Nm.v)KF=KR[m];if(KF){Kp=M.zo.yR(KF.s);x.g.SC(Kp,new nQ(UU,0,0,Ka,Uk[0],Uk[1]))}else Kp=x.g.lQ.Rect(Uk[0],Uk[1],UU,Ka,0);
T.add.vmsk.s=Kp}T.lN()}}}var bz={solidColorLayer:0,gradientLayer:1,patternLayer:2}[KE.classID],p_=["SoCo","GdFl","PtFl"][bz];
T.add[p_]=JSON.parse(JSON.stringify(UZ.ex[bz]));xu.Qi.pC(KE,T.add[p_],bz);if(bn==null)gy=xA.get([6,48,0,bz]);
if(p_=="PtFl")q.Rs(nM.uY(T.add[p_].Ptrn.v,J.yV));T.he(q)}var UX=xu.Qi.xxa(q,gy+" ");T.fT(gy+" "+(UX+1));
if(Kk)T.fT(Kk);var gg=q.k.length==0?q.F.length-1:q.k[q.k.length-1],pW=q.F[gg];if(_==M.RX&&pW.My()&&pW.rect.qa()){KL=!0;
T.fT(pW.getName());_N=gg}else{_N=gg+1;if(pW.add.lsct==_b.iS)_N--}var nW=q.F.slice(0);nW.splice(_N,KL?1:0,T);
var pr=[5,2];if(_==M.RY)pr=[6,13];if(_==M._i)pr=[6,1];if(_==M.RX){pr=[6,48,1];var bn=b.nv.Usng.v.Shp;
if(bn){var KU={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[bn.v.classID];
if(KU)pr=KU}}if(_==M.yy){pr=[6,49]}if(_==M.yy||_==M.RX||_==M._F)if(q.p)KQ=[q.p,null];var g=new no(pr,this);
g.data={V:M.lb,zJ:q.F.slice(0),GJ:nW,ls:q.k.slice(0),Wl:[_N],_q:KQ};q.wV(g);this.we(g.data,q);if(_==M.RX&&bn==null&&bz!=0||_==M._i){var KH=new Q(K.E.T);
KH.data={V:K.a.WW,zE:nJ.OQ.cU};X.X(KH)}}if(_==M.Oy){var T=q.rY();T.fT(xA.get([0,4])+" "+q.F.length);
T.nB="pass";T.add.lsct=_b.iS;T.aA=24;var Kd=q.lJ(),gg=p,_N=gg+1,nW=q.F.slice(0);nW.splice(_N,0,Kd,T);
var g=new no([6,20],this);g.data={V:M.lb,zJ:q.F.slice(0),GJ:nW,ls:q.k.slice(0),Wl:[_N+1]};q.wV(g);this.we(g.data,q)}if(_==M.dO||_==M.VD){var bW=_==M.dO?b.source:q.k[0],_o,pk,Kt=q.k.indexOf(bW)!=-1,bP=N._(S.PU)|b.xWU,bx;
if(Kt)bx=q.uu();else bx=q.bm(bW);bx.sort(function(g,_F){return g-_F});if(_==M.dO){_o=b.target;pk=b.ON>.5}else if(b.target!=null){_o=b.target;
pk=!0;q.JL=!0}else{var Kb=b.qe;pk=Kb>1;if(Kb==0){_o=q.F.length-1}if(Kb==1){_o=bx[bx.length-1]+1;var o=q.bm(_o);
if(o.indexOf(bW)==-1)_o+=o.length-1}if(Kb==2){_o=bx[0]-1;var o=q.bm(_o);if(o.indexOf(bW)==-1)_o-=o.length-1}if(Kb==3){_o=0}if(_o<0||_o>q.F.length-1)return;
q.JL=!0}if(bx.indexOf(_o)!=-1)return;var KD=q.F[_o],nW=[];if(bP)nW=q.F.slice(0);else for(var m=0;m<q.F.length;
m++)if(bx.indexOf(m)==-1)nW.push(q.F[m]);var bk=nW.indexOf(KD);if(_==M.dO&&KD.zu()&&KD.add.lsct==_b.Uo&&b.ON>.8)bk-=q.bm(_o).length-1;
var bb=[],KA=bP?q.bD(Kt?null:bW):null;for(var m=0;m<bx.length;m++){var Kf=bk+(pk?0:1)+m,l=bP?KA[m]:q.F[bx[m]];
nW.splice(Kf,0,l);bb.push(Kf)}var g=new no(bP?[6,0]:[6,35],this);g.data={V:M.lb,zJ:q.F.slice(0),GJ:nW,ls:q.k.slice(0),Wl:bb};
q.wV(g);this.we(g.data,q);var xn={classID:"move",null:_U.YN("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:bk+(pk?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:bP}};
this.track({pn:"move",nv:xn})}if(_==M._Q){var T=q.rY(),Ks=xA.get([0,4])+" ";T.fT(Ks+(xu.Qi.xxa(q,Ks)+1));
T.nB="pass";if(b.OU)T.fT(b.OU);T.add.lsct=q.k.length==1?_b.iS:_b.Uo;T.aA=24;var Kd=q.lJ(),bx=q.uu();
if(bx.length==0)return;bx.sort(function(g,_F){return g-_F});var nW=[];for(var m=0;m<q.F.length;m++)if(bx.indexOf(m)==-1)nW.push(q.F[m]);
var gg=q.k[q.k.length-1]-bx.length;nW.splice(gg+1,0,Kd);for(var m=0;m<bx.length;m++)nW.splice(gg+2+m,0,q.F[bx[m]]);
nW.splice(gg+2+bx.length,0,T);var g=new no([6,9],this);g.data={V:M.lb,zJ:q.F.slice(0),GJ:nW,ls:q.k.slice(0),Wl:[nW.indexOf(T)]};
q.wV(g);this.we(g.data,q);var O={pn:"make",Ev:!0};O.nv={classID:"Mk",null:_U.YN("layerSection"),From:_U.YN("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:T.getName()}}}};
this.track(O)}if(_==M.xKF){if(q.k.length!=1)return;var V=q.k[0],Ky=N._(S.PU);if(q.F[V].DL()==null){_=M._a;
b.Ml=q.p?!Ky?"RvlS":"HdSl":!Ky?"RvlA":"HdAl"}else _=M.kb}if(_==M._a){if(q.k.length!=1)return;var V=q.k[0],T=q.F[V],Um=T.DL();
if(Um==null||b.xWn){var g=new no([6,21],this),bg=new M.ah,xL=b.Ml,KM=xL=="RvlS"||xL=="HdSl";if(xL=="RvlS"||xL=="HdAl"||xL=="Trns")bg.color=0;
if(KM){bg.channel=x.clone(q.p.channel);bg.rect=q.p.rect.clone();if(xL=="HdSl")x.Kn(bg.channel)}if(xL=="Trns"){bg.rect=T.rect.clone();
bg.channel=x.K(T.rect.c());x.iJ(T.buffer,bg.channel,3)}g.data={V:_,Q:V,G:bg,OO:Um,_q:KM?[q.p,null]:null};
q.wV(g);this.we(g.data,q);q.F[V].ZZ=1;this.track({pn:"make",nv:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:xL}}}})}}else if(_==M.OF){var f=q.F[b.src],nx=q.F[b.XL];
if(nx.DL())return;var g=new no([6,21],this),bg=f.DL();if(b.YA){g.data={V:M._a,Q:b.XL,G:bg.clone()}}else{g.data={V:_,src:b.src,XL:b.XL,G:bg}}q.wV(g);
this.we(g.data,q)}if(_==M.dg){if(q.k.length!=1)return;var V=p;if(q.F[V].DL()!=null){var g=new no([6,22],this);
g.data={V:_,Q:V,G:q.F[V].DL()};q.wV(g);this.we(g.data,q)}}if(_==M.Pu){var _$=q.F.slice(0),_S=z.clone(),K$=_S.DL();
x.KI(K$.$O(_S.rect),_S.rect,_S.buffer,_S.rect);xu.Qi.Rd(q,_S);q.F[q.k[0]]=_S;var g=new no([5,8],this);
g.data={V:M.lb,zJ:_$,GJ:q.F.slice(),ls:q.k.slice(0),Wl:q.k.slice(0)};q.wV(g);this.we(g.data,q)}if(_==M.jK){if(q.k.length!=1)return;
var V=q.k[0];if(q.F[V]._m(q).G==null){var g=new no([6,45],this);g.data={V:_,Q:V,G:new M.ah};q.wV(g);
this.we(g.data,q)}}if(_==M.jH){if(q.k.length!=1)return;var V=q.k[0];if(q.F[V]._m(q).G!=null){var g=new no([6,46],this);
g.data={V:_,Q:V,G:q.F[V]._m(q).G};q.wV(g);this.we(g.data,q)}}if(_==M.PY){if(b.Q==null&&q.k.length!=1)return;
if(q.F[p].ot()){var g=new no([6,47],this),a=JSON.stringify(q.F[p].add.SoLd),nb=JSON.parse(a);delete nb.filterFX;
g.data={V:M._V,nU:[{Xm:p,W$:[a,JSON.stringify(nb)],sX:[q.F[p]._m(q),null]}]};q.wV(g);this.we(g.data,q)}}if(_==M.kb){if(q.k.length!=1)return;
if(z.add.vmsk==null){var g=new no([6,23],this),bg=new M.zo;bg.s[1].all=b.xF_?0:1;g.data={V:_,Q:p,Oj:!0,G:bg,P_:"[]",FF:null};
if(z.gC()){g.data.FF=JSON.stringify(UZ.FF.default)}q.wV(g);this.we(g.data,q)}}if(_==M.Od){var f=q.F[b.src],nx=q.F[b.XL];
if(nx.add.vmsk)return;var g=new no([6,23],this),pY=f.add.vmsk;g.data={Q:b.XL,Oj:f.Ga,G:pY.clone(),P_:JSON.stringify(f.add.vogk),FF:f.add.vstk?JSON.stringify(f.add.vstk):null};
if(b.YA){g.data.V=M.kb}else{g.data.V=_;g.data.src=b.src;g.data.XL=b.XL}q.wV(g);this.we(g.data,q)}if(_==M.dp){if(q.k.length!=1)return;
var T=q.F[p],pY=T.add.vmsk;if(pY!=null){var g=new no([6,24],this);g.data={V:_,Q:p,Oj:T.Ga,G:pY,P_:JSON.stringify(T.add.vogk),FF:T.add.vstk?JSON.stringify(T.add.vstk):null};
q.wV(g);this.we(g.data,q)}}if(_==M.jb){var g=new no("Metadata",this);g.data={V:_,iq:JSON.stringify(q.Te),LK:JSON.stringify(b.LK)};
q.wV(g);this.we(g.data,q)}if(_==M._O){var xO=b.XL?b.XL:q,Kg=xO.name,Kk=b.A+".psd";if(Kg==Kk)return;var g=new no([6,37],this);
g.data={V:_,OD:Kg,OU:Kk};if(b.xW_!=!0)xO.wV(g);this.we(g.data,xO)}if(_==M.dD){var Kg=z.getName(),Kk=b.name.substring(0,255);
if(Kg==Kk)return;var g=new no([6,37],this);g.data={V:_,Q:p,OD:Kg,OU:Kk,xhe:z.add.lnsr,xEr:null};q.wV(g);
this.we(g.data,q);this.track(_U.wI("Nm",{t:"TEXT",v:Kk}))}if(_==M.dy){var Kv=q.uu(),pb=[],KN=[];for(var m=0;
m<Kv.length;m++){pb.push(q.F[Kv[m]].add.lclr);KN.push(b.xEm)}var g=new no([6,38],this);g.data={V:_,F:Kv,xWi:pb,xWv:KN};
q.wV(g);this.we(g.data,q)}if(_==M.jM){var g=q.history[q.W_];if(g!=null&&g.B==this&&g.data.V==_&&g.data.Q==b.OG&&g.data.wS.zc==b.Hn.zc)g.data.wS=b.Hn;
else{g=new no("Mask Density / Feather",this);g.data={V:_,Q:b.OG,Yg:q.F[b.OG].xrN(b.Hn.zc),wS:b.Hn};q.wV(g)}this.we(g.data,q)}if(_==M.dZ){var Sg=JSON.stringify(b.A),br=JSON.parse(Sg),g=q.history[q.W_];
if(g!=null&&g.B==this&&g.data.V==_&&g.data.dM==b.dM&&g.data.WL.join(",")==b.WL.join(",")){for(var m=0;
m<b.WL.length;m++)g.data.Oo[m]=br;if(g.data.nv&&br.Rk!=0)xu.Qi.pC(br.G$,g.data.nv.T.v,br.Rk-1)}else{g=new no([11,6],this);
g.data={V:_,WL:b.WL,dM:b.dM,xw$:[],Oo:[]};var SK=!1;for(var m=0;m<b.WL.length;m++){var ni=b.WL[m],T=q.F[ni],bQ=b.dM?c.YC.oC(q,ni):JSON.parse(JSON.stringify(T.add.vstk));
g.data.xw$.push(bQ);g.data.Oo.push(br);if(JSON.stringify(bQ)!=Sg)SK=!0}if(!SK)return;q.wV(g);if(b.dM&&br.Rk>0){var xn=g.data.nv={classID:"setd",null:_U.YN("contentLayer",!0),T:{t:"Objc",v:{}}},p_=["SoCo","GdFl","PtFl"][br.Rk-1];
xu.Qi.pC(br.G$,xn.T.v,br.Rk-1);this.track({pn:"set",nv:xn})}}if(b.dM&&br.Rk==3)q.Rs(nM.uY(br.G$.Ptrn.v,J.yV));
if(!b.dM){var KJ=br.strokeStyleContent.v;if(KJ.classID==UZ.FF.DC[2])q.Rs(nM.uY(KJ.Ptrn.v,J.yV))}this.we(g.data,q)}};
xu.Qi.pC=function(b,X,q){var N=[UZ.tt,UZ.le,UZ.Wd][q];if(X.classID==null)X.classID=["solidColorLayer","gradientLayer","patternLayer"][q];
for(var J=0;J<N.length;J++)if(b[N[J]])X[N[J]]=JSON.parse(JSON.stringify(b[N[J]]))};xu.Qi.xAA=function(b){var X=new M.ah;
if(b.p!=null){X.color=0;X.channel=x.clone(b.p.channel);X.rect=b.p.rect.clone()}return X};xu.Qi.xgw=function(b,X,q,N){var J=N.n/q.n,_=N.z/q.z,p=N.n/2,z=N.z/2,g=x.j.fe(N).r;
for(var W=0;W<b.F.length;W++){var o=b.F[W],y=o.add.SoLd;if(y==null||y.Idnt.v!=X)continue;if(J!=1||_!=1){var D=c.C.Nk(y.nonAffineTransform),m=x.GI.IG(D,N),k=new nQ;
k.translate(-p,-z);k.scale(J,_);k.translate(p,z);var O=x.GI.gt(m,x.GI.SW(k)),L=g.slice(0);x.GI.apply(O,L);
y.Trnf=c.C.Rz(L);y.nonAffineTransform=c.C.Rz(L)}o.ns(b)}b.Y()};xu.Qi.xlt=function(b,X,q){X.color=255-X.color;
x.Kn(X.channel);X.zY=!0;b.he(q);q.Y()};xu.Qi.prototype.it=function(b,X){var q=b.V,N=X.F[b.Q];if(q==M.nL){X.add.lnk2.splice(X.add.lnk2.indexOf(b.$I),1,b.$L);
xu.Qi.xgw(X,b.id,b.$I.aS[1],b.$L.aS[1])}if(q==M.km){var J=JSON.parse(b.WL);for(var _=0;_<J.length;_++)X.F[J[_]].nB=b.tl[_];
X.Y()}if(q==M.VK){var J=JSON.parse(b.WL);for(var _=0;_<J.length;_++)X.F[J[_]].opacity=b.tl[_];X.Y()}if(q==M.dd){N.add.lspf=b.tl}if(q==M.Om){var p=b.$_,z=b.xrC;
delete N.add[p[0]];if(z[0]!="----")N.add[z[0]]=z[1]}if(q==M._b){N.add.iOpa=b.tl;X.Y()}if(q==M.RQ){for(var _=0;
_<b.WL.length;_++){var g=X.F[b.WL[_]];g.HC(!g.oF())}X.Y()}if(q==M.mZ){var W=N.DL();W.isEnabled=!W.isEnabled;
N.he(X);X.Y()}if(q==M._A){var W=N._m(X).G;W.isEnabled=!W.isEnabled;N.Y();X.Y()}if(q==M.Qy){var W=N.add.vmsk;
W.isEnabled=!W.isEnabled;if(!W.isEnabled){if(N.YM){N.G=N.YM;N.YM=null}else N.G=null}else if(N.G){N.YM=N.G;
N.G=null}N.he(X);X.Y()}if(q==M.yJ){N.Hg=!N.Hg;X.Y()}if(q==M._r){N.add.lmfx.masterFXSwitch.v=!N.add.lmfx.masterFXSwitch.v;
N.J.jn=!0;X.Y()}if(q==M._j){N.add.SoLd.filterFX.v.enab.v=!N.add.SoLd.filterFX.v.enab.v;N.$i(X);X.Y()}if(q==M._w){var o=b.index,y=N.add.lmfx[UZ.PS[o[0]]].v[o[1]].v;
y.enab.v=!y.enab.v;N.J.jn=!0;X.Y()}if(q==M.j_){var D=X.F[b.xBV],m=X.F[b.xqS],k=b.xlB,O=b.xlY;if(k=="")delete D.add.lmfx;
else D.add.lmfx=JSON.parse(k);if(O=="")delete m.add.lmfx;else m.add.lmfx=JSON.parse(O);D.J.jn=!0;m.J.jn=!0;
X.Y()}if(q==M._G){var L=N.add.SoLd.filterFX.v.filterFXList.v[b.index].v;L.enab.v=!L.enab.v;N.$i(X);X.Y()}if(q==M.xvF){N.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(b.xHg));
N.$i(X);X.Y()}if(q==M._p){var W=N.DL();W.ov=!W.ov}if(q==M.OI){var W=N.add.vmsk;W.ov=!W.ov}if(q==M.OJ){var I=b.$a;
for(var _=0;_<I.length;_+=2){var H=I[_],g=H>=0?X.F[H]:X.Dx[-1-H];g.add.vogk=JSON.parse(I[_+1]);x.P_.ui(g.add.vogk,g.add.vmsk);
if(H>=0)g.he(X)}X.Y()}if(q==M.OX){N.add.artb=JSON.parse(b.xls);X.Y()}if(q==M.kX){X.p=b.za;X.Ff=b.$a.slice(0);
X.nI=b.Ns.slice(0);X.RZ=X.fY=!0}if(q==M.QG){var Y=b.xWA;for(var _=0;_<Y.length;_++)X.F[_].zZ=Y[_]}if(q==M.lb){if(b.ls)X.k=b.ls;
if(b._q)X.p=b._q[0];X.GN=null;X.Y();X.lD(b.zJ)}if(q==M._a){xu.Qi.Rd(X,N);if(b.OO)xu.Qi.pv(X,N,b.OO);
if(b._q){var n=b._q[0];if(n==null)delete X.p;else X.p=n}}if(q==M.OF){xu.Qi.Rd(X,X.F[b.XL]);xu.Qi.pv(X,X.F[b.src],b.G)}if(q==M.dg){xu.Qi.pv(X,N,b.G)}if(q==M.jK){N._m(X).G=null;
N.Y();X.Y()}if(q==M.jH){N._m(X).G=b.G;N.Y();X.Y()}if(q==M._V){xu.Qi.xvA(X,b.nU,0)}if(q==M.kb){xu.Qi.XP(X,N,!0)}if(q==M.Od){xu.Qi.XP(X,X.F[b.XL],b.G.isEnabled);
xu.Qi.XC(X,X.F[b.src],b)}if(q==M.dp){xu.Qi.XC(X,N,b)}if(q==M.jb){X.Te=JSON.parse(b.iq)}if(q==M._O){X.name=b.OD}if(q==M.dD){N.fT(b.OD);
if(b.xhe)N.add.lnsr=b.xhe;else delete N.add.lnsr}if(q==M.dy){for(var _=0;_<b.F.length;_++)X.F[b.F[_]].add.lclr=b.xWi[_]}if(q==M.dZ){var w=b.xw$;
for(var _=0;_<b.WL.length;_++){var g=X.F[b.WL[_]],t=w[_];if(!b.dM)g.add.vstk=JSON.parse(JSON.stringify(t));
else c.YC.cf(g,JSON.parse(JSON.stringify(t)));g.Nj(X)}X.Y()}if(q==M.jM){N.xaD(b.Yg);N.he(X);X.Y()}X.Ri=!0};
xu.Qi.prototype.we=function(b,X){var q=b.V,N=X.F[b.Q];if(q==M.nL){X.add.lnk2.splice(X.add.lnk2.indexOf(b.$L),1,b.$I);
xu.Qi.xgw(X,b.id,b.$L.aS[1],b.$I.aS[1])}if(q==M.km){var J=JSON.parse(b.WL);for(var _=0;_<J.length;_++)X.F[J[_]].nB=b.wS;
X.Y()}if(q==M.VK){var J=JSON.parse(b.WL);for(var _=0;_<J.length;_++)X.F[J[_]].opacity=b.wS;X.Y()}if(q==M.dd){N.add.lspf=b.wS}if(q==M.Om){var p=b.xrC,z=b.$_;
delete N.add[p[0]];if(z[0]!="----")N.add[z[0]]=z[1]}if(q==M._b){N.add.iOpa=b.wS;X.Y()}if(q==M.RQ){for(var _=0;
_<b.WL.length;_++){var g=X.F[b.WL[_]];g.HC(!g.oF())}X.Y()}if(q==M.mZ){var W=N.DL();W.isEnabled=!W.isEnabled;
N.he(X);X.Y()}if(q==M._A){var W=N._m(X).G;W.isEnabled=!W.isEnabled;N.Y();X.Y()}if(q==M.Qy){var W=N.add.vmsk;
W.isEnabled=!W.isEnabled;if(!W.isEnabled){if(N.YM){N.G=N.YM;N.YM=null}else N.G=null}else if(N.G){N.YM=N.G;
N.G=null}N.he(X);X.Y()}if(q==M.yJ){N.Hg=!N.Hg;X.Y()}if(q==M._r){N.add.lmfx.masterFXSwitch.v=!N.add.lmfx.masterFXSwitch.v;
N.J.jn=!0;X.Y()}if(q==M._j){N.add.SoLd.filterFX.v.enab.v=!N.add.SoLd.filterFX.v.enab.v;N.$i(X);X.Y()}if(q==M._w){var o=b.index,y=N.add.lmfx[UZ.PS[o[0]]].v[o[1]].v;
y.enab.v=!y.enab.v;N.J.jn=!0;X.Y()}if(q==M.j_){var D=X.F[b.xBV],m=X.F[b.xqS],k=b.xlo,O=b.xlc;if(k=="")delete D.add.lmfx;
else D.add.lmfx=JSON.parse(k);if(O=="")delete m.add.lmfx;else m.add.lmfx=JSON.parse(O);D.J.jn=!0;m.J.jn=!0;
X.Y()}if(q==M._G){var L=N.add.SoLd.filterFX.v.filterFXList.v[b.index].v;L.enab.v=!L.enab.v;N.$i(X);X.Y()}if(q==M.xvF){N.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(b.xHp));
N.$i(X);X.Y()}if(q==M._p){var W=N.DL();W.ov=!W.ov}if(q==M.OI){var W=N.add.vmsk;W.ov=!W.ov}if(q==M.OJ){var I=b.dE;
for(var _=0;_<I.length;_+=2){var H=I[_],g=H>=0?X.F[H]:X.Dx[-1-H];g.add.vogk=JSON.parse(I[_+1]);x.P_.ui(g.add.vogk,g.add.vmsk);
if(H>=0)g.he(X)}X.Y()}if(q==M.OX){N.add.artb=JSON.parse(b.PG);X.Y()}if(q==M.kX){X.p=b.Tk;X.Ff=b.dE.slice(0);
X.nI=b.N$.slice(0);X.RZ=X.fY=!0}if(q==M.QG){var Y=b.xWg;for(var _=0;_<Y.length;_++)X.F[_].zZ=Y[_]}if(q==M.lb){var n=b.GJ,w=0,t;
for(var _=0;_<n.length;_++){var g=n[_],j=g.add.lsct;if(j==_b.Rv)w++;else if(j==_b.iS||j==_b.Uo)w--;if(g.add.artb&&w!=0)t="Artboards can not be inside folders."}if(t){X.history.pop();
X.W_--;alert(t);return}if(b.Wl)X.k=b.Wl;if(b._q)X.p=b._q[1];X.GN=null;X.Y();X.lD(b.GJ)}if(q==M._a){if(b.OO)xu.Qi.Rd(X,N);
xu.Qi.pv(X,N,b.G);if(b._q){var E=b._q[1];if(E==null)delete X.p;else X.p=E}}if(q==M.OF){xu.Qi.Rd(X,X.F[b.src]);
xu.Qi.pv(X,X.F[b.XL],b.G)}if(q==M.dg){xu.Qi.Rd(X,N)}if(q==M.jK){N._m(X).G=b.G;N.ZZ=0;N.Y();X.Y()}if(q==M.jH){N._m(X).G=null;
N.ZZ=0;N.Y();X.Y()}if(q==M._V){xu.Qi.xvA(X,b.nU,1)}if(q==M.kb){xu.Qi.XC(X,N,b)}if(q==M.Od){xu.Qi.XP(X,X.F[b.src],b.G.isEnabled);
xu.Qi.XC(X,X.F[b.XL],b)}if(q==M.dp){xu.Qi.XP(X,N,b.G.isEnabled)}if(q==M.jb){X.Te=JSON.parse(b.LK)}if(q==M._O){X.name=b.OU}if(q==M.dD){N.fT(b.OU);
if(b.xEr)N.add.lnsr=b.xEr;else delete N.add.lnsr}if(q==M.dy){for(var _=0;_<b.F.length;_++)X.F[b.F[_]].add.lclr=b.xWv[_]}if(q==M.dZ){var h=b.Oo;
for(var _=0;_<b.WL.length;_++){var g=X.F[b.WL[_]],u=h[_];if(!b.dM)g.add.vstk=JSON.parse(JSON.stringify(u));
else c.YC.cf(g,JSON.parse(JSON.stringify(u)));g.Nj(X)}X.Y()}if(q==M.jM){N.xaD(b.wS);N.he(X);X.Y()}X.Ri=!0};
xu.Qi.xxa=function(b,X){var q=0;for(var N=0;N<b.F.length;N++){var J=b.F[N].getName();if(J.startsWith(X)){var _=J.slice(X.length).trim(),p=parseInt(_);
if(!isNaN(p)&&p+""==_)q=p}}return q};xu.Qi.xvA=function(b,X,q){for(var N=0;N<X.length;N++){var J=X[N],_=b.F[J.Xm];
if(J.W$){_.add.SoLd=JSON.parse(J.W$[q])}if(J.sX){if(J.sX[1-q]!=null)b.Mt(J.sX[1-q]);if(J.sX[q]!=null)b.$p(J.sX[q]);
else _.ZZ=0}_.ns(b)}};xu.Qi.xUh=function(b,X){var q=b.DG,N=b.rect.clone();if(q!=null&&(q.x!=X.n||q.y!=X.z)){N.x=Math.floor((X.n-N.n)/2);
N.y=Math.floor((X.z-N.z)/2)}return N};xu.Qi.Rd=function(b,X){if(X.YM)X.YM=null;else X.G=null;X.he(b);
b.Y();X.ZZ=0};xu.Qi.pv=function(b,X,q){if(X.G)X.YM=q;else X.G=q;X.he(b);b.Y()};xu.Qi.XP=function(b,X,q){if(X.YM&&q){X.G=X.YM;
X.YM=null}else if(X.G&&q){X.G=null}delete X.add.vogk;delete X.add.vstk;delete X.add.vmsk;X.he(b);X.Ga=!1;
b.Y()};xu.Qi.XC=function(b,X,q){X.add.vogk=JSON.parse(q.P_);if(q.FF)X.add.vstk=JSON.parse(q.FF);else delete X.add.vstk;
X.add.vmsk=q.G.clone();if(X.G&&X.add.vmsk.isEnabled)X.YM=X.G;X.he(b);X.Ga=q.Oj;b.Y()};xu.vi=function(){xu.CI.call(this,c.CO);
this.xF=null;this.lY=null;this._J=null;this.IN=[];this.$t=null};xu.vi.prototype=new xu.CI;xu.vi.prototype.wt=function(b,X,q,N,J){var _=q.F[b.Q],p=b.aP,g=null;
if(this.xF==null){this._J=xu.vi.m$(q,_);this.xF=JSON.stringify(this._J);if(_.add.lmfx)this.lY=JSON.stringify(_.add.lmfx)}if(_.add.lmfx==null){_.add.lmfx=JSON.parse(UZ.default);
for(var z=0;z<UZ.order.length;z++)_.add.lmfx[UZ.PS[z]]={t:"VlLs",v:[]}}if(b.V=="changeprop"){if(p!=0){var W=this.IN[p[0]];
if(W==null)W=UZ.IN[p[0]];W=JSON.parse(W);var o=_.add.lmfx[UZ.PS[p[0]]].v;if(o[p[1]]==null)o[p[1]]={t:"Objc",v:W};
g=o[p[1]].v;for(var y in W)if(g[y]==null)g[y]=W[y]}if(b.V=="changeprop"){if(p==0){this._J[b.Kv].v=b.A;
xu.vi.pt(q,_,this._J)}else if(b.Kv=="lagl"){if(g.uglg&&g.uglg.v){q.bw(b.A.val);this._J.xal=q.Fx()}else g[b.Kv].v=b.A}else if(b.Kv=="Lald"){if(g.uglg.v){q.jN(b.A.val);
this._J.xMp=q.bl()}else g[b.Kv].v=b.A}else if((p[0]==3||p[0]==8)&&(b.Kv=="Clr"||b.Kv=="Grad")){if(b.Kv=="Clr"){g.Clr={t:"Objc",v:b.A};
delete g.Grad}if(b.Kv=="Grad"){g.Grad={t:"Objc",v:b.A};delete g.Clr}}else{g[b.Kv].v=b.A}if(p!=0)this.IN[p[0]]=JSON.stringify(g)}if(p!=0)if(g.Ptrn)q.Rs(nM.uY(g.Ptrn.v,J.yV))}else if(b.V=="setstl"){var D=b.A.Lefx;
if(D)nM.xCs(D,q,J.yV);nM.xAW(b.A,_);this._J=xu.vi.m$(q,_)}else if(b.V=="st_dupsingle"){var m=_.add.lmfx[UZ.PS[b.UI[0]]].v;
if(m[b.UI[1]]==null)return;var k=JSON.parse(JSON.stringify(m[b.UI[1]]));m.splice(b.UI[1],0,k)}else if(b.V=="st_movsingle"){var O=b.UI[1],m=_.add.lmfx[UZ.PS[b.UI[0]]].v;
if(m[b.UI[1]]==null)return;var L=Math.max(0,Math.min(m.length-1,O+b.xin)),I=m[L];m[L]=m[O];m[O]=I}else if(b.V=="cancel"){if(this.lY==null)delete _.add.lmfx;
else _.add.lmfx=JSON.parse(this.lY);xu.vi.pt(q,_,JSON.parse(this.xF));this.xF=null;this.lY=null}else if(b.V=="confirm"){var H=new no([11,6],this);
H.data={F:[b.Q],Oc:[this.lY],Of:[JSON.stringify(_.add.lmfx)],Os:[this.xF],O$:[JSON.stringify(this._J)]};
q.wV(H);this.xF=null;this.lY=null}else if(b.V=="st_copy"){this.$t=[this.xF,this.lY];this.xF=null;this.lY=null}else if(b.V=="st_paste"||b.V=="st_clear"){if(b.V=="st_paste"&&this.$t==null)return;
var Y=q.k.indexOf(b.Q)==-1?[b.Q]:q.k.slice(0),n=[],w=[],j=[],E=[];for(var z=0;z<Y.length;z++){var _=q.F[Y[z]],h=xu.vi.m$(q,_);
n.push(_.add.lmfx?JSON.stringify(_.add.lmfx):null);j.push(JSON.stringify(h));if(b.V=="st_paste"){w.push(this.$t[1]);
E.push(this.$t[0])}else{w.push(null);h.lrMd.v=0;h.Opct.v.val=100;h.iOpa.v.val=100;h.blIf={v:[]};for(var u=0;
u<10;u++)h.blIf.v.push(0,0,255,255);E.push(JSON.stringify(h))}}var H=new no([11,6],this);H.data={F:Y,Oc:n,Of:w,Os:j,O$:E};
this.we(H.data,q);q.wV(H);this.xF=null;this.lY=null}else{var Z=this._J,A=null;if(b.V=="st_delsingle"){A=JSON.parse(this.lY);
A[UZ.PS[b.UI[0]]].v.splice(b.UI[1],1);A=JSON.stringify(A)}if(A==null)delete _.add.lmfx;else _.add.lmfx=JSON.parse(A);
if(Z!=null)xu.vi.pt(q,_,Z);var H=new no([11,6],this);H.data={F:[b.Q],Oc:[this.lY],Of:[A],Os:[this.xF],O$:[JSON.stringify(Z)]};
q.wV(H);this.xF=null;this.lY=null}_.J.jn=!0;q.Y()};xu.vi.m$=function(b,X){if(X.add.iOpa==null)X.add.iOpa=255;
var q=X.zu()?["pass"].concat(nD.YO):nD.YO;return{lrMd:{v:q.indexOf(X.nB)},Opct:{v:{type:"#Prc",val:Math.round(X.opacity*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(X.add.iOpa*100/255)},t:"UntF"},blIf:{v:X.fA.slice(0)},xal:b.Fx(),xMp:b.bl(),zu:X.zu()}};
xu.vi.pt=function(b,X,q){var N=X.zu()?["pass"].concat(nD.YO):nD.YO;X.nB=N[q.lrMd.v];X.opacity=Math.round(q.Opct.v.val*255/100);
X.add.iOpa=Math.round(q.iOpa.v.val*255/100);X.fA=q.blIf.v.slice(0);b.bw(q.xal);b.jN(q.xMp)};xu.vi.prototype.it=function(b,X){for(var q=0;
q<b.F.length;q++){var N=X.F[b.F[q]],J=b.Oc[q];if(J==null)delete N.add.lmfx;else N.add.lmfx=JSON.parse(J);
xu.vi.pt(X,N,JSON.parse(b.Os[q]));N.J.jn=!0}X.Y()};xu.vi.prototype.we=function(b,X){for(var q=0;q<b.F.length;
q++){var N=X.F[b.F[q]],J=b.Of[q];if(J==null)delete N.add.lmfx;else N.add.lmfx=JSON.parse(J);xu.vi.pt(X,N,JSON.parse(b.O$[q]));
N.J.jn=!0}X.Y()};xu.iI=function(){xu.CI.call(this,c.Jr)};xu.iI.prototype=new xu.CI;xu.iI.prototype.wt=function(b,X,q,N){var J=JSON.parse(JSON.stringify(q.vO)),_=JSON.parse(JSON.stringify(q.vO)),p=null,z=null,g=null,W=-1,o=!1;
if(b.V=="delLC"){var y=xu.iI.Xl(q.vO,b.aP),D=q.vO.lastAppliedComp?q.vO.lastAppliedComp.v:0;_.list.v.splice(y,1);
if(D==b.aP)delete _.lastAppliedComp;p="Delete Layer Comp"}if(b.V=="editLC"){var y=xu.iI.Xl(q.vO,b.aP),m=_.list.v[y].v;
if(b.OU!=null)m.Nm.v=b.OU;if(b.xid!=null){var k=b.xid,O=m.capturedInfo.v,L=O&(1<<k)-1;O=O>>k;if((O&1)==1)O--;
else O++;m.capturedInfo.v=(O<<k)+L}p="Layer Comp properties"}if(b.V=="setLC"){xu.iI.XQ(q);if(b.aP==0)delete _.lastAppliedComp;
else _.lastAppliedComp={t:"long",v:b.aP};p="Switch Layer Comp";o=!0}if(b.V=="updLC"){xu.iI.XQ(q);z=xu.iI.xdO(q,b.aP);
g=xu.iI.E$(q,b.aP);_.lastAppliedComp={t:"long",v:b.aP};p="Update Layer Comp";W=b.aP;o=!0}if(b.V=="addLC"){xu.iI.XQ(q);
var I=1;for(var H=0;H<_.list.v.length;H++)I=Math.max(I,_.list.v[H].v.compID.v)+1;I+=Math.floor(Math.random()*1e4);
var Y={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(_.list.v.length+1)},compID:{t:"long",v:I},capturedInfo:{t:"long",v:7}}};
_.list.v.push(Y);_.lastAppliedComp={t:"long",v:I};p="New Layer Comp";var n=xu.iI.E$(q,I);xu.iI.Xu(q,n,I)}var w=new no(p,this);
w.data={xWR:J,xWW:_,xCw:z,xvW:g,aP:W,SL:o};this.we(w.data,q);q.wV(w)};xu.iI.prototype.we=function(b,X){X.vO=b.xWW;
X.fY=!0;if(b.xvW)xu.iI.Xu(X,b.xvW,b.aP);if(b.SL){var q=X.vO.lastAppliedComp?X.vO.lastAppliedComp.v:0,N=xu.iI.Xl(X.vO,q),J=N==-1?null:X.vO.list.v[N].v,_=J?J.capturedInfo.v:7;
xu.iI.XW(X,q,_);X.Y()}};xu.iI.prototype.it=function(b,X){X.vO=b.xWR;X.fY=!0;if(b.xCw)xu.iI.Xu(X,b.xCw,b.aP);
if(b.SL){var q=X.vO.lastAppliedComp?X.vO.lastAppliedComp.v:0,N=xu.iI.Xl(X.vO,q),J=N==-1?null:X.vO.list.v[N].v,_=J?J.capturedInfo.v:7;
xu.iI.XW(X,q,_);X.Y()}};xu.iI.XQ=function(b){if(b.vO.lastAppliedComp!=null||!b.OZ)return;var X=xu.iI.E$(b,0);
xu.iI.Xu(b,X,0);b.OZ=!1};xu.iI.Xd=function(b,X,q){b.v.Hrzn.v+=X;b.v.Vrtc.v+=q};xu.iI.Xl=function(b,X){var q=b.list.v;
for(var N=0;N<q.length;N++)if(q[N].v.compID.v==X)return N;return-1};xu.iI.xdN=function(b){var X=b.layerSettings.v,J=null;
if(X.length==0)return;var q="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),N=X[0].v;
if(N.enab==null)N.enab={t:"bool",v:!0};if(N.Ofst==null)N.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var _=0;_<X.length;_++){var p=X[_].v;if(J==null)J=JSON.parse(JSON.stringify(p));else for(var z=0;
z<q.length;z++){var g=q[z];if(p[g])J[g]=JSON.parse(JSON.stringify(p[g]))}X[_].v=JSON.parse(JSON.stringify(J))}};
xu.iI.xx_=function(b,X){var q=b.add.shmd.cmls,N=q.layerSettings.v;for(var J=0;J<N.length;J++){var _=N[J].v,p=_.compList.v[0].v;
if(p==X)return J}return-1};xu.iI.xa_=function(b,X){var q=xu.iI.xx_(b,X);return q==-1?null:b.add.shmd.cmls.layerSettings.v[q].v};
xu.iI.XW=function(b,X,q){for(var N=0;N<b.F.length;N++){var J=b.F[N],_=J.add.shmd.cmls;if(_==null)continue;
var p=_.layerSettings.v,z=xu.iI.xa_(J,X);if(z==null){J.HC(!1);continue}if((q&1)!=0){if(z.enab)J.HC(z.enab.v);
else J.HC(!0)}if((q&2)!=0){if(z.Ofst){var g=z.Ofst.v,W=J.RC(b),o=Math.round(g.Hrzn.v-W.x),y=Math.round(g.Vrtc.v-W.y);
if(o!=0||y!=0)c.Gk.zi(b,[N],null,o,y)}}if((q&4)!=0){if(z.Lefx){var D=JSON.parse(JSON.stringify(z.Lefx.v));
bO.Ib(D);if(JSON.stringify(D)!=JSON.stringify(J.add.lmfx)){J.add.lmfx=D;J.J.jn=!0}}else delete J.add.lmfx;
if(z.blendOptions){var m=z.blendOptions.v;if(m.Opct)J.opacity=Math.round(255*m.Opct.v.val/100);if(m.Md)J.nB=J.add.lsct==_b.Rv?"norm":nD.ei(m.Md.v.BlnM)}else{J.opacity=255;
J.nB=J.zu()?"pass":"norm"}}}};xu.iI.xdO=function(b,X){var q={};for(var N=0;N<b.F.length;N++){var J=b.F[N];
if(J.add.shmd==null||J.add.shmd.cmls==null)continue;q["l"+J.add.lyid]=JSON.parse(JSON.stringify(xu.iI.xa_(J,X)))}return q};
xu.iI.E$=function(b,X){var q={};for(var N=0;N<b.F.length;N++){var J=b.F[N],_=J.add.lyid;q["l"+_]=xu.iI.xAb(b,J,X)}return q};
xu.iI.xAb=function(b,X,q){var N=X.add.shmd?X.add.shmd.cmls:null,J={classID:"null"},_=X.RC(b),p={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:_.x},Vrtc:{t:"long",v:_.y}}};
J.compList={t:"VlLs",v:[{t:"long",v:q}]};J.enab={t:"bool",v:X.oF()};J.Ofst=JSON.parse(JSON.stringify(p));
J.FXRefPoint=JSON.parse(JSON.stringify(N&&N.origFXRefPoint?N.origFXRefPoint:p));J.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:nD.QM(X.nB)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*X.opacity/255}}}};
if(X.add.vmsk){J.vectorMask={t:"Objc",v:{classID:"null"}};J.vectorMask.v.Ofst=JSON.parse(JSON.stringify(p))}if(X.add.lmfx){J.Lefx={t:"Objc",v:JSON.parse(JSON.stringify(X.add.lmfx))};
bO.BW(J.Lefx.v)}return J};xu.iI.xdj=function(b,X){var q=X.add.lyid;if(X.add.shmd==null)X.add.shmd={};
if(X.add.shmd.cmls==null){X.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:q},layerSettings:{t:"VlLs",v:[{t:"Objc",v:xu.iI.xAb(b,X,0)}]}}}};
xu.iI.Xu=function(b,X,q){for(var N=0;N<b.F.length;N++){var J=b.F[N],_=J.add.lyid;xu.iI.xdj(b,J);var p=J.add.shmd.cmls,z=p.layerSettings.v,g=X["l"+_];
if(g!=null)g={t:"Objc",v:JSON.parse(JSON.stringify(g))};var W=xu.iI.xx_(J,q);if(W==-1){if(g==null)continue;
else z.push(g)}else{if(g==null)z.splice(W,1);else z[W]=g}}};xu.iI.Ey=function(b,X){for(var q=0;q<b.F.length;
q++){var N=b.F[q],J=N.add.lyid;if(N.add.shmd==null||N.add.shmd.cmls==null)continue;var _=N.RC(b),p=Math.round(_.x),z=Math.round(_.y);
if(!X){p=-p;z=-z}var g=N.add.shmd.cmls,W=g.layerSettings.v;if(g.origFXRefPoint)xu.iI.Xd(g.origFXRefPoint,-p,-z);
for(var o=0;o<W.length;o++){var y=W[o].v;xu.iI.Xd(y.Ofst,p,z);var D=y.imageMask,m=y.vectorMask;if(D&&D.v.Ofst)xu.iI.Xd(D.v.Ofst,p,z);
if(m&&m.v.Ofst)xu.iI.Xd(m.v.Ofst,p,z)}}};xu.wB=function(){xu.CI.call(this,c.fp);this.LK=null;this.Mm=null};
xu.wB.prototype=new xu.CI;xu.wB.Xt=function(b,X,q,N){if(N)X/=4;var J=0,_=0,p=255,z=0,g=0,W=255;while(_+b[J]<X){_+=b[J];
J++}while(z+b[p]<X){z+=b[p];p--}if(N){J-=Math.round(b[J]/(q/32));p+=Math.round(b[p]/(q/32));if(J<0)g=Math.round(-J*255/(p-J));
if(p>255)W=255-Math.round((p-255)*255/(p-J))}return[Math.max(J,0),Math.min(p,255),g,W,100]};xu.wB.prototype.wt=function(b,X,q,N,J){var _=b.V;
if(_=="auto"){var p=b.jA,z=xu.wB.getData(q);for(var g=0;g<z.length;g++){var W=z[g],o;if(p<3){}else{var y=nm.Z$("hue2");
xz.DA(y,0,[0,-100,0]);o=nY.fb("hue2",y)}nY.dI(o,W.FU,W._c,W.h)}xu.wB.wb(q,z);xu.wB.wp(q,z,p<3?[4,16,p]:[19,7,0],this);
q.Y()}if(_=="edit_layer")this.xdD(b,X,q,N);if(_=="edit"||_=="confirm"||_=="cancel")this.Ee(b,X,q,J,!0);
if(_=="start"){if(q.k.length==0)return;var D=q.F[q.k[0]];if(D.add.SoLd&&D.ZZ<=0){var m=new Q(K.E.e,!0);
m.B=c.Ht;m.data={V:"start",vH:b.gm};X.X(m);return}if(!q.jX())return;if(s[b.gm]&&b.Qk==null){if(q.k.length!=1)alert("Will be applied to "+q.k.length+" layers.");
var m=new Q(K.E.T,!0);m.data={V:K.a.Ko,zE:"afw_"+b.gm};X.X(m)}else{this.Ee({V:"edit",Qk:b.Qk,vH:b.gm},X,q,J);
this.Ee({V:"confirm",vH:b.gm},X,q,J)}}};xu.wB.prototype.xdD=function(b,X,q,N){var J=b.V,_=q.k[0],p=q.F[_],z=q.history[q.W_],g;
if(z&&z.B==this&&z.data.Yg!=null&&z.data.Q==_)g=z;else{var W=new Q(K.E.gy,!0),o={classID:"setd",null:_U.YN("AdjL",!0),T:{t:"Objc",v:b.A}};
W.data={Ev:!0,pn:"set",nv:o};X.X(W);var g=new no([6,39],this),y=nY.get(p.add);g.data={Q:_,Yg:p.add[y],wS:b.A,Oz:o};
q.wV(g)}g.data.wS=b.A;g.data.Oz.T.v=b.A;this.we(g.data,q)};xu.wB.getData=function(b,X,q){var N=[],J=new R(0,0,b.n,b.z),_=b.nI.length!=0?[-1-b.nI[0]]:b.k;
for(var p=0;p<_.length;p++){var z=_[p],g=z<0?null:b.F[z],W={Q:z,Wo:z<0?1:g.ZZ};N.push(W);var o=b.Ff[-1-z];
if(0<=z)o=g.ZZ<=0?null:g.ZZ==1?g.DL():g._m(b).G;var y=o?o.rect:g.rect;if(b.p)W.h=o!=null?b.p.rect.be(J):b.p.rect.be(y);
else W.h=X||o!=null?y.Tg(J):y.clone();if(q)W.h=q[p].h.clone();var D=W.h.c();W.FU=x.K(D*4);if(o)c.Un.NW(o.channel,o.rect,o.color,W.FU,W.h);
else x.iX(g.buffer,y,W.FU,W.h);W._c=W.FU.slice(0);if(b.p){W.XU=x.K(D);x.rS(b.p.channel,b.p.rect,W.XU,W.h)}}return N};
xu.wB.xdG=function(b,X,q){if(X==null)return X;var N=nY.wO(b,X),_;if(N==-1)return X;var J=q.length>>>2,p=x.Ew(q),z=.001*J;
if(N==0||N==2)_=[[0,255,0,255,100],xu.wB.Xt(p[1],z,J,N==2),xu.wB.Xt(p[2],z,J,N==2),xu.wB.Xt(p[3],z,J,N==2)];
if(N==1)_=[xu.wB.Xt(p[0],z*.33,J,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var g=nm.Z$("levl");
for(var W=0;W<4;W++)_V.DA(g,W,_[W]);return g};xu.wB.prototype.Ee=function(b,X,q,N){if(this.LK==null)this.LK=xu.wB.getData(q,null,b.vH=="fade"?q.Sq().data:null);
if(b.V=="edit"){this.Mm=[b.vH,b.Qk];var J=this.LK[0],_=xu.wB.xdG(b.vH,b.Qk,J.FU),p=nY.fb(b.vH,_);if(b.vH=="fade")p=b.Qk;
if(p!=null){for(var z=0;z<this.LK.length;z++){var g=this.LK[z];if(b.Jn)x.vM(g.FU,g._c);else if(b.vH=="fade"){var W=nD.ei(b.Qk.Md.v.BlnM),o=b.Qk.Opct.v.val/100,y=q.Sq().data[z];
x.vM(y.FU,g._c);if(W=="norm")x.t.gB(g.FU,g.h,g._c,g.h,null,null,null,g.h,o);else{var D=nM.lM();D.dS=!0;
for(var z=0;z<y.FU.length;z+=4)if(y.FU[z+3]!=g.FU[z+3]){D=null;break}x.t.TG(W,g.FU,g.h,g._c,g.h,g.h,o,D)}}else nY.dI(p,g.FU,g._c,g.h)}xu.wB.wb(q,this.LK)}}if(b.V=="cancel"){xu.wB.xAY(q,this.LK);
this.LK=null}if(b.V=="confirm"){var m=b.vH=="fade"?[2,11]:nY.names[b.vH],k=nY.wO(b.vH,this.Mm[1]);if(k!=-1)m=[4,16,k];
xu.wB.wp(q,this.LK,m,this);this.LK=null;if(k==-1)xu.wB.xbM(X,this.Mm)}q.Y()};xu.wB.xbM=function(b,X){var q=X[0],N=X[1],J,_;
if(nY.nM[q]){J=nY.nM[q];if(s[q])_=N}if(nm.nM[q]){J=nm.nM[q];if(s[q])_=N}if(J==null)return;var p=new Q(K.E.gy,!0);
p.data={Ev:!0,pn:J};if(_){_=JSON.parse(JSON.stringify(_));_.classID="null";delete _.__name;p.data.nv=_}b.X(p)};
xu.wB.xAY=function(b,X){xu.wB.RG(b,X)};xu.wB.wp=function(b,X,q,N){for(var J=0;J<X.length;J++){var _=X[J],p=b.F[_.Q],z=_.Q<0?b.Ff[-1-_.Q]:_.Wo<=0?null:_.Wo==1?p.DL():p._m(b).G;
if(z){z.Du();z.zY=!0;if(p)p.he(b)}else{p.Du();p.Y()}delete _._c;delete _.XU}var g=new no(q,N);g.data=X;
b.wV(g)};xu.wB.wb=function(b,X,q){for(var N=0;N<X.length;N++){var J=X[N],_=b.F[J.Q],p=q?J.FU:J._c,z=J.h;
if(J.Wo==0){_.extend(z);if(J.XU){x.iX(J.FU,z,_.buffer,_.rect);x.t.gB(p,z,_.buffer,_.rect,J.XU,z,0,z,1)}else x.iX(p,z,_.buffer,_.rect)}else{var g=J.Q<0?b.Ff[-1-J.Q]:J.Wo==1?_.DL():_._m(b).G;
g.extend(z);if(J.XU){var W=x.K(z.c()*4);x.vM(J.FU,W);x.t.gB(p,z,W,z,J.XU,z,0,z,1);c.Un.JR(W,z,g)}else c.Un.JR(p,z,g);
g.zY=!0;if(_)_.he(b)}if(_)_.Y()}if(!q)xu.wB.xxY(b,X)};xu.wB.RG=function(b,X){for(var q=0;q<X.length;
q++){var N=X[q],J=b.F[N.Q],_=N.h,p=x.K(_.c()*4);if(N.Wo==0){x.iX(J.buffer,J.rect,p,_);J.extend(_);x.iX(N.FU,_,J.buffer,J.rect);
J.Du()}else{var z=N.Q<0?b.Ff[-1-N.Q]:N.Wo==1?J.DL():J._m(b).G;c.Un.NW(z.channel,z.rect,z.color,p,_);
z.extend(_);c.Un.JR(N.FU,_,z);z.Du();z.zY=!0;if(J)J.he(b)}N.FU=p;if(J)J.Y()}};xu.wB.xxY=function(b,X){var q=xu.wB.xxP(b),N=~q;
if(q==16777215)return;for(var J=0;J<X.length;J++){var _=X[J],p=b.F[_.Q],z=_.h;if(_.Wo!=0)continue;p.extend(z);
var g=z.x-p.rect.x,W=z.y-p.rect.y,o=p.rect.n,y=new Uint32Array(_.FU.buffer),D=new Uint32Array(p.buffer.buffer);
for(var m=0;m<z.z;m++)for(var k=0;k<z.n;k++){var O=m*z.n+k,L=(m+W)*o+(k+g);D[L]=D[L]&q|y[O]&N}p.Du();
p.Y()}b.Y()};xu.wB.xxP=function(b){var X=b.M.Yk;return X[2]*16711680|X[1]*65280|X[0]*255};xu.wB.prototype.it=function(b,X){var q=X.F[b.Q];
if(b.Yg!=null)q.add[nY.get(q.add)]=b.Yg;else xu.wB.RG(X,b);X.Y()};xu.wB.prototype.we=function(b,X){var q=X.F[b.Q];
if(b.Yg!=null)q.add[nY.get(q.add)]=b.wS;else xu.wB.RG(X,b);X.Y()};xu.kV=function(){xu.CI.call(this,c.Ht);
this.LK=null;this.$o=null;this.V=null;this.Mm=null};xu.kV.prototype=new xu.CI;xu.kV.prototype.wt=function(b,X,q,N,J){if(b.V=="start"){if(q.k.length==0)return;
var _=q.F[q.k[0]];if(_.add.SoLd&&_.ZZ<=0){}else if(!q.jX())return;var p=b.vH;if(s[p]&&b.Qk==null){if(q.k.length!=1)alert("Will be applied to "+q.k.length+" layers.");
var z=new Q(K.E.T,!0);z.data={V:K.a.Ko,zE:"afw_"+p,_h:this.wq(q)};X.X(z)}else{var g={V:"edit",vH:p,Qk:b.Qk,_h:this.wq(q)};
this.wt(g,X,q,N,J);g.V="confirm";delete g.Qk;this.wt(g,X,q,N,J)}}if(b.V=="edit"||b.V=="cancel"||b.V=="confirm"){if(b.V=="edit")this.Mm=[b.vH,b.Qk];
if(b._h)this.xdV(b,q,J);else this.xlX(b,X,q,J)}if(b.V=="applylast"&&this.Mm!=null){var g={V:"edit",vH:this.Mm[0],Qk:this.Mm[1],_h:this.wq(q)};
this.wt(g,X,q,N,J);g.V="confirm";delete g.Qk;this.wt(g,X,q,N,J)}};xu.kV.prototype.wq=function(b){var X=b.F[b.k[0]],q;
if(X.add.SoLd&&X.ZZ<=0){q={Q:b.k[0],index:0};if(X.add.SoLd.filterFX!=null)q.index=X.add.SoLd.filterFX.v.filterFXList.v.length}return q};
xu.kV.prototype.xdV=function(b,X,q){var N=X.F[b._h.Q],J=b.vH;if(b.V=="edit"){if(this.V==null){var _=nm.names[J];
if(_==null)_=nY.names[J];this.V=new no(_,this);this.V.data={_h:b._h,xWY:JSON.parse(JSON.stringify(N.add.SoLd))}}if(!N.ot()){N.add.SoLd.filterFX=nm.NI();
this.V.data.sX=nj.xgE(N.add.SoLd.placed.v);X.$p(this.V.data.sX);N.ns(X)}var p=N.add.SoLd.filterFX.v.filterFXList.v;
if(p[b._h.index]==null){p.push(nm.Qq(J,q))}if(b.Qk){p[b._h.index].v.enab.v=b.Jn!=!0;p[b._h.index].v.Fltr.v=b.Qk}this.V.data.xWL=JSON.parse(JSON.stringify(N.add.SoLd));
this.we(this.V.data,X)}if(b.V=="cancel"){if(this.V)this.it(this.V.data,X);this.V=null}if(b.V=="confirm"){X.wV(this.V);
this.V=null}};xu.kV.prototype.Rm=function(b){return{D:b>>>16,q:b>>>8&255,b:b&255}};xu.kV.prototype.xlX=function(b,X,q,N){if(this.LK==null)this.LK=xu.wB.getData(q,!0);
if(b.V=="edit"){var J=JSON.stringify(b.Qk);if((b.Qk==null||J!=this.$o)&&b.Jn!=!0)for(var _=0;_<this.LK.length;
_++){var p=this.LK[_],z={rect:p.h,buffer:p.FU},g={rect:p.h,buffer:p._c};nm.dI(b.vH,z,b.Qk,this.Rm(N.pp),this.Rm(N.HO),g,q.add.lnk2?q.add.lnk2:[]);
this.$o=J}xu.wB.wb(q,this.LK,b.Jn)}if(b.V=="cancel"){xu.wB.xAY(q,this.LK);this.LK=null;this.$o=null}if(b.V=="confirm"){xu.wB.wp(q,this.LK,nm.names[b.vH],this);
this.LK=null;this.$o=null;xu.wB.xbM(X,this.Mm)}q.Y()};xu.kV.prototype.it=function(b,X){if(b._h){var q=X.F[b._h.Q];
if(b.sX)X.Mt(b.sX);q.add.SoLd=JSON.parse(JSON.stringify(b.xWY));if(q.ot())q.$i(X);else{q.ns(X);q.ZZ=0}}else xu.wB.RG(X,b);
X.Y()};xu.kV.prototype.we=function(b,X){if(b._h){var q=X.F[b._h.Q];if(b.sX)X.$p(b.sX);q.add.SoLd=JSON.parse(JSON.stringify(b.xWL));
if(q.ot())q.$i(X);else q.ns(X);if(!q.nW())q.aA+=32}else xu.wB.RG(X,b);X.Y()};var n_={LX:"0",lZ:"1",FA:"2",py:"3",wg:"4",DS:"5",Dq:"6",Fg:"7",e:"8",jD:"8.5",Dk:"8.8",F_:"9",Gn:"10",Fh:"11",Fd:"12",UA:"13",VT:"14",Uu:"15",$f:"21",Xo:"22",Fu:"23",UX:"23.0",UN:"23.1",Xc:"23.2",UD:"23.3",wh:"23.4",Xf:"23.5",NA:"23.6",xbG:"30",Um:"31",Ng:"40",Uk:"41",Us:"42"};
n_.Ro={};n_.Ro[n_.lZ]=["abr","brushes",xd,[9,3]];n_.Ro[n_.FA]=["grd","gradients",bC,[12,37]];n_.Ro[n_.py]=["shc","contours",SH,[12,21]];
n_.Ro[n_.wg]=["asl","styles",Kz,[12,22]];n_.Ro[n_.DS]=["pat","patterns",bN,[12,62]];n_.Ro[n_.Dq]=["csh","shapes",SB,[12,77]];
n_.Ro[n_.Fg]=["aco","swatches",bH,[9,8]];n_.Ro[n_.e]=["atn","actions",ga,[9,9]];n_.Ro[n_.jD]=["tpl","tpresets",KX,[9,12]];
n_.Ro[n_.Dk]=["icc","profiles",x$,"ICCs"];function S(){this.Ru={};this.$c=0}S.prototype.reset=function(){this.Ru={};
this.$c=0};S.prototype.xlN=function(b){this.$c++;this.Ru[b]=!0};S.prototype.xlj=function(b){this.$c--;
delete this.Ru[b];if(this.$c<=0||S.In(b,S.xKZ))this.reset()};S.prototype._=function(b){for(var X=0;X<b.pF.length;
X++)if(this.Ru[b.pF[X]])return!0;return!1};S.prototype.oH=function(){var b=this,X=b._(S.FI)?10:1,q=0,N=0;
if(b._(S.xSI))q=-X;if(b._(S.xxA))q=X;if(b._(S.n_))N=-X;if(b._(S.nq))N=X;return new Ue(q,N)};S.prototype.wv=function(){var b=this,X=S.NS;
for(var q=0;q<10;q++)if(b._(X[q]))return q;return-1};S.In=function(b,X){return X.pF.indexOf(b)!=-1};
S.xbP=function(b){var X=b.code,J=!1;if(X=="")return!1;var q=S.In,N=S.NS.concat([S.nR,S.NU,S.N_,S.wQ]);
for(var _=0;_<N.length;_++)if(q(X,N[_]))J=!0;if(b.altKey&&!b.shiftKey&&!b.ctrlKey&&J)return!1;return S.xAK.indexOf(X)==-1||b.shiftKey&&(X=="F5"||X=="F6")};
S.xWK=function(b){var X=b.code;return X!=""&&(S.xAK.indexOf(X)==-1||b.shiftKey&&(X=="F5"||X=="F6"))};
S.xlf=function(b){if(b==null)return"";var X=[];for(var q=0;q<b.length;q++)X.push(b[q]._d);return X.join(" + ")};
S.xAK="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
S.xAc=function(b){var X=b.code,q=b.key.toLowerCase(),N=q.charCodeAt(0);if(q.length==1&&97<=N&&N<=122&&X.startsWith("Key")&&X.toLowerCase().charCodeAt(3)!=N){var J="Key"+q.toUpperCase();
X=J}return X};S.jV={_d:"Enter",pF:["Enter","NumpadEnter"]};S.FI={_d:"Shift",pF:["ShiftLeft","ShiftRight"]};
S.xKZ={_d:"Meta",pF:["MetaLeft","MetaRight","OSLeft","OSRight"]};S.zN={_d:"Ctrl",pF:"ControlLeft ControlRight MetaLeft MetaRight OSLeft OSRight".split(" ")};
S.PU={_d:"Alt",pF:["AltLeft","AltRight"]};S.xWp={_d:"CtrlOrAlt",pF:S.zN.pF.concat(S.PU.pF)};S.pj={_d:"Escape",pF:["Escape"]};
S.oW={_d:"Space",pF:["Space"]};S.Np={_d:"Tab",pF:["Tab"]};S.xWq={_d:"Home",pF:["Home"]};S.xWh={_d:"End",pF:["End"]};
S.xSI={_d:"Left",pF:["ArrowLeft"]};S.n_={_d:"Up",pF:["ArrowUp"]};S.xxA={_d:"Right",pF:["ArrowRight"]};
S.nq={_d:"Down",pF:["ArrowDown"]};S.nR={_d:"+",pF:["NumpadAdd","Equal"]};S.NU={_d:"-",pF:["NumpadSubtract","Minus","Slash"]};
S.xWE={_d:";",pF:["Semicolon"]};S.xWP={_d:"Dead",pF:["Dead"]};S.xWu={_d:"=",pF:["Equal"]};S.UL={_d:"Backspace",pF:["Backspace"]};
S.nw={_d:"Delete",pF:["Delete"]};S.xWT={_d:"Backslash",pF:["Backslash","IntlBackslash"]};S.xWD={_d:"Backquote",pF:["Backquote"]};
S.N_={_d:"[",pF:["BracketLeft"]};S.wQ={_d:"]",pF:["BracketRight"]};S.xWo={_d:".",pF:["Period"]};S.xWc={_d:",",pF:["Comma"]};
S.xWf={_d:"'",pF:["Quote"]};S.a={_d:"A",pF:["KeyA"]};S.xgh={_d:"B",pF:["KeyB"]};S.Rm={_d:"C",pF:["KeyC"]};
S.Kk={_d:"D",pF:["KeyD"]};S.E={_d:"E",pF:["KeyE"]};S.Hb={_d:"F",pF:["KeyF"]};S.xxn={_d:"G",pF:["KeyG"]};
S.xvm={_d:"H",pF:["KeyH"]};S.wu={_d:"I",pF:["KeyI"]};S.xgg={_d:"J",pF:["KeyJ"]};S.wz={_d:"K",pF:["KeyK"]};
S.kf={_d:"L",pF:["KeyL"]};S.aO={_d:"M",pF:["KeyM"]};S.FK={_d:"N",pF:["KeyN"]};S.xgB={_d:"O",pF:["KeyO"]};
S.Fk={_d:"P",pF:["KeyP"]};S.xWm={_d:"Q",pF:["KeyQ"]};S.OQ={_d:"R",pF:["KeyR"]};S.xA_={_d:"S",pF:["KeyS"]};
S.J={_d:"T",pF:["KeyT"]};S.Db={_d:"U",pF:["KeyU"]};S.x_i={_d:"V",pF:["KeyV"]};S.xAg={_d:"W",pF:["KeyW"]};
S.Nb={_d:"X",pF:["KeyX"]};S.xup={_d:"Y",pF:["KeyY"]};S.NK={_d:"Z",pF:["KeyZ"]};S.xAo={_d:"0",pF:["Numpad0","Digit0"]};
S.xUc={_d:"1",pF:["Numpad1","Digit1"]};S.xu_={_d:"2",pF:["Numpad2","Digit2"]};S.xuO={_d:"3",pF:["Numpad3","Digit3"]};
S.xuc={_d:"4",pF:["Numpad4","Digit4"]};S.xYx={_d:"5",pF:["Numpad5","Digit5"]};S.xYn={_d:"6",pF:["Numpad6","Digit6"]};
S.xYB={_d:"7",pF:["Numpad7","Digit7"]};S.xYM={_d:"8",pF:["Numpad8","Digit8"]};S.xYI={_d:"9",pF:["Numpad9","Digit9"]};
S.NS=[S.xAo,S.xUc,S.xu_,S.xuO,S.xuc,S.xYx,S.xYn,S.xYB,S.xYM,S.xYI];S.xWQ={_d:"F1",pF:["F1"]};S.xWl={_d:"F2",pF:["F2"]};
S.xua={_d:"F3",pF:["F3"]};S.xui={_d:"FF",pF:["F4"]};S.xLx={_d:"F5",pF:["F5"]};S.xLv={_d:"F6",pF:["F6"]};
S.xuC={_d:"F7",pF:["F7"]};S.xuv={_d:"F8",pF:["F8"]};S.xuT={_d:"F9",pF:["F9"]};S.xuj={_d:"F10",pF:["F10"]};
S.xuf={_d:"F11",pF:["F11"]};S.xuk={_d:"F12",pF:["F12"]};function no(b,X,q){if(q==null)q=!1;this.name=b;
this.B=X;this.jx=q;this.data=null}var _U={};_U.YN=function(b,X){var q={t:"Clss",v:{classID:b}};if(X)q={t:"Enmr",v:{classID:b,typeID:"Ordn",enum:"Trgt"}};
return{t:"obj ",v:[q]}};_U.wI=function(b,X){var q={classID:"Lyr"};q[b]=X;return{pn:"set",nv:{classID:"null",null:_U.YN("Lyr",!0),T:{t:"Objc",v:q}}}};
_U.xLF=function(b,X,q,N,J){var _=new Q(K.E.gy,!0),p=[],z=0,g=_U.xS_(X,q,N,p);while(p.length!=0){var W=p.pop();
z++;if(!W.O)continue;if(W.pn=="conditional"){var o=b.F[b.k[0]],y=W.nv.null.v.Cndt,D=!1;if(y=="Bckg")D=!1;
else if(y=="Pxel"&&b.lC(!1))D=!0;else if(y=="Adjs"&&nY.get(o.add))D=!0;else if(y=="Shp"&&o.add.vogk)D=!0;
else if(y=="Grup"&&o.zu())D=!0;var m=W.nv.then.v;if(D)_U.xS_(X,m[0].v.val,m[1].v.val,p)}else if(W.pn=="stop"){alert(W.nv.Msge.v);
break}else{_.data={pn:W.pn,nv:W.nv};J.X(_)}}};_U.xS_=function(b,X,q,N){var J;for(var _=0;_<b.length;
_++){if(b[_].ds!=q)continue;var p=b[_].L;for(var z=0;z<p.length;z++){if(p[z].ds!=X)continue;J=p[z].L}}var g=J.length;
for(var _=0;_<g;_++)N.push(J[g-1-_])};_U.xIx=function(b){var X=b.pn,q=b.nv,N,p,z,g,W,o;if(q&&q.null)N=q.null.v[0];
if(q&&N==null&&q.At)N=q.At.v[0];if(N&&N.t=="obj ")N=N.v[0];var J=N?N.v.classID:null,_=["purge"];if(_.indexOf(X)!=-1)return X[0].toUpperCase()+X.slice(1);
o=nY.nM;for(p in o)if(o[p]==X)z=p;o=nm.nM;for(p in o)if(o[p]==X)g=p;o=_M.nM;for(p in o)if(o[p]==X)W=p;
if(z){var y=nY.wO(z,q);if(y!=-1)return[4,16,y];return nY.names[z]}if(g)return nm.names[g];if(W)return _M.names[W];
var D=_U.xPM;if(X=="make"){if(N){if(J=="AdjL")return[6,1];else if(J=="layerSection")return[6,9];else if(J=="Lyr")return[6,13];
else if(J=="Chnl"&&N.v.enum=="Msk")return[6,2];else if(J=="contentLayer")return[6,48,1];else if(J=="BckL")return"Make Background Layer"}if(q.Nw){J=q.Nw.v.classID;
if(J=="Dcmn")return[11,7];else if(J=="Chnl"||J=="SCch")return"New Channel"}}else if(X=="select"){if(J=="Chnl")return"Select "+(N.v.enum=="Msk"?"Mask ":"")+"Channel";
else if(J=="Mn")return"Select Panel \""+N.v.enum+"\"";else if(J=="Lyr")return"Select Layer \""+N.v.val+"\""}else if(D[X]&&J=="Chnl"){var m=N.v.keyID=="fsel";
return D[X]+" "+(m?"Selection":"Channel")}else if(X=="set"){if(J=="Lyr")return"Set Current Layer";else if(J=="AdjL")return[6,39];
else if(J=="contentLayer")return[6,48,2];else if(J=="Prpr")return[11,6];else if(J=="Clr")return"Set "+(N.v.keyID=="FrgC"?"Foreground":"Background")+" color";
else console.log(J)}else if(X=="move"){if(J=="Lyr")return"Move Layer"}else if(X=="show"||X=="hide"){var k="";
if(J=="Lyr")+"Layer";if(J=="Chnl")+"Channel";return(X=="show"?"Show":"Hide")+" "+k}else if(X=="reset"){if(J=="Clr")return"Reset Colors"}else if(X=="exchange"){if(J=="Clr")return[22,7,0]}else if(X=="rotateEventEnum")return[2,5];
else if(X=="flip"){var O=q.Axis.v.Ornt=="Hrzn";return[2,6,[22,4,O?2:3]]}if(J=="Chnl"){if(X=="duplicate")return"Selection to Channel";
if(X=="delete")return"Delete Channel"}var L={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49],copyMerged:[5,7],paste:[5,2],close:[1,12],groupEvent:[6,18],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fill:[2,3],colorRange:[7,8],desaturate:[19,7,0],transform:[10,16],delete:q?[6,31]:[2,2],align:[20,4,0],placedLayerEditContents:"Edit Contents",newPlacedLayer:[6,7],canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],conditional:"If"},I=L[X];
if(I==null)I=_U.xxf[X];if(I)return I;console.log(X,q);return X};_U.xxf={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
_U.xPM={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
_U.xI_=function(b,X,q,N){var J=b.pn,_=b.nv,p=new Q(K.E.e,!0),W,o,y,D,m,I;p.B=c.iz;var z=new Q(K.E.T,!0),g=["purge","updatePlacedLayer"];
if(g.indexOf(J)!=-1)return;m=nY.nM;for(W in m)if(m[W]==J)o=W;m=nm.nM;for(W in m)if(m[W]==J)y=W;m=_M.nM;
for(W in m)if(m[W]==J)D=W;if(o){p.B=c.fp;p.data={V:"start",gm:o,Qk:_}}else if(y){p.B=c.Ht;p.data={V:"start",vH:y,Qk:_}}else if(D){p.B=c.Ht;
p.data={V:"start",vH:"GEfc",Qk:_}}else if(J=="imageSize"||J=="canvasSize"||J=="revealAll"||J=="trim"){p.B=c.CH;
p.data={V:"fromAction",t_:b}}else if(J=="fill"||J=="delete"&&_==null){p.B=c.lZ;p.data={V:"fromAction",t_:b}}else if(J=="colorRange"){var k=_.Mnm.v,O=_.Mxm.v;
p.B=c.ST;p.data={V:"crange",UK:{kf:k.Lmnc.v,i:k.A.v,b:k.B.v},UC:{kf:O.Lmnc.v,i:O.A.v,b:O.B.v},dF:_.Fzns.v/200}}else if(_U.xxf[J]||_U.xPM[J]&&(!1||_.With&&_.With.v[0].v.keyID=="fsel"||_.From&&_.From.v[0].v.keyID=="fsel"||_.null&&_.null.v[0].v.keyID=="fsel"||_.T.v[0]&&_.T.v[0].v.keyID=="fsel")){p.B=c.ST;
p.data={V:"fromAction",t_:b}}var L={copyToLayer:M.yy,mergeLayersNew:N&&N.k.length==1?M.mj:M.nX,rasterizeLayer:M.xUm,mergeVisible:M.nZ,flattenImage:M.Pd,newPlacedLayer:M.xvo};
if(L[J])p.data={V:L[J],nv:_};if(p.data){X.X(p);return}if(J=="desaturate"){p.B=c.fp;p.data={V:"auto",jA:3};
X.X(p);return}if(J=="close"){if(_.Svng.v.YsN=="Ys"){z.data={V:K.a.ZY};X.X(z)}z.data={V:K.a.CN,lk:N};
X.X(z);return}var L={placedLayerEditContents:K.a.xdB,copyEvent:K.a.xK,paste:K.a.WQ};if(L[J])z.data={V:L[J]};
if(z.data){X.X(z);return}if(_.null||_.At)I=(_.null?_.null:_.At).v;else I=[{t:"----",v:_}];if(I[0].t=="obj "){if(I.length!=1)throw"e";
I=I[0].v}for(var H=0;H<I.length;H++){var Y=I[H],n=Y.v.classID;p.data=null;if(J=="make"){if(_.null==null&&_.Nw)n=_.Nw.v.classID;
if(n=="AdjL"){p.data={V:M._i,nv:_}}else if(n=="layerSection"){p.data={V:M._Q};if(_.Usng)p.data.OU=_.Usng.v.Nm.v}else if(n=="Lyr"){if(_.Usng&&_.Usng.v.length==2)p.data={V:M.xUK};
else{p.data={V:M.RY};if(_.Usng)p.data.OU=_.Usng.v.Nm.v}}else if(n=="Chnl"&&Y.v.enum=="Msk"){p.data={V:M._a,Ml:_.Usng.v.UsrM}}else if(n=="Chnl"||n=="SCch"){p.data={V:M.kX,qe:"fromAction",A:b}}else if(n=="contentLayer"){p.data={V:M.RX,nv:_}}else if(n=="BckL"){N.F[N.k[0]].xgi();
continue}else if(n=="Dcmn"){var w=_.Nw.v;z.data={V:K.a.QK,kM:nj.xpJ(w,q)}}else if(n=="Ptrn")z.data={V:K.a.Sf,Zy:0};
else{console.log(J,_);throw"e"}}else if(J=="select"){if(n=="Lyr"){var t=_.selectionModifier,j=t?t.v.selectionModifierType:null,E=_U.sq(N,Y);
p.data={V:M.VC,Q:E,xrm:j?["addToSelection","addToSelectionContinuous"].indexOf(j):null,Xz:0,xdy:!0}}else if(n=="Chnl"){p.data={V:M.VC,Q:E,Xz:1}}}else if((J=="set"||J=="reset"||J=="exchange")&&n=="Clr"){z.data={V:K.a.dX,Zy:n_.$f,qe:J=="reset"?3:2};
if(J=="set"){z.data.qe=Y.v.keyID=="FrgC"?0:1;var h=x.Z.vx(_.T.v);z.data.A=h.D<<16|h.q<<8|h.b}}else if(J=="set"){if(n=="AdjL"){var u=_.T.v.classID;
u=nY.Nh[u];p.B=c.fp;if(u)p.data={V:"edit_layer",A:_.T.v}}else if(n=="Lyr"){var Z=_.T.v,E=_U.sq(N,Y);
if(Z.Nm)p.data={V:M.dD,name:Z.Nm.v};else if(Z.Opct)p.data={V:M.VK,wS:Math.round(Z.Opct.v.val*255/100)};
else if(Z.fillOpacity)p.data={V:M._b,wS:Math.round(Z.fillOpacity.v.val*255/100)};else if(Z.Md)p.data={V:M.km,wS:nD.$s.indexOf(Z.Md.v.BlnM)};
else if(Z.Usrs)p.data={V:M._p,Q:E};else if(Z.Blnd){p.B=c.CO;p.data={V:"setstl",Q:E,A:{blendOptions:{t:"objc",v:Z}}};
X.X(p);p.data={V:"confirm",Q:E}}else if(Z.Clr){var A={Ylw:3}[Z.Clr.v.Clr];if(A==null)throw"e";p.data={V:M.dy,xEm:A}}else if(I[0].t=="prop")continue;
else{console.log(_);throw"e"}var P=N.F[E];P.xgu()}else if(n=="Prpr"){var Z=JSON.parse(JSON.stringify(_.T.v));
if(Y.v.keyID=="TxtS"){var E=_U.sq(N,_.null.v[1]),P=N.F[E],T=P.add.TySh,r=JSON.parse(JSON.stringify(T.Bw)),i=ng.IC(r),V=ng.c_(r,0,i.length-2);
if(Z.Undl&&Z.Undl.v.Undl=="underlineOnLeftInVertical")V.qH.Underline=!0;ng.Fo(r,0,i.length-1,V);p.B=c.Xe;
p.data={V:"newED",nA:E,NJ:r};H=1e9}else{for(var F in Z)if(Z[F].v){if(F=="Scl")Z[F].v.val=100;if(Z[F].v.TrnS&&Z[F].v.TrnS.v.Crv==null){Z[F].v.TrnS=JSON.parse(UZ.IN[9]).TrnS}}bO.Ib(Z);
if(Z.masterFXSwitch==null)Z.masterFXSwitch={t:"bool",v:!0};var E=_U.sq(N,_.null.v[1]);p.B=c.CO;p.data={V:"setstl",Q:E,A:{Lefx:{t:"objc",v:Z}}};
X.X(p);p.data={V:"confirm",Q:E}}}else if(n=="contentLayer"){var E=_U.sq(N,Y),Z=_.T.v;if(Z.classID=="shapeStyle")Z=Z.FlCn.v;
var B={solidColorLayer:0,gradientLayer:1,patternLayer:2}[Z.classID],y=JSON.parse(JSON.stringify(UZ.ex[B]));
xu.Qi.pC(Z,y,B);p.data={V:M.dZ,WL:[E],dM:!0,A:{Rk:B+1,G$:y}}}else{console.log(Y,_);throw n}}else if(J=="move"){if(n=="Lyr"){var Z=_.T.v;
if(Z.classID=="Ofst"){p.data={V:"trsl",xRv:Z.Hrzn.v.val,xRJ:Z.Vrtc.v.val};p.B=c.KC}else{var $,l;if(Z[0].t=="Enmr"){if(Z[0].v.enum=="Frnt")l=0;
else if(Z[0].v.enum=="Prvs")l=2;else if(Z[0].v.enum=="Back")l=3;else throw"e"}else $=Z[0].v.val;p.data={V:M.VD,target:$,qe:l,xWU:_.Dplc?_.Dplc.v:!1}}}}else if(J=="groupEvent")p.data={V:M.yJ};
else if(J=="show"||J=="hide"){if(n=="Lyr"){var E=_U.sq(N,Y);if(E==-1)continue;var v=N.F[E].oF();if(J=="show"&&v||J=="hide"&&!v)continue;
p.data={V:M.RQ,Q:E}}else if(n=="Chnl"){p.data={V:M.kX,qe:"fromAction",A:b}}}else if(J=="rotateEventEnum"){p.B=c.CH;
var C=_.Angl.v.val;p.data={V:"rot",ds:[2,5],A:-C*Math.PI/180}}else if(J=="flip"){p.B=c.CH;var f=_.Axis.v.Ornt=="Hrzn",nx=f?new Ue(-1,1):new Ue(1,-1);
p.data={V:"scl",ds:[2,6,[22,4,f?2:3]],A:nx}}else if(J=="transform"){var nA=1,nU=1,nn=0,d=0,np=0,a=0,nb=0;
if(_.Wdth)nA=_.Wdth.v.val/100;if(_.Hght)nU=_.Hght.v.val/100;if(_.Skew){var nK=_.Skew.v;nn=nK.Hrzn.v.val;
d=nK.Vrtc.v.val}if(_.Ofst){var nq=_.Ofst.v;a=nq.Hrzn.v.val;nb=nq.Vrtc.v.val}if(_.Angl)np=_.Angl.v.val;
var nS=new nQ;nS.concat(new nQ(nA,nA*Math.tan(d*Math.PI/180),nU*Math.tan(nn*Math.PI/180),nU,0,0));nS.rotate(-np*Math.PI/180);
nS.translate(a,nb);var nB={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3}[_.FTcs.v.QCSt];
if(nB==null)throw _.FTcs.v.QCSt;var E=_.null?_U.sq(N,Y):null;p.B=c.dL;p.data={V:"mat",Rl:nB,A:nS,Q:E}}else if(n=="Chnl"){p.data={V:M.kX,qe:"fromAction",A:b}}else if(J=="duplicate")p.data={V:M.CX,OU:_.Nm?_.Nm.v:null};
else if(J=="delete")p.data={V:M.RF};else if(J=="align"){p.B=c.KC;var o={AdLf:0}[_.Usng.v.ADSt];if(o==null)throw"e";
p.data={V:"algn",A:o}}if(p.data)X.X(p);else if(z.data)X.X(z);else{console.log(b);alert("Unknown action \""+J+"\"");
throw"e"}}};_U.sq=function(b,X){var q=X.t,N=-1;if(q=="name"){var J=X.v.val,N=-1;for(var _=0;_<b.F.length;
_++)if(b.F[_].getName()==J){N=_;break}}if(q=="Enmr"&&b.k.length!=0)N=b.k[0];if(q=="Enmr"&&X.v.enum=="Frwr")N=b.k[0]-1;
if(q=="prop"){if(X.v.keyID=="Bckg")N=0}return N};var nY={};nY.get=function(b){for(var X in nY.names)if(b[X]!=null)return X;
return null};nY.fb=function(b,X){var q=nY.wG,N;if(b=="brit"){var J=X.Brgh?X.Brgh.v:0,_=X.Cntr?X.Cntr.v:0,p=X.useLegacy?X.useLegacy.v:!1;
if(p){var z=J/255,g=1+_/100;if(g>1)g=1+Math.tan(Math.PI/2*_/101);var W=(1-g)/2,o=x.sy.sz(z,z,z),y=[g,0,0,W,0,g,0,W,0,0,g,W,0,0,0,1],D=x.sy.multiply(o,y),m=new x.Sm(256);
for(var k=0;k<256;k++)m.D[k]=k;x.sy.transform(m,m,D);N={type:q.TD,zs:m.D,NQ:m.D,VG:m.D,WM:!1,Wi:!1}}else{var O=1024,L=-30+60*(_+100)/200,I=[];
for(var k=0;k<4;k++)I.push(x.BJ.Jo(k/3*255,k/3*255,!0));I[1].v.Hrzn.v=64;I[1].v.Vrtc.v=64-L;I[2].v.Hrzn.v=128+64;
I[2].v.Vrtc.v=128+64+L;I.sort(function(_F,bR){return _F.v.Hrzn.v-bR.v.Hrzn.v});var H=x.BJ.$l(I,O);function Y(_F,O){var I=[],bR=3;
for(var k=0;k<bR+1;k++)I.push(x.BJ.Jo(k/bR*255,k/bR*255,!0));I[1].v.Hrzn.v=130-_F*26;I[1].v.Vrtc.v=130+_F*51;
I[2].v.Hrzn.v=233-_F*48;I[2].v.Vrtc.v=233+_F*10;return x.BJ.$l(I,O)}var n=Y(Math.abs(J)/100,O);if(J<0){var w=[],t=1/O;
for(var k=0;k<O;k++){var j=k*t,E=k;while(n[E]>j&&E>1)E--;w[k]=E*t}n=w}var h=new Uint8Array(O);for(var k=0;
k<O;k++){var u=Math.round((O-1)*n[k]);h[k]=Math.round(255*H[u])}N={type:q.TD,zs:h,NQ:h,VG:h,WM:!1,Wi:!1}}}if(b=="levl"){var Z=[],A,P,o,T,U,r;
for(var k=0;k<4;k++)Z.push(_V.zB(X,k));A=-Z[0][0]/255;P=1/(Z[0][1]/255-Z[0][0]/255);o=x.sy.multiply(x.sy.sO(P,P,P),x.sy.sz(A,A,A));
T=x.sy.sO(1/(Z[1][1]/255-Z[1][0]/255),1/(Z[2][1]/255-Z[2][0]/255),1/(Z[3][1]/255-Z[3][0]/255));U=x.sy.sz(-Z[1][0]/255,-Z[2][0]/255,-Z[3][0]/255);
r=x.sy.multiply(T,U);var h=new x.Sm(256);for(var k=0;k<256;k++)h.D[k]=h.q[k]=h.b[k]=k;var i=1/(Z[0][4]/100),V=1/(Z[1][4]/100),F=1/(Z[2][4]/100),B=1/(Z[3][4]/100);
x.sy.transform(h,h,r);for(var k=0;k<256;k++){h.D[k]=Math.round(Math.max(0,Math.min(255,255*Math.pow(h.D[k]/255,V))));
h.q[k]=Math.round(Math.max(0,Math.min(255,255*Math.pow(h.q[k]/255,F))));h.b[k]=Math.round(Math.max(0,Math.min(255,255*Math.pow(h.b[k]/255,B))))}x.sy.transform(h,h,o);
for(var k=0;k<256;k++){h.D[k]=Math.round(Math.max(0,Math.min(255,255*Math.pow(h.D[k]/255,i))));h.q[k]=Math.round(Math.max(0,Math.min(255,255*Math.pow(h.q[k]/255,i))));
h.b[k]=Math.round(Math.max(0,Math.min(255,255*Math.pow(h.b[k]/255,i))))}A=Z[0][2]/255;P=Z[0][3]/255-Z[0][2]/255;
o=x.sy.multiply(x.sy.sz(A,A,A),x.sy.sO(P,P,P));T=x.sy.sO(Z[1][3]/255-Z[1][2]/255,Z[2][3]/255-Z[2][2]/255,Z[3][3]/255-Z[3][2]/255);
U=x.sy.sz(Z[1][2]/255,Z[2][2]/255,Z[3][2]/255);r=x.sy.multiply(U,T);x.sy.transform(h,h,x.sy.multiply(o,r));
N={type:q.TD,zs:h.D,NQ:h.q,VG:h.b,WM:!1,Wi:!1}}if(b=="curv"){var $=_T.zB(X,0).length==256?1:0,l=[];if($==0){var v=x.BJ.aR(_T.zB(X,0),256);
for(var k=1;k<4;k++){var C=x.BJ.aR(_T.zB(X,k),256);l.push(x.BJ.yC(C,v))}}else{var f=[];for(var k=0;k<4;
k++){var nx=new Uint8Array(256);f.push(nx);var nA=_T.zB(X,k);for(var E=0;E<256;E++)nx[E]=nA[E]}for(var k=1;
k<4;k++)l.push(x.BJ.yC(f[k],f[0]))}N={type:q.TD,zs:l[0],NQ:l[1],VG:l[2],WM:!1,Wi:!1}}if(b=="expA"){var nU=X.Exps.v,nn=X.Ofst.v,nH=X.gammaCorrection.v,h=new Uint8Array(256);
for(var k=0;k<256;k++){var X=k/255,d=Math.pow(Math.abs(nn),1/(Math.PI/2));if(nn>0){X=Math.max(nn/Math.E,X);
X=X*Math.exp(nn/1.75+nU/Math.PI);X=(1-d)*X+d*1}else{X=X*Math.exp(-nn*1.75+nU/Math.PI);X=X+-d*1.14}X=Math.pow(X,1/nH);
X=Math.max(0,Math.min(1,X));h[k]=Math.round(X*255)}N={type:q.TD,zs:h,NQ:h,VG:h,WM:!1,Wi:!1}}if(b=="vibA"){N={type:q.wf,Zy:[X.vibrance?X.vibrance.v:0,X.Strt?X.Strt.v:0]}}if(b=="hue2"){var a=[],nb=[],nK=[],nq=X.Clrz?X.Clrz.v:!1;
for(var k=0;k<256;k++){a[k]=k/255;nb[k]=0;nK[k]=0}var nS=xz.zB(X,0),nB=nY.at(nS[1]/100);if(nq){var nE=nS[0]/360;
for(var k=0;k<256;k++){a[k]=nE;nb[k]=nB}}else{for(var k=0;k<256;k++){var nh=a[k],nv=nb[k];a[k]+=nS[0]/360;
for(var E=0;E<6;E++){var nC=xz.zB(X,E+1),nR=nC.hV,nu=nC.ay,d=0;for(var nF=1;nF<4;nF++)if(nu[nF]<nu[0])nu[nF]+=360;
var nP=nu[0],ni=nu[1],nw=nu[2],nO=nu[3],nT=nh*360;if(nT<nu[0])nT+=360;var nI=(nT-nP)/(ni-nP),gu=(nT-nw)/(nO-nw);
if(nI<0)d=0;else if(nI<1)d=nI;else if(gu<0)d=1;else if(gu<1)d=1-gu;else d=0;var g=nY.at(nR[1]/100);a[k]+=d*nR[0]/360;
nb[k]+=d*g;nK[k]+=d*nR[2]/100}}for(var k=0;k<256;k++){nb[k]=(1+nb[k])*(1+nB)-1;nK[k]=Math.max(-1,Math.min(1,nK[k]))}}var nN=new Uint8Array(256),xn=new Uint8Array(256),nL=new Uint8Array(256);
for(var k=0;k<256;k++){var nV=a[k],nX=nb[k],xY=nK[k];if(nV>1)nV--;if(nV<0)nV++;nX=nY.xAn(nX);nX=(1+nX)*.5;
xY=(1+xY)*.5;nN[k]=Math.round(255*nV);xn[k]=Math.round(255*nX);nL[k]=Math.round(255*xY)}var ny=nS[2]/100,xp=ny<0?-ny:ny,nW=ny<0?0:1;
N={type:q.wo,xvL:nN,IL:xn,xFd:nL,xQA:xp*nW,jS:1-xp,xHj:nS[2]/100,xdx:nq?1:0}}if(b=="nvrt"){var h=new Uint8Array(256);
for(var k=0;k<256;k++)h[k]=255-k;N={type:q.TD,zs:h,NQ:h,VG:h,WM:!1,Wi:!1}}if(b=="post"){var nk=X.Lvls.v,h=new Uint8Array(256),d=nk/255.001,_x=255/(nk-1);
for(var k=0;k<256;k++)h[k]=Math.floor(k*d)*_x;N={type:q.TD,zs:h,NQ:h,VG:h,WM:!1,Wi:!1}}if(b=="grdm"){var xI=X.Grad.v,nZ=X.Rvrs,gC=x.Z.WD(xI.Clrs.v,0,0),O=1024,_q=x.Z.$w(xI,gC,O,nZ?nZ.v:!1),gb=x.K(O),xE=x.K(O),xC=x.K(O);
x.iJ(_q,gb,0);x.iJ(_q,xE,1);x.iJ(_q,xC,2);N={type:q.TD,zs:gb,NQ:xE,VG:xC,WM:!0,Wi:!1}}if(b=="selc"){var pq=new Float32Array(9*3*2),xB=X.II,_r=X.Mthd?X.Mthd.v.CrcM=="Absl":!1;
for(var E=0;E<9;E++){var _h=E*6,_i=gT.zB(X,E),bK=_i[0]/100,xb=_i[1]/100,xv=_i[2]/100,gx=_i[3]/100;if(_r){pq[_h]=pq[_h+1]=pq[_h+2]=1;
pq[_h+3]=bK*(1+gx)+gx;pq[_h+4]=xb*(1+gx)+gx;pq[_h+5]=xv*(1+gx)+gx}else{pq[_h+0]=(1+bK)*(1+gx);pq[_h+1]=(1+xb)*(1+gx);
pq[_h+2]=(1+xv)*(1+gx)}}N={type:q.wy,EY:pq}}if(b=="blwh"){var xK="Rd Yllw Grn Cyn Bl Mgnt".split(" "),N=[],gw=0,xH=0;
for(var k=0;k<6;k++)N.push(X[xK[k]].v);N.push(X.useTint.v,X.tintColor.v);var _p=[];for(var k=0;k<6;k++)_p.push((N[k]-50)/50);
var _n=x.Z.vx(N[7]);_n.D/=255;_n.q/=255;_n.b/=255;var gq=x.Hj(_n.D,_n.q,_n.b),xY=x.xD(x.tA(gq.ai,1,.5)),xx=gq.qD*gq.Qk;
if(xY==.5)gw=xH=.5;else{gw=xx*(.5-xY)/(.5/xY-1);xH=1-xx*(.5-xY)-1/(2*(1-xY));xH/=1-1/(2*(1-xY))}N={type:q.aw,xdM:_p,fj:N[6]?1:0,xuH:gq.ai,xD:xY,xLc:xx,hc:gw,xLs:xH}}if(b=="blnc"){var Z=[],gr=["ShdL","MdtL","HghL"];
for(var k=0;k<3;k++){var nk=X[gr[k]].v,xR=nk[0].v/100,xh=nk[1].v/100,_H=nk[2].v/100,pd=X.PrsL.v?pd=(Math.min(xR,xh,_H)+Math.max(xR,xh,_H))/2:0;
Z[k]=[xR-pd,xh-pd,_H-pd]}var l=[x.K(256),x.K(256),x.K(256)];for(var E=0;E<3;E++)for(var k=0;k<256;k++){var j=k*(1/255),UD=0,L=0,_w=0;
L=Z[2][E];_w=Math.abs(L);if(L<0)UD=Math.pow(j,Math.SQRT2);else UD=1.63*(Math.pow(j+.04,.5)-.2);j=_w*UD+(1-_w)*j;
L=Z[1][E];_w=Math.abs(L);if(L<0)UD=Math.pow(j,2);else UD=Math.min(2.35*(Math.pow(j+.09,.5)-.3),Math.pow(j,1/2));
j=_w*UD+(1-_w)*j;L=Z[0][E];_w=Math.abs(L);if(L<0)UD=j<.4?0:Math.pow((j-.4)/.6,Math.SQRT2);else UD=Math.pow(j,Math.SQRT2/2);
j=_w*UD+(1-_w)*j;j=Math.max(0,Math.min(1,j));l[E][k]=Math.round(j*255)}N={type:q.TD,zs:l[0],NQ:l[1],VG:l[2],WM:!1,Wi:!1}}if(b=="phfl"){var n$=x.Z.vx(X.Clr.v),_J=[n$.D/255,n$.q/255,n$.b/255],bp=X.Dnst.v/100,l=[x.K(256),x.K(256),x.K(256)];
for(var E=0;E<3;E++)for(var k=0;k<256;k++){var j=k*(1/255),_$=j*_J[E];_$=Math.max(0,Math.min(1,_$));
j=bp*_$+(1-bp)*j;l[E][k]=Math.round(j*255)}N={type:q.TD,zs:l[0],NQ:l[1],VG:l[2],WM:!1,Wi:X.PrsL.v}}if(b=="thrs"){var h=x.K(256);
for(var k=X.Lvl.v;k<256;k++)h[k]=255;N={type:q.TD,zs:h,NQ:h,VG:h,WM:!0,Wi:!1}}if(b=="mixr"){var gL=nY.Nw(X),D=[];
for(var k=0;k<gL.A.length;k++)if(k%5!=3)D.push(gL.A[k]/100);if(gL.Uq){for(var xM=1;xM<3;xM++)for(var j=0;
j<4;j++)D[xM*4+j]=D[j]}N={type:q.av,sy:D}}if(b=="rplc"){var bE=X.Mnm.v,U$=X.Mxm.v;N={type:q.aQ,UK:[bE.Lmnc.v,bE.A.v,bE.B.v],UC:[U$.Lmnc.v,U$.A.v,U$.B.v],shift:[X.H.v/360,X.Strt.v/100,X.Lght.v/100],dF:X.Fzns.v/200}}if(b=="clrL"&&X.profile){var _S=new Uint8Array(X.profile.v),gd=ICC.R(_S.buffer),Ko=[],UX=0,bw=gd.tags.A2B0;
UX=bw&&bw.gpnum?bw.gpnum[0]:0;UX=UX>8?UX:17;var Ko=ICC.U.sampleLUT(gd,UX);N={type:q.NB,FU:ICC.U.rgba8LUT(Ko,UX),xWe:Ko,FK:UX}}return N};
nY.wO=function(b,X){var q=-1;if(b!="levl"||X==null)q=-1;else if(X.Auto)q=0;else if(X.AuCo)q=1;else if(X.autoBlackWhite)q=2;
return q};nY.wG={TD:0,wo:1,wf:2,wy:3,aw:4,av:5,aQ:6,NB:7};nY.at=function(b){if(b<0)return b;return Math.pow(Math.tan(Math.PI/2*b),1.3)};
nY.xAn=function(b){if(b<0)return b;b=Math.pow(b,1/1.3);return Math.atan2(b,1)/(Math.PI/2)};nY.dI=function(b,X,q,N){var J=nY.wG,_=Date.now();
if(G.ks&&N.c()>300*300&&b.type!=J.TD&&b.type!=J.NB){N=N.clone();N.x=N.y=0;var p=nY.xuA;if(p==null||p.n!=N.n||p.z!=N.z){if(p)p.delete();
nY.xuA=p=new G.Sm(N.n,N.z)}p.set(X);G.ig(p,N);p.yY(N);nY.aN(b,p.zU,N);p.get(q);return}if(b.type==J.NB){var z=b.xWe,g=b.FK,D=3;
function W(nW,nk,nH,_x,xI,nZ){var gC=1-_x;nZ[xI+0]=gC*nH[nW]+_x*nH[nk];nZ[xI+1]=gC*nH[nW+1]+_x*nH[nk+1];
nZ[xI+2]=gC*nH[nW+2]+_x*nH[nk+2]}var o=[0,0,0,0,0,0,0,0,0,0,0,0],y=(g-1.000001)/255;for(var m=0;m<X.length;
m+=4){var N=y*X[m],k=y*X[m+1],O=y*X[m+2],L=~~N,I=~~k,H=~~O;W(D*(H+g*I+g*g*L),D*(H+1+g*I+g*g*L),z,O-H,0,o);
W(D*(H+g*(I+1)+g*g*L),D*(H+1+g*(I+1)+g*g*L),z,O-H,3,o);W(0,3,o,k-I,6,o);W(D*(H+g*I+g*g*(L+1)),D*(H+1+g*I+g*g*(L+1)),z,O-H,0,o);
W(D*(H+g*(I+1)+g*g*(L+1)),D*(H+1+g*(I+1)+g*g*(L+1)),z,O-H,3,o);W(0,3,o,k-I,9,o);W(6,9,o,N-L,0,o);q[m]=~~(.5+o[0]*255);
q[m+1]=~~(.5+o[1]*255);q[m+2]=~~(.5+o[2]*255)}}if(b.type==J.av)x.sy.SM(X,q,b.sy);if(b.type==J.aw){var Y=b.xLc,n=b.xD,w=b.hc,t=b.xLs,j=X.length;
for(var m=0;m<j;m+=4){var N=X[m]*(1/255),k=X[m+1]*(1/255),O=X[m+2]*(1/255),E=x.$P(N,k,O),h=0;for(var u=0;
u<6;u++)h+=Math.min(1,1.7*(1-E.hZ))*E.qD*b.xdM[u]*nY.xbi(E.ai,u*(1/6));var Z=Math.max(0,Math.min(1,E.hZ*(1+h)));
if(b.fj==1){var A=0;if(Z<w)A=Z*(.5/n);else if(Z<t)A=Z+Y*(.5-n);else A=1-(1-Z)*.5/(1-n);E.ai=b.xuH;E.qD=Math.min(1,Y+3*Y*Math.abs(Z-.5*(w+t)));
E.hZ=A}else{E.ai=0;E.qD=0;E.hZ=Z}var P=x.tA(E.ai,E.qD,E.hZ);q[m]=Math.round(P.D*255);q[m+1]=Math.round(P.q*255);
q[m+2]=Math.round(P.b*255)}}if(b.type==J.wy){var T=b.EY,j=X.length,U=1/255;for(var m=0;m<j;m+=4){var N=X[m]*U,k=X[m+1]*U,O=X[m+2]*U,E=x.$P(N,k,O),r=Math.max(N,Math.max(k,O)),i=Math.min(N,Math.min(k,O)),V=1-N,F=1-k,B=1-O,$=0,l=0,v=0;
for(var u=0;u<9;u++){var C=u*6,nU=0;if(T[C]==1&&T[C+1]==1&&T[C+2]==1&&T[C+3]==0&&T[C+4]==0&&T[C+5]==0)continue;
var f=V*T[C]+T[C+3],nx=F*T[C+1]+T[C+4],nA=B*T[C+2]+T[C+5];if(u<6)nU=nY.xbi(E.ai,u*(1/6))*E.qD*2*Math.min(E.hZ,1-E.hZ);
else if(u==6)nU=Math.max(0,i-.5)*2;else if(u==7)nU=1-(Math.abs(r-.5)+Math.abs(i-.5));else nU=Math.max(0,.5-r)*2;
$+=(Math.max(0,Math.min(1,f))-V)*nU;l+=(Math.max(0,Math.min(1,nx))-F)*nU;v+=(Math.max(0,Math.min(1,nA))-B)*nU}V=Math.max(0,Math.min(1,V+$));
F=Math.max(0,Math.min(1,F+l));B=Math.max(0,Math.min(1,B+v));N=1-V;k=1-F;O=1-B;q[m]=Math.round(N*255);
q[m+1]=Math.round(k*255);q[m+2]=Math.round(O*255)}}if(b.type==J.TD){x.xvX(X,q,b.zs,b.NQ,b.VG,b.WM,b.Wi)}if(b.type==J.wo){var nn=new Uint32Array(X.buffer),nH=new Uint32Array(q.buffer),j=nn.length;
if(nY.jr==null){nY.jr=new Float64Array(256);for(var m=0;m<256;m++)nY.jr[m]=nY.at(-1+2*m/255)}var d=nY.jr;
for(var m=0;m<j;m++){var np=nn[m],N=(np&255)*(1/255),k=(np>>>8&255)*(1/255),O=(np>>>16&255)*(1/255),a=np>>>24,nb=Math.min(N,k,O),nK=Math.max(N,k,O),nq=0,nS=0,nB=0;
if(nK!=nb){var nE=nK-nb;switch(nK){case N:nq=(k-O)/nE+(k<O?6:0);break;case k:nq=(O-N)/nE+2;break;case O:nq=(N-k)/nE+4;
break}nq=nq*(1/6)}var nh=~~(nq*255+.5),nv=b.xvL[nh]*(1/255),nC=b.IL[nh]*(1/255)*2-1,nR=b.xFd[nh]*(1/255)*2-1,h=-nR,nu=nb;
if(0<nR){h=nR;nu=nK}var nF=b.xQA+b.jS*h*nu,nP=b.jS*(1-h);N=nF+nP*N;k=nF+nP*k;O=nF+nP*O;nK=Math.max(N,k,O);
nb=Math.min(N,k,O);nB=(nK+nb)*.5;if(nK!=nb){var nE=nK-nb;nS=nB>.5?nE/(2-(nK+nb)):nE/(nK+nb)}var ni=nC;
if(b.xdx==0){nC=d[Math.floor((1+nC)*127.5)];ni=Math.min(nS*(1+nC),1)}nq=nv;nS=ni;if(nS==0)N=k=O=nB;else{var nw=nB<.5?nB*(1+nS):nB+nS-nB*nS,nO=2*nB-nw;
N=x.tH(nO,nw,nq+1/3);k=x.tH(nO,nw,nq);O=x.tH(nO,nw,nq-1/3)}nH[m]=a<<24|O*255<<16|k*255<<8|N*255}}if(b.type==J.aQ){x.vM(X,q);
var nn=new Uint32Array(X.buffer),nH=new Uint32Array(q.buffer),j=nn.length,nT=b.dF,nI=1/nT,gu={kf:b.UK[0],i:b.UK[1],b:b.UK[2]},nN={kf:b.UC[0],i:b.UC[1],b:b.UC[2]};
for(var m=0;m<j;m++){var np=nn[m],L=np&255,I=np>>>8&255,H=np>>>16&255,N=L*(1/255),k=I*(1/255),O=H*(1/255),a=np>>>24,xn=x.tT(L,I,H),nL=x.sS(xn,gu,nN,nT,nI);
if(nL==0)continue;var E=x.$P(N,k,O),nv=2+E.ai+nL*b.shift[0];E.ai=nv-~~nv;E.qD=Math.max(0,Math.min(1,E.qD+nL*b.shift[1]));
E.hZ=Math.max(0,Math.min(1,E.hZ+nL*b.shift[2]));var P=x.tA(E.ai,E.qD,E.hZ);N=P.D;k=P.q;O=P.b;nH[m]=a<<24|O*255<<16|k*255<<8|N*255}}if(b.type==J.wf){var nn=new Uint32Array(X.buffer),nH=new Uint32Array(q.buffer),j=nn.length,nV=b.Zy[0]/100,nX=b.Zy[1]/100;
for(var m=0;m<j;m++){var np=nn[m],N=(np&255)*(1/255),k=(np>>>8&255)*(1/255),O=(np>>>16&255)*(1/255),a=np>>>24,E=x.Hj(N,k,O),nq=E.ai,nS=E.qD,nB=E.Qk,xY=0,ny=45/360,xp=nq<ny?Math.cos(Math.PI/2*(nq-ny/2)/(ny/2)):0;
nS=nS+.2*(1-.4*xp)*nV*Math.max(0,Math.sin(nS*Math.PI));nS=nS*(1+nX);nS=Math.max(0,Math.min(1,nS));var P=x.bY(nq,nS,nB);
N=P.D;k=P.q;O=P.b;nH[m]=a<<24|O*255<<16|k*255<<8|N*255}}};nY.aN=function(b,X,q){var N=nY.wG;if(b.type==N.TD)G.aW(X,{D:b.zs,q:b.NQ,b:b.VG},b.WM,b.Wi,q);
if(b.type==N.wo)G.pc(X,{D:b.xvL,q:b.IL,b:b.xFd},q,b.xQA,b.jS,b.xdx);if(b.type==N.wf)G.Xk(X,b.Zy[0]/100,b.Zy[1]/100,q);
if(b.type==N.wy)G.Op(X,b.EY,q);if(b.type==N.aw)G.O_(X,b.xdM,[b.fj,b.xuH,b.xD,b.xLc,b.hc,b.xLs],q);if(b.type==N.av)G.Nu(X,b.sy,q);
if(b.type==N.aQ)G.NT(X,b.UK,b.UC,b.shift,b.dF,q);if(b.type==N.NB)G.vv(X,b.FK,b.FU,q)};nY.xbi=function(b,X){var q=x.lX(X,b)*6;
return Math.max(0,Math.min(1,q<0?1+q:1-q))};nY.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
nY.xxL=["expA","clrL","selc"];nY.aG=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];nY.xAi=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
nY.Nq=[[13,1,1],[13,1,4],[13,1,5]];nY.fq={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA","\0\0\0\xDE":"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh","\0\0\0\xDD":"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr","\0\0\0\xDF":"clrL",rplc:"rplc"};
nY.Nh=function(){var b=JSON.parse(JSON.stringify(nY.fq));delete b["\0\0\0\xDE"];delete b["\0\0\0\xDD"];
delete b.GrMp;b.vibrance="vibA";b.photoFilter="phfl";b.GdMp="grdm";return b}();nY.nM={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
nY.keys={levl:[S.zN,S.kf],curv:[S.zN,S.aO],hue2:[S.zN,S.Db],nvrt:[S.zN,S.wu],blnc:[S.zN,S.xgh]};nY.xAO=function(b){var X=nm.Z$("mixr");
X.Mnch={t:"bool",v:b.Uq};function q(N,J){var _={classID:"ChMx"},p={Rd:0,Grn:1,Bl:2,Cnst:4};for(var z in p)_[z]={t:"UntF",v:{type:"#Prc",val:N[J+p[z]]}};
return{t:"Objc",v:_}}if(b.Uq)X.Gry=q(b.A,0);else{X.Rd=q(b.A,0);X.Grn=q(b.A,5);X.Bl=q(b.A,10)}return X};
nY.Nw=function(b){function X(N,J,_){var p={Rd:0,Grn:1,Bl:2,Cnst:4};for(var z in p)if(N[z])J[_+p[z]]=N[z].v.val}var q={Uq:!1,A:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(b.Mnch&&b.Mnch.v)q.Uq=!0;if(q.Uq)X(b.Gry.v,q.A,0);else{X(b.Rd.v,q.A,0);X(b.Grn.v,q.A,5);X(b.Bl.v,q.A,10)}return q};
var nm={};nm.fN=[{G$:"GEfc"},{G$:"LnCr"},{G$:"LqFy",xy:!0},{Qf:"3D",lP:["\0\0\x03^"]},{Qf:[24,2],lP:"Avrg,Blr ,BlrM,\0\0\x02\xB1,GsnB,MtnB,RdlB,\0\0\x02\xB5".split(",")},{Qf:[24,4],lP:"Dspl,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave".split(",")},{Qf:[24,6],lP:["AdNs","DstS","Mdn "]},{Qf:[24,8],lP:["ClrH","Crst","Mztn","Msc ","Pntl"]},{Qf:[24,10],lP:["Clds","DfrC","LnsF"]},{Qf:[24,12],lP:["Shrp","ShrM","\0\0\x03\xE8","UnsM"]},{Qf:[24,14],lP:["FndE"]},{Qf:[24,16],lP:["HghP","Mxm ","Mnm ","Ofst","Rept"]},{Qf:"Fourier",lP:["dDFT","iDFT"]}];
nm.nM={LqFy:"LqFy",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod","\0\0\x02\xB1":"boxblur",GsnB:"gaussianBlur",MtnB:"motionBlur",RdlB:"radialBlur","\0\0\x02\xB5":"surfaceBlur",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",AdNs:"addNoise",DstS:"dustAndScratches","Mdn ":"median",ClrH:"colorHalftone",Crst:"",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"",Clds:"clouds",DfrC:"differenceClouds",LnsF:"LnsF",Shrp:"sharpen",ShrM:"sharpenMore","\0\0\x03\xE8":"smartSharpen",UnsM:"unsharpMask",FndE:"findEdges",HghP:"highPass","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset"};
nm.names={"\0\0\x03^":"Normal Map",LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],"\0\0\x02\xB1":[24,3,3],GsnB:[24,3,4],MtnB:[24,3,6],RdlB:[24,3,7],"\0\0\x02\xB5":[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],AdNs:[24,7,0],DstS:[24,7,2],"Mdn ":[24,7,3],ClrH:[24,9,0],Crst:[24,9,1],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Clds:[24,11,0],DfrC:[24,11,1],LnsF:[24,11,2],Shrp:[24,13,0],ShrM:[24,13,2],"\0\0\x03\xE8":[24,13,3],UnsM:[24,13,4],FndE:[24,15,3],HghP:[24,17,1],"Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform"};
nm.Z$=function(b){var X=null;if(b=="GEfc")X=_M.Z$("GlwE");if(b=="LqFy"){var q={w$:50,ai:50,map:new Float32Array(50*50*2)},N=new Uint8Array(Kc.Bn(q)),J=[];
for(var _=0;_<N.length;_++)J.push(N[_]);X={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:J}}}if(b=="LnCr")X={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(b=="\0\0\x03^")X={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}};
if(b=="\0\0\x02\xB1")X={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(b=="GsnB")X={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(b=="MtnB")X={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(b=="RdlB")X={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(b=="\0\0\x02\xB5")X={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(b=="Dspl")X={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(b=="Pnch")X={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(b=="Plr ")X={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(b=="Rple")X={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(b=="Shr ")X={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(b=="Sphr")X={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(b=="Twrl")X={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(b=="Wave")X={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(b=="AdNs")X={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(b=="DstS")X={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(b=="Mdn ")X={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(b=="ClrH")X={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(b=="Crst")X={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(b=="Mztn")X={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(b=="Msc ")X={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(b=="Pntl")X={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(b=="LnsF")X={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(b=="\0\0\x03\xE8")X={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(b=="UnsM")X={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(b=="HghP")X={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(b=="Mxm ")X={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:9}}};
if(b=="Mnm ")X={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:14}}};if(b=="Ofst")X={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(b=="Rept")X={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(b=="brit")X={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(b=="levl")X={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(b=="curv")X={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(b=="expA")X={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(b=="vibA")X={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(b=="hue2")X={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(b=="blnc")X={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(b=="blwh")X={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(b=="phfl")X={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(b=="grdm")X={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!1},Grad:JSON.parse(UZ.IN[6]).Grad};
if(b=="selc")X={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(b=="thrs")X={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(b=="mixr")X={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(b=="clrL")X={__name:"Color Lookup",classID:"colorLookup"};if(b=="nvrt")X={};if(b=="post")X={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(b=="rplc")X={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:100},Lght:{t:"long",v:2}};
if(b=="fade")X={__name:"Fade",classID:"fade",Md:{v:{BlnM:"Nrml"},t:"enum"},Opct:{v:{type:"#Prc",val:100},t:"UntF"}};
return X};nm.xAF=function(b){var X=new Ue(0,0);if(b.enab.v==!1)return X;var q=b.filterFXList.v;for(var N=0;
N<q.length;N++){var J=q[N].v,p=0,z=0;if(J.enab.v==!1)continue;var _=e.BV(J.filterID.v);if(["GsnB","\0\0\x02\xB1","\0\0\x03\xE8","UnsM","HghP"].indexOf(_)!=-1){var g=J.Fltr.v.Rds.v.val;
p=z=g*2.57}if(_=="MtnB")p=z=J.Fltr.v.Dstn.v.val;if("Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,Wave,RdlB,Plr ,LnCr,\0\0\x03^".split(",").indexOf(_)!=-1){p=z=1e4}if(_=="GEfc")p=z=1e4;
p=Math.ceil(p);z=Math.ceil(z);if(p>X.x)X.x=p;if(z>X.y)X.y=z}return X};nm.xAs=function(b,X,q,N){for(var J=0;
J<b.length;J++){q[J]=b[J]*(1/255);N[J]=0}FFT.fft2d(q,N);var _=X>>>1,p=16384,z=128,W=100;while(z<X){z<<=1;
p<<=2}var g=255/Math.log(p),o=-100;for(var y=0;y<X;y++)for(var D=0;D<_;D++){var m=X+_+y&X-1,k=q[m*X+D],O=N[m*X+D],L=Math.sqrt(k*k+O*O),I=Math.atan2(O,k);
b[y*X+D]=Math.round(g*Math.log(L+1));b[y*X+_+D]=Math.round((Math.PI+I)*(255*.5/Math.PI))}};nm.xxN=function(b,X,q,N){q.fill(0);
N.fill(0);var J=X>>>1,_=16384,p=128;while(p<X){p<<=1;_<<=2}var z=255/Math.log(_),g=[],W=[],o=[];for(var y=0;
y<256;y++){g[y]=Math.exp(y/z)-1;var D=y*(2*Math.PI/255)-Math.PI;W[y]=Math.sin(D);o[y]=Math.cos(D)}for(var m=0;
m<X;m++)for(var k=0;k<J;k++){var O=X+J+m&X-1,L=g[b[m*X+k]],D=b[m*X+J+k],I=L*o[D],H=L*W[D];q[O*X+k]=I;
N[O*X+k]=H;if(k!=0){var Y=O==0?O*X+X-k:(X-O)*X+(X-k);q[Y]=I;N[Y]=-H}}FFT.ifft2d(q,N);for(var y=0;y<b.length;
y++){b[y]=Math.max(0,Math.min(255,~~(.5+255*q[y])))}};nm.dI=function(b,X,q,N,J,_,p){if(_==null)_={buffer:x.K(X.buffer.length),rect:X.rect.clone()};
x.vM(X.buffer,_.buffer);if(b=="GEfc")_M.dI(b,X,q,N,J,_,p);if(b=="\0\0\x03^"){function z(l){var bQ=1/Math.sqrt(l[0]*l[0]+l[1]*l[1]+l[2]*l[2]);
l[0]*=bQ;l[1]*=bQ;l[2]*=bQ}var g=X.rect.n,W=X.rect.z,o=g*W,y=Date.now(),D=x.K(o),A=.3,P=.7;x.J_(_.buffer,D);
var m=x.K(o);x.blur.Jh(D,m,_.rect,16);var k=x.K(o);x.blur.Jh(D,k,_.rect,8);var O=D,L=new Float32Array(o),I=q.Dtl.v,H=I[2].v,Y=I[1].v,n=I[0].v,w=q.Scl.v*40*q.textureScale.v/(H+Y+n);
H*=w;Y*=w;n*=w;for(var t=0;t<o;t++){var j=m[t]*(1/255),E=k[t]*(1/255),h=O[t]*(1/255);h=h*h;L[t]=H*j+Y*E+n*h}var u=q.blur.v;
if(u!=0){var Z=L.slice(0);x.blur.Vq(Z,L,_.rect,u)}var T=g-1,U=W-1;for(var r=1;r<U;r++)for(var i=1;i<T;
i++){var t=r*g+i,V=t*4,F=L[t],B=A*(L[t+1]-F)+P*(F-L[t-1]),$=A*(L[t+g]-F)+P*(F-L[t-g]),l=[1,0,B],v=[0,1,$];
z(l);z(v);var C=l[0],f=l[2],nx=v[1],nA=v[2],nU=-f*nx,nn=-C*nA,nH=C*nx;_.buffer[V]=~~(127.5+nU*127.5);
_.buffer[V+1]=~~(127.5+nn*127.5);_.buffer[V+2]=~~(127.5+nH*127.5)}}if(b=="dDFT"||b=="iDFT"){function d(bQ){if(bQ==0)return 1;
bQ--;bQ|=bQ>>1;bQ|=bQ>>2;bQ|=bQ>>4;bQ|=bQ>>8;bQ|=bQ>>16;return bQ+1}var g=X.rect.n,W=X.rect.z,np=d(Math.max(g,W)),a=np>>>1,nb=new R(0,0,np,np),nK=new R(0,0,g,W);
nK.y=np-W>>>1;var nq=g>>>1,nS=new R(0,nK.y,nq,W),nB=new x.Sm(g*W);x.KY(X.buffer,nB);var nE=new Float64Array(np*np),nh=new Float64Array(np*np),nv=x.K(np*np);
FFT.init(np);var nC=[nB.D,nB.q,nB.b];for(var t=0;t<3;t++){var nR=nC[t];nv.fill(0);if(b=="dDFT"){x.rS(nR,nK,nv,nb);
nm.xAs(nv,np,nE,nh);x.rS(nv,nb,nR,nK,nS);nS.x+=nq;nb.x-=a-nq;x.rS(nv,nb,nR,nK,nS);nS.x-=nq;nb.x+=a-nq}else{x.rS(nR,nK,nv,nb,nS);
nS.x+=a;nK.x+=a-nq;x.rS(nR,nK,nv,nb,nS);nS.x-=a;nK.x-=a-nq;nm.xxN(nv,np,nE,nh);x.rS(nv,nb,nR,nK)}}x.bL(nB,_.buffer)}if(b=="Avrg"){var nu=0,nF=0,nP=0,ni=0,nw=1;
for(var t=0;t<X.buffer.length;t+=4){var nO=X.buffer[t+3];nP+=X.buffer[t]*nO;nF+=X.buffer[t+1]*nO;nu+=X.buffer[t+2]*nO;
ni+=nO}var nT=1/ni;nu=Math.round(nw*(nu*nT)+(1-nw)*255);nF=Math.round(nw*(nF*nT)+(1-nw)*255);nP=Math.round(nw*(nP*nT)+(1-nw)*255);
x.Ws(_.buffer,nu<<16|nF<<8|nP,4278190080)}if(["GsnB","\0\0\x02\xB1","\0\0\x03\xE8","UnsM","HghP"].indexOf(b)!=-1){var nI=q.Rds.v.val,gu=b=="\0\0\x02\xB1"?x.blur.su:x.blur.xWF;
nm.NP(nI,gu,_.buffer,_.rect);if(b=="UnsM"||b=="\0\0\x03\xE8"){var nN=q.Amnt.v.val/100,xn=0;if(b=="UnsM")xn=q.Thsh.v;
else nN*=.75;for(var t=0;t<X.buffer.length;t++){if((t&3)==3){_.buffer[t]=X.buffer[t];continue}var nL=X.buffer[t],nV=_.buffer[t],nX=nN*(nL-nV);
if(nX>0)nX=Math.max(0,nX-xn);else nX=Math.min(0,nX+xn);_.buffer[t]=Math.max(0,Math.min(255,nL+nX))}}if(b=="HghP")for(var t=0;
t<X.buffer.length;t++){if((t&3)==3){_.buffer[t]=X.buffer[t];continue}var nL=X.buffer[t],nV=_.buffer[t];
_.buffer[t]=Math.max(0,Math.min(255,128+nL-nV))}}if(b=="\0\0\x02\xB5"){var xY=q.Rds.v.val,ny=q.Thsh.v,g=X.rect.n,W=X.rect.z;
nm.QA(X.buffer,_.buffer,g,W,xY,x.vh.se,[ny],2)}if(b=="AdNs"){var xp=new Uint8ClampedArray(_.buffer.buffer),nW=255*q.Nose.v.val/100,nk;
if(q.Dstr.v.Dstr=="Gsn")nk=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else nk=function(){return Math.random()*2-1};for(var t=0;t<xp.length;t+=4){var xY=xp[t],_x=xp[t+1],xI=xp[t+2],nZ,gC,_q;
if(q.Mnch.v){nZ=gC=_q=nk()}else{nZ=nk();gC=nk();_q=nk()}xY+=nW*nZ;_x+=nW*gC;xI+=nW*_q;xp[t]=xY;xp[t+1]=_x;
xp[t+2]=xI}}if(b=="Mdn "||b=="DstS"||b=="Mxm "||b=="Mnm "){var xY=0;if(b=="Mdn "||b=="Mxm "||b=="Mnm ")xY=q.Rds.v.val;
if(b=="DstS")xY=q.Rds.v;x.vh.WX=.5;var gu=x.vh.KZ;if(b=="Mxm ")gu=x.vh.ss;if(b=="Mnm ")gu=x.vh.s$;var g=X.rect.n,W=X.rect.z,gb={"Mdn ":0,"Mxm ":1,"Mnm ":1,DstS:2}[b];
nm.QA(X.buffer,_.buffer,g,W,xY,gu,[],gb);if(b=="DstS"){var ny=q.Thsh.v;for(var t=0;t<g*W*4;t++){var xE=Math.abs(X.buffer[t]-_.buffer[t]);
if(xE<=ny)_.buffer[t]=X.buffer[t]}}}if(b=="ClrH"){var nS=X.rect.clone();nS.x=nS.y=0;var xY=q.Rds.v;xY=Math.round(xY*Math.sqrt(2));
var g=nS.n,W=nS.z,nB=new x.Sm(g*W);x.KY(X.buffer,nB);x.Kn(nB.D);x.Kn(nB.q);x.Kn(nB.b);var xC=K.m("canvas","");
xC.width=g;xC.height=W;var pq=xC.getContext("2d"),xB=x.K(g*W*4);for(var _r=0;_r<3;_r++){var nv=_r==0?nB.D:_r==1?nB.q:nB.b,_h=Math.PI*q["Ang"+(_r+1)].v/180,_i=new nQ(1/xY,0,0,1/xY,0,0);
_i.rotate(_h);x.qR(nv,xB,3);var bK=c.C.wx([xB,nS],_i,!0),nK=bK.rect;pq.clearRect(0,0,g,W);var xb=Math.sin(_h),xv=Math.cos(_h);
for(var t=0;t<nK.z;t++)for(var gx=0;gx<nK.n;gx++){var i=(gx+nK.x+.5)*xY,r=(t+nK.y+.5)*xY,xK=i,_p=r;i=xv*xK-xb*_p;
r=xb*xK+xv*_p;var o=bK.buffer[(t*nK.n+gx<<2)+3]*(1/255),nI=xY*Math.sqrt(o*(1/Math.PI));pq.beginPath();
pq.arc(i,r,nI,0,2*Math.PI);pq.fill()}var _n=pq.getImageData(0,0,g,W);x.iJ(_n.data,nv,3)}x.Kn(nB.D);x.Kn(nB.q);
x.Kn(nB.b);x.bL(nB,_.buffer)}if(b=="Crst"||b=="Pntl"){var g=X.rect.n,W=X.rect.z,gu=b=="Crst"?x.aj.xlG:x.aj.xlP;
gu(X.buffer,g,W,_.buffer,q.ClSz.v,[Math.round(J.D),Math.round(J.q),Math.round(J.b)])}if(b=="Mztn"){var g=X.rect.n,W=X.rect.z,o=g*W,nB=new x.Sm(o),gq=[nB.D,nB.q,nB.b];
x.KY(X.buffer,nB);var xx=q.MztT.v.MztT,gw={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[xx],y=Date.now(),xH=[];
for(var t=0;t<o;t++){xH[t]=Math.random()}var o=g*W,gr=Math.round(o*gw[0]),xR=o-g-1;for(var t=0;t<gr;
t++){var xh=Math.random(),_H=1;if(xh<.5){_H=g;xh*=2}else xh=2*(xh-.5);var pd=Math.floor(xh*xR),UD=pd+_H;
xH[pd]=xH[UD]}var _w=Math.round(g*gw[1]);for(var r=0;r<W;r++)for(var t=0;t<_w;t++){var xh=x.t.ky(r*o+t),pd=r*g+Math.floor(xh*(g-1));
xH[pd]=xH[pd+1]}var n$=new Float64Array(256);for(var t=0;t<256;t++){var _J=t/255,bp=2*(_J<.5?_J:1-_J);
bp=gw[2]+Math.pow(bp,gw[3])*(1-gw[2]);_J=_J<.5?bp*.5:1-bp*.5;n$[t]=_J}for(var _$=0;_$<3;_$++){var nv=gq[_$];
for(var r=0;r<W;r++){for(var i=0;i<g;i++){var t=r*g+i,gL=nv[t],_J=n$[gL],xh=xH[t];nv[t]=xh>_J?0:255}}}x.bL(nB,_.buffer)}if(b=="Msc "){var xM=q.ClSz.v.val,g=X.rect.n,W=X.rect.z,bE=Math.ceil(g/xM),U$=Math.ceil(W/xM),_S=x.K(bE*U$*4);
x.scale.wN(X.buffer,g,W,_S,bE,U$,1/xM);x.scale.wN(_S,bE,U$,_.buffer,g,W,xM)}if(b=="Clds"||b=="DfrC"){if(b=="Clds")x.Ws(_.buffer,4278190080);
var gd=x.K(256*4);for(var t=0;t<256;t++){var V=t<<2,Ko=t/255,UX=1-Ko;gd[V]=Math.round(Ko*N.D+UX*J.D);
gd[V+1]=Math.round(Ko*N.q+UX*J.q);gd[V+2]=Math.round(Ko*N.b+UX*J.b)}var g=_.rect.n,W=_.rect.z,o=g*W,bw=x.K(o);
noise.seed(Math.random());for(var r=0;r<W;r++)for(var i=0;i<g;i++){var w=0,_F=1,bR=1;for(var t=0;t<8;
t++){var pY=bR*(1/170);w+=noise.perlin2(i*pY,r*pY)*_F;_F*=.5;bR=bR<<1}bw[r*g+i]=Math.round(Math.max(0,255*Math.min(1,.5+.7*w*.5)))}var _Y=_.buffer;
for(var t=0;t<o;t++){var V=t<<2,_$=bw[t]<<2,xY=gd[_$],_x=gd[_$+1],xI=gd[_$+2];if(b=="Clds"){_Y[V]=xY;
_Y[V+1]=_x;_Y[V+2]=xI}else{_Y[V]=Math.abs(_Y[4*t]-xY);_Y[V+1]=Math.abs(_Y[4*t+1]-_x);_Y[V+2]=Math.abs(_Y[4*t+2]-xI)}}}if(b=="LnsF"){var g=X.rect.n,W=X.rect.z,xx=["Zm","Nkn","Nkn1","PnVs"].indexOf(q.Lns.v.Lns),xG=q.FlrC.v,gh=[Math.min(xx,2),q.Brgh.v/100,xG.Hrzn.v,xG.Vrtc.v],y=Date.now();
x.xKL(X.buffer,g,W,_.buffer,gh)}if(b=="Blr "||b=="BlrM"||b=="Shrp"||b=="ShrM"){var g=X.rect.n,W=X.rect.z,gG;
if(b=="Blr ")gG=[1,2,1,2,16,2,1,2,1];else if(b=="BlrM")gG=[1,2,1,2,4,2,1,2,1];else if(b=="Shrp")gG=[0,-1,0,-1,8,-1,0,-1,0];
else gG=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];gG=x.vh.EX(gG);var gK=X.buffer.slice(0);x.bP(gK);x.vh.JA(gK,_.buffer,g,W,gG,b=="Shrp"||b=="ShrM"?0:255);
if(b=="Shrp"||b=="ShrM")x.sC(_.buffer);x.bM(_.buffer)}if(b=="MtnB"){var y=Date.now(),_i=new nQ;_i.rotate(-q.Angl.v*Math.PI/180);
var bK=c.C.wx([X.buffer,X.rect],_i,!1,null,!0);nm.NP(q.Dstn.v.val/2,x.blur.sY,bK.buffer,bK.rect);_i.Kn();
bK=c.C.wx([bK.buffer,bK.rect],_i,!1,_.buffer.buffer,!0,_.rect);console.log(Date.now()-y)}if(b=="RdlB"){var g=X.rect.n,W=X.rect.z,nN=q.Amnt.v,gE=q.BlrM.v.BlrM=="Zm",_r=q.Cntr.v,_k=_r.Hrzn.v,xo=_r.Vrtc.v,B=Math.max(_k,1-_k)*g,$=Math.max(xo,1-xo)*W,nI=Math.sqrt(B*B+$*$),Uv=2*Math.PI*nI*1.5,_I=Math.round(Uv),_c=Math.round(nI),nS=new R(0,0,_I,_c),px=x.K(_I*_c*4),pR=gE?4:1,bF=gE?.6:8*((g+W)/2)/1400,bu=.1,pY=1,gN=1;
x.GI.$h(X.buffer,g,W,px,_I,_c,_k,xo,pR,bu,pY,gN);var gD=gE?x.K(_I*_c*4):null;if(gE){x.GI.wH(px,gD,_I,_c);
var gO=gD;gD=px;px=gO;nS.n=_c;nS.z=_I}nm.NP(bF*nN,x.blur.sY,px,nS);if(gE){x.GI.wH(px,gD,_c,_I);var gO=gD;
gD=px;px=gO;nS.n=_I;nS.z=_c}x.GI.$H(px,_I,_c,_.buffer,g,W,_k,xo,pR,bu,pY,gN)}if(b=="Plr "){var g=X.rect.n,W=X.rect.z;
if(q.Cnvr.v.Cnvr=="RctP")x.GI.$H(X.buffer,g,W,_.buffer,g,W,.5,.5,1,0,2,g/W);else x.GI.$h(X.buffer,g,W,_.buffer,g,W,.5,.5,1,0,2,g/W)}if(b=="FndE"){var g=X.rect.n,W=X.rect.z;
nm.xAD(X.buffer,_.buffer,g,W)}if(b=="Ofst"){var g=X.rect.n,W=X.rect.z,K_=new Uint32Array(X.buffer.buffer),g_=new Uint32Array(_.buffer.buffer),xK=q.Hrzn.v,_p=q.Vrtc.v,pn=q.Fl.v.FlMd;
x.Ws(g_,0);if(pn=="Bckg"||pn=="Rpt"){var nS=X.rect.clone();nS.offset(xK,_p);x.iX(K_,nS,g_,_.rect)}if(pn=="Rpt"){var ph,bd,_u,bU,UV;
xK=Math.max(-g,Math.min(g,xK));_p=Math.max(-W,Math.min(W,_p));ph=xK>0?xK:0;_u=xK>0?g:g+xK;bd=_p>0?0:_p+W;
bU=_p>0?_p:W;UV=_p>0?0:g*(W-1);for(var r=bd;r<bU;r++)for(var i=ph;i<_u;i++)g_[r*g+i]=K_[UV+i-xK];ph=xK>0?0:g+xK;
_u=xK>0?xK:g;bd=_p>0?_p:0;bU=_p>0?W:W+_p;UV=xK>0?0:g-1;for(var r=bd;r<bU;r++)for(var i=ph;i<_u;i++)g_[r*g+i]=K_[UV+g*(r-_p)];
if(xK>=0&&_p>=0){ph=0;_u=xK;bd=0;bU=_p;UV=0}if(xK>=0&&_p<0){ph=0;_u=xK;bd=W+_p;bU=W;UV=g*(W-1)}if(xK<0&&_p>=0){ph=g+xK;
_u=g;bd=0;bU=_p;UV=g-1}if(xK<0&&_p<0){ph=g+xK;_u=g;bd=W+_p;bU=W;UV=g*W-1}for(var r=bd;r<bU;r++)for(var i=ph;
i<_u;i++)g_[r*g+i]=K_[UV]}if(pn=="Wrp"){xK=(xK+100*g)%g;_p=(_p+100*W)%W;var nS=new R(xK-g,_p-W,g,W);
x.iX(K_,nS,g_,_.rect);nS.offset(g,0);x.iX(K_,nS,g_,_.rect);nS.offset(0,W);x.iX(K_,nS,g_,_.rect);nS.offset(-g,0);
x.iX(K_,nS,g_,_.rect)}}if(b=="Rept"){var pz=q.Rsft.v.val/100,b$=q.SpcX.v.val/100;b$=Math.max(b$,-.99);
var SA=q.SpcY.v.val/100;SA=Math.max(SA,-.99);var pY=q.Scl.v.val/100,_i=new nQ;_i.rotate(q.Angl.v*Math.PI/180);
_i.scale(pY,pY);var S_={buffer:X.buffer,rect:X.rect};x.Wp(S_);if(S_.rect.qa()){S_.buffer=X.buffer;S_.rect=X.rect}var _Y=S_.buffer,nS=S_.rect,ba=x.bQ(_Y,nS,0),bY=new Uint32Array(_Y.buffer)[0];
if(!ba.qa()&&!ba.Rj(nS)){var bs=x.K(ba.c()*4);x.iX(_Y,nS,bs,ba);_Y=bs;nS=ba}nS.x=nS.y=0;bY=b$==0&&SA==0||q.SpcC.v?bY:0;
function bv(i){return i<0?Math.ceil(i):Math.floor(i)}var KC=_i.PK(new Ue(nS.n,0));KC.x=bv(KC.x);KC.y=bv(KC.y);
var pU=_i.PK(new Ue(0,nS.z));pU.x=bv(pU.x);pU.y=bv(pU.y);var bK=c.C.wx([_Y,nS],_i,!1),nK=bK.rect,bV=bK.buffer,bi=Math.round(nK.x),Kx=Math.round(nK.y),bL=Math.max(_.rect.n,_.rect.z)/Math.min(nS.n*pY*(1+b$),nS.z*pY*(1+SA));
bL=Math.ceil(bL*1.7);x.Ws(_.buffer,bY);for(var r=-bL;r<bL;r++){for(var i=-bL;i<bL;i++){var UP=(i+r*pz)*(1+b$),bG=r*(1+SA);
nK.x=bi+Math.round(UP*KC.x+bG*pU.x);nK.y=Kx+Math.round(UP*KC.y+bG*pU.y);if(nK.Dj(_.rect))x.t.TG("norm",bV,nK,_.buffer,_.rect,nK,1)}}}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr".split(",").indexOf(b)!=-1){var g=X.rect.n,W=X.rect.z,n$,bT=0;
if(b=="LqFy")n$=Kc.UU(new Uint8Array(q.LqMe.v).buffer);else{var gt=b=="Dspl"?1:3;n$={w$:Math.floor(g/gt),ai:Math.floor(W/gt)};
n$.map=new Float32Array(n$.w$*n$.ai*2);if(b=="LnCr"){var _k=.5*(n$.w$-1),xo=.5*(n$.ai-1),pL=Math.max(Math.abs(0-_k),Math.abs(1-_k)),gy=Math.max(Math.abs(0-xo),Math.abs(1-xo)),Kk=Math.sqrt(pL*pL+gy*gy),Kr=0,pg=0,Kq=-1,bZ=2,pY=q.LnSi.v/100,gE=1/pY,bc=q.LnIa.v/100,KE=bc==0?1e-6:bc*4.6,bn=gE/Kk;
for(var r=0;r<n$.ai;r++){for(var i=0;i<n$.w$;i++){var B=(i-_k)*bn,$=(r-xo)*bn,xY=Math.sqrt(B*B+$*$)*KE,Kh=Math.atan(xY),Sp=bc>0?Kh/xY:xY/Kh,gN=_k+Kk*Sp*B,pI=xo+Kk*Sp*$,t=r*n$.w$+i<<1;
n$.map[t]=gN-i;n$.map[t+1]=pI-r}}}else if(b=="Dspl"&&p.length!=0){bT=q.UndA.v.UndA=="WrpA"?2:1;var xy=q.DspF.v.pth,Uk;
for(var t=0;t<p.length;t++)if(p[t].pA==xy)Uk=p[t];if(Uk==null)Uk=p[0];Uk.US();var UU=Uk.aS[1],Ka=x.K(UU.c());
x.J_(Uk.aS[0],Ka);var KR=UU.n,KF=2*q.HrzS.v/gt,Kp=2*q.VrtS.v/gt;for(var r=0;r<n$.ai;r++){for(var i=0;
i<n$.w$;i++){var pL=Math.floor(UU.n*i/n$.w$),gy=Math.floor(UU.z*r/n$.ai),B=$=-.5+Ka[gy*KR+pL]/255,t=r*n$.w$+i<<1;
n$.map[t]=B*KF;n$.map[t+1]=$*Kp}}}else if(b=="Pnch"||b=="Twrl"||b=="Sphr"){var nN=1,bz=Math.PI,p_=0,_r=3,xM=1.53,Sp=1;
if(b=="Pnch"||b=="Sphr")nN=q.Amnt.v/100;if(b=="Twrl")bz=q.Angl.v*Math.PI/180;if(b=="Sphr")p_=["Nrml","HrzO","VrtO"].indexOf(q.SphM.v.SphM);
function gu(i){i=Math.pow(i,1-i*.3-i*i*(i*i)*.5);return-.225*Math.sin(i*Math.PI)}function gg(W,bQ,xY,ph,bd,_u,bU,Sp){var B=_u-ph,$=bU-bd,xO=ph-W,KJ=bd-bQ,Ko=B*B+$*$,xI=2*(B*xO+$*KJ),_r=xO*xO+KJ*KJ-xY*xY,Sh=Math.sqrt(xI*xI-4*Ko*_r),Sr=Sp/(2*Ko),SE=(-xI+Sh)*Sr,Sw=(-xI-Sh)*Sr;
return Sp*Math.min(SE,Sw)}var bE=n$.w$,U$=n$.ai,pW=n$.w$/2,U=n$.ai/2,KL=1/pW,xY=Math.sqrt(_r*_r+1)/_r,nR=_r+Math.sqrt(1/(_r*_r));
if(nN<0){_r=1.72;xY=1;nR=_r;xM=-1;Sp=-1}for(var r=0;r<U$;r++){var $=(r-U)/U;for(var i=0;i<bE;i++){var B=(i-pW)*KL;
if(p_==1)$=0;else if(p_==2)B=0;var _N=Math.sqrt(B*B+$*$);if(_N<1&&_N!=0){var t=r*n$.w$+i<<1;if(b=="Pnch"){var pr=-nN*gu(_N)/_N;
n$.map[t]=B*pr*pW;n$.map[t+1]=$*pr*U}else if(b=="Sphr"){var gO=gg(0,nR,xY,0,0,_N,_r,Sp),KQ=xM*nN*(gO-1);
n$.map[t]=B*KQ*pW;n$.map[t+1]=$*KQ*U}else if(b=="Twrl"){var _h=Math.atan2($,B)-bz*(1-_N)*(1-_N),KU=Math.cos(_h),KH=Math.sin(_h);
n$.map[t]=(_N*KU-B)*pW;n$.map[t+1]=(_N*KH-$)*U}}}}}else if(b=="Shr "){var Kd=JSON.parse(JSON.stringify(q.ShrP.v));
x.BJ.w(Kd,new nQ(0,255/127,255/127,0,-2,0));var bW=x.BJ.$l(Kd,n$.ai,!0);bT=q.UndA.v.UndA=="WrpA"?2:1;
for(var r=0;r<n$.ai;r++){var B=-bW[r]*n$.w$;for(var i=0;i<n$.w$;i++){var t=r*n$.w$+i<<1;n$.map[t]=B}}}else if(b=="Wave"){var _o=q.NmbG.v,pk=q.WLMn.v,Kt=q.WLMx.v,bP=q.AmMn.v*(Math.PI/4),bx=q.AmMx.v*(Math.PI/4),Kb=q.SclH.v/100,KD=q.SclV.v/100,xx=q.Wvtp.v.Wvtp,bk=Math.sin;
if(xx=="WvTr")bk=function(i){i*=2/Math.PI;return-.5+Math.abs(i%2-1)};if(xx=="WvSq")bk=function(i){i*=2/Math.PI;
return 1+2*Math.floor(i%2-1)};var bb=[],KA=new x.t.bZ(q.RndS.v);for(var t=0;t<_o;t++){bb.push(KA.get()*10);
bb.push(Math.PI*gt/(pk+KA.get()*(Kt-pk)));bb.push(Kb*(bP+KA.get()*(bx-bP))/gt);bb.push(KA.get()*10);
bb.push(Math.PI*gt/(pk+KA.get()*(Kt-pk)));bb.push(KD*(bP+KA.get()*(bx-bP))/gt)}var Kf=[],Ks=[],Ky=Math.max(n$.w$,n$.ai);
for(var t=0;t<Ky;t++){var B=0,$=0;for(var gx=0;gx<_o;gx++){var Um=gx*6;B+=bb[Um+2]*bk(bb[Um]+t*bb[Um+1]);
$+=bb[Um+5]*bk(bb[Um+3]+t*bb[Um+4])}Kf[t]=$;Ks[t]=B}for(var r=0;r<n$.ai;r++){for(var i=0;i<n$.w$;i++){var t=r*n$.w$+i<<1;
n$.map[t]=Ks[r];n$.map[t+1]=Kf[i]}}bT=q.UndA.v.UndA=="WrpA"?2:1}else if(b=="Rple"){bT=1;var nN=q.Amnt.v/100,bg=4,xL=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],KM=1,K$=1,xO=0,Kg=["Sml","Mdm","Lrg"].indexOf(q.RplS.v.RplS);
if(Kg==0){KM=1;K$=.2;xO=3}if(Kg==2){KM=1;K$=2;xO=-1;xL=xL.reverse()}var Kv=function(i,r){var _r=Math.cos,w=0;
for(var t=0;t<bg;t++)for(var gx=0;gx<bg;gx++)w+=xL[t*bg+gx]*_r(i*(t+xO)-r*(gx+xO));return w},pb=Math.floor(50/gt),KN=new Float32Array(pb*pb*2),Sg=K$*nN*.5/gt;
for(var r=0;r<pb;r++)for(var i=0;i<pb;i++){var _k=KM*i*2*Math.PI/pb,xo=KM*r*2*Math.PI/pb,br=Kv(_k,xo),B=(Kv(_k+.01,xo)-br)*100,$=(Kv(_k,xo+.01)-br)*100,t=(r*pb+i)*2;
KN[t]=B*Sg;KN[t+1]=$*Sg}for(var r=0;r<n$.ai;r++)for(var i=0;i<n$.w$;i++){var KH=r%pb,KU=i%pb,t=r*n$.w$+i<<1,SK=KH*pb+KU<<1;
n$.map[t]=KN[SK];n$.map[t+1]=KN[SK+1]}}}x.Fv.SE(X.buffer,_.buffer,g,W,null,n$.map,n$.w$,n$.ai,bT)}return _};
nm.xAD=function(b,X,q,N){var J=x.K(b.length);x.vh.JA(b,X,q,N,[-1,0,1,-2,0,2,-1,0,1],0,!0);x.vh.JA(b,J,q,N,[1,2,1,0,0,0,-1,-2,-1],0,!0);
for(var _=0;_<J.length;_+=4){var p=X[_],z=X[_+1],g=X[_+2],W=X[_+3],o=J[_],y=J[_+1],D=J[_+2],m=J[_+3];
X[_]=255-Math.max(0,Math.min(255,Math.sqrt(p*p+o*o)));X[_+1]=255-Math.max(0,Math.min(255,Math.sqrt(z*z+y*y)));
X[_+2]=255-Math.max(0,Math.min(255,Math.sqrt(g*g+D*D)))}};nm.QA=function(b,X,q,N,J,_,p,z){var g=Date.now(),W=new x.Sm(q*N);
x.KY(b,W);var o=new x.Sm(q*N);x.vh.EN(W.D,o.D,q,N,J,_,p);x.vh.EN(W.q,o.q,q,N,J,_,p);x.vh.EN(W.b,o.b,q,N,J,_,p);
if(z==0)x.vh.EN(W.i,o.i,q,N,J,_);else if(z==1){x.Kn(W.i);x.vh.EN(W.i,o.i,q,N,J,_);x.Kn(o.i)}else x.vM(W.i,o.i);
x.bL(o,X)};nm.NP=function(b,X,q,N){x.bP(q);if(b<1){var J=Math.round(b*5),_=[1,2,1,2,[40,26,13,6,4,2][J],2,1,2,1];
_=x.vh.EX(_);var p=q.slice(0);x.vh.JA(p,q,N.n,N.z,_,255)}else X(q,N,b);x.bM(q)};nm.NI=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
nm.Qq=function(b,X){var q={D:X.pp>>16,q:X.pp>>8&255,b:X.pp&255},N={D:X.HO>>16,q:X.HO>>8&255,b:X.HO&255},J=nm.names[b];
if(J==null)J=nY.names[b];var _=b;for(var p in nY.fq)if(nY.fq[p]==b)_=p;var z={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:xA.get(J)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:x.Z.Yr(q)},BckC:{t:"Objc",v:x.Z.Yr(N)},filterID:{t:"long",v:e.xnR(_)}}};
if(s[b])z.v.Fltr={t:"Objc",v:nm.Z$(b)};return z};var _M={};_M.xxT="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");
_M.ao="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");_M.ac=["ScrC","ScrD","ScrL"];_M.af=["SDRD","SDHz","SDLD","SDVt"];
_M.nM={PntD:"paintDaubs"};_M.names={PntD:"Paint Daubs",Spt:"Spatter",SprS:"Sprayed Strokes",BsRl:"Bas Relief",HlfS:"Halftone Pattern",GlwE:"Glowing Edges",StnG:"Stained Glass"};
_M.Z$=function(b){var X;if(b=="PntD")X={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};
if(b=="Spt")X={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};if(b=="SprS")X={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(b=="BsRl")X={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};if(b=="HlfS")X={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};
if(b=="GlwE")X={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(b=="StnG")X={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
X.__name="Filter Gallery";X.classID="GEfc";X.GEfk={t:"enum",v:{GEft:b}};return X};_M.dI=function(b,X,q,N,J,_,p){b=q.GEfk.v.GEft;
var z=X.rect.n,g=X.rect.z;if(b=="Spt"||b=="SprS"){var z=X.rect.n,g=X.rect.z,W,o=1,y=1;W={w$:Math.floor(z/y),ai:Math.floor(g/y)};
W.map=new Float32Array(W.w$*W.ai*2);var D=new x.t.bZ(q.FlRs.v),m=new Float32Array(8192),k=q.SprR.v,O=k<20?.018*k:.36+(k-20)*.128;
if(b=="SprS"){O=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][k]}for(var L=0;
L<8192;L++)m[L]=(-1+2*D.get())*O*70;for(var I=0;I<g;I++)for(var H=0;H<z;H++){var Y=I*z+H<<1;W.map[Y]=m[Y%7919];
W.map[Y+1]=m[(Y+1)%7919]}var n=W.map.slice(0),w=b=="Spt"?q.Smth.v-1:1;if(b=="Spt"&&w!=0){_M.xUJ(W.map,n,z,g,w);
_M.xd_(n,W.map,z,g,w)}if(b=="SprS"){var t=q.StrL.v>>>1,j=t==0?2:1;_M.xUJ(W.map,n,z,g,j);_M.xd_(n,W.map,z,g,j);
if(t!=0){var E=_M.af.indexOf(q.SDir.v.StrD),h=[1,1,1,0][E],u=[-1,0,1,1][E],Z=2*t+1,A=1/Z;for(var I=0;
I<g;I++)for(var H=0;H<z;H++){var Y=I*z+H<<1,P=0,T=0;for(var L=0;L<Z;L++){var U=Math.max(0,Math.min(z-1,H-(t+L)*h)),r=Math.max(0,Math.min(g-1,I-(t+L)*u)),i=r*z+U<<1;
P+=W.map[i];T+=W.map[i+1]}n[Y]=P*A;n[Y+1]=T*A}W.map=n}}x.Fv.SE(X.buffer,_.buffer,z,g,null,W.map,W.w$,W.ai,o)}if(b=="BsRl"){var V=X.rect.c(),F=x.K(V),B=F.slice(0);
x.J_(X.buffer,F);var $=q.Dtl.v,l=q.Smth.v;if($!=15){x.blur.Jh(F,B,X.rect,Math.round((15-$)*.5));x.vM(B,F)}var v=2/z,C=2/g,f=(2+_M.ao.indexOf(q.LghD.v.LghD))*Math.PI*.25,P=Math.cos(f);
if(Math.abs(P)<.1)P=0;P=Math.sign(P);var T=Math.sin(f);if(Math.abs(T)<.1)T=0;T=Math.sign(T);var nx=1/(P*P+T*T);
for(var I=0;I<g;I++)for(var H=0;H<z;H++){var L=I*z+H,h=H==z-1?F[L]-F[L-1]:F[L+1]-F[L],u=I==g-1?F[L]-F[L-z]:F[L+z]-F[L],nA=H*v-1,nU=I*C-1,nn=h==0?nA:h*.4;
nn=Math.max(-1,Math.min(1,P*nn));var nH=u==0?nU:u*.4;nH=Math.max(-1,Math.min(1,T*nH));B[L]=128+127*(nn+nH)*nx}if(l!=1){x.blur.Jh(B,F,X.rect,Math.round((l-1)*.5));
x.vM(F,B)}x.bK(B,_.buffer)}if(b=="PlsW__"){var V=X.rect.c(),F=x.K(V),B=F.slice(0);x.J_(X.buffer,F);var $=q.Dtl.v,l=q.Smth.v;
if($!=15){x.blur.Jh(F,B,X.rect,Math.round((15-$)*.5));x.vM(B,F)}for(var I=0;I<g;I++)for(var H=0;H<z;
H++){var L=I*z+H,h=H==z-1?F[L]-F[L-1]:F[L+1]-F[L],u=I==g-1?F[L]-F[L-z]:F[L+z]-F[L],d=h*h+u*u;B[L]=Math.max(0,255-d*190)}var np=new Float32Array(V);
for(var L=0;L<V;L++)np[L]=B[L];if(l!=1){x.blur.Vq(np.slice(0),np,X.rect,Math.round((l-1)*.2))}for(var I=0;
I<g;I++)for(var H=0;H<z;H++){var L=I*z+H,a=L<<2,nb=np[L],nK=_.buffer[a],nq=_.buffer[a+1],nB=_.buffer[a+2],h=H==z-1?nb-np[L-1]:np[L+1]-nb,u=I==g-1?nb-np[L-z]:np[L+z]-nb,nE=-1,nh=1,nv=0,nC=h,nR=0,nu=1,nF=u,nI=1;
h=nv*nF-nC*nu;u=nC*nR-nh*nF;nE=nh*nu-nv*nR;var nP=1/Math.sqrt(h*h+u*u+nE*nE);h*=nP;u*=nP;nE*=nP;var ni=H-z/2,nw=I-g/2,nO=z*.3,nP=1/Math.sqrt(ni*ni+nw*nw+nO*nO);
ni*=nP;nw*=nP;nO*=nP;var nT=Math.max(0,ni*h+nw*u+nO*nE);if(nT>1)throw nT;var gu=nT*255;_.buffer[a]=nI*gu+(1-nI)*nK;
_.buffer[a+1]=nI*gu+(1-nI)*nq;_.buffer[a+2]=nI*gu+(1-nI)*nB}}if(b=="PntD"){var nN=q.Shrp.v*.4,xn=q.BrsT.v.BrsT,nL={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[xn],nV=Math.round(q.Sz.v*.5);
x.vh.WX=nL[0];var nX=x.vh.KZ;nm.QA(X.buffer,_.buffer,z,g,nV,nX,[],0);var xY=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];
xY=x.vh.EX(xY);var ny=_.buffer.slice(0);x.vh.JA(ny,_.buffer,z,g,xY,0);for(var L=0;L<X.buffer.length;
L++){var xp=_.buffer[L]-ny[L];_.buffer[L]=Math.max(0,Math.min(255,ny[L]+nN*xp))}}if(b=="GlwE"){var nW=_.buffer.slice(0);
x.vh.WX=.5;var nX=x.vh.KZ;nm.QA(X.buffer,nW,z,g,q.Smth.v>>>1,nX,[],0);nm.xAD(nW,_.buffer,z,g);x.vM(_.buffer,nW);
x.Kn(nW);x.Ws(nW,4278190080,16777215);nm.QA(nW,_.buffer,z,g,q.EdgW.v>>>1,x.vh.ss,[],0);var nI=q.EdgB.v/10;
for(var L=0;L<nW.length;L++){if((L&3)==3)continue;var nk=_.buffer[L];_.buffer[L]=Math.max(0,Math.min(255,nk*nI))}}if(b=="StnG"){var z=X.rect.n,g=X.rect.z;
x.aj.xly(X.buffer,z,g,_.buffer,q.ClSz.v,[Math.round(N.D),Math.round(N.q),Math.round(N.b)],q.BrdT.v)}if(b=="HlfS"){var _x=q.HlSz.v,xI=_x*2+1,nZ=q.Cntr.v,gC=_M.ac.indexOf(q.ScrT.v.ScrT),V=z*g,_q=V*4,gb=x.K(V),xE=X.buffer,_i=0,bK=0;
for(var L=0;L<_q;L+=4)gb[L>>>2]=~~(.5+(xE[L]+xE[L+1]+xE[L+2])*(1/3));var xC=gb.slice(0);x.blur.sW(xC,gb,X.rect,_x);
var pq=Math.PI/xI,xB=new Float64Array(z),P=new Float64Array(z),_r=new Float64Array(2*z);for(var H=0;
H<z;H++){var _h=(H-(z>>>1))*pq;xB[H]=_h*_h;P[H]=Math.cos(_h);var h=H<<1;_r[h]=Math.sin(h*(1/4.5));_r[h+1]=Math.sin((h+1)*(1/4.5))}for(var I=0;
I<g;I++){var xb=(I-(g>>>1))*pq,T=Math.cos(xb),xv=xb*xb;for(var H=0;H<z;H++){var gx=T;if(gC==0){var xK=.5+Math.sqrt(xB[H]+xv)*4.5;
gx=_r[~~xK]}else if(gC==1){gx=P[H]*T}var L=I*z+H,gu=gb[L]*(.75+.25*gx),_p=xE[(L<<2)+3]*(1/255),_n=Math.max(0,Math.min(255,~~gu));
_i+=_n*_p,bK+=_p;gb[L]=_n}}_i/=bK;var gq=128+1.26*(_i-128),nI=.08+.25*Math.abs((128-_i)/128),xx=1+nI*nZ;
for(var L=0;L<V;L++){var gu=gq+(gb[L]-gq)*xx;gb[L]=Math.max(0,Math.min(255,~~gu))}if(nZ>46)x.round(gb);
x.bK(gb,_.buffer)}for(var L=0;L<X.buffer.length;L+=4)_.buffer[L+3]=X.buffer[L+3]};_M.xiQ=function(b){var X=[0,0,0,0,0,0,0,0,0,0,0,0,0],q=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][b];
for(var N=0;N<13;N++){var J=N-6;X[N]=1/(q*Math.sqrt(2*Math.PI))*Math.exp(-.5*(J/q)*(J/q))}return X};
_M.xUJ=function(b,X,q,N,J){var _=_M.xiQ(J),p=6,z=13;for(var g=0;g<N;g++)for(var W=0;W<q;W++){var o=g*q+W<<1,y=0,D=0;
for(var m=0;m<z;m++){var k=W+m-p,O=k<0?0:k>=q?q-1:k,L=(g*q+O)*2,I=_[m];y+=I*b[L];D+=I*b[L+1]}X[o]=y;
X[o+1]=D}};_M.xd_=function(b,X,q,N,J){var _=_M.xiQ(J),p=6,z=13;for(var g=0;g<N;g++)for(var W=0;W<q;W++){var o=g*q+W<<1,y=0,D=0;
for(var m=0;m<z;m++){var k=g+m-p,O=k<0?0:k>=N?N-1:k,L=(O*q+W)*2,I=_[m];y+=I*b[L];D+=I*b[L+1]}X[o]=y;
X[o+1]=D}};function nD(){}nD.Mo=[2,5,5,7,4,4];nD.YO="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
nD.$s="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
nD.IH=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
nD.xbV=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
nD.ei=function(b){if(b=="passThrough")return"pass";return nD.YO[nD.$s.indexOf(b)]};nD.QM=function(b){if(b=="pass")return"passThrough";
return nD.$s[nD.YO.indexOf(b)]};nD.getName=function(b){return nD.IH[nD.YO.indexOf(b)]};function M(){this.rect=null;
this.nB="norm";this.opacity=255;this.Hg=!1;this.aA=0;this.zZ=0;this.fA=[];for(var b=0;b<10;b++)this.fA.push(0,0,255,255);
this.name=null;this.add={};this.buffer=null;this.HG=null;this.JM=null;this.G=null;this.YM=null;this.xAT=30;
this.WG=M.Mc();this.xpC=M.Mc();this.xpv=M.Mc();this.xpR=M.Mc();this.ZZ=0;this.Ga=!1;this.ii=null;this.J=new M.ae}M.Mc=function(){var b=K.m("canvas");
b.width=b.height=30;return b.getContext("2d")};M.ae=function(){this.XE=!0;this.jn=!0;this.jB=x.K(0);
this.xnb=x.K(0);this.Wm=null;this.zC={};this.xby=null;this.jq=null;this.$V=null;this.uP=null;this.bx=null;
this.xI=null;this.Yp=null;this._E=null;this.xc=null;this.yU=null;this.XT=null;this.jE=null;this.bt=!1};
M.ae.prototype.xar=function(){this.XE=!1;this.jn=!1;this.Wm=null;this.bt=G.ks};M.ae.prototype.xxj=function(){nM.xBC(this.zC);
this.jB=x.K(0);this.xnb=x.K(0);if(this.uP)this.uP.delete();if(this.bx)this.bx.delete();this.uP=null;
this.bx=null;var b=[this.xI,this.Yp,this._E,this.xc,this.yU,this.XT];for(var X=0;X<6;X++)if(b[X]!=null&&b[X]instanceof G.Sm)b[X].delete();
this.xI=null;this.Yp=null;this._E=null;this.xc=null;this.yU=null;this.XT=null};M.prototype.Y=function(b){if(b==null)b=this.rect.clone();
if(this.J.Wm==null)this.J.Wm=b;else this.J.Wm=this.J.Wm.Tg(b)};M.prototype.zu=function(){return this.add.lsct==_b.iS||this.add.lsct==_b.Uo};
M.prototype.gC=function(){var b=this.add;return b.SoCo!=null||b.GdFl!=null||b.PtFl!=null};M.prototype.xxO=function(){var b=this.add.lmfx;
if(b==null)return;var X=["GrFl","patternFill"];for(var q=0;q<X.length;q++){var N=UZ.PS[UZ.order.indexOf(X[q])],J=b[N].v;
if(J.length==0)continue;for(var _=0;_<J.length;_++){var p=J[_].v;if(p.enab.v&&(p.Algn==null||!p.Algn.v))this.J.jn=!0}}};
M.prototype.xU$=function(){var b=this.G;if(this.gC())b=this.DL();if(!G.ks)return b.QT();if(this.J.bx==null||this.J.XE||G.ks!=this.J.bt){if(this.J.bx)this.J.bx.delete();
this.J.bx=new G.Pm(b.pi().n,b.pi().z);this.J.bx.set(b.QT())}return this.J.bx};M.prototype.xFG=function(b){var X=this.rect,q=this.buffer;
if(!G.ks){var N=this.PH(b,q,X);if(N){q=N.Dl;X=N.rect}return q}if(this.J.Wm!=null||G.ks!=this.J.bt){var N=this.PH(b,q,X);
if(N){q=N.Dl;X=N.rect}var J=X;if(G.ks!=this.J.bt||this.J.uP==null||this.J.uP.n!=J.n||this.J.uP.z!=J.z){if(this.J.uP)this.J.uP.delete();
this.J.uP=new G.Sm(J.n,J.z);this.J.uP.set(q)}else{var _=this.J.Wm.clone();_.offset(-X.x,-X.y);this.J.uP.set(q,_)}}return this.J.uP};
M.prototype.nf=function(){var b=this.G;if(this.gC())b=this.DL();return b!=null&&b.isEnabled&&(b.vx()==0||b.vx()!=0&&!b.rect.qa())};
M.prototype.PH=function(b,X,q){if(this.ot()){var N=this._m(b);if(N.G&&N.G.isEnabled&&(!N.G.rect.qa()||N.G.color==0)){var J=this.add.SoLd.filterFX.v;
N.G.hw=J.filterMaskDensity?J.filterMaskDensity.v:255;N.G.Zt=J.filterMaskFeather?J.filterMaskFeather.v:0;
var _=N.buffer,p=N.G.$O(q);x.Kn(p);X=x.clone(X);x.t.gB(_,N.rect,X,q,p,q,0,q,1);return{Dl:X,rect:q}}}};
M.prototype.xxk=function(){var b={XJ:!1,Xj:!1,ji:0,jv:0};if(this.add.vmsk&&this.add.vmsk.isEnabled)b.Xj=!0;
if(this.DL()&&this.DL().isEnabled)b.XJ=!0;if(b.XJ&&b.Xj){b.ji=this.DL().rect.x-this.add.vmsk.DL().rect.x;
b.jv=this.DL().rect.y-this.add.vmsk.DL().rect.y}return b};M.prototype.he=function(b){if(this.add.lsct==_b.Rv)return;
var X=this,q=this.DL()!=null&&this.DL().zY,N=this.add.vmsk!=null&&this.add.vmsk.zY,J=this.xxk(),_=JSON.stringify(J)!=this.J.xby||J.XJ&&q||J.Xj&&N;
if(_){if(J.Xj){var p=this.add.vmsk.DL();if(J.XJ){this.G=this.DL().gt(p);this.J.jq=new Ue(this.G.rect.x-this.DL().rect.x,this.G.rect.y-this.DL().rect.y)}else this.G=p}if(this.G)this.J.XE=!0;
if(this.G)this.J.$V=new Ue(this.rect.x-this.G.rect.x,this.rect.y-this.G.rect.y);if(J.XJ)this.DL().zY=!1;
if(J.Xj)this.add.vmsk.zY=!1;this.Y()}else{if(J.XJ&&J.Xj){this.G.rect.x=this.DL().rect.x+this.J.jq.x;
this.G.rect.y=this.DL().rect.y+this.J.jq.y}}if(X.gC()){this.Nj(b)}if(X.My()){var z;if(this.G)z=new Ue(this.rect.x-this.G.rect.x,this.rect.y-this.G.rect.y);
if(this.G&&this.G.isEnabled&&(this.J.$V==null||!z.Rj(this.J.$V))){this.J.$V=z;this.Y();this.J.XE=!0}}if(nY.get(X.add)!=null)this.J.XE=!0;
this.J.xby=JSON.stringify(J)};M.prototype.Nj=function(b){var X=this,q=X.add.vstk,N,J=X.add.vmsk?this.add.vmsk.DL():null,z=!0;
if(J&&J.isEnabled&&J.vx()==0)N=J.pi().clone();else N=new R(0,0,b.n,b.z);var _=X.DL();if(_&&_.isEnabled&&_.vx()==0)N=N.be(X.G.pi());
var p=J&&q;if(q&&(!q.strokeEnabled.v||q.strokeStyleLineWidth.v.val==0))p=!1;if(q&&!q.fillEnabled.v&&p)z=!1;
var g=x.K(N.c()*4);if(z){if(X.add.SoCo)nM.uL(g,X.add.SoCo.Clr.v);if(X.add.GdFl)nM.lv(X.add.GdFl,g,N,b,null,J&&J.color==0?J.rect:null);
if(X.add.PtFl)nM.zv(X.add.PtFl,g,N,b,X.add.fxrp)}if(J){var W=J.hw;if(p)J.hw=255;var o=x.K(N.c());if(J.vx()!=0)x.set(o,Math.round(J.vx()));
if(J&&J.isEnabled){var y=J.pi(),D=J.QT();if(y.Rj(N))x.vM(D,o);else x.rS(D,y,o,N)}if(X.add.SoCo&&z){x.qR(o,g,3)}else x.KI(o,N,g,N);
if(p)J.hw=W}X.buffer=g;X.rect=N;if(p){var m=UZ.FF.Rb.indexOf(q.strokeStyleLineAlignment.v.strokeStyleLineAlignment),k=q.strokeStyleContent.v,O=UZ.FF.DC.indexOf(k.classID),L=this.add.vmsk.DL(q);
if(X.rect.Rj(new R(0,0,b.n,b.z)))X.rect=X.rect;else if(m!=0){var I=X.rect.Tg(L.pi()),H=x.K(I.c()*4);
x.iX(X.buffer,X.rect,H,I);X.buffer=H;X.rect=I}var W=L.hw;L.hw=255;var Y=L.$O(X.rect);L.hw=W;if(L.color==255)x.Kn(Y);
var n=x.K(X.rect.c()*4);if(O==0)nM.uL(n,k.Clr.v);if(O==1)nM.lv(k,n,X.rect,b,null,J.color==0?J.rect:null);
if(O==2)nM.zv(k,n,X.rect,b,X.add.fxrp);var w=q.strokeStyleOpacity.v.val/100;if(w!=1)x.WA(Y,w);x.qR(Y,n,3);
if(L.color==255)m=2-m;if(m==0){x.t.TG("norm",n,X.rect,X.buffer,X.rect,X.rect,1);x.KI(o,X.rect,X.buffer,X.rect)}if(m==1){x.t.TG("norm",n,X.rect,X.buffer,X.rect,X.rect,1)}if(m==2){x.Kn(o);
x.t.gB(n,X.rect,X.buffer,X.rect,o,N,255,X.rect,1,!1);x.Kn(o)}if(L.hw!=255){var t=x.clone(n);x.Ws(t,4278190080,16777215);
x.t.TG("norm",t,X.rect,X.buffer,X.rect,X.rect,1-L.hw/255)}W=J.hw;J.hw=255;this.xnb=J.$O(X.rect);J.hw=W}this.Y()};
M.prototype.ns=function(b,X){var q=this,N=q.add.SoLd.Idnt.v,J=q.add.SoLd,_=b.jO(N,J.Crop?J.Crop.v:null);
if(_==null)return;var p=_.aS;J.Sz.v.Wdth.v=p[1].n;J.Sz.v.Hght.v=p[1].z;var z=J.warp.v,g=c.C.Nk(J.nonAffineTransform),W=x.GI.IG(g,p[1]);
if(z&&!x.Gg.tM(z)){var o=x.j.Is(x.Gg.Pg(z)),y=o.x,D=o.y,m=1/o.n,k=1/o.z;W=x.GI.IG(g);W=x.GI.gt(W,[m,0,-y*m,0,k,-D*k,0,0])}var O=c.C.vs(p,X?0:1,W,z);
if(O==null){q.buffer=x.K();q.rect=new R}else if(q.ot()){var L=q._m(b);L.buffer=O.buffer;L.rect=O.rect.clone();
this.$i(b,X)}else{q.buffer=O.buffer;q.rect=O.rect}q.he(b);q.Y();b.Y()};M.prototype.$i=function(b,X){if(X==null)X=!1;
var q=this._m(b),N=this.add.SoLd.filterFX.v,J=nm.xAF(N),_=new R(0,0,b.n,b.z),p=q.rect.Tg(_),z=q.rect.clone();
z.Ii(J.x,J.y);var g={buffer:null,rect:p.be(z)};g.buffer=x.K(g.rect.c()*4);x.iX(q.buffer,q.rect,g.buffer,g.rect);
if(N.enab.v&&X==!1){var W=N.filterFXList.v;for(var o=0;o<W.length;o++){var y=W[o].v;if(y.enab.v==!1)continue;
var D=x.Z.vx(y.FrgC.v),m=x.Z.vx(y.BckC.v),k=e.BV(y.filterID.v),O=y.Fltr?y.Fltr.v:null;if(nY.fq[k]!=null){var L=nY.fq[k],I=nY.fb(L,O);
if(I)nY.dI(I,g.buffer,g.buffer,g.rect)}else g=nm.dI(k,g,O,D,m,null,b.add.lnk2?b.add.lnk2:[])}}this.rect=g.rect;
this.buffer=g.buffer;this.Du();this.Y();b.Y()};M.prototype.Pa=function(b,X,q){this.ii=this.xrH(b,X,q)};
M.prototype.xb$=function(b,X){var q=this.xrH(b,X,!0);if(q==null)return null;var N={Xz:q.ZZ,FU:q.zX,rect:q.vF};
if(N.Xz==1||N.Xz==3){var J=N.rect,_=x.K(J.n*J.z*4);x.qR(N.FU,_,0);x.qR(N.FU,_,1);x.qR(N.FU,_,2);x.sa(b.p.channel,b.p.rect,_,J);
N.FU=_}return N};M.prototype.xrH=function(b,X,q){var N,J,_,p,z,g,W;if(this.ZZ<=0){var o=x.K(this.rect.c());
x.iJ(this.buffer,o,3);N=x.aV.rK(X,{channel:o,rect:this.rect},"intersection");if(N==null)return null;
var y=x.E_(N.channel,N.rect);p=N.rect.clone();z=this.rect.clone();J=x.K(p.c()*4);x.iX(this.buffer,z,J,p);
x.qR(N.channel,J,3);_=x.clone(this.buffer);if(!q){var D=x.clone(X.channel);x.Kn(D);x.KI(D,X.rect,_,z)}g=x.clone(this.buffer);
W=this.rect.clone()}if(this.ZZ==1||this.ZZ==3){var m=this.ZZ==1?this.DL():this._m(b).G;p=X.rect.clone();
z=m.rect.clone();J=m.xMg(p);var _=x.clone(m.channel);if(!q)x.t.Ea(m.color==255?x.sv(p.c()):x.$j(p.c()),p,_,z,X.channel,p,1);
g=x.clone(m.channel);W=m.rect.clone()}return{ZZ:this.ZZ,zX:J,vF:p,vW:_,pL:z,jR:g,jF:W}};M.prototype.PP=function(b,X){var q=this.ii;
if(q.ZZ==0){this.rect=q.jF;this.buffer=q.jR;this.Y()}if(q.ZZ==1||q.ZZ==3){var N=q.ZZ==1?this.DL():this._m(b).G;
N.channel=q.jR;N.rect=q.jF;if(this.ZZ==1){N.zY=!0;this.he(b)}if(this.ZZ==3)this.Y()}this.ii=X};M.prototype.Nm=function(b,X){if(this.ZZ<=0&&X.rect.Rj(this.rect)){var q=x.K(this.rect.c());
x.iJ(this.buffer,q,3);if(x.Rj(b.p.channel,q)){var N=this.rect,J=this.buffer;this.ii={ZZ:this.ZZ,zX:J.slice(0),vF:N.clone(),vW:x.K(0),pL:new R,jR:x.K(0),jF:new R};
return!0}}var _=this.ii;if(_==null)return!1;if(_.ZZ!=this.ZZ)return!1;if(!X.rect.Rj(_.vF))return!1;var p=_.pL.Tg(_.vF);
if(_.ZZ<=0){if(!p.Rj(this.rect))return!1;var z=x.K(_.zX.length>>2);x.iJ(_.zX,z,3);if(!x.Rj(X.channel,z))return!1;
var g=x.K(p.n*p.z*4);x.iX(_.vW,_.pL,g,p);x.t.TG("norm",_.zX,_.vF,g,p,p,1);return x.Rj(g,this.buffer)}if(_.ZZ==1||_.ZZ==3){var W=_.ZZ==1?this.DL():this._m(b).G;
if(!p.Rj(W.rect))return!1;var o=x.K(p.c());x.set(o,W.color);x.rS(_.vW,_.pL,o,p);x.t.Ea(_.zX,_.vF,o,p,X.channel,p,1);
return x.Rj(o,W.channel)}};M.prototype.QI=function(b,X,q,N){var J=this.ii;J.vF.offset(X,q);var _=J.pL.Tg(J.vF);
if(J.ZZ<=0){var p=x.K(_.c()*4);x.iX(J.vW,J.pL,p,_);x.t.TG("norm",J.zX,J.vF,p,_,_,1);this.buffer=p;this.rect=_;
this.Y()}else{var z=this.ZZ==1?this.DL():this._m(b).G,g=x.K(_.c());x.set(g,z.color);x.rS(J.vW,J.pL,g,_);
x.t.Ea(J.zX,J.vF,g,_,N.channel,_,1);z.channel=g;z.rect=_.clone();if(this.ZZ==1){z.zY=!0;this.he(b)}if(this.ZZ==3)this.Y()}};
M.prototype.xRY=function(){var b=[-1,0,1,2];if(this.G)b.push(-2);if(this.YM)b.push(-3);return b};M.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};
M.prototype.fT=function(b){this.add.luni=this.name=b};M.prototype.PM=function(b){var X=this.add.lnsr,q=this.add.TySh;
if(X=="rend"&&q)this.fT(ng.IC(q.Bw).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))};M.prototype.oF=function(){return(this.aA&1<<1)==0};
M.prototype.My=function(){return(this.aA&1<<4)==0};M.prototype.nW=function(){return(this.aA&1<<5)!=0};
M.prototype.xgi=function(){var b=this;if(b.add.lnsr!="bgnd"){b.add.lnsr="bgnd";b.fT("Background");b.add.lspf=1<<2}};
M.prototype.xgu=function(){var b=this;if(b.add.lnsr=="bgnd"){delete b.add.lnsr;b.fT("Layer 0");b.add.lspf=0}};
M.prototype.g$=function(b){var X=this.add.lspf;return X==null?!1:(X>>b&1)!=0};M.prototype.HC=function(b){if(b&&!this.oF())this.aA-=2;
if(!b&&this.oF())this.aA+=2};M.prototype.On=function(){var b=this.add.lmfx;if(b==null)return!1;for(var X in b){if(X=="masterFXSwitch")continue;
if(X=="Scl")continue;if(X=="classID")continue;if(b[X].v.length>0)return!0}return!1};M.prototype.ot=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
M.prototype.TZ=function(){var b=this.add.lmfx;if(b==null)return!1;if(!b.masterFXSwitch.v)return!1;for(var X in b){if(X=="masterFXSwitch")continue;
if(X=="Scl")continue;if(X=="classID")continue;var q=b[X].v;for(var N=0;N<q.length;N++)if(q[N].v.enab.v)return!0}return!1};
M.prototype.RC=function(b,X,q,N){var J=new R,_=this.OM(b,q,N);if(_.indexOf(0)!=-1)J=J.Tg(this.rect);
if(_.indexOf(1)!=-1)J=J.Tg(this.DL().pi());if(_.indexOf(2)!=-1){var p=this.add.vmsk,z;if(X){if(p.Ep.length>1){var g=x.g.Je(p.s,null,p.Ep);
z=x.j.Is(g)}else z=x.g.Wg(p.s,p.k.length!=0?p.k:null)}else z=x.g.Wg(p.s);J=J.Tg(z)}if(_.indexOf(3)!=-1)J=J.Tg(this._m(b).G.pi());
if(_.length==0&&this.gC())J=new R(0,0,b.n,b.z);return J};M.prototype.Cz=function(){var b=this.add.artb.artboardRect.v,X=b.Btom.v,q=b.Left.v,N=b.Rght.v,top=b.Top.v;
return new R(q,top,N-q,X-top)};M.prototype.fm=function(b){var X=M.xxI(b);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=X};M.xxI=function(b){var X={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
X.Btom.v=b.y+b.z;X.Left.v=b.x;X.Rght.v=b.x+b.n;X.Top.v=b.y;return X};M.prototype.OM=function(b,X,q){var N=[],J=this,_=this.Ga;
if(!X&&J.Ga&&q){N.push(2)}else if(J.ZZ<=0||X){if(J.My())if(!this.rect.qa())N.push(0);if(J.DL()&&!J.DL().rect.qa())if(J.DL().ov||X)N.push(1);
if(J.add.vmsk)if(J.add.vmsk.ov||X)N.push(2);if(J.ot()&&J._m(b).G&&!J._m(b).G.rect.qa())N.push(3)}else if(J.ZZ==1){N.push(1);
if(J.DL().ov&&!J.DL().rect.qa()){if(J.My())if(!this.rect.qa())N.push(0);if(J.add.vmsk)if(J.add.vmsk.ov)N.push(2)}}else if(J.ZZ==3&&!J._m(b).G.rect.qa())N.push(3);
if(J.add.artb&&N.indexOf(0)==-1)N.push(0);N.sort();return N};M.prototype.DL=function(){var b=this;return b.YM?b.YM:b.add.vmsk&&b.add.vmsk.isEnabled?null:b.G};
M.prototype._m=function(b){var X=this.add.SoLd.placed.v,q=b.add.FEid;if(q==null)return null;for(var N=0;
N<q.length;N++)if(q[N].id==X)return q[N];return null};M.prototype.extend=function(b){x.xvk(this,b)};
M.prototype.xbs=function(b,X){var q=b.clone();if(this.TZ()){var N=this.add.lmfx,J=X.root.vf(X.F.indexOf(this)),_=N.gradientFillMulti.v,p=!1;
for(var z=0;z<_.length;z++)if(_[z].v.enab.v&&_[z].v.Algn.v)p=!0;if(p)q=q.Tg(J.pi(X,!1));var g=nM.xUR(this,X);
q.offset(g.x,g.y);q.n+=g.n;q.z+=g.z}return q};M.prototype.Du=function(){if(this.My())x.Wp(this);var b=this.DL();
if(b)b.Du()};M.prototype.clone=function(){var b=new M;b.rect=this.rect.clone();b.buffer=x.clone(this.buffer);
b.nB=this.nB;b.opacity=this.opacity;b.Hg=this.Hg;b.aA=this.aA;b.name=this.name;b.fA=this.fA.slice(0);
if(this.G)b.G=this.G.clone();if(this.YM)b.YM=this.YM.clone();for(var X in this.add)b.add[X]=bO.clone(X,this.add[X]);
return b};M.prototype.xxb=function(b){var X=this;if(X.add.TySh)delete X.add.TySh;if(X.add.SoLd){var q=this.PH(b,this.buffer,this.rect);
if(q){this.buffer=q.Dl;this.rect=q.rect;this.Y()}delete X.add.SoLd}if(X.add.SoCo||X.add.GdFl||X.add.PtFl){if(X.add.vogk)delete X.add.vogk;
if(X.add.SoCo)delete X.add.SoCo;if(X.add.GdFl)delete X.add.GdFl;if(X.add.PtFl)delete X.add.PtFl;if(X.add.vmsk){console.log(X.YM,X.G);
delete X.add.vmsk;if(X.YM==null&&X.G)delete X.G;else if(X.YM!=null&&X.G!=null){X.G=X.YM;delete X.YM}}}if(!X.zu()&&nY.get(X.add)==null&&!this.My())this.aA-=16};
M.prototype.xrN=function(b){var X=255,q=0;if(b==2){var N=this.add.SoLd.filterFX.v;if(N.filterMaskDensity)X=N.filterMaskDensity.v;
if(N.filterMaskFeather)q=N.filterMaskFeather.v}else{var J=b==0?this.DL():this.add.vmsk;X=J.hw;q=J.Zt}return{zc:b,jz:X,DH:q}};
M.prototype.xaD=function(b){if(b.zc==2){var X=this.add.SoLd.filterFX.v;if(b.jz==255)delete X.filterMaskDensity;
else X.filterMaskDensity={t:"long",v:b.jz};if(b.DH==0)delete X.filterMaskFeather;else X.filterMaskFeather={t:"doub",v:b.DH};
this.Y()}else{var q=b.zc==0?this.DL():this.add.vmsk;q.hw=b.jz;q.Zt=b.DH;q.zY=!0}};M.prototype.lN=function(){var b=this,X=b.add.vmsk;
if(X==null)return;b.add.vogk=M.lN(X.s)};M.lN=function(b){var X=[],q=x.g.SG(b);for(var N=0;N<q;N++)X.push(x.P_.$j());
return X};var _b={Pi:0,iS:1,Uo:2,Rv:3};M.ah=function(){this.name="Mask";this.rX=!1;this.tY={D:255,q:0,b:0};
this.HV=50;this.VS=0;this.color=255;this.ov=!0;this.isEnabled=!0;this.pw=!1;this.hw=255;this.Zt=0;this.rect=new R;
this.channel=x.K(0);this.xEQ=null;this.xEd=null;this.zY=!0};M.ah.prototype.gt=function(b){if(!this.isEnabled)return b;
var X=new M.ah;X.color=Math.round(this.vx()*b.vx()/255);if(this.vx()==0&&b.vx()==0)X.rect=this.pi().be(b.pi());
else if(b.vx()==0)X.rect=b.pi().clone();else if(this.vx()==0)X.rect=this.pi().clone();else X.rect=this.pi().Tg(b.pi());
X.channel=this.$O(X.rect);X.hw=255;X.Zt=0;var q=b.$O(X.rect);x.xvH(q,X.rect,X.channel,X.rect);return X};
M.ah.prototype.pi=function(){if(this.Zt==0)return this.rect;var b=Math.ceil(this.Zt*2.2),X=this.rect.clone();
X.Ii(b,b);return X};M.ah.prototype.QT=function(){if(this.Zt==0&&this.hw==255)return this.channel;if(this.Zt==0){var b=x.clone(this.channel);
x.Kn(b);x.WA(b,this.hw/255);x.Kn(b);return b}var X=this.pi(),q=this.xMg(X),b=x.K(X.c());x.blur.Jh(q,b,X,this.Zt);
if(this.hw!=255){x.Kn(b);x.WA(b,this.hw/255);x.Kn(b)}return b};M.ah.prototype.vx=function(){return Math.round(255-(255-this.color)*(this.hw/255))};
M.ah.prototype.extend=function(b){x.extend(this,b,this.color)};M.ah.prototype.Du=function(){if(this.color==255)x.Kn(this.channel);
x.Du(this);if(this.color==255)x.Kn(this.channel)};M.ah.prototype.clone=function(){var b=new M.ah;b.name=this.name;
b.rX=this.rX;b.tY=this.tY;b.HV=this.HV;b.VS=this.VS;b.color=this.color;b.ov=this.ov;b.isEnabled=this.isEnabled;
b.pw=this.pw;b.hw=this.hw;b.Zt=this.Zt;b.rect=this.rect.clone();b.channel=x.clone(this.channel);return b};
M.ah.prototype.xMg=function(b,X){if(X==null)X=x.K(b.c());x.set(X,this.color);x.rS(this.channel,this.rect,X,b);
return X};M.ah.prototype.$O=function(b,X){var q=this.pi(),N=this.QT();if(X==null)X=x.K(b.c());x.set(X,this.vx());
x.rS(N,q,X,b);return X};M.zo=function(){this.ov=!0;this.isEnabled=!0;this.hw=255;this.Zt=0;this.s=[{type:6},{type:8,all:0}];
this.YP=[-3,-3];this.Ux=!1;this.YM=null;this.zY=!0;this.k=[];this.Ep=[]};M.zo.prototype.offset=function(b,X){this.YM=this.DL();
x.g.SC(this.s,new nQ(1,0,0,1,b,X));this.YM.rect.offset(b,X)};M.zo.prototype.DL=function(b){if(!this.zY&&this.YM&&b==null){this.YM.isEnabled=this.isEnabled;
return this.YM}var X=x.g.Wg(this.s);if(X.c()>2e4*2e4)X=new R(0,0,100,100);if(b){var q=Math.ceil(b.strokeStyleLineWidth.v.val);
X.Ii(q,q)}X=x.j.Ja(X);var N=new M.ah;N.color=x.g.yA(this.s)?0:255;N.ov=this.ov;N.isEnabled=this.isEnabled;
N.pw=!0;N.rect=X;N.hw=this.hw;N.Zt=this.Zt;N.channel=x.K(N.rect.c());if(!X.qa())x.g.xCg(this.s,N.channel,N.rect,b);
if(b==null){this.YM=N;this.zY=!1}return N};M.zo.prototype.clone=function(){var b=new M.zo;b.ov=this.ov;
b.isEnabled=this.isEnabled;b.hw=this.hw;b.Zt=this.Zt;b.s=M.zo.yR(this.s);b.YP=this.YP.slice(0);b.Ux=this.Ux;
b.k=this.k.slice(0);b.Ep=this.Ep.slice(0);return b};M.zo.prototype.concat=function(b){var X=b.s.slice(2);
if(X.length==0)return;X[0].vR=3;this.s=this.s.concat(X)};M.zo.yR=function(b){var X=[];for(var q=0;q<b.length;
q++){var N=b[q];if(N.type>5||N.type==0||N.type==3)X.push(JSON.parse(JSON.stringify(N)));else X.push({type:N.type,jk:N.jk.clone(),P:N.P.clone(),p_:N.p_.clone()})}return X};
M.zo.xgX=function(b,X,q){if(b.length!=X.length)return!1;for(var N=2;N<b.length;N++){var J=b[N],_=X[N];
if(J.type!=_.type)return!1;if(J.type==0||J.type==3){if(J.length!=_.length||!q&&J.vR!=_.vR)return!1}else if(!J.jk.Rj(_.jk)||!J.P.Rj(_.P)||!J.p_.Rj(_.p_))return!1}return!0};
M.zo.prototype.xgj=function(){var b=this.s;for(var X=3;X<b.length;X++)if(b[X].type==0||b[X].type==3)b[X].vR=-1};
M.nu=function(){this.type=null;this.HY=2;this.pA=null;this.zK="";this.Rk="";this.If="";this.open=0;this.raw=null;
this.aS=null};M.nu.prototype.clone=function(){var b=new M.nu;b.type=this.type;b.HY=this.HY;b.pA=this.pA;
b.zK=this.zK;b.Rk=this.Rk;b.If=this.If;b.open=this.open;b.raw=new Uint8Array(this.raw.buffer.slice(0));
return b};M.nu.prototype.US=function(b){var X=this;if(X.aS)return;var q=nr.xw(X.raw.buffer);if(q!="svg"&&q!="pdf")b=0;
if(q==null){alert("Unsupported format: "+e.uT(X.raw,0,4));return null}var N=nr.aC(q);if(N.ws){var J=new nj(name+(q=="psd"?"":"-"+q)+".psd");
N.vu(X.raw.buffer,J);for(var _=0;_<J.F.length;_++)if(J.F[_].gC())J.F[_].he(J);J.FB();J.Y();J.RL();X.aS=[J.US(),new R(0,0,J.n,J.z)]}else if(N){var p=N.vu(X.raw.buffer)[0];
X.aS=[new Uint8Array(p.data),p._z]}if(X.aS){if(b==1){var z=X.aS[0],g=X.aS[1],W=x.K(g.c());x.iJ(z,W,3);
var o=x.E_(W,g),y=x.K(o.c()*4);x.iX(z,g,y,o);X.aS=[y,o]}x.lo(X.aS)}};M.CX="0";M.RF="2";M.QG="2.5";M.xvo="3";
M.nL="4";M.xYl="5";M.PF="5.5";M.xUm="6";M.PQ="7";M.xUK="7.5";M.mj="8";M.nX="9";M.nZ="9.3";M.Pd="9.5";
M.xUk="9.6";M.mZ="10";M.Qy="11";M._A="12";M.dg="13";M.OF="13.5";M.Pu="13.7";M.dp="14";M.Od="14.5";M._a="15";
M.kb="16";M._p="17";M.OI="18";M.xKF="19";M.OJ="19.5";M.kX="19.6";M.OX="19.7";M.km="20";M.VK="21";M.dd="21.5";
M._b="22";M.Om="22.5";M.RQ="23";M.xuV="24";M.VC="25";M.xSN="26";M.xiL="27";M._r="28";M._w="29";M._M="30";
M.yJ="31";M.RY="32";M.Oy="33";M._i="34";M._F="35";M.dO="36";M.j_="36.5";M._Q="37";M.VD="37.5";M.xu$="37.6";
M.dD="38";M._O="38.5";M.jb="38.6";M.lb="39";M.dy="40";M.xph="41";M.xUN="42";M._j="50";M._G="51";M.jK="52";
M.jH="53";M.PY="54";M.xbJ="54.5";M.xS$="54.6";M.xvF="54.7";M._V="54.8";M.dZ="55";M.RX="56";M.yy="57";
M.jM="58";M.PJ="59";function _d(){this.depth=0;this.index=-1;this.Q=null;this.xux=null;this.jW=-1;this.children=null;
this.parent=null;this.jL=null}_d.prototype.xgD=function(){var b=0;if(this.Q.zu()){for(var X=0;X<this.children.length;
X++)b+=this.children[X].xgD()}else if(this.Q.buffer)b+=this.Q.buffer.length;return b};_d.prototype.vf=function(b){var X=this.jL[b];
return this.jL[b]};_d.prototype.xAX=function(b,X){var q=this.Q;if(!q.oF()||q.g$(2)||q.g$(31))return null;
if(q.nf()){var N=q.G.rect.Dj(b);if(!N&&q.G.color==0)return}if(q.zu()){for(var J=0;J<this.children.length;
J++){var _=this.children[J];_.xAX(b,X)}}else if(q.rect.Dj(b))X.push(this.index)};_d.prototype.hT=function(b,X){var q=this.Q;
if(!q.oF()||q.g$(2)||q.g$(31))return null;if(q.nf()){if(q.G.rect.gD(b)){if(!x.hT(b,q.G.channel,q.G.rect))return null}else if(q.G.color==0)return null}if(q.zu()){for(var N=this.children.length-1;
N>=0;N--){var J=this.children[N],_=J.hT(b,X);if(_&&X==null)return _}return null}else if(q.add.TySh&&q.rect.gD(b)||x.xRH(b,q.buffer,q.rect)){if(X==null)return this;
else X.push(this.index)}return null};_d.prototype.xgG=function(b){var X=this.Q;if(!X.oF()||X.g$(2)||X.g$(31))return null;
var q=X.add.vmsk;if(q&&q.isEnabled){var N=x.g.hT(q.s,b).aP;if(N!=-1)return{xEY:this,xEL:N}}if(X.zu()){for(var J=this.children.length-1;
J>=0;J--){var _=this.children[J],p=_.xgG(b);if(p)return p}return null}return null};_d.prototype.xPc=function(b,X){b.push(this.index);
if(this.Q.zu()){b.push(this.jW);if(X)if(this.Q.ZZ==1&&this.Q.DL().ov==!1)return;for(var q=0;q<this.children.length;
q++)this.children[q].xPc(b)}};_d.prototype.FY=function(b,X,q){var N=this.Q,J,_;if(N.zu()&&N.add.artb!=null)X=N.Cz();
if(X.n>X.z){J=q;_=Math.floor(q*(X.z/X.n))}else{J=Math.floor(q*(X.n/X.z));_=q}if(N.gC()&&N.add.vmsk==null||N.add.TySh)J=_=Math.max(_,16);
var p=_,z=N.gC()&&N.add.vmsk;if(z){var g=N.rect.clone(),y,D;if(g.qa())g=new R(0,0,20,20);var W=g.n,o=g.z;
if(W>o){y=q;D=Math.floor(q*(o/W))}else{y=Math.floor(q*(W/o));D=q}if(y*D==0)y=D=16;x.TL.$k(N.WG,y,D,g,N.buffer,N.rect,!1);
x.TL.xaH(N.WG,y,D);p=D}else if(N.add.TySh){x.TL.xa$(N.WG,p,p,N.add.TySh)}else if(N.add.SoCo){p=Math.max(16,Math.min(J,_));
x.TL.xaz(N.WG,p,p,N.add.SoCo)}else if(N.add.GdFl){x.TL.xPm(N.WG,p,p,N.add.GdFl)}else if(N.add.PtFl){x.TL.xPV(N.WG,p,p,N.add.PtFl,b)}else if(nY.get(N.add)!=null){x.TL.xPo(N.WG,p,p,N.add)}else if(N.add.SoLd){x.TL.$k(N.WG,J,_,X,N.buffer,N.rect,!1);
x.TL.xan(N.WG,J,_,N.add.SoLd)}else if(N.zu()){p=16}else{if(N.My())x.TL.$k(N.WG,J,_,X,N.buffer,N.rect,!1);
else{x.TL.xPu(N.WG,p,p)}}var m=N.DL();if(m)x.TL.$Y(N.xpC,J,_,X,m);if(N.ot()&&N._m(b)&&N._m(b).G){var k=N._m(b).G;
x.TL.$Y(N.xpR,J,_,X,k)}if(!z&&N.add.vmsk){x.TL.$Y(N.xpv,J,_,X,N.add.vmsk.DL(),!0)}if(N.add.vmsk||m)p=Math.max(p,_);
N.xAT=Math.max(p,16);if(N.zu()&&N.add.lsct==_b.iS)for(var O=0;O<this.children.length;O++)this.children[O].FY(b,X,q)};
_d.prototype.xPQ=function(b,X,q,N){this.depth=q;var J=b[X];if(N==null)N=[];this.jL=N;if(J.add.lsct==_b.Rv){this.xux=J;
this.jW=X-1;this.children=[];var _=X+1;while(!0){var p=b[_];if(p==null)console.log(_,b.length);if(p.add.lsct==_b.iS||p.add.lsct==_b.Uo){if(J.add.lyid==p.add.lyid)J.add.lyid+=16777215;
this.Q=p;this.index=_-1;N[this.index]=this;N[X-1]=this;break}var z=new _d;z.parent=this;_=z.xPQ(b,_,q+1,N);
this.children.push(z)}return _+1}else{this.Q=J;this.index=X-1;N[this.index]=this;return X+1}};_d.prototype.PV=function(b,X,q){var N=this.vf(q),J=b;
while(N.parent!=null){J=N.Q.xbs(J,X);N=N.parent}return J};_d.prototype.pi=function(b,X){var q=this.Q,N=new R;
if(!q.oF())return N;var J=q.DL();if(q.zu())for(var _=0;_<this.children.length;_++){var p=this.children[_].pi(b,!0);
N=N.Tg(p)}else if(nY.get(q.add)!=null)N=q.nf()&&q.G.color==0?q.G.pi().clone():new R(0,0,b.n,b.z);else if(q.gC()&&q.add.vmsk&&q.add.vmsk.isEnabled&&q.add.vstk){N=q.rect.clone()}else if(q.gC()&&J&&J.isEnabled&&J.vx()!=0)N=new R(0,0,b.n,b.z);
else{N=q.RC(b,!1,!0);if(q.add.vmsk)N=x.j.Ja(N)}return X?q.xbs(N,b):N};_d.prototype.xUY=function(b,X,q,N,J){var _=this.Q,p=nM.m$(_);
if(!_.oF())return;if(_.opacity==255){this.xKw(b,X,q,N,J);return}var z=x.clone(b);this.xKw(z,X,q,N,J);
x.t.gB(z,X,b,X,null,null,0,q,_.opacity/255,_.nB=="diss")};_d.prototype.xKw=function(b,X,q,N,J){var _=this.Q,p=nM.m$(_),z=nY.get(_.add)!=null,y,k;
if(_.zu()&&_.nB=="pass"&&!_.nf()&&!(J.length>0||p.fill!=1||_.TZ())){this.jd(b,X,q,N);return}var g=_.zu()&&_.nB=="pass"&&(J.length>0||p.fill!=1||_.TZ()),W=_.rect,o=_.buffer;
if(_.zu()){W=this.pi(N,!1);var D=x.K(W.c()*4);y=x.K(W.c());this.jd(D,W,q,N);x.iJ(D,y,3)}else if(z){W=X.clone();
y=x.K(W.c());x.set(y,255)}else{W=_.rect;y=x.K(W.c());x.iJ(o,y,3)}if(_.nf()){var m=_.G.$O(W);x.Wx(m,y)}if(_.TZ())k=nM.iE(_.add.lmfx,_.add.fxrp,y,W,N);
if(_.TZ())nM.xYZ(_.add.lmfx,k,W,b,X,q);if(_.zu()){o=x.K(W.c()*4);if(_.nB=="pass")x.iX(b,X,o,W);if(g){var D=x.K(W.c()*4);
this.jd(D,W,q,N);var O=x.K(W.c());x.iJ(D,O,3);x.KI(O,W,o,W)}this.jd(o,W,q,N)}if(z){o=x.clone(b);x.Ws(o,4278190080,16777215);
var L=nY.get(_.add),I=nY.fb(L,_.add[L]);nY.dI(I,o,o,W)}var H=x.clone(o);x.Ws(H,4278190080,16777215);
for(var Y=0;Y<J.length;Y++)J[Y].xUY(H,W,q,N,[]);var n=x.K(W.c()*4);x.iX(b,X,n,W);if(z)p.dS=!0;x.t.TG(_.nB=="pass"?"norm":_.nB,H,W,n,W,q,1,p);
if(_.TZ()){var w=_.J.zC.type.FrFX,t=null;if(w.length!=0){t=w[0];for(var Y=0;Y<w.length;Y++)if(w[Y].Hz.n>t.Hz.n)t=w[Y];
var j=x.K(t.Hz.n*t.Hz.z*4);x.iX(b,X,j,t.Hz)}nM.xpV(_.add.lmfx,k,W,b,X,q,n,j,t?t.Hz:null)}x.t.gB(n,W,b,X,y,W,0,q,1,_.nB=="diss")};
_d.prototype.jd=function(b,X,q,N){var J=this.children;for(var _=0;_<J.length;_++){var p=[];for(var z=_+1;
z<J.length;z++)if(J[z].Q.Hg)p.push(J[z]);else break;J[_].xUY(b,X,q,N,p);_+=p.length}};_d.Db={delete:function(b){if(b&&b.n)b.delete()},K:function(b,X){return G.ks?new G.Sm(b,X):x.K(b*X*4)},_R:function(b,X,q){if(G.ks){if(b==null||b.n!=X||b.z!=q){_d.Db.delete(b);
return new G.Sm(X,q)}}else{if(b==null||!(b instanceof Uint8Array)||b.length!=X*q*4){_d.Db.delete(b);
return x.K(X*q*4)}}return b},rS:function(b,X,q,N,J){(G.ks?G.ba:x.iX)(b,X,q,N,J)},gB:function(b,X,q,N,J,_,p,z,g,W){(G.ks?G.t.Lr:x.t.gB)(b,X,q,N,J,_,p,z,g,W)},TG:function(b,X,q,N,J,_,p,z){if(G.ks)G.t.ZS(b,X,q,N,J,_,p,z);
else x.t.TG(b,X,q,N,J,_,p,z)},Ws:function(b,X,q){if(G.ks){G.ig(b);G.HX(X,q)}else x.Ws(b,X,q)},xgc:function(b,X,q,N,J){if(G.ks){G.t.Lr(null,null,N,J,b,X,q,J,1,!1)}else{if(q==255)x.KI(b,X,N,J);
else{var _=x.K(X.c());x.sM(N,J,_,X);x.Wx(b,_);x.Ws(N,0,16777215);x.sa(_,X,N,J)}}},bF:function(b,X,q,N){if(G.ks)G.t.Lr(null,null,q,N,b,X,0,N,1,!1);
else x.bF(b,X,q,N)}};_d.prototype.M_=function(b,X,q,N,J,_){var p=typeof _=="number";if(!this.Q.zu()&&(p&&this.index>_||!p&&_.indexOf(this.index)==-1)){return}var z=this.Q,g=nM.m$(z),W=_d.Db,o=z.gC()?z.DL():z.G;
if(!z.oF())return;if(z.nf()&&o.rect.qa()){return}if(z.add.vstk==null&&this.pi(N,!1).qa()&&z.add.artb==null){return}var y=this.pi(N,!0).be(q);
if(!X.Rj(q)&&!q.Dj(y)&&z.add.artb==null)return;if(z.zu()&&z.add.artb){var D=z.Cz(),k=0;q=q.be(D);var m=z.add.artb.artboardBackgroundType.v;
if(m==1)k=4294967295;else if(m==2)k=4278190080;else if(m==3)k=0;else if(m==4){k=z.add.artb.Clr.v;k=255<<24|k.Bl.v<<16|k.Grn.v<<8|k.Rd.v}else throw m;
if(G.ks){G.ig(b,q);G.HX(k)}else x.xCP(b,X,q,k)}var O=_d.xag(z,J);if(!O){this.xqF(b,X,q,N,J,_);return}z.J.xI=W._R(z.J.xI,y.n,y.z);
W.rS(b,X,z.J.xI,y,q);this.xqF(z.J.xI,y,q,N,J,_);W.gB(z.J.xI,y,b,X,null,null,0,q,z.opacity/255,z.nB=="diss")};
_d.xag=function(b,X){return b.opacity!=255&&(X.length!=0||b.zu()||b.TZ())};_d.xgf={J:{}};_d.prototype.xqF=function(b,X,q,N,J,_){var p=this.Q,z=nM.m$(p),g=nY.get(p.add)!=null,W=_d.Db,o=_d.xag(p,J),y=o?1:p.opacity/255,D=p.gC()?p.DL():p.G,m=p.zu()&&p.nB=="pass"&&!(J.length>0||z.fill!=1||p.TZ()),k=!p.zu()&&!g&&!p.TZ()&&J.length==0,O=g&&!p.TZ()&&J.length==0,w=null,t=null,j=null,Z;
if(m||k||O){var L=b,I=X;if(p.nf()){I=this.pi(N,!1);L=p.J.xc=W._R(p.J.xc,I.n,I.z);W.rS(b,X,p.J.xc,I)}if(m)this.MQ(L,I,q,N,_);
if(k)W.TG(p.nB,p.xFG(N),p.rect,L,I,q,y,z);if(O){var H=p.nf()&&D.vx()==0?D.pi().clone():I.clone(),Y=p.J;
if(H.Rj(new R(0,0,N.n,N.z)))Y=_d.xgf;Y._E=this.xng(L,I,Y._E,H,p.add);z.dS=!0;W.TG(p.nB,Y._E,H,L,I,q,y,z)}if(p.nf())W.gB(L,I,b,X,p.xU$(),D.pi(),D.vx(),q,1,p.nB=="diss");
p.J.xar();return}var n=p.zu()&&p.nB=="pass"&&(J.length>0||z.fill!=1||p.TZ()),H=p.rect;if(p.zu()){H=this.pi(N,!1);
j=p.J._E=W._R(p.J._E,H.n,H.z);W.Ws(j,0);this.MQ(j,H,H,N,_);t=W._R(p.J.Yp,H.n,H.z);W.rS(j,H,t,H)}else if(g){H=p.nf()&&D.vx()==0?D.pi().clone():X.clone();
t=W._R(p.J.Yp,H.n,H.z);W.Ws(t,4294967295)}else{H=p.rect;w=p.xFG(N);t=W._R(p.J.Yp,H.n,H.z);W.rS(w,H,t,H)}p.J.Yp=t;
if(p.nf())W.xgc(p.xU$(),D.pi(),D.vx(),t,H);if(p.TZ())if(p.J.Wm||p.J.jn||p.J.bt!=G.ks||p.J.XE||p.zu()){var E=x.K(H.n*H.z);
if(G.ks){if(!p.zu()&&p.DL()==null&&p.rect.Rj(H))x.iJ(p.buffer,E,3);else{var h=x.K(H.n*H.z*4);t.get(h);
x.iJ(h,E,3)}}else x.iJ(t,E,3);if(p.J.jn||p.J.bt!=G.ks||!x.Rj(E,p.J.jB)){var u=null;if(p.gC()&&p.add.vmsk&&p.add.vmsk.isEnabled&&p.add.vmsk.DL().color==0)u=p.add.vmsk.DL().rect;
nM.xUz(p.J.zC,E,H,p.add.lmfx,p.add.fxrp,N,u);p.J.jB=E}}if(p.TZ())nM.xYZ(p.add.lmfx,p.J.zC,H,b,X,q);if(p.zu()){w=W._R(p.J.xc,H.n,H.z);
W.Ws(w,0);if(p.nB=="pass")W.rS(b,X,w,H);if(n)W.bF(j,H,w,H);this.MQ(w,H,q,N,_);p.J.xc=w}if(g){w=p.J.xc=this.xng(b,X,p.J.xc,H,p.add)}if(p.zu()||g)Z=w;
else{Z=W._R(p.J.xc,H.n,H.z);W.rS(w,H,Z,H,q);p.J.xc=Z}W.Ws(Z,4278190080,16777215);for(var A=0;A<J.length;
A++)J[A].M_(Z,H,q,N,[],_);var P=p.J.yU=W._R(p.J.yU,H.n,H.z);W.rS(b,X,P,H,q);if(g)z.dS=!0;W.TG(p.nB=="pass"?"norm":p.nB,Z,H,P,H,q,1,z);
if(p.TZ()){var T=p.J.zC.type.FrFX,U=null;if(T.length!=0){U=T[0];for(var A=0;A<T.length;A++)if(T[A].Hz.n>U.Hz.n)U=T[A];
p.J.XT=W._R(p.J.XT,U.Hz.n,U.Hz.z);W.rS(b,X,p.J.XT,U.Hz,q);p.J.jE=W._R(p.J.jE,U.Hz.n,U.Hz.z)}nM.xpV(p.add.lmfx,p.J.zC,H,b,X,q,P,p.J.XT,p.J.jE,U?U.Hz:null)}if(!G.ks){var r=x.K(H.c());
x.iJ(t,r,3);t=r}W.gB(P,H,b,X,t,H,0,q,1,p.nB=="diss");p.J.xar()};_d.prototype.xng=function(b,X,q,N,J){var _=nY.get(J),p;
if(_)p=nY.fb(_,J[_]);var z=_d.Db;q=z._R(q,N.n,N.z);if(!(G.ks&&X.Rj(N)))z.rS(b,X,q,N);if(p){if(G.ks){var g=N.clone();
g.x=g.y=0;if(X.Rj(N)){G.ig(q,g);nY.aN(p,b.vN,g)}else{G.ig(q,N);q.yY(N);nY.aN(p,q.zU,g)}}else nY.dI(p,q,q,N)}return q};
_d.prototype.MQ=function(b,X,q,N,J){var _=this.children;for(var p=0;p<_.length;p++){var z=[];for(var g=p+1;
g<_.length;g++)if(_[g].Q.Hg)z.push(_[g]);else break;_[p].M_(b,X,q,N,z,J);p+=z.length}};function nj(b){this.name=b;
this.Hm=-1;this.RW=null;this.Wy=null;this.uF=null;this.ul=null;this.n=0;this.z=0;this.F=[];this.ye={};
this.add={};this.buffer=null;this.Hs=4;this.mD=null;this.Dg=72;this.Te={};this.k=[];this.LA=[[],[]];
this.lg=[];this.HA=[];this.Dx=[nj.FS("Work Path")];this._H=[];this.GN=null;this.vO={classID:"CompList",list:{t:"VlLs",v:[]}};
this.root=null;this.ZU=null;this.pd=!1;this.xKV=!1;this.OZ=!1;this.Tf=!1;this.RZ=!1;this.Ri=!1;this.fY=!1;
this.Vp=!1;this.JL=!1;this.Wm=null;this.jf=null;this.ii={};this.p=null;this.Ff=[];this.nI=[];this.H={zd:{},TF:[],xuU:[],Rt:null,Jw:null,DW:null,Ui:null,tU:[],vk:[]};
this.history=[new no([1,0],null)];this.W_=0;this.Mb=0;this.M=new Sx(this)}nj.prototype._l=function(){var b=this.Ff,X=this.Ff.length;
if(X!=0&&b[X-1].name=="Quick Mask")return b[X-1]};nj.prototype.xxE=function(){var b=this.name;return b.slice(0,b.length-4).endsWith("-sketch")};
nj.prototype._y=function(b){this.add.artd={classID:"null",Cnt:{t:"long",v:b},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},canvasColorMode:{t:"enum",v:{canvasColorType:"Cstm"}},canvasColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:220},Grn:{t:"doub",v:220},Bl:{t:"doub",v:220}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}}};
nj.prototype.$p=function(b){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(b)==-1)this.add.FEid.push(b)};
nj.prototype.Mt=function(b){var X=this.add.FEid.indexOf(b);this.add.FEid.splice(X,1);if(this.add.FEid.length==0)delete this.add.FEid};
nj.prototype.Y=function(b){if(b==null)b=new R(0,0,this.n,this.z);if(this.Wm==null)this.Wm=b;else this.Wm=this.Wm.Tg(b)};
nj.prototype.xgk=function(b){return this.Wm!=null};nj.prototype.jl=function(b){var X=this.F[b],q=this.root.vf(b);
if(q==null)return!1;if(X.zu()||q.parent.children.indexOf(q)==0)return!1;return!0};nj.xpd=function(b){if(b.add.lnk2)for(var X=0;
X<b.add.lnk2.length;X++){var q=b.add.lnk2[X].pA;b.add.lnk2[X].pA=nj.bj()+q.slice(8);for(var N=0;N<b.F.length;
N++){var J=b.F[N].add.SoLd;if(J&&J.Idnt.v==q)J.Idnt.v=b.add.lnk2[X].pA}}};nj.prototype.xgl=function(b,X,q){b.sort(function(D,m){return D-m});
var top=b[b.length-1],N=this.F.slice(0),J=this.k.slice(0),_=[],p=[];for(var z=0;z<this.F.length;z++){if(b.indexOf(z)!=-1)p.push(this.F[z]);
else _.push(this.F[z])}this.lD(p);this.k=[];var g=this.root.pi(this,!0);if(X)g=g.be(X);if(q)g=g.Tg(q);
if(g.qa())g=new R(0,0,100,100);var W=new R(-g.x,-g.y,this.n,this.z),o=new Uint8Array(nr.PSD.Da(this,0,0,[!0,!1]));
this.lD(N);this.k=J;var y=new nj(this.F[top].getName());nr.PSD.vu(o.buffer,y);delete y.add.artd;y.LA=[[],[]];
y.lg=[];y.lD(y.F);nj.xpd(y);c.IP.xo(y,g);y.Y();y.RL();y.US();return[y,g,_,top]};nj.prototype.xPA=function(b,X){var q=this.xgl(b),N=q[0],J=q[1],_=q[2],top=q[3],p=new Uint8Array(nr.PSD.Da(N));
if(X)_=this.F.slice(0);var z=this.$K(p,N.name,J.x,J.y);if(top==this.F.length-1)_.push(z);else _.splice(X?top+1:top-b.length+1,0,z);
this.lD(_);this.k=[_.indexOf(z)]};nj.bj=function(){var b="";for(var X=0;X<8;X++)b+=Math.floor(Math.random()*16).toString(16);
return b};nj.prototype.Rs=function(b){if(b==null)return;if(this.add.Patt==null)this.add.Patt=[];var X=this.add.Patt;
for(var q=0;q<X.length;q++)if(X[q].id==b.id)return;X.push(b)};nj.prototype.$K=function(b,X,q,N,J){if(this.add.lnk2==null)this.add.lnk2=[];
var _=null,D=!1;for(var p=0;p<this.add.lnk2.length;p++)if(x.Rj(b,this.add.lnk2[p].raw)){_=this.add.lnk2[p].pA;
break}if(_==null){var z=nr.xw(b.buffer);_=nj.bj()+"-d71c-11e5-b1ae-a548a96e5f9f";var g=new M.nu;g.pA=_;
g.If=z=="psd"?"8BIM":"    ";g.zK=X+"."+z;g.Rk=z=="psd"?"8BPB":"    ";g.open=0;g.raw=b;g.type="liFD";
g.HY=2;this.add.lnk2.push(g)}var W=this.jO(_),o=nj.bj()+"-d71c-11e5-b1ae-a548a96e5f9f",y=this.rY();y.fT(X);
if(W!=null){var m=y.rect=W.aS[1].clone();y.rect.offset(q,N);var k=Math.max(m.n/this.n,m.z/this.z),D=J&&k>1.0001;
if(D){m.n=Math.round(m.n/k);m.z=Math.round(m.z/k);m.x=Math.round((this.n-m.n)/2);m.y=Math.round((this.z-m.z)/2)}y.buffer=x.K(y.rect.c()*4);
if(!D)x.vM(W.aS[0],y.buffer)}y.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:_},placed:{t:"TEXT",v:o},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,warp:{t:"Objc",v:x.Gg.K(y.rect)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:y.rect.n},Hght:{t:"doub",v:y.rect.z}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:72}}};
var O=x.j.fe(y.rect).r;y.add.SoLd.Trnf=c.C.Rz(O);y.add.SoLd.nonAffineTransform=c.C.Rz(O);if(D)y.ns(this,!1);
return y};nj.prototype.US=function(b){if(b!=null){this.Y();this.RL(b);var X=this.buffer;if(G.ks)this.ZU.get(X);
else X=X.slice(0);this.Y();this.RL();return X}if(this.Wm){this.RL();this.Wm=null}if(G.ks&&this.jf){this.ZU.get(this.buffer);
this.jf=null;this.Ri=!0}return this.buffer};nj.prototype.xCe=function(){for(var b=0;b<this.F.length;
b++)this.F[b].xxO();this.Y()};nj.prototype.xAh=function(){for(var b=0;b<this.F.length;b++)if(this.F[b].add.lmfx)this.F[b].J.jn=!0};
nj.prototype.jT=function(){var b=this.ye.r1044;if(b==null){b=this.ye.r1044=new Uint8Array(4);var X=0;
for(var q=0;q<this.F.length;q++)X=Math.max(X,this.F[q].add.lyid);e.ni(b,0,X)}var N=e.o(b,0);e.ni(b,0,N+1);
return N+1};nj.prototype.lC=function(b,X){if(b==null)b=!0;var q=this;if(q.nI.length!=0)return!0;if(q.k.length!=1){if(b)alert(q.k.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.jX(b,X)};nj.prototype.jX=function(b,X){if(b==null)b=!0;if(X==null)X=!1;var q=this;
if(q.nI.length!=0)return!0;for(var N=0;N<q.k.length;N++){var J=q.F[q.k[N]],_=X||J.ZZ<=0;if(J.add.lsct!=null&&J.add.lsct!=_b.Pi&&J.ZZ!=1){if(b)alert(xA.get([15,7,2]));
return!1}if(_&&!J.My()){if(b)alert(xA.get([15,7,2]));return!1}if(_&&J.add.TySh){if(b)alert(xA.get([15,7,3]));
return!1}if(_&&J.add.SoLd){if(b)alert(xA.get([15,7,4]));return!1}if(J.g$(1)||J.g$(31)){if(b)alert(xA.get([6,57,0]));
return!1}}return!0};nj.prototype.xBg=function(b){var X=this.root.vf(b);if(X.parent)return X.Q.oF()&&this.xBg(X.parent.index);
else return X.Q.oF()};nj.prototype.xBI=function(b){var X=this.root.vf(b);if(X==null)return null;var q=X.Q;
if(q.add.artb)return q.Cz();if(X.parent)return this.xBI(X.parent.index);return null};nj.prototype.xPb=function(){var b=this.F[this.k[0]];
if(b.ZZ<=0&&!b.rect.Dj(this.p.rect)){alert("Selected area is empty.");return!1}if(this.k.length==1&&this.p){var X=x.K(this.p.channel.length);
x.sM(b.buffer,b.rect,X,this.p.rect);x.Wx(this.p.channel,X);if(x.lc(X,0)){alert("Selected area is empty.");
return!1}}return!0};nj.prototype.Fx=function(){if(this.ye["r"+1037]==null)this.bw(30);return e.pY(this.ye["r"+1037],0)};
nj.prototype.bw=function(b){if(this.ye["r"+1037]==null)this.ye["r"+1037]=new Uint8Array(4);if(e.pY(this.ye["r"+1037],0)==b)return;
e.te(this.ye["r"+1037],0,b);this.xAh()};nj.prototype.bl=function(){if(this.ye["r"+1049]==null)this.jN(30);
return e.pY(this.ye["r"+1049],0)};nj.prototype.jN=function(b){if(this.ye["r"+1049]==null)this.ye["r"+1049]=new Uint8Array(4);
if(e.pY(this.ye["r"+1049],0)==b)return;e.te(this.ye["r"+1049],0,b);this.xAh()};nj.prototype.Fb=function(b){if(this.add.lnk2==null)return null;
for(var X=0;X<this.add.lnk2.length;X++)if(this.add.lnk2[X].pA==b)return this.add.lnk2[X];return null};
nj.prototype.xpt=function(b){var X=this.Fb(b);if(X==null)return!1;var q=nr.xw(X.raw.buffer);if(q==null)return!1;
if(nr.aC(q)!=null||q=="psd")return!0;return!1};nj.prototype.jO=function(b,X){var q=this.Fb(b);if(q==null)return null;
q.US(X);if(q.aS)return q};nj.prototype.RL=function(b){if(b==null)b=1e9;var X=this.n,q=this.z,N=new R(0,0,X,q),J=N.be(this.Wm);
if(G.ks&&this.ZU==null)this.ZU=new G.Sm(X,q,!0);if(this.buffer==null||this.buffer.length!=X*q*4||G.ks&&(this.ZU.n!=X||this.ZU.z!=q)){this.buffer=x.K(X*q*4);
if(this.ZU)this.ZU.delete();if(G.ks)this.ZU=new G.Sm(X,q,!0)}if(J.qa())return;if(!J.Rj(N)){if(!G.ks){var _=x.$j(J.c()*4);
x.iX(_,J,this.buffer,N)}if(G.ks){G.ig(this.ZU,J);G.HX(0)}}else{if(G.ks){this.ZU.set(null)}else{x.set(this.buffer,0)}}var p=Date.now(),z=G.ks?this.ZU:this.buffer;
this.root.M_(z,N,J,this,[],b);this.jf=this.Wm.clone()};nj.prototype.rY=function(){var b=new M;b.rect=new R(0,0,0,0);
b.buffer=x.K(1);b.add.luni=new Ue(0,0);b.add.lyid=this.jT();b.add.lsct=_b.Pi;b.add.lclr=0;b.add.fxrp=new Ue(0,0);
return b};nj.prototype.lJ=function(){var b=this.rY();b.fT("</Layer group>");b.add.lsct=_b.Rv;b.aA=24;
return b};nj.prototype.jj=function(){return this.W_!=this.Mb};nj.prototype.wV=function(b){while(this.history.length>this.W_+1)this.history.pop();
if(this.Mb>this.W_)this.Mb=-1;if(b.B.id!=c.Jr){this.OZ=!0;if(this.vO.lastAppliedComp){delete this.vO.lastAppliedComp;
this.fY=!0}}this.history.push(b);this.W_++;this.Ri=!0;var X=nd.HN()?60:30,q=0;for(var N=this.history.length-1;
N>=0;N--){var J=this.history[N];if(J.jx)continue;q++;if(q==X){this.W_-=N;this.history=this.history.slice(N);
break}}};nj.prototype.Sq=function(){if(this.W_!=this.history.length-1)return null;return this.history[this.history.length-1]};
nj.prototype.uu=function(b,X,q,N){if(b==null)b=!1;var J=X!=null?[X]:this.k.slice(0);if(N){var _=[];for(var p=0;
p<J.length;p++){var z=this.F[J[p]].zZ;if(z!=0&&_.indexOf(z)==-1)_.push(z)}for(var p=0;p<this.F.length;
p++){var z=this.F[p].zZ;if(z!=0&&_.indexOf(z)!=-1&&J.indexOf(p)==-1)J.push(p)}}var g=[];for(var p=0;
p<J.length;p++){var W=this.bm(J[p],b);for(var o=0;o<W.length;o++)if(g.indexOf(W[o])==-1)g.push(W[o]);
if(q){var y=this.root.vf(J[p]);while(y.parent!=null&&y.parent.parent!=null){y=y.parent;if(g.indexOf(y.index)==-1){g.push(y.index,y.jW)}}}}return g};
nj.prototype.bD=function(b,X,q){var N=this,J=N.uu(!1,b,null,q);J.sort(function(H,Y){return H-Y});var _={};
for(var p=0;p<N.F.length;p++){var z=N.F[p].getName();_[z]=!0}var g=[];for(var W=0;W<J.length;W++){var o=N.F[J[W]].clone(),L,I;
o.add.lyid=N.jT();o.add.lspf=0;if(o.ot()){var y=o._m(N),D=nj.xUX(y);N.$p(D);o.add.SoLd.placed.v=D.id}o.he(N);
var m=o.getName(),k=m.length;while(48<=m.charCodeAt(k-1)&&m.charCodeAt(k-1)<=57)k--;var O=parseInt(m.slice(k));
if(isNaN(O)){if(m.endsWith(" copy")){O=1;L=m.slice(0,m.length-5)}else{O=0;L=m}}else if(m.slice(0,k).endsWith(" copy ")){O=O;
L=m.slice(0,k-6)}else{O=0;L=m}O++;while(!0){I=L+" copy"+(O==1?"":" "+O);if(_[I]==null)break;O++}if(m=="Background"&&_["Layer 1"]==null)I="Layer 1";
if(X!=!0)o.fT(I);_[I]=!0;g.push(o)}return g};nj.xUX=function(b){return{id:nj.bj()+b.id.slice(8),buffer:x.clone(b.buffer),rect:b.rect.clone(),G:b.G?b.G.clone():null}};
nj.xgE=function(b){return{id:b,rect:new R,buffer:x.K(1),G:new M.ah}};nj.FS=function(b,X){if(X==null)X={vmsk:new M.zo};
if(X.vogk==null){X.vogk=[];var q=x.g.SG(X.vmsk.s);for(var N=0;N<q;N++)X.vogk.push(x.P_.$j())}return{name:b,aP:0,add:X}};
nj.prototype.Ku=function(b){var X=[],q=[],N=this,p=0;for(var J=1;J<N.Dx.length;J++){var _=N.Dx[J];_.aP=-1-J;
X.push(_);if(N._H.indexOf(J)!=-1)q.push(X.length-1)}if(N.Dx[0].add.vmsk.s.length>2){var _=N.Dx[0];_.aP=-1;
X.push(_);if(N._H.indexOf(0)!=-1)q.push(X.length-1)}var z=N.GN==null;if(z)N.GN=[];for(var J=N.k.length-1;
J>=0;J--){var g=N.F[N.k[J]],W=g.add.TySh;if(g.add.vmsk!=null&&(g.Ga||g.gC())){var _=nj.FS("\""+g.getName()+"\" Shape Path",g.add);
_.aP=N.k[J];X.push(_);if(z)N.GN.push(p);if(N.GN.indexOf(p)!=-1)q.push(X.length-1);p++}if(b!=!0&&W&&W.add&&x.Gg.tM(W.HM)){var _=nj.FS("\""+g.getName().slice(0,10)+"..\" Text Path",W.add);
_.aP=1e6+N.k[J];X.push(_);q.push(X.length-1);p++}}if(q.length==0&&b){N.Dx[0].aP=-1;N._H=[0];q.push(X.length);
X.push(N.Dx[0])}return[X,q]};nj.prototype.bm=function(b,X){var q=[],N=this.root.vf(b);if(N)N.xPc(q,X);
return q};nj.prototype.jo=function(){this.root.FY(this,new R(0,0,this.n,this.z),32)};nj.prototype.lD=function(b){for(var X=0;
X<this.F.length;X++){var q=this.F[X];if(b.indexOf(q)==-1){q.J.xxj();q.Y()}}this.F=b.slice(0);this.FB()};
nj.prototype.FB=function(){var b=this.F,X=b.length;this.root=new _d;var q=this.rY();q.nB="pass";q.add.lsct=_b.iS;
var N=this.lJ(),J=[N];for(var _=0;_<X;_++)J.push(b[_]);J.push(q);this.root.xPQ(J,0,0);if(this.k.length==0)this.k=[X-1]};
nj.prototype.MJ=function(){if(this.k.length!=1)return;var b=this.root.vf(this.k[0]);while(b.parent!=null){var X=b.parent.Q;
X.add.lsct=_b.iS;b=b.parent}this.RZ=this.xEG=!0};nj.Mz=function(b,X,q,N,J){var _={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:N},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:b}},Hght:{t:"UntF",v:{type:"#Rlt",val:X}},Rslt:{t:"UntF",v:{type:"#Rsl",val:q}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:J}},Dpth:{t:"long",v:8},profile:{t:"TEXT",v:"sRGB IEC61966-2.1"}}}};
return{pn:"make",nv:_}};nj.xpJ=function(b,X){var q=0,N=0,J=72,_=X.xSP,p=b.preset&&b.preset.v=="Clipboard";
if(p){q=_.n;N=_.z}else{q=b.Wdth.v.val;N=b.Hght.v.val;J=b.Rslt.v.val}var z=new nj((b.Nm?b.Nm.v:xA.get([11,7]))+".psd");
z.n=q;z.z=N;z.Dg=J;var g=z.rY();g.fT("Background");z.lD([g]);g.add.lspf=1<<2;var W=b.Fl?b.Fl.v.Fl:"Wht";
if(W!="Trns"){var o=X.HO;o=(o&255)<<16|(o>>>8&255)<<8|o>>>16;g.rect=new R(0,0,q,N);g.buffer=x.K(q*N*4);
x.Ws(g.buffer,{Wht:4294967295,BckC:255<<24|o}[W])}z.buffer=x.K(q*N*4);return z};function Sx(b){this.kM=b;
this.d=0;this.I=new Ue(0,0);this.Yk=[1,1,1];this.L=new R(0,0,1,1);this.GW=new R(0,0,b.n,b.z);this.t$=null;
this.H_=null;this.YY=new Uint32Array(0);this.IS=null;this.hH=null;this._o=x.K(0);this.xV=null;this.MK=null}Sx.prototype.X$=function(b,X){var q=Math.round((this.L.n-this.kM.n*this.d)/2+this.I.x),N=Math.round((this.L.z-this.kM.z*this.d)/2+this.I.y),J=(b-q)/this.d,_=(X-N)/this.d;
return new Ue(J,_)};Sx.prototype.lm=function(b,X){var q=Math.round((this.L.n-this.kM.n*this.d)/2+this.I.x),J=Math.round((this.L.z-this.kM.z*this.d)/2+this.I.y),_=b*this.d+q,p=X*this.d+J;
return new Ue(_,p)};Sx.prototype.lx=function(){var b=this.kM,X=this.d,q=this.L.n,N=this.L.z,J=Math.floor(b.n*X),_=Math.floor(b.z*X);
if(X<.99){var p=x.sw(null,new R(0,0,b.n,b.z),X).rect;J=p.n;_=p.z}return new R(Math.round((q-J)/2+this.I.x),Math.round((N-_)/2+this.I.y),J,_)};
Sx.prototype.js=function(){var b=this.kM,X=this,q=1/X.d,N=this.lx();return new R(Math.floor((X.L.x-N.x)*q),Math.floor((X.L.y-N.y)*q),Math.ceil(X.L.n*q)+1,Math.ceil(X.L.z*q)+1)};
function UZ(){}UZ.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh".split(" ");UZ.PS="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti".split(" ");
UZ.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0]];UZ.xaI=["DrSh","IrSh","SoFi","GrFl","FrFX"];
UZ.tt=["Clr"];UZ.le="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");UZ.Wd=["Ptrn","Scl","Algn","phase"];
UZ.RO={vJ:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",xSa:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"v\":\"Two Color\",\"t\":\"TEXT\"},\"GrdF\":{\"v\":{\"GrdF\":\"CstS\"},\"t\":\"enum\"},\"Intr\":{\"v\":4096,\"t\":\"doub\"},\"Clrs\":{\"v\":[{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",xPS:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"v\":\"Foreground to Background\",\"t\":\"TEXT\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",DU:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\",\"t\":\"TEXT\"}}}"};
UZ.RO.vJ="\"Clr\": "+UZ.RO.vJ;UZ.RO.Z="\"Grad\":"+UZ.RO.xSa+",\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"}";
UZ.RO.DU="\"Ptrn\":"+UZ.RO.DU+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
UZ.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
UZ.IN=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+UZ.RO.vJ+","+UZ.RO.Z+","+UZ.RO.DU+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+UZ.RO.vJ+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+UZ.RO.Z+"}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+UZ.RO.DU+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Line\xE1rn\xED\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"}}"];
UZ.Z={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
UZ.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],MD:["SClr","GrFl","Ptrn"],xpz:[[13,0],[12,37],[12,62]]};
UZ.lH={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],xiu:["SrcC","SrcE"],xpX:[[19,5,1],[12,69]]};UZ.$Q={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],xUs:["SfBL","PrBL","Slmt"],xpD:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
UZ.FF={RA:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],Rb:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],DC:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!0},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pnt",val:4.38}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+UZ.RO.vJ+"}")},strokeStyleResolution:{t:"doub",v:72}}};
UZ.ex=[{classID:"null",Clr:JSON.parse(UZ.IN[5]).Clr},{classID:"null",Grad:JSON.parse(UZ.IN[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:60}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(UZ.IN[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var nM={};nM.xYb=function(b,X,q){if(b.qa())return;var N=x.g.xE$(b.s);N.x=Math.floor(N.x*X);N.n=Math.ceil(N.n*X);
N.y=Math.floor(N.y*q);N.z=Math.ceil(N.z*q);b.rect=N;b.channel=x.K(N.c());x.DO.width=N.n;x.DO.height=N.z;
var J=x.L;J.fillStyle="#ffffff";x.g.xEy(J,b.s,X,q,-N.x,-N.y);J.fill();var _=J.getImageData(0,0,N.n,N.z).data;
x.iJ(_,b.channel,3)};nM.M$=function(b,X){function q(b,m){if(b==null)return null;var k=b[m].v,O;if(k.length!=0){O=k[0].v;
if(!O.enab.v)O=null}return O}var N=X.SoCo,J=X.GdFl,_=q(b,"solidFillMulti"),p=q(b,"gradientFillMulti");
if(_==null&&p==null)return[N,J];var z=nM.xUv;if(N&&_&&p==null){var g=JSON.parse(JSON.stringify(N));g.Clr.v=z(_.Clr.v,N.Clr.v,_);
return[g,null]}if(J&&_&&p==null){var W=JSON.parse(JSON.stringify(J)),o=W.Grad.v.Clrs.v;for(var y=0;y<o.length;
y++){var D=o[y].v.Clr;D.v=z(_.Clr.v,D.v,_)}return[null,W]}if(N&&p){var W=JSON.parse(JSON.stringify(p)),o=W.Grad.v.Clrs.v;
for(var y=0;y<o.length;y++){var D=o[y].v.Clr;D.v=z(D.v,N.Clr.v,p)}return[null,W]}return[_,p]};nM.xUn={by:x.K(4),Fq:x.K(4),D:new R(0,0,1,1)};
nM.xUv=function(b,X,q){var N=nD.ei(q.Md.v.BlnM),J=q.Opct.v.val/100,_=nM.xUn;b=x.Z.vx(b);X=x.Z.vx(X);
_.by[0]=b.D;_.by[1]=b.q;_.by[2]=b.b;_.by[3]=255;_.Fq[0]=X.D;_.Fq[1]=X.q;_.Fq[2]=X.b;_.Fq[3]=255;x.t.TG(N,_.by,_.D,_.Fq,_.D,_.D,J);
return{classID:"RGBC",Rd:{t:"doub",v:_.Fq[0]},Grn:{t:"doub",v:_.Fq[1]},Bl:{t:"doub",v:_.Fq[2]}}};nM.xKs=function(b,X,q){var N=b;
b=b.slice(0);var J=nD.YO[nD.$s.indexOf(X.Md.v.BlnM)],_=x.Z.vx(X.Clr.v),p=4278190080|Math.round(_.b)<<16|Math.round(_.q)<<8|Math.round(_.D),z=x.K(q.c()*4);
x.Ws(z,p);x.t.TG(J,z,q,b,q,q,X.Opct.v.val/100);for(var g=0;g<b.length;g+=4)b[g+3]=N[g+3];return b};nM.xSU=function(b,X){var q=["Sz","blur","Sftn","Dstn"];
for(var N=0;N<UZ.order.length;N++){var J=UZ.order[N],_=b[UZ.PS[N]].v;for(var p=0;p<_.length;p++){var z=_[p].v;
for(var g=0;g<q.length;g++){var W=z[q[g]];if(W){var o=W.v.val,y=o;y=Math.max(o==0?0:1,y*X);if(J=="ChFX")y=Math.min(y,250);
if(J=="ebbl"){if(q[g]=="blur")y=Math.min(y,250);if(q[g]=="Sftn")y=Math.min(y,16)}W.v.val=Math.round(y)}}if(J=="ebbl"||J=="patternFill"||J=="FrFX")if(z.Ptrn&&z.Scl)z.Scl.v.val=Math.max(1,Math.min(1e3,z.Scl.v.val*X))}}};
nM.xUR=function(b,X){var q=new R(-.5,-.5,1,1),N=b.add.lmfx;for(var J=0;J<UZ.order.length;J++){var _=UZ.order[J],p=N[UZ.PS[J]].v;
for(var z=0;z<p.length;z++){var g=p[z].v,D;if(!g.enab.v)continue;var W=g.blur?g.blur.v.val+1:0,o=g.Ckmt?g.Ckmt.v.val/100:0,y=Math.round(W*o);
if(_=="DrSh"){D=new R(-.5,-.5,1,1);D.Ii(W,W);nM.Kg(D,g,X,0)}if(_=="OrGl"){D=new R(-.5,-.5,1,1);D.Ii(W,W)}if(_=="FrFX"){var m=nM.DE(g)[1];
D=new R(-.5,-.5,1,1);D.Ii(Math.ceil(m),Math.ceil(m))}if(_=="ebbl"){var W=g.blur.v.val;if(g.bvlS.v.BESl=="Embs"||g.bvlS.v.BESl=="PlEb")W/=2;
var k=["OtrB","InrB","Embs","PlEb","strokeEmboss"],O=["SfBL","PrBL","Slmt"],L=["In","Out"],I=g.bvlT.v.bvlT!="SfBL"?W:W*.43,H=Math.round(W);
D=new R(-H-.5,-H-.5,2*H+1,2*H+1)}if(D)q=q.Tg(D)}}if(q.x!=Math.ceil(q.x)){q.x=Math.ceil(q.x);q.n-=1}if(q.y!=Math.ceil(q.y)){q.y=Math.ceil(q.y);
q.z-=1}return q};nM.DE=function(b){var X=0,q=0,N=b.Styl.v.FStl,J=b.Sz.v.val;if(N=="OutF")q=J;if(N=="InsF")X=J;
if(N=="CtrF")X=q=J/2;return[X,q]};nM.xBC=function(b){if(b.all==null)return;for(var X=0;X<b.all.length;
X++){var q=b.all[X];if(q.yn)q.yn.delete();if(q.Mu)q.Mu.delete();if(q.MY)q.MY.delete()}};nM.xUz=function(b,X,q,N,J,_,p){nM.xBC(b);
var z=nM.iE(N,J,X,q,_,p);b.type=z.type,b.all=z.all;if(G.ks)for(var g=0;g<b.all.length;g++){var W=b.all[g];
W.yn=new G.Sm(W.ut.n,W.ut.z);W.yn.set(W.Dl);delete W.Dl;if(W.ML){W.Mu=new G.Pm(W.ut.n,W.ut.z);W.Mu.set(W.ML);
delete W.ML}if(W.MX){W.MY=new G.Pm(W.ut.n,W.ut.z);W.MY.set(W.MX);delete W.MX}}};nM.iE=function(b,X,q,N,J,_){if(_==null)_=N;
var p=0,z=0;for(var g=0;g<UZ.order.length;g++){var W=UZ.order[g],o=UZ.PS[g],y=b[o].v;for(var D=0;D<y.length;
D++){var m=y[D].v;if(W=="DrSh"&&m.enab.v&&m.Ckmt.v.val>0&&m.blur.v.val>0)p=Math.max(p,Math.ceil(m.Ckmt.v.val*m.blur.v.val/100));
if(W=="OrGl"&&m.enab.v&&m.Ckmt.v.val>0&&m.blur.v.val>0&&m.GlwT.v.BETE=="SfBL")p=Math.max(p,Math.ceil(m.Ckmt.v.val*m.blur.v.val/100));
if(W=="OrGl"&&m.enab.v&&m.blur.v.val>0&&m.GlwT.v.BETE=="PrBL")p=Math.max(p,m.blur.v.val);if(W=="FrFX"&&m.enab.v&&m.Sz.v.val>0){if(m.Styl.v.FStl=="OutF")p=Math.max(p,m.Sz.v.val);
if(m.Styl.v.FStl=="CtrF")p=Math.max(p,Math.ceil(m.Sz.v.val/2));z=Math.max(z,nM.DE(m)[1])}}}var k=new nM.RB(q,N,p),O={type:{},all:[]};
for(var L=0;L<UZ.order.length;L++){var W=UZ.order[L],o=UZ.PS[L];O.type[W]=[];for(var I=b[o].v.length-1;
I>=0;I--){var H=b[o].v[I].v;if(!H.enab.v)continue;var Y=H.blur?H.blur.v.val:0,n=H.Ckmt?H.Ckmt.v.val/100:0,w=Y*n;
if(W=="DrSh"){var t=k.lF(w,Y-w,!0),j=t.JZ,E=t.h;E.offset(-k.rect().x-1,-k.rect().y-1);nM.lR(j,H,!1);
nM.Kg(E,H,J,0);var h=x.K(E.c()*4);nM.uL(h,H.Clr.v);x.qR(j,h,3);var u={Dl:h,ut:E,VG:nD.ei(H.Md.v.BlnM),dx:H.Opct.v.val/100,xSC:H.layerConceals.v};
O.type[W].push(u);O.all.push(u)}if(W=="IrSh"){var t=k.lF(w,Y-w,!1);nM.Kg(t.h,H,J,0);var E=k.rect().clone(),j=x.K(E.c());
x.set(j,255);x.rS(t.JZ,t.h,j,E);nM.lR(j,H,!0);var h=x.K(E.c()*4);nM.uL(h,H.Clr.v);x.qR(j,h,3);E.offset(-k.rect().x-1,-k.rect().y-1);
var u={Dl:h,ut:E,VG:nD.ei(H.Md.v.BlnM),dx:H.Opct.v.val/100};O.type[W].push(u);O.all.push(u)}if(W=="GrFl"){var h=x.K(k.rect().c()*4);
nM.lv(H,h,k.rect(),J,null,_);var E=k.rect().clone();E.offset(-k.rect().x-1,-k.rect().y-1);var u={Dl:h,ut:E,VG:nD.ei(H.Md.v.BlnM),dx:H.Opct.v.val/100};
O.type[W].push(u);O.all.push(u)}if(W=="SoFi"){var h=x.K(k.JZ().length*4);nM.uL(h,H.Clr.v);var E=k.rect().clone();
E.offset(-k.rect().x-1,-k.rect().y-1);var u={Dl:h,ut:E,VG:nD.ei(H.Md.v.BlnM),dx:H.Opct.v.val/100};O.type[W].push(u);
O.all.push(u)}if(W=="ebbl"){var Z=!1,$=1;if(Z)console.log(H);var A=Date.now(),P=H.bvlS.v.BESl;if(P=="strokeEmboss"){var T=b.frameFXMulti.v;
if(T.length==0)continue;T=T[0].v;if(!T.enab.v)continue;var U=T.Styl.v.FStl;if(U=="OutF")P="OtrB";if(U=="CtrF")P="Embs";
if(U=="InsF")P="InrB"}var Y=H.blur.v.val;if(Y==0)Y=.7;if(P=="Embs"||P=="PlEb")Y/=2;var r=["OtrB","InrB","Embs","PlEb","strokeEmboss"],i=["SfBL","PrBL","Slmt"],V=["In","Out"],F=H.bvlT.v.bvlT!="SfBL"?Y:Y*.45,B=Math.round(Y);
Y*=$;F*=$;B*=$;var l=k.rect().clone();l.x*=$;l.y*=$;l.n*=$;l.z*=$;var v=l.clone();v.Ii(B,B);var C=v.n,f=v.z,nx=C*f,nA=k.rect().n,nU=k.rect().z,nn=x.K(nA*nU*$*$);
x.scale.$C(k.JZ(),nA,nU,nn,nA*$,nU*$,$);var nH=x.K(nx);x.rS(nn,l,nH,v);var d=new Float64Array(nx),np=new Float64Array(nx);
x.style.au(nH,d,C,f);x.Kn(nH);x.style.au(nH,np,C,f);if(Z)console.log("distTransform computed",Date.now()-A);
var a=np;np=new Float64Array(nx);for(var g=0;g<nx;g++)a[g]=a[g]-d[g];for(var g=0;g<nx;g++){var nb=a[g];
if(nb<-F)a[g]=-F;else if(nb>F)a[g]=F}if(Z)console.log("summing + cropping",Date.now()-A);if(H.bvlT.v.bvlT=="SfBL"){var nK=Math.pow(Y*.21,1.22);
if(P=="InrB")nK=Math.max(nK,2);x.blur.Vq(a,d,v,nK);var nq=a;a=d;d=nq}if(Z)console.log("blurring",Date.now()-A);
var nS=new Float64Array(nx);x.vM(a,nS);if(H.useShape.v){var nB=Math.min(100,H.Inpr.v.val+1)/100;if(P!="OtrB"&&P!="InrB")nB=1;
var nE=x.BJ.$l(H.MpgS.v.Crv.v,2e3),nh=Math.round(2e3/nB);nE=x.BJ.xwH(nE,nh,P=="InrB");var nv=.5/F;for(var g=0;
g<nx;g++){var nC=a[g],nR=.99999*(nC+F)*nv;a[g]=-F+2*F*nE[~~(nR*(nh-1))]}if(Z)console.log("applying shape",Date.now()-A)}if(H.useTexture.v){var nu=x.K(C*f*4);
nM.zv(H,nu,v,J,X);var nF=x.K(C*f);x.J_(nu,nF);var nP=x.K(C*f);x.blur.sW(nF,nP,v,1);nF=nP;var ni=Y*H.textureDepth.v.val*(1/100)*(1/255);
if(H.InvT.v)ni=-ni;for(var g=0;g<nx;g++)a[g]+=-ni*nF[g];if(Z)console.log("applying texture",Date.now()-A)}var nw=(H.bvlT.v.bvlT=="SfBL"?1:.5)*(H.bvlD.v.BESs=="In"?1:-1)*H.srgR.v.val/100;
for(var g=0;g<nx;g++)a[g]*=nw;if(Z)console.log("scaling",Date.now()-A);var nO=H.uglg&&H.uglg.v?J.Fx():H.lagl.v.val;
nO=nO*(Math.PI/180);var nT=H.uglg&&H.uglg.v?J.bl():H.Lald.v.val;nT=nT*(Math.PI/180);var nI=Math.cos(nO)*Math.cos(nT),gu=-Math.sin(nO)*Math.cos(nT),nN=Math.sin(nT),xn=new Float64Array(nx),nL=new Float64Array(nx),nV=P=="PlEb";
for(var g=0;g<f;g++)for(var D=0;D<C;D++){var nX=g*C+D,xY=-(g==0?a[nX+C]-a[nX]:g==f-1?a[nX]-a[nX-C]:.5*(a[nX+C]-a[nX-C])),ny=-(D==0?a[nX+1]-a[nX]:D==C-1?a[nX]-a[nX-1]:.5*(a[nX+1]-a[nX-1])),xp=1,nW=1/Math.sqrt(ny*ny+xY*xY+1);
ny*=nW;xY*=nW;xp*=nW;var nk=ny*nI+xY*gu+xp*nN,_x=nk;if(nV)_x=-ny*nI-xY*gu+xp*nN;if(nk>0)xn[nX]=nk;if(_x>0)nL[nX]=_x}if(Z)console.log("raycasting",Date.now()-A);
if(H.Sftn.v.val!=0){x.blur.Vq(xn,d,v,H.Sftn.v.val*.43);var nq=d,d=xn,xn=nq;if(nV){x.blur.Vq(nL,d,v,H.Sftn.v.val*.43);
var nq=d,d=nL,nL=nq}else x.vM(xn,nL)}if(Z)console.log("softening",Date.now()-A);var nE=x.BJ.$l(H.TrnS.v.Crv.v,1024);
for(var g=0;g<nx;g++){xn[g]=nE[~~(xn[g]*1024)];nL[g]=nE[~~(nL[g]*1024)]}if(Z)console.log("contour remap",Date.now()-A);
C=Math.round(C/$);f=Math.round(f/$);var xI=x.K(C*f*4);nM.uL(xI,H.hglC.v);var nZ=x.K(C*f*4);nM.uL(nZ,H.sdwC.v);
var gC=x.K(C*f*4);nM.uL(gC,H.hglC.v);var _q=x.K(C*f*4);nM.uL(_q,H.sdwC.v);var gb=1/nN,xE=1/(1-nN),nv=1/F,xC=new Float64Array(1e3);
for(var g=0;g<1e3;g++)xC[g]=Math.pow(g*.001,.2);for(var g=0;g<f;g++)for(var D=0;D<C;D++){var nX=g*C+D,pq=4*nX+3,xB=0,_r=0;
if($==1){xB=xn[nX];_r=nL[nX]}else{var _h=$*$*g*C+$*D;xB=.25*(xn[_h]+xn[_h+1]+xn[_h+$*C]+xn[_h+$*C+1]);
_r=.25*(nL[_h]+nL[_h+1]+nL[_h+$*C]+nL[_h+$*C+1])}var _i=Math.max(0,Math.min(.9999,(nS[nX]+F*.993)*nv));
_i=xC[Math.floor(_i*1e3)];var bK=_i*(1-Math.min(1,xB*gb)),xb=_i*(1-Math.min(1,(1-xB)*xE)),xv=_i*(1-Math.min(1,_r*gb)),gx=_i*(1-Math.min(1,(1-_r)*xE));
nZ[pq]=Math.round(255*bK);xI[pq]=Math.round(255*xb);_q[pq]=Math.round(255*xv);gC[pq]=Math.round(255*gx)}if(Z)console.log("baking textures",Date.now()-A);
v=k.rect().clone();v.Ii(B/$,B/$);v.offset(-k.rect().x-1,-k.rect().y-1);var xK={xuK:H.bvlS.v.BESl=="strokeEmboss"};
if(["InrB","Embs","PlEb"].indexOf(P)!=-1){xK.MO={Dl:xI,ut:v,VG:nD.ei(H.hglM.v.BlnM),dx:H.hglO.v.val/100};
xK.Mj={Dl:nZ,ut:v,VG:nD.ei(H.sdwM.v.BlnM),dx:H.sdwO.v.val/100};O.all.push(xK.MO,xK.Mj)}if(["OtrB","Embs","PlEb"].indexOf(P)!=-1){xK.MG={Dl:gC,ut:v,VG:nD.ei(H.hglM.v.BlnM),dx:H.hglO.v.val/100};
xK.Mk={Dl:_q,ut:v,VG:nD.ei(H.sdwM.v.BlnM),dx:H.sdwO.v.val/100};O.all.push(xK.MG,xK.Mk)}if(Z)console.log(Date.now()-A);
O.type[W].push(xK)}if(W=="patternFill"){var _p=k.rect(),h=x.K(_p.c()*4);nM.zv(H,h,_p,J,X);var E=_p.clone();
E.offset(-_p.x-1,-_p.y-1);var u={Dl:h,ut:E,VG:nD.ei(H.Md.v.BlnM),dx:H.Opct.v.val/100};O.type[W].push(u);
O.all.push(u)}if(W=="ChFX"){var h=x.K(k.JZ().length*4);nM.uL(h,H.Clr.v);var Y=H.blur.v.val,_n=k.rect().clone();
_n.Ii(Y,Y);var gq=x.K(_n.c()),xx=x.K(_n.c());x.rS(k.JZ(),k.rect(),xx,_n);x.blur.Jh(xx,gq,_n,Y*.43);var gw=x.BJ.aR(H.MpgS.v.Crv.v,256,!0);
x.aW(gq,gw);var xH=x.K(k.JZ().length),gr=x.K(k.JZ().length),xR=k.rect().clone();nM.Kg(xR,H,J,0);x.rS(gq,_n,xH,xR);
xR=k.rect().clone();nM.Kg(xR,H,J,Math.PI);x.rS(gq,_n,gr,xR);var xh=xH.length;for(var g=0;g<xh;g++)h[4*g+3]=Math.abs(xH[g]-gr[g]);
if(H.Invr.v)for(var g=0;g<xh;g++)h[4*g+3]=255-h[4*g+3];var E=k.rect().clone();E.offset(-k.rect().x-1,-k.rect().y-1);
var u={Dl:h,ut:E,VG:nD.ei(H.Md.v.BlnM),dx:H.Opct.v.val/100};O.type[W].push(u);O.all.push(u)}if(W=="OrGl"){var t;
if(H.GlwT.v.BETE=="SfBL")t=k.lF(w,Y-w,!0);else t=k.xRs(Y,n,!0);var j=t.JZ,E=t.h,_H=j.slice(0);nM.xUF(j,H);
var h=x.K(E.c()*4);if(H.Grad==null){nM.uL(h,H.Clr.v);nM.lR(j,H,!1)}else{nM.lR(j,H,null);var pd={hp:j,Ju:255,zO:0,rr:E};
nM.lv(H,h,E,J,pd);var UD=H.Nose.v.val/100,nA=E.n;for(var g=0;g<_H.length;g++){var _w=255,n$=_H[g];if(n$<32){var _J=(n$+_H[g-1]+_H[g+1]+_H[g-nA]+_H[g+nA])*.2-1;
_w=Math.min(255,Math.round(Math.max(0,_J)*8))}j[g]=_w}nM.xHW(j,H)}x.qR(j,h,3);E.offset(-k.rect().x-1,-k.rect().y-1);
var u={Dl:h,ut:E,VG:nD.ei(H.Md.v.BlnM),dx:H.Opct.v.val/100};O.type[W].push(u);O.all.push(u)}if(W=="IrGl"){var t;
if(H.GlwT.v.BETE=="SfBL")t=k.lF(w,Y-w,!1);else t=k.xRs(Y,n,!1);var j=t.JZ,E=t.h;nM.xUF(j,H);if(H.glwS.v.IGSr=="SrcC")x.Kn(j);
var h=x.K(E.c()*4);if(H.Grad==null){nM.uL(h,H.Clr.v);nM.lR(j,H,!0)}else{nM.lR(j,H,null);var pd={hp:j,Ju:255,zO:0,rr:E};
nM.lv(H,h,E,J,pd);x.set(j,255);nM.xHW(j,H)}x.qR(j,h,3);E.offset(-k.rect().x-1,-k.rect().y-1);var u={Dl:h,ut:E,VG:nD.ei(H.Md.v.BlnM),dx:H.Opct.v.val/100};
O.type[W].push(u);O.all.push(u)}if(W=="FrFX"){var bp=nM.DE(H),_$=bp[0],gL=bp[1],E=k.rect().clone(),xM=null,bE=null;
E.Ii(Math.ceil(z),Math.ceil(z));if(gL>0){var t=k.lF(gL,0,!0);bE=t.JZ;if(bE.length<E.c()){bE=x.K(E.c());
x.rS(t.JZ,t.h,bE,E)}}if(_$>0){var t=k.lF(_$,0,!1);xM=x.K(E.c());x.set(xM,255);x.rS(t.JZ,t.h,xM,E)}E.offset(-k.rect().x-1,-k.rect().y-1);
var h=x.K(E.c()*4),U$=H.PntT.v.FrFl;if(U$=="SClr")nM.uL(h,H.Clr.v);if(U$=="GrFl")nM.lv(H,h,E,J,k.xnE(_$,gL));
if(U$=="Ptrn")nM.zv(H,h,E,J,X);var u={Dl:h,ut:E,VG:nD.ei(H.Md.v.BlnM),dx:H.Opct.v.val/100,MX:bE,ML:xM};
O.type[W].push(u);O.all.push(u)}}}return O};nM.b$=function(b){var X=1/Math.sqrt(b.x*b.x+b.y*b.y+b.as*b.as);
b.x*=X;b.y*=X;b.as*=X};nM.xYK=function(b,X){return{x:b.y*X.as-b.as*X.y,y:b.as*X.x-b.x*X.as,as:b.x*X.y-b.y*X.x}};
nM.xYR=function(b,X){return b.x*X.x+b.y*X.y+b.as*X.as};nM.xHW=function(b,X){var q=X.Nose.v.val/100;if(q>0)for(var N=0;
N<b.length;N++){var J=b[N];J=Math.min(510-(1+q)*x.style.ky(N),J);b[N]=J}};nM.m$=function(b){var X=nM.lM(),q=b.fA,N=!1;
for(var J=0;J<32;J+=8)if(q[J]+q[J+1]+q[4]+q[5]!=0||q[J+2]+q[J+3]+q[6]+q[7]!=1020)N=!0;if(N){q=q.slice(0);
for(var J=0;J<40;J+=4){var _=q[J]/255,p=q[J+1]/255,z=q[J+2]/255,g=q[J+3]/255;q[J]=_-1e-4;q[J+1]=_==p?1e9:1/(p-(_-1e-4));
q[J+2]=z==g?-1e9:1/(z-(g+1e-4));q[J+3]=g+1e-4}}var W=b.add.iOpa!=null?b.add.iOpa/255:X.fill,o=b.add.vstk;
if(o&&!o.fillEnabled.v&&(!o.strokeEnabled.v||o.strokeStyleLineWidth.v.val==0))W=0;return{fill:W,dr:N?q:null,xSL:b.add.brst!=null?b.add.brst:X.xSL,xSj:b.add.knko!=null?b.add.knko:X.xSj,style:!1,dS:!1}};
nM.lM=function(){return{fill:1,dr:null,xSL:[1,1,1],xSj:0,style:!1,dS:!1}};nM.uY=function(b,X){if(X==null)return null;
var q=b.Idnt.v,N=null;for(var J=0;J<X.length;J++)if(X[J].id==q)return X[J];return null};nM.xCs=function(b,X,q){var N=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var J=0;J<N.length;J++){var _=b.v[N[J]].v;for(var p=0;p<_.length;p++)if(_[p].v.Ptrn)X.Rs(nM.uY(_[p].v.Ptrn.v,q))}};
nM.xnh=function(b,X,q){var N=["patternFillMulti","ebblMulti","frameFXMulti"];for(var J=0;J<N.length;
J++){var _=b.v[N[J]].v;for(var p=0;p<_.length;p++)if(_[p].v.Ptrn){var z=_[p].v.Ptrn.v,g=nM.uY(z,q),W=nM.uY(z,X.add.Patt);
if(g==null&&W)q.push(W)}}};nM.zv=function(b,X,q,N,J){var _=nM.uY(b.Ptrn.v,N.add.Patt);if(_!=null&&!q.qa()){var p=x.scale.zv(_.Dl,_.h.n,_.h.z),z=b.Scl.v.val/100,g=-q.x+b.phase.v.Hrzn.v-1,W=-q.y+b.phase.v.Vrtc.v-1;
if(b.Algn!=null&&!b.Algn.v){}else{g+=J.x;W+=J.y}x.scale.xBs(p,X,q.n,q.z,z,z,g+1,W+1)}};nM.lv=function(b,X,q,N,J,_){if(_==null)_=q;
var p=b.Type?b.Type.v.GrdT:"shapeburst",z=b.Algn&&b.Algn.v?_:new R(0,0,N.n,N.z),g=b.Angl?x.Z.Sg(b,z):[new Ue(0,0),new Ue(100,0)],W=g[0].x,o=g[0].y,y=g[1].x-W,D=g[1].y-o,m=Math.sqrt(y*y+D*D);
m=1/(2*m*m);var k=[y*m,D*m,-D*m,y*m],O=b.Rvrs?b.Rvrs.v:!1,L=b.Dthr?b.Dthr.v:!1;x.Z.sH(b.Grad.v,X,q,k,W,o,O,UZ.Z.types.indexOf(p),0,0,J,L)};
nM.xnH=function(b,X){for(var q=0;q<b.all.length;q++){var N=b.all[q];N.Hz=N.ut.clone();N.Hz.offset(X.x,X.y)}};
nM.xYZ=function(b,X,q,N,J,_){var p=G.ks?nM.xET:nM.x_M;nM.xnH(X,q);var z=X.type.DrSh;for(var g=0;g<z.length;
g++)if(!z[g].xSC)p(z[g],N,J,_)};nM.xpV=function(b,X,q,N,J,_,p,z,g,W){var o=q,y=G.ks?nM.xET:nM.x_M,D=G.ks?G.t.Lr:x.t.gB,m;
m=X.type.DrSh;for(var k=0;k<m.length;k++)if(m[k].xSC)y(m[k],N,J,_);m=X.type.OrGl;for(var k=0;k<m.length;
k++)y(m[k],N,J,_);var O="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");for(var L=0;L<O.length;L++){var m=X.type[O[L]];
for(var k=0;k<m.length;k++)y(m[k],p,o,_)}var I=X.type.ebbl[0],H=I!=null&&I.xuK;m=X.type.FrFX;for(var k=0;
k<m.length;k++){var Y=m[k];_d.Db.rS(z,W,g,W,_);y(Y,g,W,_);if(H&&k==m.length-1){if(I.Mk)y(I.Mk,g,W,_);
if(I.MG)y(I.MG,g,W,_);if(I.Mj)y(I.Mj,g,W,_);if(I.MO)y(I.MO,g,W,_)}if(Y.ML||Y.Mu)D(g,W,p,o,G.ks?Y.Mu:Y.ML,Y.Hz,0,_,1);
if(Y.MX||Y.MY)D(g,W,N,J,G.ks?Y.MY:Y.MX,Y.Hz,0,_,1)}if(!H&&I!=null){if(I.Mk)y(I.Mk,N,J,_);if(I.MG)y(I.MG,N,J,_);
if(I.Mj)y(I.Mj,p,o,_);if(I.MO)y(I.MO,p,o,_)}};nM.x_M=function(b,X,q,N){var J=nM.lM();J.fill=b.dx;J.style=!0;
x.t.TG(b.VG,b.Dl,b.Hz,X,q,N,1,J)};nM.xET=function(b,X,q,N){var J=nM.lM();J.fill=b.dx;J.style=!0;G.t.ZS(b.VG,b.yn,b.Hz,X,q,N,1,J)};
nM.xUF=function(b,X){var q=1-X.Inpr.v.val/100,N=1+Math.tan(q*(Math.PI/2)),J=b.length;for(var _=0;_<J;
_++)b[_]=Math.min(255,Math.round(b[_]*N))};nM.lR=function(b,X,q){var N=X.blur.v.val,J=Math.round(N*(X.Ckmt.v.val/100));
if(N>J){var _=x.BJ.aR(X.TrnS.v.Crv.v,256,!0);x.aW(b,_)}if(q!=null&&X.Nose.v.val>0)x.style.xwz(b,X.Nose.v.val/100,q)};
nM.uL=function(b,X,q){if(q==null)q=255;var N=x.Z.vx(X),J=q<<24|N.b<<16|N.q<<8|N.D;x.Ws(b,J)};nM.Kg=function(b,X,q,N){var J=X.uglg&&X.uglg.v?q.Fx():X.lagl.v.val;
J=J*Math.PI/180+N;var _=Math.cos(J)*X.Dstn.v.val,p=Math.sin(J)*X.Dstn.v.val;b.x-=Math.round(_);b.y+=Math.round(p)};
nM.iw=function(b){if(b==null)return null;var X=b.frameFXMulti.v;if(X.length==0)return null;X=X[0].v;
var q=JSON.parse(JSON.stringify(UZ.FF.default));nM.xbZ(X,q);return q};nM.xbZ=function(b,X){var q=UZ.stroke.MD.indexOf(b.PntT.v.FrFl),N=[UZ.tt,UZ.le,UZ.Wd][q],J=X.strokeStyleContent.v={classID:UZ.FF.DC[q]};
for(var _=0;_<N.length;_++)J[N[_]]=b[N[_]];X.strokeEnabled=b.enab;X.strokeStyleLineWidth=b.Sz;X.strokeStyleLineAlignment.v.strokeStyleLineAlignment=UZ.FF.Rb[UZ.stroke.types.indexOf(b.Styl.v.FStl)];
X.strokeStyleOpacity=b.Opct;X.strokeStyleBlendMode=b.Md};nM.ia=function(b,X){var q=[];for(var N=0;N<b.length;
N++)q.push({t:"UntF",v:{type:"#Nne",val:Math.round(b[N]*X)}});return q};nM.RB=function(b,X,q){this.y_=X.clone();
this.y_.Ii(1,1);this.xSD=X.clone();this.xSD.Ii(q,q);this.xrA=x.K(this.y_.c());x.rS(b,X,this.xrA,this.y_);
this.Me=null;this.iA=null;this.ib=null};nM.RB.prototype.JZ=function(){return this.xrA};nM.RB.prototype.rect=function(){return this.y_};
nM.RB.prototype.Dw=function(){return this.xSD};nM.RB.prototype.Wb=function(){if(this.Me)return this.Me;
this.Me=x.clone(this.JZ());x.Kn(this.Me);return this.Me};nM.RB.prototype.DY=function(){if(this.iA)return this.iA;
this.iA=new Float64Array(this.rect().c());x.style.au(this.Wb(),this.iA,this.rect().n,this.rect().z);
return this.iA};nM.RB.prototype.iC=function(){if(this.ib)return this.ib;var b=this.Dw(),X=x.K(b.c());
x.rS(this.JZ(),this.rect(),X,b);this.ib=new Float64Array(b.c());x.style.au(X,this.ib,b.n,b.z);return this.ib};
nM.RB.prototype.xnE=function(b,X){var q={Ju:-X,zO:b,rr:null,hp:null};if(X==0){q.rr=this.rect();q.hp=this.DY();
return q}var N=this.iC().slice(0),J=this.Dw();q.rr=J;q.hp=N;for(var _=0;_<N.length;_++)N[_]=-N[_];if(b==0)return q;
var p=this.DY(),z=this.rect();for(var g=0;g<z.z;g++)for(var W=0;W<z.n;W++){var o=g*z.n+W,y=(g+z.y-J.y)*J.n+W+z.x-J.x;
N[y]+=p[o]}return q};nM.RB.prototype.lF=function(b,X,q){var N=Math.ceil(b+X),J={h:this.rect().clone(),JZ:null};
J.h.Ii(N,N);J.JZ=x.K(J.h.c());if(b==0&&X==0)x.vM(q?this.JZ():this.Wb(),J.JZ);else{var _=x.K(J.h.c());
x.rS(this.JZ(),this.rect(),_,J.h);if(!q)x.Kn(_);if(b!=0){if(q)x.style.rq(_,J.h,this.iC(),this.Dw(),b);
else x.style.rq(_,J.h,this.DY(),this.rect(),b)}if(X!=0)x.blur.Jh(_,J.JZ,J.h,Math.max(1,X*.43));else J.JZ=_}return J};
nM.RB.prototype.xRs=function(b,X,q){var N=b*(X-.5),J={h:this.rect().clone(),JZ:null};if(q)J.h.Ii(b,b);
J.JZ=x.K(J.h.c());var _=J.h.n,p=J.h.z,z=q?this.iC():this.DY(),g=q?this.Dw():this.rect(),W=J.h,o=W.be(g),_=o.n,p=o.z,y=o.x-W.x,D=o.y-W.y,m=o.x-g.x,k=o.y-g.y,O=1-X*2;
for(var L=0;L<p;L++)for(var I=0;I<_;I++){var H=z[(L+k)*g.n+I+m],Y=H/b;J.JZ[(L+D)*W.n+I+y]=Math.max(0,Math.min(255,255-255*((Y+O)/(1+O))))}return J};
nM.xAW=function(b,X,q){var N=b.Lefx,J=b.blendOptions;if(N){var _=X.add.lmfx;if(q==null)q=_?_.Scl.v.val:100;
X.add.lmfx=JSON.parse(JSON.stringify(N.v));nM.xSU(X.add.lmfx,q/X.add.lmfx.Scl.v.val);if(_)X.add.lmfx.Scl.v.val=_.Scl.v.val}else delete X.add.lmfx;
if(J){J=J.v;if(J.Md)X.nB=nD.ei(J.Md.v.BlnM);if(J.Opct)X.opacity=Math.round(J.Opct.v.val*255/100);if(J.fillOpacity)X.add.iOpa=Math.round(J.fillOpacity.v.val*255/100);
if(J.Blnd){var p=[];for(var z=0;z<10;z++)p.push(0,0,255,255);var g=J.Blnd.v,W="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var z=0;z<g.length;z++){var o=g[z].v,y=8*["Gry","Rd","Grn","Bl"].indexOf(o.Chnl.v[0].v.enum);for(var D=0;
D<8;D++){p[y+D]=o[W[D]].v}}X.fA=p}}};nM.xp_=function(b){var X="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),q=[],N=b.fA;
for(var J=0;J<4;J++){var _=J*8;if(N[_]+N[_+1]+N[_+4]+N[_+5]==0&&N[_+2]+N[_+3]+N[_+6]+N[_+7]==4*255)continue;
var p={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][J]}}]}}};
q.push(p);for(var z=0;z<8;z++)p.v[X[z]]={t:"long",v:N[J*8+z]}}var g={classID:"blendOptions"};if(b.nB!="norm")g.Md={t:"enum",v:{BlnM:nD.QM(b.nB)}};
if(b.opacity!=255)g.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(b.opacity*100/255)}};if(b.add.iOpa!=null)g.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(b.add.iOpa*100/255)}};
if(q.length!=0)g.Blnd={t:"VlLs",v:q};var W={ic:{classID:"null",Idnt:{t:"TEXT",v:nj.bj()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Custom Style"}},zh:{classID:"Styl",blendOptions:{t:"Objc",v:g}}},o=b.add.lmfx;
if(o)W.zh.Lefx={t:"Objc",v:o};return W};function pl(){}pl.en=function(b){return JSON.parse(JSON.stringify(b))};
pl.Kq=function(b){var X=pl.en(pl.xnw),q=X.Brsh.v;if(b!=null){delete q.Hrdn;q.classID="sampledBrush";
q.Nm={t:"TEXT",v:"layer.png"},q.sampledData={t:"TEXT",v:b}}return X};pl.xnw={classID:"brushPreset",Nm:{t:"TEXT",v:"Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
pl.b$={};pl.b$.check=function(b){var X=pl.b$.iF;for(var q=0;q<X.length;q++)if(b[X[q]]==null)b[X[q]]=JSON.parse(pl.b$.Dz[X[q]]);
var N=[];for(var q=0;q<X.length;q++)N.push(X[q]);var J=pl.b$.xvC;for(var q=0;q<J.length;q++){var _=J[q][0],p=J[q][1],z=!0;
for(var g=0;g<_.length;g++)z=z&&b[_[g]].v==!0;if(z)for(var g=0;g<p.length;g++){if(b[p[g]]==null)console.log("Missing conditional parameter "+p[g]);
else N.push(p[g])}}for(var W in b)if(N.indexOf(W)==-1)console.log("Extra parameter "+W);b=b.Brsh.v;X=pl.b$.Ty.iF;
for(var q=0;q<X.length;q++)if(b[X[q]]==null)b[X[q]]=JSON.parse(pl.b$.Ty.Dz[X[q]]);N=[];for(var q=0;q<X.length;
q++)if(b[X[q]])N.push(X[q]);else console.log("Missing default parameter "+X[q]);J=pl.b$.Ty.xnY[b.classID];
for(var q=0;q<J.length;q++)if(b[J[q]]==null&&J[q]!="dtipsGridSize"&&J[q]!="dtipsErodibleTipHeightMap"&&b.xwa!=1)console.log("Missing conditional parameter "+J[q]);
else N.push(J[q]);for(var W in b)if(N.indexOf(W)==-1)console.log("Extra parameter "+W)};pl.b$.iv=function(b){var X=pl.b$.xvC;
for(var q=0;q<X.length;q++){var N=X[q][0],J=X[q][1],_=!0;for(var p=0;p<N.length;p++)_=_&&b[N[p]]&&b[N[p]].v==!0;
if(_){for(var p=0;p<J.length;p++)if(b[J[p]]==null){b[J[p]]=JSON.parse(pl.b$.Dz[J[p]])}}else for(var p=0;
p<J.length;p++)if(b[J[p]]!=null){delete b[J[p]]}}};pl.b$.Ty={};pl.b$.Ty.iF="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
pl.b$.Ty.Dz={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};pl.b$.Ty.xnY={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
pl.b$.xvC=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
pl.b$.iF="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
pl.b$.Dz={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function Sq(b){this.ir=b;this.dir=0}Sq.prototype.Dc=function(b,X){if(this.dir==0&&!this.ir.Rj(b))this.dir=Math.abs(this.ir.x-b.x)<Math.abs(this.ir.y-b.y)?1:2;
var q=b;if(X._(S.FI)){if(this.dir==1)q=new Ue(this.ir.x,b.y);if(this.dir==2)q=new Ue(b.x,this.ir.y)}return q};
function xa(b,X,q,N,J,_,p,z){this.Ho=X;this.Oh=q;this.HO=_;this.DM=N;if(N.kT==null)N.kT=[!1,!0];this.kd=null;
this.zz=null;this.yB=0;this.xrB=0;this.xrR=0;this.yq=0;this.JV=0;this.xwR=p;this._z=new R;this.ya=new R;
this.rect=new R;if(z!=null){this.Dl=z}else{var g=xa.xrc;if(g.length!=p.c()*4)g=x.K(p.c()*4);else g.fill(0);
this.Dl=xa.xrc=g}this.rect=p.clone();this.ih=[];this.yM=[];this.Z_=null;this.pp=0;this.b=null;this.iP="";
this.bG=null;this.xab(b,J)}xa.xrc=x.K(16);xa.prototype.xab=function(b,X){this.pp=X;this.b=b;this.iP=JSON.stringify(b)+JSON.stringify(this.DM.XV);
this.bG=xa.x_K(b,this.Ho,this.Oh)};xa.prototype.moveTo=function(b,X,q){q=this.xPp(q);this.yB=q;var N=new Ue(b,X),J=this.b.Brsh.v.Dmtr.v.val;
this.kd=N.clone();this.zz=N.clone();this.Z_=N.clone();this.ih=[b,X];this.yM=[q];var _=this.DM.kT;if(this.DM.XD!=xa.XO)this.iQ(this.xKz(N,this.xKR()*(_[1]?q:1),this.DM.Tn*(_[0]?q*.5:1),new Ue(0,0)));
this.yq=N.clone()};xa.prototype.lineTo=function(b,X,q){q=this.xPp(q);var N=this.ih,J=N.length,_=N[J-2],p=N[J-1];
if(b==_&&X==p)return;var z=this.b.Brsh.v.Dmtr.v.val,g=Math.ceil(z)+1,W=new R(Math.round(_),Math.round(p),0,0);
W.Ii(g,g);var o=new R(Math.round(b),Math.round(X),0,0);o.Ii(g,g);this.xbq(W.Tg(o));this.ih.push(b,X);
this.yM.push(q);J+=2;if(J>=6)this.iQ(this.xPU(J))};xa.prototype.xPp=function(b){if(b==null)b=1;b=Math.max(.05,Math.min(5,b));
if(isNaN(b)){alert("Pressure is not a number");throw"e"}return b};xa.prototype.iQ=function(b){this._z=b;
this.ya=this.ya.Tg(b)};xa.prototype.finish=function(){var b=this.ih,X=b.length,q;if(X==4)q=this.xUU(b[X-2],b[X-1],this.yM[(X>>1)-1],!0);
if(X>4)q=this.xPU(X+2);if(q)this.iQ(q)};xa.prototype.xPU=function(b){var X=this.ih,q=this.yM,N=X[b-6],J=X[b-5],_=X[b-4],p=X[b-3],z=q[(b>>1)-3],g=q[(b>>1)-2],W=new Ue(0,0),o=new Ue(0,0);
if(8<=b)W=xa.xC$(X[b-8],X[b-7],N,J,_,p);if(b<=X.length)o=xa.xC$(X[b-2],X[b-1],_,p,N,J);var y=N+W.x,D=J+W.y,m=_+o.x,k=p+o.y,O=new R;
for(var L=0;L<10;L++){var I=(L+1)*.1,H=1-I,Y=H*H*H*N+3*I*H*H*y+3*I*I*H*m+I*I*I*_,n=H*H*H*J+3*I*H*H*D+3*I*I*H*k+I*I*I*p,w=this.xUU(Y,n,z+I*(g-z));
O=O.Tg(w)}return O};xa.xC$=function(b,X,q,N,J,_){var p=b-q,z=X-N,g=J-q,W=_-N,o=Math.sqrt(p*p+z*z),y=Math.sqrt(g*g+W*W),D=Math.acos((p*g+z*W)/(o*y))/Math.PI,m=.35,k=.1;
D=k+D*(m-k);var O=J-b,L=_-X,I=Math.sqrt(O*O+L*L),H=D*y/I;return new Ue(O*H,L*H)};xa.prototype.xUU=function(b,X,q,N){var J=new R,_=this.DM.xFu;
if(_==null)_=0;if(_==0||N){J=this.xbL(b,X,q);return J}var p=this.Z_,z=b-p.x,g=X-p.y,W=Math.sqrt(z*z+g*g);
z/=W;g/=W;if(W>_){var o=p.x+z*(W-_),y=p.y+g*(W-_);J=this.xbL(o,y,q);this.Z_.gM(o,y)}return J};xa.prototype.xbL=function(b,X,q){var N=new R,J=new Ue(b,X),_=this.b.Brsh.v.Dmtr.v.val,p=this.DM.XD,z=J.cB(this.zz);
z.normalize(1);var g=Ue.NH(this.zz,J),W=-this.xrB,o=this.zz.clone(),y=this.DM.kT;while(!0){var D=this.yB+(q-this.yB)*(Math.max(0,W)/g),m=this.xKR()*(y[1]?D:1),k=this.xnL()*(m+this.xrR)/2;
if(p==xa.XO)k=1;if(W+k<g){W+=k;var O=new Ue(this.zz.x+z.x*W,this.zz.y+z.y*W),H=1;if(p==xa.XO){var L=o.clone();
L.x+=z.x>0?1:-1;var I=o.clone();I.y+=z.y>0?1:-1;if(Ue.NH(L,O)<Ue.NH(I,O))O=L;else O=I;W=Ue.NH(O,this.zz)}if(this.b.useScatter.v==!0){H=this.b.Cnt.v;
var Y=this.b.countDynamics.v.jitter.v.val/100,n=Y*(-1+2*this.bU());H+=Math.round(H*n)}for(var w=0;w<H;
w++){var t=this.xKz(O,m,this.DM.Tn*(y[0]?D*.5:1),z);N=N.Tg(t)}o=O}else break}this.xrB=g-W;this.zz=J;
this.yB=q;return N};xa.prototype.xnL=function(){var b=this.b.Brsh.v,X=b.Spcn.v.val,q=Math.max(5,b.Rndn.v.val);
return q/100*(X/100)};xa.prototype.xKR=function(){var b=this.b,X=b.Brsh.v.Dmtr.v.val;if(b.useTipDynamics.v){var q=X*(b.minimumDiameter.v.val/100);
X=q+(X-q)*(1-this.bU()*(b.szVr.v.jitter.v.val/100))}return X};xa.prototype.xKz=function(b,X,q,N){q=Math.min(1,q);
var J=this.b,_=this.b.Brsh.v,p=_.Dmtr.v.val,z=this.DM,g=z.XD,W=z.xwu,o=new nQ;o.translate(-this.bG.yQ.n/2,-this.bG.yQ.z/2);
o.scale(1/this.bG.xrk,1/this.bG.xrk);o.scale(X/p,X/p);o.scale(1,Math.max(5,_.Rndn.v.val)/100);if(J.useTipDynamics.v){var y=J.minimumRoundness.v.val/100;
o.scale(1,y+(1-y)*Math.round(100-this.bU()*J.roundnessDynamics.v.jitter.v.val)/100);o.rotate((-.5+this.bU())*4*Math.PI*(J.angleDynamics.v.jitter.v.val/100))}o.rotate(_.Angl.v.val*(Math.PI/180));
if(J.useScatter.v){var D=(-1+2*this.bU())*J.scatterDynamics.v.jitter.v.val/100;o.translate(-D*X*N.y,D*X*N.x)}o.translate(b.x,b.y);
var m=this.xnX(o,b);this.xbq(m.rect);var k=m.rect.clone();if(g==null){var O=this.vx(J);x.Ws(m.bk,Math.round(O.b*255)<<16|Math.round(O.q*255)<<8|Math.round(O.D*255)<<0,4278190080);
if(this.ya.qa()&&this.rect.Rj(m.rect)&&q==1)this.Dl=m.bk.slice(0);else x.t.xFJ(m.bk,m.rect,this.Dl,this.rect,m.rect,q)}if(g==xa.XO){var L=new Ue(m.rect.x+m.rect.n/2,m.rect.y+m.rect.z/2),I=Math.round(L.x-this.yq.x),H=Math.round(L.y-this.yq.y),Y=m.rect.clone();
Y.offset(-I,-H);var n=Y.be(this.rect);n.offset(I,H);x.iX(this.Dl,this.rect,m.bk,Y);x.t.sR(m.bk,m.rect,this.Dl,this.rect,m.RP,m.rect,q)}if(g==xa.xC||g==xa.xR||g==xa.DV){var w=m.rect.be(this.rect),t;
if(w.Rj(m.rect))t=m.RP;else{t=x.K(w.c());x.rS(m.RP,m.rect,t,w)}var j=x.K(w.c()*4);x.iX(this.Dl,this.rect,j,w);
if(g==xa.xR){var E=x.clone(j),h=x.vh.EX([-1,-1,-1,-1,25,-1,-1,-1,-1]);x.vh.JA(j,E,w.n,w.z,h,0);x.vM(E,j)}else if(g==xa.DV){var u=nm.Z$("UnsM");
u.Amnt.v.val=15;u.Thsh.v=0;u.Rds.v.val=5;var E=x.K(j.length);nm.dI("UnsM",{buffer:j,rect:w},u,0,0,{buffer:E,rect:w});
x.vM(E,j)}else{nm.NP(1,x.blur.su,j,w)}x.t.sR(j,w,this.Dl,this.rect,t,w,q)}this.xrR=X;this.yq=L;return k};
xa.prototype.vx=function(b){var X=xa.xB_(this.pp);if(b.useColorDynamics&&b.useColorDynamics.v){var q=1-this.bU()*b.clVr.v.jitter.v.val/100,N=xa.xB_(this.HO);
X.D=q*X.D+(1-q)*N.D;X.q=q*X.q+(1-q)*N.q;X.b=q*X.b+(1-q)*N.b;var J=(-.5+this.bU())*b.H.v.val/100,_=(-1+2*this.bU())*b.Strt.v.val/100,p=(-1+2*this.bU())*b.Brgh.v.val/100,z=x.Hj(X.D,X.q,X.b);
z.ai=(z.ai+J+1)%1;z.qD=z.qD+_;if(z.qD<0)z.qD=-z.qD;if(z.qD>1)z.qD=1-(z.qD-1);z.Qk=z.Qk+p;if(z.Qk<0)z.Qk=-z.Qk;
if(z.Qk>1)z.Qk=1-(z.Qk-1);X=x.bY(z.ai,z.qD,z.Qk)}return X};xa.prototype.b$=function(b){return Math.max(0,Math.min(1,b))};
xa.prototype.bU=function(){this.JV++;return xa.hash(this.JV)};xa.xB_=function(b){return{D:(b>>16&255)/255,q:(b>>8&255)/255,b:(b>>0&255)/255}};
xa.hash=function(b){b=b^61^b>>16;b=b+(b<<3);b=b^b>>4;b=b*668265261;b=b^b>>15;return(b&16777215)/16777215};
xa.UF=[];xa.prototype.xnX=function(b,X){var q=null,p;for(var N=0;N<xa.UF.length;N++)if(xa.UF[N].iP==this.iP){q=xa.UF[N];
xa.UF.splice(N,1)}if(q==null)q={xu:[],iP:this.iP,Gj:0};var J=q.xu,_=this.DM.XV;if(_){b=b.clone();b.lf=Math.floor(b.lf);
b.vw=Math.floor(b.vw)}var z=xa.xps(b.lf,b.vw);for(var N=0;N<J.length;N++){var g=J[N];if(!(g.QP.i==b.i&&g.QP.b==b.b&&g.QP.Yb==b.Yb&&g.QP.Tm==b.Tm))continue;
if(xa.x__(g.bd,z)<.2||g.rect.c()>1e4){p=g;break}}var W=Math.round(this.b.Brsh.v.Dmtr.v.val);if(p){p.rect.x=Math.round(p.Ls.x-p.QP.lf+b.lf);
p.rect.y=Math.round(p.Ls.y-p.QP.vw+b.vw);if(_){p.rect.x=Math.round(X.x-W/2);p.rect.y=Math.round(X.y-W/2)}}else{var o;
if(_&&W<=3){o={buffer:x.K(W*W*4),rect:new R(Math.round(X.x-W/2),Math.round(X.y-W/2),W,W)};x.Ws(o.buffer,4278190080)}else if(b.i==1&&b.b==0&&b.Yb==0&&b.Tm==1){o={buffer:this.bG.bk,rect:this.bG.yQ.clone()};
o.rect.x=Math.round(b.lf);o.rect.y=Math.round(b.vw)}else o=c.C.wx([this.bG.bk,this.bG.yQ],b);if(_){for(var N=0;
N<o.buffer.length;N++)o.buffer[N]=o.buffer[N]>127?255:0}if(o==null)o={buffer:x.K(0),rect:new R};var y=b.lf-Math.floor(b.lf),D=b.vw-Math.floor(b.vw);
p={bk:o.buffer,RP:x.K(o.rect.c()),rect:o.rect,Ls:o.rect.clone(),QP:b,bd:xa.xps(b.lf,b.vw)};x.iJ(p.bk,p.RP,3);
J.push(p);if(J.length>200)J=J.slice(100)}q.xu=J;q.Gj=Date.now();xa.UF.push(q);xa.UF.sort(function(m,k){return k.Gj-m.Gj});
while(xa.UF.length>3)xa.UF.pop();return p};xa.xps=function(b,X){return new Ue(b-Math.floor(b),X-Math.floor(X))};
xa.x__=function(b,X){var q=X.x,N=X.y,J=Math.abs(q-b.x),_=Math.abs(N-b.y);if(Math.abs(q-1-b.x)<J)q--;
else if(Math.abs(q+1-b.x)<J)q++;if(Math.abs(N-1-b.y)<_)N--;else if(Math.abs(N+1-b.y)<_)N++;J=b.x-q;_=b.y-N;
return Math.sqrt(J*J+_*_)};xa.prototype.xbq=function(b){};xa.x_K=function(b,X,q){var N,J,_,p=b.Brsh.v.Dmtr.v.val;
if(b.Brsh.v.classID=="computedBrush"){var z=b.Brsh.v.Hrdn.v.val/100,g=1+.55*(1-z);_=p<100?1.2:1;var W=Math.round(_*p*g);
J=new R(0,0,W,W);N=x.K(W*W*4);var o=new Uint32Array(N.buffer),y=W/2,D=g/y,m=Date.now(),k=xa.zj(z),O=Math.round(8e3/y),X=k[0],L=k[1]-O,I=k[2]+O,H=Math.min(W,(W>>>1)+1);
for(var Y=0;Y<H;Y++){var n=D*(Y-y+.25);n*=n;var w=D*(Y-y+.75);w*=w;var t=Y*W,j=(W-1-Y)*W;for(var E=0;
E<H;E++){var h=D*(E-y+.25),u=Math.floor(Math.sqrt(h*h+n)*(4e3/1.55));if(I<u)continue;else if(u<L){var Z=4278190080;
while(E<H){var A=W-1-E;o[t+E]=Z;o[t+A]=Z;o[j+E]=Z;o[j+A]=Z;E++}break}else{var P=D*(E-y+.75),T=Math.floor(Math.sqrt(P*P+n)*(4e3/1.55)),U=Math.floor(Math.sqrt(h*h+w)*(4e3/1.55)),r=Math.floor(Math.sqrt(P*P+w)*(4e3/1.55)),Z=~~(.5+255*.25*(X[u]+X[T]+X[U]+X[r]))<<24,A=W-1-E;
o[t+E]=Z;o[t+A]=Z;o[j+E]=Z;o[j+A]=Z}}}}if(b.Brsh.v.classID=="sampledBrush"){var i;for(var Y=0;Y<X.length;
Y++)if(X[Y].id==b.Brsh.v.sampledData.v)i=X[Y];J=new R(0,0,i.h.n,i.h.z);_=Math.max(J.n,J.z)/p;N=x.K(J.c()*4);
x.qR(i.channel,N,3)}while(Math.min(J.n,J.z)>p*2){var V=new R(J.x,J.y,Math.floor(J.n/2),Math.floor(J.z/2)),F=c.C.wx([N,J],new nQ(V.n/J.n,0,0,V.z/J.z,0,0));
_*=V.n/J.n;J=F.rect;N=F.buffer}return{xrk:_,yQ:J,bk:N}};xa.iu=[];xa.zj=function(b){if(xa.iu[b])return xa.iu[b];
var X=Math.pow(b,.55),q=new Float64Array(8e3),N=0,J=8e3;for(var _=0;_<8e3;_++){var p=xa.x_w(_*(1.55/4e3),X);
if(p>=1)N=_;else if(p<=0&&J==8e3)J=_;q[_]=p}var z=[q,N,J];xa.iu[b]=z;return z};xa.x_w=function(b,X){var q=b<X?1:xa.x_v((b-X)/Math.pow(1.001-X,.86));
return q};xa.x_v=function(b){var X=b*.85;return Math.exp(-(X*X)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))};
xa.prototype.pi=function(){return this.rect.clone()};xa.prototype.iY=function(){return this._z.be(this.rect)};
xa.prototype.lt=function(){return this.ya.be(this.rect)};xa.prototype.yD=function(){return this.Dl};
xa.FY=function(b,X,q,N,J,_){var p=K.m("canvas",""),z=p.getContext("2d");p.width=_!=null?_:N;p.height=J;
z.fillStyle="#ffffff";z.fillStyle="#000000";z.font=Math.floor(10*K.u())+"px sans-serif";var g=""+b.Brsh.v.Dmtr.v.val,W=z.measureText(g);
z.fillText(g,(N-W.width)/2,J-2);var o=N,y=J-10*K.u(),D=Math.min(o,y),m=b.Brsh.v.Dmtr.v.val,k=b.Brsh.v.classID;
if(k=="computedBrush"){z.translate(o/2,y/2);z.rotate(-b.Brsh.v.Angl.v.val*Math.PI/180);z.scale(1,.1+.9*b.Brsh.v.Rndn.v.val/100);
var O=Math.min(.95*D/2,g/2)+.5,L=.9*b.Brsh.v.Hrdn.v.val/100,I=z.createRadialGradient(0,0,0,0,0,O);I.addColorStop(L,"rgba(0,0,0,1)");
I.addColorStop((.5+L)/1.5,"rgba(0,0,0,.5)");I.addColorStop(1,"rgba(0,0,0,0)");z.fillStyle=I;z.fillRect(-O,-O,2*O,2*O)}else if(k=="sampledBrush"){var H;
for(var Y=0;Y<X.length;Y++)if(X[Y].id==b.Brsh.v.sampledData.v)H=X[Y];var n=K.m("canvas",""),w=n.getContext("2d");
n.width=H.h.n;n.height=H.h.z;var t=w.getImageData(0,0,n.width,n.height),j=new x.Sm(n.width*n.height);
j.i=H.channel;x.bL(j,t.data);w.putImageData(t,0,0);D=Math.min(D,b.Brsh.v.Dmtr.v.val);var E=Math.max(n.width,n.height),h=.85*n.width*D/E,u=.85*n.height*D/E;
z.drawImage(n,(o-h)/2,(y-u)/2,h,u)}else{}return p.toDataURL()};xa.iG=function(b,X,q,N){if(q==0)q=1;var J=b.Brsh.v,_=J.Dmtr.v.val,p=J.Dmtr.v.val=Math.min(N!=null?Math.round(N*2.6):3e3,_*q),z=J.Hrdn?J.Hrdn.v.val/100:1,g=N!=null?N:Math.round(p*(1+.55*(1-z)))+4,y;
g=Math.max(15,Math.min(g,3e3));var W=new R(0,0,g,g),o=new xa(b,X,null,{Tn:1},16711680,0,W);J.Dmtr.v.val=_;
o.moveTo(W.n/2,W.z/2);var D=o.yD(),m=o.pi();if(W.Rj(m))y=D;else{y=x.K(W.c()*4);x.iX(D,m,y,W)}return[y,W,p]};
xa.im=function(b,X,q){var N=xa.iG(b,X,q),J=N[0],_=N[1],p=N[2],z=_.c(),g=x.K(z);x.iJ(J,g,3);var W=x.K(z);
x.p.xED(g,W,_);if(p<3||x.lc(W,0)){var o=_.n,y=o>>>1,D=W,m=255;for(var k=0;k<4;k++){D[o*(y-6+k)+y]=m;
D[o*y+y-6+k]=m;D[o*y+y+6-k]=m;D[o*(y+6-k)+y]=m}}var O=[1,2,1,2,8,2,1,2,1];O=x.vh.EX(O);x.vh.xpF(W,g,_.n,_.z,O);
x.Ws(J,4294967295);x.qR(g,J,3);for(var k=0;k<z;k++)if(W[k]==255){J[k<<2]=J[(k<<2)+1]=J[(k<<2)+2]=0;J[(k<<2)+3]=255}return{uC:J,h:_,gv:new Ue(_.n/2,_.z/2)}};
xa.XO="0";xa.xC="1";xa.xR="2";xa.DV="3";var pN={};pN.KE=function(b,X){var q=b.iV(),g;if(q.x==Infinity||q.qa())return{Dl:x.K(0),h:new R,Ug:new R};
var N=b.iV(),J=pN.D$(b,X),_=x.j.z_(J.r);if(_.qa())return{Dl:x.K(0),h:new R,Ug:new R};var p=K.m("canvas","");
p.width=_.n;p.height=_.z;var z=p.getContext("2d");z.translate(-_.x,-_.y);pN.x_F(J,z);if(b.qH.length!=0){var W=z.getImageData(0,0,_.n,_.z);
g=new Uint8Array(W.data.buffer)}else g=x.K(_.c()*4);return{Dl:g,h:_,Ug:N}};pN.D$=function(b,X){var q={W:[],r:[]};
pN.x_Q(b,q);if(!x.Gg.tM(X.HM)){var N=x.j.Is(q.r);q=x.j.sG(q);q=x.j.$B(q,Math.min(N.n,N.z)/8);var J=ng.pi(X,b),_=x.Gg.Pg(X.HM,J);
x.iN.apply(_,q.r,J)}var p=X.w;x.j.w(q.r,p,q.r);return q};pN.x_F=function(b,X){Typr.U.pathToContext({crds:b.r,cmds:b.W},X)};
pN.xbl=!1;pN.KP=function(b,X){if(__.xBx==null){if(!pN.xbl){__.xrx();pN.xbl=!0}return!1}var q=b.Bw,N=q.ResourceDict.FontSet,J=q.ResourceDict.StyleSheetSet[0].StyleSheetData,_=q.EngineDict.StyleRun.RunLengthArray,p=q.EngineDict.StyleRun.RunArray,z=ng.IC(q),g=!0,W={},o=0;
for(var y=0;y<p.length;y++){var D=p[y].StyleSheet.StyleSheetData.Font;if(D==null)D=J.Font;for(var m=0;
m<_[y];m++){var k=z.charCodeAt(o+m),O=D+","+(k>128?k:-1);if(W[O]==null){W[O]=1;if(X.lK(N[D].Name,k)==null)g=!1}}o+=_[y]}return g};
pN.x_Q=function(b,X){var q=new nQ;for(var N=0;N<b.qE.length;N++)pN.x_J(b.qH,b.qE[N],X,q)};pN.x_J=function(b,X,q,N){N.translate(X.bd.x,X.bd.y);
for(var J=0;J<X.am.length;J++){var _={},p=X.am[J];if(!p.iM)break;N.translate(p.bd.x,p.bd.y);for(var z=p.start;
z<p.end;z++)pN.xbY(b,X.io[z],X,_,q,N);N.translate(-p.bd.x,-p.bd.y)}N.translate(-X.bd.x,-X.bd.y)};pN.xbu="()<>[]{}\xAB\xBB\u0F3A\u0F3B\u0F3C\u0F3D\u169B\u169C\u2039\u203A\u2045\u2046\u207D\u207E\u208D\u208E\u2208\u2209\u220A\u220B\u220C\u220D\u2215\u223C\u223D\u2243\u2252\u2253\u2254\u2255\u2264\u2265\u2266\u2267\u2268\u2269\u226A\u226B\u226E\u226F\u2270\u2271\u2272\u2273\u2274\u2275\u2276\u2277\u2278\u2279\u227A\u227B\u227C\u227D\u227E\u227F\u2280\u2281\u2282\u2283\u2284\u2285\u2286\u2287\u2288\u2289\u228A\u228B\u228F\u2290\u2291\u2292\u2298\u22A2\u22A3\u22A6\u22A8\u22A9\u22AB\u22B0\u22B1\u22B2\u22B3\u22B4\u22B5\u22B6\u22B7\u22C9\u22CA\u22CB\u22CC\u22CD\u22D0\u22D1\u22D6\u22D7\u22D8\u22D9\u22DA\u22DB\u22DC\u22DD\u22DE\u22DF\u22E0\u22E1\u22E2\u22E3\u22E4\u22E5\u22E6\u22E7\u22E8\u22E9\u22EA\u22EB\u22EC\u22ED\u22F0\u22F1\u22F2\u22F3\u22F4\u22F6\u22F7\u22FA\u22FB\u22FC\u22FD\u22FE\u2308\u2309\u230A\u230B\u2329\u232A\u2768\u2769\u276A\u276B\u276C\u276D\u276E\u276F\u2770\u2771\u2772\u2773\u2774\u2775\u27C3\u27C4\u27C5\u27C6\u27C8\u27C9\u27CB\u27CD\u27D5\u27D6\u27DD\u27DE\u27E2\u27E3\u27E4\u27E5\u27E6\u27E7\u27E8\u27E9\u27EA\u27EB\u27EC\u27ED\u27EE\u27EF\u2983\u2984\u2985\u2986\u2987\u2988\u2989\u298A\u298B\u298C\u298D\u298E\u298F\u2990\u2991\u2992\u2993\u2994\u2995\u2996\u2997\u2998\u29B8\u29C0\u29C1\u29C4\u29C5\u29CF\u29D0\u29D1\u29D2\u29D4\u29D5\u29D8\u29D9\u29DA\u29DB\u29F5\u29F8\u29F9\u29FC\u29FD\u2A2B\u2A2C\u2A2D\u2A2E\u2A34\u2A35\u2A3C\u2A3D\u2A64\u2A65\u2A79\u2A7A\u2A7D\u2A7E\u2A7F\u2A80\u2A81\u2A82\u2A83\u2A84\u2A8B\u2A8C\u2A91\u2A92\u2A93\u2A94\u2A95\u2A96\u2A97\u2A98\u2A99\u2A9A\u2A9B\u2A9C\u2AA1\u2AA2\u2AA6\u2AA7\u2AA8\u2AA9\u2AAA\u2AAB\u2AAC\u2AAD\u2AAF\u2AB0\u2AB3\u2AB4\u2ABB\u2ABC\u2ABD\u2ABE\u2ABF\u2AC0\u2AC1\u2AC2\u2AC3\u2AC4\u2AC5\u2AC6\u2ACD\u2ACE\u2ACF\u2AD0\u2AD1\u2AD2\u2AD3\u2AD4\u2AD5\u2AD6\u2ADE\u2AE3\u2AE4\u2AE5\u2AEC\u2AED\u2AF7\u2AF8\u2AF9\u2AFA\u2E02\u2E03\u2E04\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20\u2E21\u2E22\u2E23\u2E24\u2E25\u2E26\u2E27\u2E28\u2E29\u3008\u3009\u300A\u300B\u300C\u300D\u300E\u300F\u3010\u3011\u3014\u3015\u3016\u3017\u3018\u3019\u301A\u301B\uFE59\uFE5A\uFE5B\uFE5C\uFE5D\uFE5E\uFE64\uFE65\uFF08\uFF09\uFF1C\uFF1E\uFF3B\uFF3D\uFF5B\uFF5D\uFF5F\uFF60\uFF62\uFF63";
pN.xbY=function(b,X,q,N,J,_){_.translate(X.bd.x,X.bd.y);for(var p=X.Xs;p<=X.bp;p++){var z=q.uI[p],g=z.h.n,W=b[q.xqU+z.uz];
if(W.ow=="\n")continue;var o=W.Yw.FontSize/W.Dm.head.unitsPerEm,y=ng.vx(W.Yw),D=(Math.round(y.D)<<16)+(Math.round(y.q)<<8)+Math.round(y.b);
J.W.push("#"+x.a_(D));var m=_.clone();m.translate(z.bd.x+z.ji*o,z.bd.y-z.jv*o);var k=new nQ;k.scale(o,-o);
if(W.nx==1&&pN.xbu.indexOf(W.ow)!=-1)k.concat(new nQ(-1,0,0,1,g,0));if(W.Yw.FauxItalic)k.concat(new nQ(1,0,-Math.tan(.18),1,0,0));
k.translate(0,W.Go);k.scale(W.scale.x,W.scale.y);if(W.Yw.BaselineShift!=null)k.translate(0,-W.Yw.BaselineShift);
if(z.na!=0){k.rotate(-z.na)}k.concat(m);if(z.path.W.length!=0&&W.ow!="\t"){if(W.Yw.FauxBold){var O=W.Yw.FontSize/2048*27*W.scale.x;
k.lf+=O;x.j.concat(J,z.path,k);k.lf-=O+O;x.j.concat(J,z.path,k)}else x.j.concat(J,z.path,k)}if(W.ow!="\n"){if(W.Yw.Underline){if(N.oA==null)N.oA=W.Dm.post.underlineThickness;
if(N.xhu==null)N.xhu=W.Dm.post.underlinePosition;var L=0,I=N.xhu-N.oA/2,H=z.tz*1.05,Y=-N.oA;x.j.concat(J,{W:["M","L","L","L","Z"],r:[L,I,L+H,I,L+H,I+Y,L,I+Y]},k)}if(W.Yw.Strikethrough){var n=W.Dm["OS/2"].yStrikeoutSize,w=W.Dm["OS/2"].yStrikeoutPosition,L=0,I=w+n/2,H=z.tz*1.05,Y=-n;
x.j.concat(J,{W:["M","L","L","L","Z"],r:[L,I,L+H,I,L+H,I+Y,L,I+Y]},k)}}J.W.push("X")}_.translate(-X.bd.x,-X.bd.y)};
function __(b,X){var q=ng.__(b),N,J,_=ng.uX(b),g;if(b.Curve)J=__.Dy(b.Curve);if(q!=0){N=new R(_[0],_[1],_[2],_[3]);
if(q==2){N.n=J[5]-J[4];N.z=9999}}this.qE=[];this.qH=[];this.VS=q;var p=ng.IC(b),z=-1;for(var W=0;W<p.length;
W++){var o=g,y=ng.xqo(b,W),Y=0;if(y!=z){z=y;o=g=ng.xBp(b,W)}var D={ow:p.charAt(W),Yw:o,Dm:null,yz:-1,Go:0,scale:new Ue(0,0),KA:0,lineHeight:0,nx:0},m=b.ResourceDict.FontSet[o.Font].Name,k=D.Dm=X.lK(m,p.charCodeAt(W));
D.scale.x=o.HorizontalScale==null?1:o.HorizontalScale;D.scale.y=o.VerticalScale==null?1:o.VerticalScale;
var O=k["OS/2"],L=k.hhea;if(o.FontCaps==1&&D.ow!=D.ow.toUpperCase()){var I=O.sxHeight?O.sxHeight/O.sTypoAscender:.76;
D.scale.x*=I;D.scale.y*=I}var H=1/k.head.unitsPerEm*o.FontSize;if(o.FontBaseline==1){var I=b.ResourceDict.SuperscriptSize;
D.scale.x*=I;D.scale.y*=I;D.Go-=b.ResourceDict.SuperscriptPosition*o.FontSize}if(o.FontBaseline==2){var I=b.ResourceDict.SubscriptSize;
D.scale.x*=I;D.scale.y*=I;D.Go+=b.ResourceDict.SubscriptPosition*o.FontSize}if(Y==0&&O&&O.sxHeight&&m.toLowerCase().indexOf("capitals")!=-1)Y=O.sxHeight;
if(Y==0&&O&&O.sCapHeight)Y=O.sCapHeight;if(Y==0&&O&&O.sTypoAscender)Y=O.sTypoAscender;if(Y==0)Y=L.ascender;
D.KA=Y*H;D.lineHeight=o.FontSize*1.2;if(o.AutoLeading==!1)D.lineHeight=o.Leading;this.qH.push(D)}var n=this.qE,w=[0];
for(var W=0;W<b.EngineDict.ParagraphRun.RunLengthArray.length;W++){var t=new __.i$(b,X,this.qH,W,N,w,q==1?J:null);
n.push(t)}if(q==2){var j=b.Curve.Points,E=J[0],h=J[1],u=J[2],Z=J[3],A=J[4],P=J[5];for(var W=0;W<n.length;
W++)for(var T=0;T<n[W].am.length;T++)if(!(W==0&&T==0))n[W].am[T].iM=!1;var t=n[0],U=t.am[0];t.bd.gM(0,0);
U.bd.gM(0,0);for(var T=U.start;T<U.end;T++){var r=t.io[T],i=r.bd.x;r.bd.x=0;for(var V=r.Xs;V<=r.bp;V++){var F=t.uI[V],B=F.h.n/2;
F.bd.x+=i;var $=__.xKv(E,(A+F.bd.x+B)%Z);F.bd.x=$[0]-B*$[2];F.bd.y=$[1]-B*$[3];F.na=Math.atan2($[3],$[2])}}}}__.prototype.xKr=function(){return!this.xSy(0)};
__.prototype.xKq=function(){return this.xSy(1)};__.prototype.xSy=function(b){var X=this.qE,q=!0,N=0;
for(var J=0;J<X.length;J++){var _=X[J].am,p=_.length;N+=p;for(var z=0;z<p;z++)q&=_[z].iM}return[q,N][b]};
__.Dy=function(b){var X=b.Points,q=X.length,N=q>>>3,J=b.TextOnPathTRange,_=b.Reversed,y=0,D=0;if(_){var p=X.slice(0);
for(var z=0;z<q;z+=2){p[z]=X[q-2-z];p[z+1]=X[q-1-z]}X=p;J=[N-J[1]%N,N-J[0]%N]}var g=[],W=[0],o=[0];for(var z=0;
z<q;z+=8){var m=X[z+6]-X[z+0],k=X[z+7]-X[z+1],O=Math.round(4*Math.sqrt(m*m+k*k));for(var L=0;L<O;L++){var I=L/O,H=1-I,Y=H*H*H*X[z+0]+3*H*H*I*X[z+2]+3*H*I*I*X[z+4]+I*I*I*X[z+6],n=H*H*H*X[z+1]+3*H*H*I*X[z+3]+3*H*I*I*X[z+5]+I*I*I*X[z+7];
g.push(Y,n);if(z+L!=0){var m=Y-y,k=n-D;o.push(o[o.length-1]+Math.sqrt(m*m+k*k));W.push((z>>>3)+I)}y=Y;
D=n}}var w=o[o.length-1],t=__.ik(J[0],W),j=__.ik(J[1]%N,W),E=o[t],h=o[j];if(E>=h)h+=w;return[g,W,o,w,E,h]};
__.ik=function(b,X){var q=0;while(X[q]<b)q++;return q};__.xKv=function(b,X){var q=0,N=0,J,_,p;while(q<X){J=b[N+2]-b[N];
_=b[N+3]-b[N+1];p=Math.sqrt(J*J+_*_);q+=p;N+=2}return[b[N],b[N+1],J/p,_/p]};__.prototype.xKl=function(b){return this.qH[b]};
__.prototype.xSg=function(b){for(var X=0;X<this.qE.length;X++){var q=this.qE[X];for(var N=0;N<q.am.length;
N++){var J=q.am[N],_=q.io[J.start].start,p=q.io[J.end-1].end;if(_<b&&b<p)return[_,p-1]}}return[0,1]};
__.prototype.xrb=function(b,X){var q=-1,N=this.qE;if(this.VS==2){var J=1e9,_=0,p=N[0],z=p.am[0];for(var g=z.start;
g<z.end;g++){var W=p.io[g];for(var o=W.Xs;o<=W.bp;o++){var y=p.uI[o],D=y.h.n,m=b.x-y.bd.x,k=b.y-y.bd.y,O=m*m+k*k;
if(O<J){J=O;_=y.uz}}}return _}for(var L=0;L<N.length;L++){var p=N[L];for(var I=0;I<p.am.length;I++){q++;
var z=p.am[I],H=p.am[I+1];if(H==null&&L<N.length-1)H=N[L+1].am[0];if(X!=null){if(q!=X)continue}else{if(H!=null&&p.bd.y+z.bd.y<b.y)continue}for(var g=z.start;
g<z.end;g++){var W=p.io[g];for(var o=W.Xs;o<=W.bp;o++){var y=p.uI[o],D=y.h.n,Y=p.bd.x+z.bd.x+W.bd.x,n=Y+y.bd.x,w=Y+(o<W.bp?p.uI[o+1].bd.x:y.bd.x+D);
if(b.x<=w||g+1==z.end&&o==W.bp){var t=p.xqU+y.uz,j=this.qH[t],E=j.nx&1;if(j.ow!="\n"&&(E==0&&b.x>n+D/2||E==1&&b.x<n+D/2))t++;
return t}}}}}};__.prototype.G_=function(b){var X={h:new R,VA:0},q=0;for(var N=0;N<this.qE.length;N++){var J=this.qE[N];
for(var _=0;_<J.am.length;_++){var p=J.am[_];X.VA=q;q++;for(var z=p.start;z<p.end;z++){var g=J.io[z];
for(var W=g.start;W<g.end;W++){if(W==b){var o=this.qH[W],y=o.yz,D=J.uI[y].uz,m=1;while(J.uI[y]!=null&&J.uI[y].uz==D){var k=J.uI[y],O=J.bd.x+p.bd.x+g.bd.x+k.bd.x,L=J.bd.y+p.bd.y+g.bd.y+k.bd.y;
X.h=X.h.Tg(new R(O,L-o.lineHeight,k.h.n,o.lineHeight));X.na=k.na;y+=m}return X}}}}}};__.prototype.iV=function(){var b=Infinity,X=Infinity,q=-Infinity,N=-Infinity;
for(var J=0;J<this.qE.length;J++){var _=this.qE[J];for(var p=0;p<_.am.length;p++){var z=_.am[p];if(!z.iM)break;
for(var g=z.start;g<z.end;g++){var W=_.io[g];for(var o=W.Xs;o<=W.bp;o++){var y=_.uI[o],D=y.h,m=_.bd.x+z.bd.x+W.bd.x+y.bd.x,k=_.bd.y+z.bd.y+W.bd.y+y.bd.y;
b=Math.min(b,m+D.x);X=Math.min(X,k+D.y);q=Math.max(q,m+D.x+D.n);N=Math.max(N,k+D.y+D.z)}}}}return new R(b,X,q-b,N-X)};
__.xSH=function(b,X,q,N,J,_,p){var z=[_],g=0;for(var W=_;W<p;W++){if(q[W]==null)console.log(W,_,p,q);
var o=q[W].ow,y=o.charCodeAt(0);if(y==32||y==9){z.push(g,W,1,W+1);g=0}else if(y==3851){z.push(g+1,W+1);
g=0}else if(19968<=y&&y<=40959||12288<=y&&y<=12543){z.push(g,W);g=1}else if(W!=_&&q[W].nx!=q[W-1].nx){z.push(g,W);
g=1}else g++}z.push(g);var D=[];for(var W=0;W<z.length;W+=2){var m=z[W],k=z[W+1];if(k==0)continue;D.push(new __.xSV(b,X,q,N,J,m,k))}return D};
__.xSl=function(b,X,q,N,J,_,p){var z=[0,X?X.n:1e9],g=[];if(N){var W=b[_].KA,o=J+(J==0?W:b[_].lineHeight),y=o-W*.9,D=x.j.yp(N[0],y),m=D.length,k=x.j.yp(N[0],o),O=k.length;
if(m!=0&&O!=0){var L=0,I=0;z=[];while(L<m&&I<O){var H=Math.max(D[L],k[I]),Y=D[L+1],n=k[I+1],w=Math.min(Y,n);
if(H<w)z.push(H,w);if(Y<n)L+=2;else I+=2}}}for(var t=0;t<z.length;t+=2){var j=z[t+1]-z[t],E=0,h=_,u=X?j-q.StartIndent-q.EndIndent-(_==0?q.FirstLineIndent:0):Infinity;
while(_!=b.length){var Z=b[_],A=E==0||(Z.YI||Z.TN)||E+Z.h.n<u;if(!A)break;E+=Z.h.n;_++}g.push(_-h)}p[0]=g;
p[1]=z;p[2]=_};__.xSW=function(b,X){var q=b.length,N=new Uint32Array(q),J=new Uint8Array(q),_=0;for(var p=0;
p<q;p++){J[p]=0;var z=b.charCodeAt(p);N[p]=z;if(z>_)_=z}if(_>1424)J=__.xuS(N,X);return J};__.i$=function(b,X,q,N,J,_,p){this.io=[];
this.am=[];this.bd=new Ue(0,0);this.uI=null;this.io=null;this.Yw=ng.xBH(b,N);var z=this.Yw,y=0,O="",n=0,w=1,l=0;
if(N!=0){var g=z.SpaceBefore;if(g!=null)_[0]+=g}var W=b.EngineDict.ParagraphRun.RunLengthArray,o=W[N];
for(var D=0;D<N;D++)y+=W[D];var m=z._Direction?z._Direction:0;this.xqU=y;var k=ng.IC(b).slice(y,y+o);
for(var L=0;L<k.length;L++){var I=k.charAt(L);O+=q[y+L].Yw.FontCaps==0?I:I.toUpperCase()}k=O;var H=__.xSW(k,m),Y=[],t=H[D]&1,j=q[y].Dm;
q[y].nx=H[0];for(var D=1;D<k.length;D++){var I=q[y+D],E=H[D];I.nx=E;if(E!=t||I.Dm!=j){Y.push(n,w);n=D;
w=1;t=E;j=I.Dm}else w++}Y.push(n,w);var h=this.uI=[];for(var D=0;D<Y.length;D+=2){var u=Y[D],Z=Y[D+1],A=(q[y+u].nx&1)==0,P=k.slice(u,u+Z),T=__.xBx(q[y+u].Dm,P,A),U=[],V=0;
for(var L=0;L<T.length;L++){var r=T[L];U.push({q:r.g,uz:r.cl,tz:r.ax,dH:r.ay,ji:r.dx,jv:r.dy})}T=U;var i=T.slice(0);
if(!A)i.reverse();for(var L=0;L<P.length;L++){while(V+1<i.length&&i[V+1].uz<=L){V++}while(V>0&&i[V-1].uz==L)V--;
q[y+u+L].yz=h.length+(A?V:i.length-V-1)}for(var L=0;L<T.length;L++){h.push(T[L]);T[L].uz+=u;var I=q[y+T[L].uz];
if(I.ow=="\n")T[L].tz=0;if(I.ow=="\t")T[L].tz=I.Dm.head.unitsPerEm*2}}var F=ng.Kd(z),B=this.io=__.xSH(b,X,q,y,h,y,y+o),$=this.am,v=-1,O=[null,null,0];
while(l<B.length){__.xSl(B,J,z,p,_[0],l,O);v++;var C={start:l,end:0,h:new R,bd:new Ue(0,0),iM:!0},nB=0,nE=0;
$.push(C);C.end=O[2];var f=C.end==B.length;function nx(i,u,nC){var nR=nC-u>>>1;for(var D=0;D<nR;D++){var nu=i[u+D];
i[u+D]=i[nC-1-D];i[nC-1-D]=nu}}for(var nA=1;nA<5;nA++){var nU=-1;for(var D=C.start;D<C.end;D++){var E=q[B[D].start].nx;
if(nU==-1&&E>=nA)nU=D;else if(nU!=-1&&E<nA){nx(B,nU,D);nU=-1}}var nn=C.end;if(m==0&&B[nn-1].YI)nn--;
if(nU!=-1)nx(B,nU,nn)}var nH=O[0],d=O[1],nU=l,np=l;for(var a=0;a<nH.length;a++){var nb=d[a*2+1]-d[a*2],nK=0;
nU=np;np+=nH[a];var nq=this.xSJ(nU,np,B,m,J!=null);if(J){if(F==1||f&&F==4)nK=nq[1]+(nb-nq[0]);if(F==2||f&&F==5)nK=nq[1]+(nb-nq[0])/2;
if(v==0)nK+=z.FirstLineIndent;nK+=z.StartIndent}else{if(F==0)nK=z.StartIndent+z.FirstLineIndent;if(F==1)nK=-nq[0]-z.EndIndent;
if(F==2)nK=-nq[0]/2}nK+=d[a*2];if(J&&F>2&&(F==6||!f))this.xSX(nU,np,B,nb,m,nK);else{var nS=nK;for(var D=nU;
D<np;D++){B[D].bd.x=nS;nS+=B[D].h.n}}}l=C.end;for(var D=C.start;D<C.end;D++){var nh=B[D].h.clone();nh.UR(B[D].bd);
C.h=C.h.Tg(nh);nB=Math.max(nB,B[D].KA);nE=Math.max(nE,B[D].lineHeight)}C.bd.y=v==0?0:$[v-1].bd.y+nE;
if(v==0){if(N==0&&J)_[0]+=nB;if(N!=0)_[0]+=nE;this.bd.y=_[0]}else _[0]+=nE;if(J)C.iM=this.bd.y+C.bd.y<J.y+J.z}var nv=z.SpaceAfter;
if(nv!=null)_[0]+=nv};__.i$.prototype.xSJ=function(b,X,q,N,J){var _=0,p=0;for(var z=b;z<X;z++)_+=q[z].h.n;
if(J){if(N==0)for(var z=X-1;z>=b;z--)if(q[z].YI||q[z].TN)_-=q[z].h.n;else break;if(N==1)for(var z=b;
z<X;z++)if(q[z].YI||q[z].TN){var g=q[z].h.n;_-=g;p-=g}else break}return[_,p]};__.i$.prototype.xSX=function(b,X,q,N,J,_){var p=0,z=0,g=0,W=0;
for(var o=b;o<X;o++)if(q[o].YI)g++;else{p+=q[o].h.n;z++}if(J==0)for(var o=X-1;o>=b;o--)if(q[o].YI||q[o].TN){if(q[o].YI){g--}}else break;
if(J==1)for(var o=b;o<X;o++)if(q[o].YI||q[o].TN){if(q[o].YI){g--;W++}}else break;if(z<=1||g==0){if(z==1)q[b].bd.x=_;
return}var y=(N-p)/g,D=-W*y;for(var o=b;o<X;o++){if(q[o].YI)this.uI[q[o].Xs].h.n=q[o].h.n=y;q[o].bd.x=_+D;
D+=q[o].h.n}};__.xSV=function(b,X,q,N,J,_,p){this.Jg="";for(var z=0;z<p;z++)this.Jg+=q[_+z].ow;this.YI=p==1&&(q[_].ow==" "||q[_].ow=="\t");
this.TN=p==1&&q[_].ow=="\n";this.start=_;this.end=_+p;this.h=new R;this.bd=new Ue(0,0);this.KA=0;this.lineHeight=0;
var g=0,W=0;if(p==0){this.lineHeight=q[_].lineHeight;this.KA=q[_].KA;this.h=new R(0,-q[_].lineHeight,0,q[_].lineHeight)}var o=q[_].yz,y=q[_+p-1].yz;
if(y<o){var D=o;o=y;y=D}while(y+1<J.length&&J[y].uz==J[y+1].uz){y++}this.Xs=o;this.bp=y;for(var m=o;
m<=y;m++){var k=J[m],O=q[N+k.uz],L=1/O.Dm.head.unitsPerEm*O.Yw.FontSize,n=0;if(!O.Yw.AutoKerning)g+=O.Yw.Kerning*2*L*O.scale.x;
var I=k.tz*L*O.scale.x;k.bd=new Ue(g,0);k.na=0;k.h=new R(0,-O.lineHeight,I,O.lineHeight);var H=Typr.U.glyphToPath(O.Dm,k.q);
k.path={W:H.cmds,r:H.crds};var Y=k.h.clone();Y.UR(k.bd);if(O.Yw.Tracking!=null)n=O.Yw.Tracking*.001*O.Yw.FontSize;
if(O.Yw.FauxBold==!0)n+=.027*O.Yw.FontSize;g+=I+n;if(p==1&&(O.ow==" "||O.ow=="\t"))Y.n+=2*n;this.h=this.h.Tg(Y);
this.KA=Math.max(this.KA,O.KA);this.lineHeight=Math.max(this.lineHeight,O.lineHeight)}};__.xrx=function(){fetch("code/external/hb.wasm").then(function(b){return b.arrayBuffer()}).then(function(b){return WebAssembly.instantiate(b)}).then(function(b){b.instance.exports.memory.grow(400);
__.xuB=hbjs(b.instance);__.xBx=function(){var X=function(q){var N=0;if((q&4294967295-(1<<7)+1)==0){N=1}else if((q&4294967295-(1<<11)+1)==0){N=2}else if((q&4294967295-(1<<16)+1)==0){N=3}else if((q&4294967295-(1<<21)+1)==0){N=4}return N};
return function(q,N,J){var _=__.xuB,p=q._data,z=ns.HS(q),g=__.xuq,L=0,I=0;if(__.xuP!=z){if(g!=null){g[0].free();
g[1].free();g[2].free()}var W=_.createBlob(p),o=_.createFace(W,0),y=_.createFont(o);__.xuq=g=[W,o,y];
__.xuP=z}var y=g[2],D=_.createBuffer(),m=e.eJ(N);D.addText(m);D.setDirection(J?"ltr":"rtl");D.guessSegmentProperties();
D.shape(y);var k=D.json(y);D.free();var O=k.slice(0);if(!J)O.reverse();for(var H=1;H<O.length;H++){var Y=O[H],n=Y.cl;
while(I+X(N.charCodeAt(L))<=n){I+=X(N.charCodeAt(L));L++}Y.cl=L}return k}}();fetch("code/external/fribidi.wasm").then(function(X){return X.arrayBuffer()}).then(function(X){return WebAssembly.instantiate(X)}).then(function(b){var X=b.instance.exports,q=X.memory,_=16,p=256,z=1;
q.grow(400);var N=new Uint8Array(q.buffer),J=new Uint32Array(q.buffer),g=_|p,W=_|p|z;__.xuS=function(y,D){var m=y.length,k=X.calloc(m*4+4+m*4+m*4+m,1),O=k+m*4,L=O+4,I=L+m*4,H=I+m*4;
J.set(y,k>>>2);J[O>>>2]=D==0?g:W;X.fribidi_get_bidi_types(k,m,L);X.fribidi_get_bracket_types(k,m,L,I);
X.fribidi_get_par_embedding_levels_ex(L,I,m,O,H);var Y=N.slice(H,H+m);X.free(k);return Y};var o=new Q(K.E.T,!0);
o.data={V:K.a.dX,RW:"add",Zy:n_.Gn,gR:null};ns.dv.X(o)})})};function ng(){}ng.en=function(b){return JSON.parse(JSON.stringify(b))};
ng.KF=function(b,X){for(var q in X)b[q]=X[q]};ng.Rq=function(b,X,q){var N=ng.xBL();if(q)ng.Fo(N,0,0,q);
var J={w:new nQ(1,0,0,1,Math.round(b),Math.round(X)),Bw:N};J.Ca=ng.xEp();J.HM=x.Gg.K();J.Ug=new R;return J};
ng.xrh=function(b){var X=["CharacterDirection",0];for(var q=0;q<X.length;q+=2){if(b[X[q]]!=null&&b[X[q]]!=X[q+1]){throw"e";
console.log(X[q],b[X[q]])}}if(b instanceof Array)for(var q=0;q<b.length;q++)ng.xrh(b[q]);else if(b instanceof Object)for(var N in b)ng.xrh(b[N])};
ng.Kd=function(b,X){if(X==null)X=b.Justification;var q=b._Direction?b._Direction:0;if(q==1){if(X==0||X==3)X++;
else if(X==1||X==4)X--}return X};ng.Kt=function(b){if(b.add==null)return;var X=b.Bw,q=X.Curve,N=b.add.vmsk,J=N.s,_=x.j.zn(J,!0).r,p=b.w.clone();
p.Kn();x.j.w(_,p,_);var z=_.slice(0,8);for(var g=8;g<_.length;g+=6)z.push(_[g-2],_[g-1],_[g],_[g+1],_[g+2],_[g+3],_[g+4],_[g+5]);
q.Points=z;q.TextOnPathTRange=N.YP.slice(0);q.Reversed=N.Ux;if(ng.__(X)==1){var q=__.Dy(X.Curve),W=x.j.Is(q[0]);
ng.Sc(X,[0,0,W.n,W.z].map(Math.round));for(var o=0;o<z.length;o+=2){z[o]-=W.x;z[o+1]-=W.y}var y=new nQ(1,0,0,1,W.x,W.y);
y.concat(b.w);b.w=y}};ng.CP=function(b){if(b.add==null)return;var X=b.add.vmsk,q=b.Bw.Curve,N=q.Points,J={W:["M"],r:[N[0],N[1]]};
for(var _=0;_<N.length;_+=8){J.W.push("C");J.r.push(N[_+2],N[_+3],N[_+4],N[_+5],N[_+6],N[_+7])}x.j.w(J.r,b.w,J.r);
var p=x.j.EZ(J,!0);X.s=p;X.Ux=q.Reversed;X.YP=q.TextOnPathTRange.slice(0);b.add.vogk=M.lN(p)};ng.vx=function(b){var X={D:0,q:0,b:0};
if(b.FillColor){var q=b.FillColor,N=q.Values;if(q.Type==1)X={D:N[1]*255,q:N[2]*255,b:N[3]*255};else if(q.Type==2){var J={classID:"CMYC",Cyn:{t:"doub",v:N[1]*100},Mgnt:{t:"doub",v:N[2]*100},Ylw:{t:"doub",v:N[3]*100},Blck:{t:"doub",v:N[4]*100}};
X=x.Z.vx(J)}else console.log("Unknown color type")}return X};ng.xrp=function(b){for(var X=0;X<b.length;
X++){var q=b[X].StyleSheet.StyleSheetData,N=q.FillColor;if(N&&N.Type==2){var J=ng.vx(q);N.Type=1;N.Values=[1,J.D/255,J.q/255,J.b/255]}}};
ng.pi=function(b,X){var q;if(ng.__(b.Bw)==1){var N=ng.uX(b.Bw);q=new R(0,0,N[2]-N[0],N[3]-N[1])}else q=X.iV();
return q};ng.gt=function(b){var X=b[0];for(var q=0;q<b.length;q++)X=ng.xrv(X,b[q]);return X};ng.xrv=function(b,X){var q={};
for(var N in b)if(JSON.stringify(b[N])==JSON.stringify(X[N]))q[N]=b[N];return q};ng.uJ=function(b,X){var q=b.JX,N=-1;
for(var J=0;J<q.length;J++)if(q[J].Name==X)N=J;if(N==-1){N=q.length;q.push({FontType:1,Name:X,Script:0,Synthetic:0})}b.qH.Font=N};
ng.IC=function(b){return b.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};ng.iy=function(b,X){b.EngineDict.Editor.Text=X.replace(/\n/g,"\r")};
ng.__=function(b){return b.Curve&&b.Curve.TextOnPathTRange[0]>=0?2:b.EngineDict.Rendered.Shapes.Children[0].ShapeType};
ng.aH=function(b,X){var q=b.EngineDict.Rendered.Shapes.Children[0];q.ShapeType=X;var N=q.Cookie.Photoshop;
N.ShapeType=X;N.Base.ShapeType=X;if(X==0){delete N.BoxBounds;N.PointBase=[0,0]}if(X==1){delete N.PointBase;
N.BoxBounds=[0,0,1,1]}};ng.uX=function(b){return b.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
ng.Sc=function(b,X){b.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=X};ng.xBp=function(b,X){return ng.xBU(b,ng.xqo(b,X))};
ng.xqo=function(b,X){var q=b.EngineDict.StyleRun.RunLengthArray;return ng.YK(q,X).QD};ng.xBU=function(b,X){var q=b.ResourceDict.StyleSheetSet[0].StyleSheetData,N={};
for(var J in q)N[J]=q[J];var _=b.EngineDict.StyleRun.RunArray[X].StyleSheet.StyleSheetData;ng.KF(N,_);
return N};ng.xBH=function(b,X){var q=b.ResourceDict.ParagraphSheetSet[0].Properties,N={};for(var J in q)N[J]=q[J];
var _=b.EngineDict.ParagraphRun.RunArray[X].ParagraphSheet.Properties;ng.KF(N,_);var p=["StartIndent","EndIndent","FirstLineIndent"];
for(var z=0;z<3;z++)if(N[p[z]]==null)N[p[z]]=0;return N};ng.DX=function(b,X,q){if(q=="")return;var N=ng.IC(b);
ng.iy(b,N.substring(0,X)+q+N.substring(X,N.length));var J=b.EngineDict.StyleRun,_=J.RunLengthArray,p=ng.YK(_,X-1);
_[p.QD]+=q.length;var z=b.EngineDict.ParagraphRun,_=z.RunLengthArray,g=ng.YK(_,X),W=q.split("\n");if(W.length==1){_[g.QD]+=q.length;
return}_.splice(g.QD+1,0,_[g.QD]-(X-g.Xy));z.RunArray.splice(g.QD+1,0,ng.en(z.RunArray[g.QD]));_[g.QD]-=_[g.QD+1];
_[g.QD]+=W[0].length+1;for(var o=1;o<W.length-1;o++){z.RunArray.splice(g.QD+o,0,ng.en(z.RunArray[g.QD+o-1]));
z.RunLengthArray.splice(g.QD+o,0,W[o].length+1)}_[g.QD+W.length-1]+=W[W.length-1].length};ng.iZ=function(b,X,q){var N=ng.IC(b);
ng.iy(b,N.substring(0,X)+N.substring(q,N.length));ng.xgY(b.EngineDict.ParagraphRun,X,q,!0);ng.xgY(b.EngineDict.StyleRun,X,q,!1)};
ng.xgY=function(b,X,q,N){var J=b.RunLengthArray,_=ng.YK(J,X),p=ng.YK(J,q),z=[];for(var g=0;g<J.length;
g++)for(var W=0;W<J[g];W++)z.push(g);z.splice(X,q-X);var o=[];for(var g=0;g<J.length;g++)o.push(0);for(var g=0;
g<z.length;g++)o[z[g]]++;for(var g=0;g<J.length;g++){if(o[g]==0){o.splice(g,1);J.splice(g,1);b.RunArray.splice(g,1);
g--}else if(o[g]<J[g])J[g]=o[g]}if(N&&_.QD!=p.QD&&_.Xy!=X){J[_.QD]+=J[_.QD+1];J.splice(_.QD+1,1);b.RunArray.splice(_.QD+1,1)}};
ng.Fo=function(b,X,q,N){var J=b.EngineDict.Editor.Text.length;if(q==J-2)q++;if(N.qH.Font!=null)b.ResourceDict.FontSet=N.JX.slice(0);
if(X<=q)ng.xBQ(b.EngineDict.StyleRun,N.qH,X,q,!0);ng.xBQ(b.EngineDict.ParagraphRun,N.qE,X,q,!1)};ng.xBQ=function(b,X,q,N,J){var _=b.RunLengthArray;
if(J){var p=ng.YK(_,q);if(p.Xy!=q){var z=_[p.QD];_.splice(p.QD,0,q-p.Xy);_[p.QD+1]=z-_[p.QD];b.RunArray.splice(p.QD+1,0,ng.en(b.RunArray[p.QD]))}var g=ng.YK(_,N);
if(g.Xy+_[g.QD]-1!=N){var z=_[g.QD];_.splice(g.QD,0,N-g.Xy+1);_[g.QD+1]=z-_[g.QD];b.RunArray.splice(g.QD+1,0,ng.en(b.RunArray[g.QD]))}}var p=ng.YK(_,q),g=ng.YK(_,N);
if(J)for(var W=p.QD;W<=g.QD;W++)ng.KF(b.RunArray[W].StyleSheet.StyleSheetData,X);else for(var W=p.QD;
W<=g.QD;W++)ng.KF(b.RunArray[W].ParagraphSheet.Properties,X)};ng.xBE=function(b,X,q){var N=b.EngineDict.StyleRun.RunLengthArray,J=[],_=0;
for(var p=0;p<N.length;p++){var z=N[p];for(var g=0;g<z;g++)if(X<=_+g&&_+g<q)J.push(p);_+=z}var W=J[0],o=[];
for(var p=0;p<J.length;p++){var y=J[p]-W;if(y==o.length)o.push(0);o[y]++}return o};ng.xBP=function(b){var X=b.EngineDict.StyleRun,q=X.RunArray,N=X.RunLengthArray;
for(var J=0;J<N.length-1;J++){var _=q[J].StyleSheet.StyleSheetData,p=q[J+1].StyleSheet.StyleSheetData;
if(JSON.stringify(_)==JSON.stringify(p)){q.splice(J+1,1);N[J]+=N[J+1];N.splice(J+1,1);J--}}};ng.c_=function(b,X,q){var N={JX:b.ResourceDict.FontSet.slice(0),qH:[],qE:[]},J=b.EngineDict.StyleRun.RunLengthArray,_=ng.YK(J,X).QD,p=ng.YK(J,q).QD;
for(var z=_;z<=p;z++){var g=ng.en(b.ResourceDict.StyleSheetSet[0].StyleSheetData),W=b.EngineDict.StyleRun.RunArray[z].StyleSheet.StyleSheetData;
ng.KF(g,W);N.qH.push(g)}var o=b.EngineDict.ParagraphRun.RunLengthArray,y=ng.YK(o,X).QD,D=ng.YK(o,q).QD;
for(var z=y;z<=D;z++){N.qE.push(ng.en(b.EngineDict.ParagraphRun.RunArray[z].ParagraphSheet.Properties))}N.qH=ng.gt(N.qH);
N.qE=ng.gt(N.qE);return N};ng.CA=function(b,X){var q,N;q=["FontSize","Leading","BaselineShift"];N=b.qH;
for(var J=0;J<q.length;J++)if(N[q[J]]!=null)N[q[J]]*=X;q=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];
N=b.qE;for(var J=0;J<q.length;J++)if(N[q[J]]!=null)N[q[J]]*=X};ng.xBu=function(){return ng.c_(ng.xxH,0,0)};
ng.xEp=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0}}};
ng.YK=function(b,X){var q=0,N=0;while(q+b[N]<=X){q+=b[N];N++}return{QD:N,Xy:q}};ng.xBL=function(){var b=ng.en(this.xxH);
return b};ng.xaq={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0};
ng.xBJ={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
ng.xxH={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(ng.xaq))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u30FC\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(ng.xaq))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(ng.xBJ))}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var xl={};xl.xBN=function(b,X,q){var N={};N._98={_0:"i7"};N._0=xl.xBD(b,X,q?q._0:null);N._1=xl.xqw(b,X,N._0,q?q._1:null);
return N};xl.xBD=function(b,X,q){var N={};N._1=xl.xqx(b,q?q._1:null);N._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};
N._3=JSON.parse(JSON.stringify(xl.xqC));N._4=JSON.parse(JSON.stringify(xl.xqI));N._5=xl.xqg(b,N._1._0,q?q._5:null);
N._6=xl.xqq(b,q?q._6:null);N._8=xl.xqE(b,X,q?q._8:null);N._9=xl.xqz;return N};xl.xqx=function(b,X){var q=[],N=[];
for(var J=0;J<b.length;J++){var _=b[J].ResourceDict.FontSet;for(var p=0;p<_.length;p++){var z=_[p];if(N.indexOf(z.Name)!=-1)continue;
q.push(z);N.push(z.Name)}}var g={_0:[]};for(var J=0;J<q.length;J++){var W=q[J],o={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+W.Name,_1:"i"+W.Script,_2:"i"+W.FontType}}};
if(W.Script==0)delete o._0._0._1;g._0.push(o)}return g};xl.xqg=function(b,X,q){var N={_0:[],_1:[]},J={_0:JSON.parse(JSON.stringify(xl.xg_))};
xl.xxw(J._0,b[0].ResourceDict.StyleSheetSet[0],X,b[0].ResourceDict.FontSet);N._0.push(J);N._1.push({_0:"i0"});
N._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});N._1.push({_0:"i1"});return N};xl.xqq=function(b,X){var q={_0:[],_1:[]},N={_0:JSON.parse(JSON.stringify(xl.Cg))};
xl.Cx(N._0,b[0].ResourceDict.ParagraphSheetSet[0]);q._0.push(N);q._1.push({_0:"i0"});N={_0:JSON.parse(JSON.stringify(xl.Cg))};
xl.Cx(N._0,b[0].ResourceDict.ParagraphSheetSet[0]);N._0._0="sBasic Paragraph";N._0._6="i0";q._0.push(N);
q._1.push({_0:"i1"});return q};xl.xqE=function(b,X,q){var N={_0:[]};for(var J=0;J<b.length;J++){var _=b[J].Curve,p={};
N._0.push({_0:p});var z=ng.__(b[J]);p._2={};p._2._0="i"+z;if(z==0){p._2._6=["f-1","f-1"];p._2._11={_4:"i-1",_7:!1}}else if(z==1&&_==null){var g=ng.uX(b[J]),W=g[2],o=g[3];
p._1={_0:xl.Kz("f",[0,0,0,0,W,0,W,0,W,0,W,0,W,o,W,o,W,o,W,o,0,o,0,o,0,o,0,o,0,0,0,0])};p._2._6=["f-2","f-2"];
p._2._11={_4:"i-2",_7:!1}}else if(z==1){var g=ng.uX(b[J]),W=g[2],o=g[3];p._1={_0:xl.Kz("f",_.Points)};
p._2._6=["f-3","f-3"];p._2._11={_4:"i-3",_7:!1}}else if(z==2){p._1={_0:xl.Kz("f",_.Points)};p._2._6=xl.Kz("f",_.TextOnPathTRange);
p._2._11={_0:_.Reversed,_3:"i0",_5:"f0",_7:!1}}}return N};xl.xqw=function(b,X,q,N){var J={};J._0=JSON.parse(JSON.stringify(xl.xqj));
J._1=xl.xqP(b,X,q,N?N._1:null);J._2=JSON.parse(JSON.stringify(xl.xg_._6));J._3=JSON.parse(JSON.stringify(xl.Cg._5));
return J};xl.xqP=function(b,X,q,N){var J=[],_=q._1._0;for(var p=0;p<b.length;p++){var z=b[p],g={_0:{}};
J.push(g);var W=N?N[p]:null;g._0._0="s"+z.EngineDict.Editor.Text;g._0._0=g._0._0;var o={_0:[]};g._0._5=o;
var y=z.EngineDict.ParagraphRun;for(var D=0;D<y.RunArray.length;D++){var m={_0:{}};o._0.push(m);m._0._0={_0:"s",_5:{},_6:"i1"};
xl.Cx(m._0._0,z.EngineDict.ParagraphRun.RunArray[D].ParagraphSheet);m._1="i"+y.RunLengthArray[D]}var k={_0:[]};
g._0._6=k;var O=W?W._0._6:null;y=z.EngineDict.StyleRun;for(var D=0;D<y.RunArray.length;D++){var L={_0:{}};
k._0.push(L);var I=O?O._0:null;L._0._0={_0:"s",_5:"i1",_6:{}};xl.xxw(L._0._0,z.EngineDict.StyleRun.RunArray[D].StyleSheet,_,z.ResourceDict.FontSet,I?L._0._0:null);
L._1="i"+y.RunLengthArray[D]}g._0._10={_0:"i4",_2:!0};g._1=xl.view.xqZ(z,null,p,null)}return J};xl.xxw=function(b,X,q,N,J){b._0="s"+(X.Name?X.Name:"");
var _=b._6,p=J?J._6:null,z=X.StyleSheetData;if(z.Font==null)return;var g=N[z.Font].Name,W=-1;for(var o=0;
o<q.length;o++)if("s"+g==q[o]._0._0._0){W=o;break}_._0="i"+W;if(z.FontSize!=null)_._1="f"+z.FontSize;
if(z.FauxBold!=null)_._2=z.FauxBold;if(z.FauxItalic!=null)_._3=z.FauxItalic;if(z.AutoLeading!=null)_._4=z.AutoLeading;
if(z.Leading!=null)_._5="f"+z.Leading;if(z.HorizontalScale!=null)_._6="f"+z.HorizontalScale;if(z.VerticalScale!=null)_._7="f"+z.VerticalScale;
if(z.Tracking!=null)_._8="i"+z.Tracking;if(z.BaselineShift!=null)_._9="f"+z.BaselineShift;if(z.AutoKerning!=null)_._11="i"+(z.AutoKerning?1:0);
if(z.FontCaps!=null)_._12="i"+z.FontCaps;if(z.FontBaseline!=null)_._13="i"+z.FontBaseline;if(z.Strikethrough!=null)_._15="i"+(z.Strikethrough?1:0);
if(z.Underline!=null)_._16="i"+(z.Underline?2:0);if(z.Ligatures!=null)_._18=z.Ligatures;if(z.DLigatures!=null)_._19=z.DLigatures;
if(z.Language!=null)_._38="i"+z.Language;if(z.FillColor!=null)_._53={_99:"/SimplePaint",_0:{_0:"i1",_1:xl.Kz("f",z.FillColor.Values)}}};
xl.Cx=function(b,X){b._0="s"+(X.Name?X.Name:"");var q=b._5,N=X.Properties;if(N.Justification!=null)q._0="i"+N.Justification;
if(N.FirstLineIndent!=null)q._1="f"+N.FirstLineIndent;if(N.StartIndent!=null)q._2="f"+N.StartIndent;
if(N.EndtIndent!=null)q._3="f"+N.EndtIndent;if(N.SpaceBefore!=null)q._4="f"+N.SpaceBefore;if(N.SpaceAfter!=null)q._5="f"+N.SpaceAfter;
if(N.AutoHyphenate!=null)q._9=N.AutoHyphenate;if(N._Direction!=null)q._33="i"+N._Direction};xl.Kz=function(b,X){var q=[];
for(var N=0;N<X.length;N++)q.push(b+X[N]);return q};xl.xqC={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
xl.xqI={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
xl.xg_={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
xl.Cg={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
xl.xqz={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
xl.xqj={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var xQ={};xQ.xqy=function(b){return xQ.Cp(b,xQ.oN)};xQ.xL_=function(b){return xQ.Cn(b,xQ.oN)};xQ.Cp=function(b,X){var q;
if(typeof b=="string")return b;if(b instanceof Array){q=[];for(var N=0;N<b.length;N++)q[N]=xQ.Cp(b[N],X)}else{q={};
var J={};for(var _ in X){var p=X[_],z="_"+p[0];if(b[z]!=null){q[_]=p[1]?xQ.Cp(b[z],p[1]):b[z];J[z]=!0}}for(var _ in b){if(J[_]==null){console.log(J);
console.log(_,b,X);throw"e"}}}return q};xQ.Cn=function(b,X){var q;if(b instanceof Array){q=[];for(var N=0;
N<b.length;N++)q[N]=xQ.Cn(b[N],X)}else{q={};var J={};for(var _ in X){var p=X[_],z="_"+p[0];if(b[_]!=null){q[z]=p[1]?xQ.Cn(b[_],p[1]):b[_];
J[_]=!0}}for(var _ in b){if(J[_]==null){console.log(J);console.log(_,b);throw"e"}}}return q};xQ.RV={_StreamTag:[99],_Color:[0,{_Type:[0],_Values:[1]}]};
xQ.$s={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,xQ.RV],_StrokeColor:[54,xQ.RV],_Blend:[55,{_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,xQ.RV],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_87:[87],_88:[88]};
xQ.xgK={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,xQ.$s],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_40:[40]};
xQ.xpj={_Name:[0],_Features:[5,xQ.xgK],_Parent:[6]};xQ.xUV={_Name:[0],_Parent:[5],_Features:[6,xQ.$s]};
xQ.oN={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4]}]}]}],_1:[1,{_0:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_PredefinedTag:[3]}]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,xQ.xUV]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,xQ.xpj]}],_DisplayList:[1,{_Resource:[0]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_7:[7]}],_12:[12]}]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_PredefinedTag:[6]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_11:[11],_15:[15,{_0:[0]}],_16:[16],_17:[17]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,xQ.xpj]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,xQ.xUV]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_9:[9],_StorySheet:[10,{_AntiAlias:[0],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2]}]}],_OriginalNormalStyleFeatures:[2,xQ.$s],_OriginalNormalParagraphFeatures:[3,xQ.xgK]}]};
xl.view={};xl.view.xqZ=function(b,X,q,N){var J={},_=ng.__(b);J._0=[{_0:"i"+q}];return J};function CSS(){}CSS.xhO=function(b,X){var q=b.add,N=q.vmsk,J=q.vstk,_=q.lmfx,p=q.TySh,z=[],g=CSS.xhj(_,q);
if(b.gC()&&N){var W=x.g.Wg(N.s);if(!W.qa()){z.push("width: "+Math.round(W.n)+"px");z.push("height: "+Math.round(W.z)+"px")}var o=x.g.xMc(N.s);
if(o>0)z.push("border-radius: "+Math.round(o)+"px")}else if(p){var y=p.Bw;if(ng.__(y)==1){var W=ng.uX(y);
z.push("width: "+Math.round(W[2])+"px");z.push("height: "+Math.round(W[3])+"px")}CSS.xKC(z,ng.c_(y,0,0),p.w,!1,!1,g[0])}var D=[],m=_?_.dropShadowMulti.v:0;
for(var k=0;k<m.length;k++){var O=m[k].v;if(O.enab.v){var L=O.Dstn.v.val,I=O.lagl.v.val*Math.PI/180;
if(O.uglg&&O.uglg.v)I=X.Fx()*Math.PI/180;var H=L*Math.cos(I),Y=L*Math.sin(I);D.push("drop-shadow("+(H==0?"0 ":CSS.Zp(-H)+"px ")+(Y==0?"0 ":CSS.Zp(Y)+"px ")+O.blur.v.val/2+"px "+CSS.FH(O.Clr.v,O.Opct.v.val/100)+")")}}if(D.length!=0)z.push("filter: "+D.join(" "));
if(p==null)CSS.xhG(g,z);if(J==null||!J.strokeEnabled.v)J=nM.iw(_);if(J&&J.strokeEnabled.v){var n=J.strokeStyleContent.v,w=n.classID,t=UZ.FF.RA.indexOf(J.strokeStyleLineCapType.v.strokeStyleLineCapType),j=UZ.FF.join.indexOf(J.strokeStyleLineJoinType.v.strokeStyleLineJoinType),E=J.strokeStyleOpacity.v.val/100,h=J.strokeStyleLineWidth.v.val,u="";
if(w=="solidColorLayer")u=CSS.FH(n.Clr.v,E);z.push("border: "+h+"px solid "+u)}return z};CSS.xhj=function(b,X){var q=nM.M$(b,X),N=q[0],J=q[1],_,p;
if(N){_=CSS.FH(N.Clr.v,X.iOpa!=null?X.iOpa/255:1)}else if(J){p=CSS.TK(J)}return[_,p]};CSS.xhG=function(b,X){if(b[0])X.push("background-color: "+b[0]);
if(b[1])X.push("background-image: "+b[1])};CSS.Lj={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.Zp=function(b){return""+parseFloat(b.toFixed(3))};CSS.D_=function(b){if(b==null)return{D:0,q:0,b:0};
if(b.slice(0,4)=="rgb("){var X=b.slice(4,b.length-1).split(",").map(parseFloat);return{D:X[0],q:X[1],b:X[2]}}if(b.charAt(0)!="#"){var q=CSS.Lj;
if(q[b])b=q[b];else console.log("unknown color "+b)}b=b.slice(1);if(b.length==3)b=b[0]+b[0]+b[1]+b[1]+b[2]+b[2];
b=parseInt(b,16);return{D:b>>16&255,q:b>>8&255,b:b&255}};CSS.FH=function(b,X){return CSS.yc(x.Z.vx(b),X)};
CSS.yc=function(b,X){if(X==null)X=1;var q=Math.round(b.D),N=Math.round(b.q),J=Math.round(b.b),_=q<<16|N<<8|J;
return X==1?"#"+x.a_(_):"rgba("+q+","+N+","+J+","+X+")"};CSS.TK=function(b){var X=b.Grad.v;if(X.Clrs==null)return"";
var q=X.Clrs.v.slice(0),N=X.Trns.v.slice(0),J=b.Ofst.v,_=b.Type.v.GrdT=="Rdl"?1:0,p=(_==1?"radial":"linear")+"-gradient",z=_==0?Math.round(-b.Angl.v.val+90)+"deg":"circle at center",g=b.Rvrs.v;
if(g){q.reverse();N.reverse()}for(var W=0;W<q.length;W++){var o=q[W].v,y=W<N.length?N[W].v.Opct.v.val/100:1,D=o.Lctn.v/4096;
if(g)D=1-D;z+=", "+CSS.FH(o.Clr.v,y)+" "+Math.round(D*100)+"%"}return p+"("+z+")"};CSS.xKC=function(b,X,q,N,J,_){var p=X.qH,z=N?1:c.C.bq(q),g=Math.round(p.FontSize*z);
b.push("font-size: "+g+"px");var W=p.Tracking;if(!N&&W!=null&&W!=0)b.push("letter-spacing: "+Math.round(W*g/1e3)+"px");
if(!p.AutoLeading)b.push("line-height: "+Math.round(p.Leading*z)+"px");if(p.Strikethrough)b.push("text-decoration: line-through");
var o=ng.vx(p);o=[o.D,o.q,o.b].map(Math.round);b.push((N?"fill: ":"color: ")+(_?_:"#"+x.a_(o[0]<<16|o[1]<<8|o[2])));
var y=X.JX[p.Font].Name;if(y){var D=J,m=ns.dv.lK(y);if(m!=null&&y!=ns.HS(m))m=null;if(D&&m==null)D=!1;
if(D)b.push("font-family: \""+y+"\"");else{var k=null,O=null,L=y.toLowerCase();if(m){k=ns.Vi(m)[0];if(m["OS/2"])O=m["OS/2"].usWeightClass}else{k=CSS.xho(y);
if(L.indexOf("light")!=-1)O=300;else if(L.indexOf("medium")!=-1)O=500;else if(L.indexOf("black")!=-1||L.indexOf("extrabold")!=-1)O=800;
else if(L.indexOf("bold")!=-1)O="bold"}if(k!=null)b.push("font-family: \""+k+"\"");if(O!=null)b.push("font-weight: "+O);
if(L.indexOf("italic")!=-1||L.indexOf("oblique")!=-1)b.push("font-style: italic")}}var I=X.qE.Justification;
if(I!=null&&I!=0)if(N)b.push("text-anchor: "+["start","end","middle"][I%3]);else b.push("text-align: "+["left","right","center"][I%3])};
CSS.xho=function(b){b=b.split("-")[0];while(b.endsWith("MT")||b.endsWith("PS"))b=b.slice(0,b.length-2);
var X=!0;for(var q=0;q<b.length;q++){var N=b.charAt(q);if(!X&&N.toLowerCase()!=N){b=b.slice(0,q)+" "+b.slice(q);
q++;X=!0}else X=!1}return b};function nz(){}nz.Gb={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0};
nz.Cb=function(b,X){var q=Date.now(),N;try{N=acorn.parse(b)}catch(gi){console.log(gi);return}var J=JSON.parse(JSON.stringify(nz.hj.CK));
J.__return=!1;J.__break=!1;J.__throw=!1;J.__fs={};J.__window={};nz.eval(N,X,J);var _=J.__fs;if(Object.keys(_).length!=0){var p=UZIP.encode(_);
_K.save(p,"output.zip")}};nz.eval=function(b,X,q){var N=b.type;if(!1){}else if(N=="Program"||N=="BlockStatement"){var J=b.body;
for(var _=0;_<J.length;_++){var p=J[_].type;if(p=="FunctionDeclaration")q[J[_].id.name]=J[_]}for(var _=0;
_<J.length;_++){var p=J[_].type,z=nz.eval(J[_],X,q);if(q.__return||q.__break||q.__throw)return z}}else if(N=="ReturnStatement"){q.__return=!0;
return b.argument?nz.Qj(b.argument,X,q):null}else if(N=="BreakStatement"){q.__break=!0}else if(N=="VariableDeclaration"){var g=b.declarations;
for(var _=0;_<g.length;_++)nz.eval(g[_],X,q)}else if(N=="VariableDeclarator"){q[b.id.name]=b.init?nz.Qj(b.init,X,q):null}else if(N=="FunctionDeclaration"){q[b.id.name]=b}else if(N=="MemberExpression"){var W=nz.Qj(b.object,X,q),o=b.computed?nz.Qj(b.property,X,q):nz.eval(b.property,X,q),z;
if(W.Yk!=null)z=nz.hj.Kv(W,o,X,q);else if(W==window&&nz.Gb[o]){}else z=W[o];return z}else if(N=="ArrayExpression"){var y=[],D=b.elements;
for(var _=0;_<D.length;_++)y.push(nz.Qj(D[_],X,q));return y}else if(N=="ObjectExpression"){var y={},D=b.properties;
for(var _=0;_<D.length;_++){var m=D[_],k=D[_].key.name?D[_].key.name:D[_].key.value;y[k]=nz.Qj(D[_].value,X,q)}return y}else if(N=="ExpressionStatement"){return nz.eval(b.expression,X,q)}else if(N=="NewExpression"){var O=b.arguments,L=b.callee,I=L.type,y=null;
if(I=="Identifier")y=nz.hj.xHA(L.name,O,X,q);else throw"e";if(y==null)throw"new "+L.name;return y}else if(N=="CallExpression"){var O=b.arguments,L=b.callee,I=L.type,H={};
for(var Y in q)H[Y]=q[Y];var n=[];for(var _=0;_<O.length;_++)n.push(nz.Qj(O[_],X,q));if(I=="Identifier"){var w=L.name,t=q[w];
if(t){if(t.params){var j=t.params;for(var _=0;_<j.length;_++)H[j[_].name]=n[_];return nz.eval(t.body,X,H)}else{return t.apply(null,n)}}else if(nz.hj.xHq.indexOf(w)!=-1)return nz.hj.JC({Yk:"Application"},w,n,X,q);
else if(window[w]==null)console.log("Unknown function "+w);else if(nz.Gb[w])alert(w+"() not available");
else{var h=window[w].apply(window,n);return h}}else if(I=="MemberExpression"){var W=nz.Qj(L.object,X,q),o=L.computed?nz.Qj(L.property,X,q):nz.eval(L.property,X,q);
if(W==window&&nz.Gb[o])return;if(W.Yk!=null)return nz.hj.JC(W,o,n,X,q);else return W[o].apply(W,n)}else console.log(b)}else if(N=="AssignmentExpression"){var u=b.operator,Z=b.left,A=Z.type,P=nz.Qj(Z,X,q),T=nz.Qj(b.right,X,q),z=null;
if(!1){}else if(u=="=")z=T;else if(u=="+=")z=P+T;else if(u=="-=")z=P-T;else if(u=="*=")z=P*T;else if(u=="/=")z=P/T;
else if(u=="%=")z=P%T;else if(u=="&=")z=P&T;else if(u=="|=")z=P|T;else if(u=="&&=")z=P&&T;else if(u=="||=")z=P||T;
else console.log(b);if(A=="Identifier"){var U=Z.name;if(q.hasOwnProperty(U))q[U]=z;else q.__window[U]=z}else if(A=="MemberExpression"){var r=nz.eval(Z.property,X,q),i=nz.Qj(Z.object,X,q);
if(i.Yk!=null)nz.hj.xHH(i,r,z,X,q);else i[r]=z}else console.log(b)}else if(N=="Identifier")return b.name;
else if(N=="Literal")return b.value;else if(N=="UpdateExpression"){var u=b.operator,V=b.argument.name,y=nz.Qj(b.argument,X,q);
if(!1){}else if(u=="++"){q[V]++;return b.prefix?q[V]:q[V]-1}else if(u=="--"){q[V]--;return b.prefix?q[V]:q[V]+1}else console.log(b)}else if(N=="UnaryExpression"){var u=b.operator,F=nz.Qj(b.argument,X,q);
if(F.Yk=="UnitValue"){if(u=="-")return-F.A;else return nz.xFx(F.A,u)}else return nz.xFx(F,u)}else if(N=="BinaryExpression"||N=="LogicalExpression"){var u=b.operator,Z=nz.Qj(b.left,X,q),F=nz.Qj(b.right,X,q);
if(Z==null||F==null)return nz.KN(Z,F,u);else if(Z.Yk=="UnitValue"&&F.Yk=="UnitValue")return nz.KN(Z.A,F.A,u);
else if(Z.Yk=="UnitValue")return nz.KN(Z.A,F,u);else if(F.Yk=="UnitValue"){if(u=="-")return-(Z-F.A);
else return nz.KN(Z,F.A,u)}else return nz.KN(Z,F,u)}else if(N=="IfStatement"||N=="ConditionalExpression"){var B=nz.Qj(b.test,X,q);
if(B)return nz.eval(b.consequent,X,q);else if(b.alternate)return nz.eval(b.alternate,X,q)}else if(N=="ForInStatement"){nz.eval(b.left,X,q);
var $=b.left.declarations[0].id.name,l=nz.Qj(b.right,X,q);for(var Y in l){q[$]=Y;var v=nz.eval(b.body,X,q);
if(q.__break)break;if(q.__return)return v}q.__break=!1}else if(N=="ForStatement"){nz.eval(b.init,X,q);
while(nz.eval(b.test,X,q)){var v=nz.eval(b.body,X,q);if(q.__break)break;if(q.__return)return v;nz.eval(b.update,X,q)}q.__break=!1}else if(N=="DoWhileStatement"){do{var v=nz.eval(b.body,X,q);
if(q.__break)break;if(q.__return)return v}while(nz.eval(b.test,X,q));q.__break=!1}else if(N=="TryStatement"){nz.eval(b.block,X,q);
if(q.__throw){var C=b.handler;q[C.param.name]=q.__throw;q.__throw=!1;nz.eval(C.body,X,q);delete q[C.param.name]}}else if(N=="EmptyStatement"){}else console.log(b)};
nz.KN=function(b,X,q){if(q=="+")return b+X;else if(q=="-")return b-X;else if(q=="*")return b*X;else if(q=="/")return b/X;
else if(q=="%")return b%X;else if(q=="^")return b^X;else if(q=="&")return b&X;else if(q=="&&")return b&&X;
else if(q=="|")return b|X;else if(q=="||")return b||X;else if(q=="<")return b<X;else if(q==">")return b>X;
else if(q=="==")return b==X;else if(q=="<=")return b<=X;else if(q==">=")return b>=X;else if(q=="!=")return b!=X;
else if(q=="!==")return b!==X;else if(q=="<<")return b<<X;else if(q==">>")return b>>X;else console.log(q)};
nz.xFx=function(b,X){if(X=="-")return-b;else if(X=="!")return!b;else if(X=="~")return~b;else if(X=="+")return b;
else console.log(obj)};nz.Qj=function(b,X,q){var N=b.type;if(N=="Identifier")return nz.xhy(b.name,X,q);
else return nz.eval(b,X,q)};nz.xhy=function(b,X,q){if(b=="undefined")return undefined;else if(q.hasOwnProperty(b))return q[b];
else if(b=="app")return{Yk:"Application"};else if(nz.hj.xHB.indexOf(b)!=-1)return nz.hj.Kv({Yk:"Application"},b,X,q);
else if(window[b]&&!nz.Gb[b])return window[b];else{q[b]=null;return null}};nz.hj={};nz.hj.xHA=function(b,X,q,N){var J;
if(b=="SolidColor")J={Yk:b,A:[1,0,0,0]};if(b=="Window")J={Yk:b,A:new pB(nz.eval(X[0],q,N),nz.eval(X[1],q,N),nz.eval(X[2],q,N))};
if(b=="ExportOptionsSaveForWeb")J={Yk:b,A:{K_:"png",ij:100}};if(b=="JPEGSaveOptions")J={Yk:b,A:{K_:"jpg",ij:100}};
if(b=="File")J={Yk:b,A:nz.eval(X[0],q,N)};if(b=="ActionReference")J={Yk:b,A:[]};if(b=="ActionDescriptor")J={Yk:b,A:{}};
return J};nz.hj.xHB="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor".split(" ");
nz.hj.xHq=["charIDToTypeID","stringIDToTypeID","executeAction","doAction"];nz.hj.Kv=function(b,X,q,N){var J=q.Sa,_=q.L_();
if(!1){}else if(X=="typename"){if(b.Yk=="Layer")return b.A.zu()?"LayerSet":"ArtLayer";else return b.Yk}else if(["Document","Layer"].indexOf(b.Yk)!=-1&&["layers","artLayers","layerSets"].indexOf(X)!=-1){var p=_.root,z={Yk:"Layers",xN:X,A:[]};
if(b.Yk=="Layer")p=_.root.vf(_.F.indexOf(b.A));for(var g=0;g<p.children.length;g++){var W=p.children[g].Q,o=W.zu();
if(o&&X=="artLayers"||!o&&X=="layerSets")continue;z.A.push({Yk:"Layer",A:W})}z.A.reverse();return z}else if(b.Yk=="Documents"||b.Yk=="Layers"||b.Yk=="HistoryStates"){if(!1){}else if(X=="length")return b.A.length;
else if(Number.isInteger(X))return b.A[X];else console.log(b.Yk+": unknown property ",X)}else if(b.Yk=="Application"){if(!1){}else if(X=="activeDocument")return{Yk:"Document",A:q.L_()};
else if(X=="documents"){var z={Yk:"Documents",A:[]};for(var g=0;g<q.Ti.length;g++)z.A.push({Yk:"Document",A:q.Ti[g]});
return z}else if(X=="fonts")return{Yk:"TextFonts"};else if(X=="preferences")return{Yk:"Preferences"};
else if(X=="displayDialogs")return{Yk:"DialogModes"};else if(X=="foregroundColor"||X=="backgroundColor"){var y=X[0]=="f"?J.pp:J.HO;
return{Yk:"SolidColor",A:[1,(y>>>16&255)/255,(y>>>8&255)/255,(y>>>0&255)/255]}}else if(X=="UI")return{Yk:"UI"};
else console.log(b,X)}else if(b.Yk=="Document"){var _=b.A;if(!1){}else if(X=="activeLayer"){var W=_.F[_.k[0]];
return{Yk:"Layer",A:W}}else if(X=="resolution")return _.Dg;else if(X=="width")return _.n;else if(X=="height")return _.z;
else if(X=="name")return _.name;else if(X=="saved")return!_.jj();else if(X=="selection")return{Yk:"Selection"};
else if(X=="activeHistoryState")return{Yk:"HistoryState",aP:_.W_};else if(X=="source")return _.Wy;else if(X=="historyStates"){var D=[];
for(var g=0;g<_.history.length;g++)D.push({Yk:"HistoryState",aP:g});return{Yk:"HistoryStates",A:D}}else console.log(b,X)}else if(b.Yk=="Layer"){var m={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},W=b.A;
if(!1){}else if(X=="visible")return W.oF();else if(X=="selected")return _.k.indexOf(_.F.indexOf(W))!=-1;
else if(X=="grouped")return W.Hg;else if(m[X]!=null)return W.g$(m[X]);else if(X=="opacity")return W.opacity*100/255;
else if(X=="blendMode")return W.nB;else if(X=="name")return W.getName();else if(X=="textItem")return{Yk:"TextItem",A:W};
else if(X=="bounds"){var k=c.C.pi(_,[_.F.indexOf(W)]);return nz.hj.xAr(k,_)}else if(X=="parent"){var O=q.Ti;
for(var g=0;g<O.length;g++)if(O[g].F.indexOf(W)!=-1)return{Yk:"Document",A:O[g]}}else if(X=="kind"){var L=nz.hj.Sr;
for(var g=0;g<L.length;g++)if(W.add[L[g]]!=null)return g;return 0}else console.log(b,X)}else if(b.Yk=="Selection"){if(!1){}else if(X=="bounds")return nz.hj.xAr(q.L_().p.rect,_);
else console.log(b,X)}else if(b.Yk=="TextItem"){var I=b.A.add.TySh,H=I.Bw,Y=ng.IC(H),n=I.w.bq(),w=ng.c_(H,0,Math.max(0,Y.length-2));
if(X=="contents")return Y.slice(0,Y.length-1).replace(/\n/g,"\r");else if(X=="font")return w.qH.Font!=null?w.JX[w.qH.Font].Name:null;
else if(X=="size")return nz.hj.Ks(w.qH.FontSize*n,_);else if(X=="leading")return nz.hj.Ks(w.qH.Leading*n,_);
else if(X=="tracking")return nz.hj.Ks(w.qH.Tracking);else if(X=="kind")return 1-ng.__(H);else if(X=="useAutoLeading")return w.qE.AutoLeading;
else if(X=="hyphenation")return w.qE.AutoHyphenate;else if(X=="color")return{Yk:"SolidColor",A:w.qH.FillColor.Values.slice(0)};
else if(X=="width"||X=="height"){var t=ng.uX(H),j=(t[2]-t[0])*n,E=(t[3]-t[1])*n;return nz.hj.Ks(X=="width"?j:E,_)}else if(X=="position"){var h=I.w;
return nz.hj.xnx([h.lf,h.vw],_)}else if(X=="horizontalScale"||X=="verticalScale"){var u=X[0].toUpperCase()+X.slice(1);
return Math.round(w.qH[u]*100)}else console.log(b,X)}else if(b.Yk=="Preferences"){if(X=="rulerUnits")return J.ht.Ms;
else console.log(b,X)}else if(b.Yk=="SolidColor"){if(X=="rgb")return{Yk:"RGBColor",A:b.A};else console.log(b,X)}else if(b.Yk=="RGBColor"){if(!1){}else if(X=="red")return Math.round(255*b.A[1]);
else if(X=="green")return Math.round(255*b.A[2]);else if(X=="blue")return Math.round(255*b.A[3]);else console.log(b,X)}else if(b.Yk=="UnitValue"){if(X=="value")return b.A;
else throw"e"}else if(b.Yk=="ExportOptionsSaveForWeb"){if(X=="format")return b.A.K_;else if(X=="PNG8")return!1;
else if(X=="quality")return b.A.ij;else throw X}else if(b.Yk=="JPEGSaveOptions"){return 0}else console.log(b,X)};
nz.hj.xAr=function(b,X){return nz.hj.xnx([b.x,b.y,b.x+b.n,b.y+b.z],X)};nz.hj.xnx=function(b,X){var q=[];
for(var N=0;N<b.length;N++)q.push(nz.hj.Ks(b[N],X));return q};nz.hj.xHh=function(b){var X=[];for(var q=0;
q<b.length;q++)X.push(b[q].Yk?b[q].A:b[q]);return X};nz.hj.Ks=function(b,X){return{Yk:"UnitValue",A:b}};
nz.hj.xLq=function(b,X){if(b.Yk=="UnitValue")return b.A;return b};nz.hj.xHH=function(b,X,q,N,J){var _=new Q(K.E.e,!0),p=new Q(K.E.T,!0),z=N.L_(),g=N.Sa;
if(!1){}else if(b.Yk=="Application"){if(!1){}else if(X=="activeDocument"){p.data={V:K.a.QK,kM:q.A};N.X(p)}else if(X=="displayDialogs"){}else console.log(b,X,q)}else if(b.Yk=="Document"){var W=b.A;
if(!1){}else if(X=="name"){_.B=c.iz;_.data={V:M._O,A:q,xW_:!0,XL:W};z.Ri=!0}else if(X=="source")W.Wy=q;
else if(X=="activeLayer"){W.k=[W.F.indexOf(q.A)]}else if(X=="activeHistoryState"){_.B=c.JH;_.data={V:"h_itemchange",index:q.aP}}else console.log(b,X)}else if(b.Yk=="Layer"){_.B=c.iz;
var o={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},y=b.A,D=z.F.indexOf(y);
if(!1){}else if(X=="visible"){if(y.oF()!=q)_.data={V:M.RQ,Q:D}}else if(X=="opacity"){_.data={V:M.VK,Q:D,wS:Math.round(255*q/100)}}else if(X=="blendMode"){_.data={V:M.km,Q:D,wS:nD.YO.indexOf(q)}}else if(X=="name"){_.data={V:M.dD,Q:D,name:q}}else if(o[X]!=null){_.data={V:M.dd,Q:D,wS:[[q],[o[X]]]}}else if(X=="kind"){_.data={V:M.Om,Q:D,$_:nz.hj.Sr[q]}}else if(X=="grouped"){_.data={V:M.yJ,Q:D,wS:q}}else console.log(b,X,q)}else if(b.Yk=="TextItem"){_.B=c.Xe;
var y=b.A,m=y.add.TySh,k=JSON.parse(JSON.stringify(m.Bw)),O=m.w.clone(),L=m.w.bq(),I=ng.IC(k),H=ng.c_(k,0,I.length-2),Y=!1;
if(!1){}else if(X=="contents"){ng.iZ(k,0,I.length-1);ng.DX(k,0,q.replace(/\r/g,"\n"))}else if(X=="size"){H.qH.FontSize=(q.A!=null?q.A:q)/L;
Y=!0}else if(X=="leading"){H.qH.Leading=(q.A!=null?q.A:q)/L;Y=!0}else if(X=="tracking"){H.qH.Tracking=q.A!=null?q.A:q;
Y=!0}else if(X=="kind"){var n=ng.__(k);if(n==1&&q==1){var w=new __(k,N.Sa._v).qE[0],t=w.am[0].end,j=w.io[t-1].end;
ng.iZ(k,0,I.length-1);ng.DX(k,0,I.slice(0,j-1))}if(n==q)ng.aH(k,1-q)}else if(X=="useAutoLeading"){H.qE.AutoLeading=q;
Y=!0}else if(X=="hyphenation"){H.qE.AutoHyphenate=q;Y=!0}else if(X=="font"){ng.uJ(H,q);Y=!0}else if(X=="color"){H.qH.FillColor.Values=q.A.slice(0);
Y=!0}else if(X=="width"||X=="height"){var E=ng.uX(k).slice(0);if(X=="width")E[2]=Math.round(E[0]+q/L);
else E[3]=Math.round(E[1]+q/L);ng.Sc(k,E)}else if(X=="position"){O.lf=q[0];O.vw=q[1]}else if(X=="horizontalScale"||X=="verticalScale"){var h=X[0].toUpperCase()+X.slice(1);
H.qH[h]=q/100;Y=!0}else console.log(b,X,q);if(Y)ng.Fo(k,0,I.length-1,H);_.data={V:"newED",nA:z.F.indexOf(y),NJ:k,w:O}}else if(b.Yk=="Preferences"){if(!1){}else if(X=="rulerUnits"){var u=JSON.parse(JSON.stringify(g.ht));
u.Ms=q;p.data={V:K.a.dX,Zy:n_.UX,wS:u};N.X(p)}else console.log(b,X,q)}else if(b.Yk=="RGBColor"){if(!1){}else if(X=="red")b.A[1]=q/255;
else if(X=="green")b.A[2]=q/255;else if(X=="blue")b.A[3]=q/255;else console.log(b,X)}else if(b.Yk=="ExportOptionsSaveForWeb"){if(X=="format")b.A.K_=q;
else if(X=="PNG8"){}else if(X=="quality")b.A.ij=q;else throw"e"}else if(b.Yk=="JPEGSaveOptions"){if(X=="quality")b.A.ij=Math.round(100*q/12)}else console.log(b,X,q);
if(_.data!=null)N.X(_)};nz.hj.JC=function(b,X,q,N,J){var _=b.Yk,p=null,z=new Q(K.E.e,!0),g=new Q(K.E.gy,!0),W=new Q(K.E.T,!0),o=N.L_(),y=N.Ti;
if(!1){}else if(_=="Application"){if(!1){}else if(X=="charIDToTypeID"){var D=q[0].trim();if(D=="Lvls")D="levels";
return D}else if(X=="stringIDToTypeID"){var m=q[0].trim(),k={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",type:"Type",using:"Usng"},O=k[m];
return O==null?m:O}else if(X=="executeAction"){console.log(q);var L;if(q[1]){L=q[1].A;L.classID=q[0]}var I={setd:"set"},H=I[q[0]];
if(H==null)H=q[0];g.data={pn:H,nv:L}}else if(X=="doAction"){W.data={V:K.a.Cf,DM:[q[0],q[1]]}}else if(X=="open"){W.data={V:K.a.Gx,Zy:{url:q[0]}};
if(q[2]&&y.length!=0)W.data.Zy.Qz=y.indexOf(o)}else if(X=="echoToOE"){if(window.parent!=window)window.parent.postMessage(q[0],"*")}else console.log(X)}else if(_=="Document"){var o=b.A;
if(!1){}else if(X=="trim"){var Y=[];for(var n=0;n<4;n++)Y.push(q[n+1]!=null?q[n+1]:!0);g.data=c.IP.HI(q[0]!=null?q[0]:0,Y)}else if(X=="save"){W.data={V:K.a.ZY}}else if(X=="saveToOE"){W.data={V:K.a.ZY,xhX:q}}else if(X=="rotateCanvas"){g.data=c.C.vY(!0,q[0])}else if(X=="resizeImage"||X=="resizeCanvas"){var w=q[0],t=q[1];
if(typeof w!="number"){w=o.n*parseFloat(w.slice(0,w.length-1))/100;t=o.z*parseFloat(t.slice(0,t.length-1))/100}if(X=="resizeCanvas")g.data=c.IP.Ma(Math.round(w),Math.round(t),q[2]);
else g.data=c.IP.Mw(Math.round(w),Math.round(t))}else if(X=="paste"){W.data={V:K.a.WQ}}else if(X=="close"){W.data={V:K.a.CN,lk:o}}else if(X=="exportDocument"||X=="saveAs"){var j=J.__fs,h=q[0].A.replace(":","").replace("~/",""),u=X=="exportDocument"?q[2].A:q[1].A,Z=nr.kz(o,u.K_,null,null,[u.ij],N.Sa);
j[h]=new Uint8Array(Z)}else console.log(b,X,q)}else if(_=="Layer"){var A=b.A,P=o.F.indexOf(A);if(!1){}else if(X=="copy"){nz.hj.GS(o,N,0);
W.data={V:K.a.xK,Lq:q[0],Xm:P};N.X(W);delete W.data;nz.hj.GS(o,N,1)}else if(X=="clear"){nz.hj.GS(o,N,0);
g.data={pn:"delete"};N.X(g);delete g.data;nz.hj.GS(o,N,1)}else if(X=="duplicate"){if(q.length==0){z.data={V:M.CX,Q:P};
z.B=c.iz;N.X(z);z.data=null;p={Yk:"Layer",A:o.F[o.k[0]]}}else if(q[0].Yk=="Document"){z.data={V:M._M,F:o.bD(P),_U:o,$R:q[0].A};
z.B=c.iz}}else if(X=="merge"||X=="remove"){z.data={V:X=="merge"?M.mj:M.RF,Q:P};z.B=c.iz;if(X!="remove")p={Yk:"Layer",A:o.F[o.k[0]]}}else if(X=="move"){z.data={V:M.dO,source:P,target:o.F.indexOf(q[0].A),ON:q[1]!=3?.6:.3};
z.B=c.iz}else if(X=="rasterize"){g.data={pn:"rasterizeLayer",nv:{classID:"rasterizeLayer",null:_U.YN("Lyr",!0)}}}else if(X=="rotate"){z.data={V:"rot",ds:[2,5],A:-q[0]*Math.PI/180,Rl:q[1],Q:P};
z.B=c.dL}else if(X=="resize"){z.data={V:"scl",ds:[2,4],A:new Ue(q[0]/100,q[1]/100),Rl:q[2],Q:P};z.B=c.dL}else if(X=="translate"){var T=nz.hj.xHh(q);
z.data={V:"trsl",Q:P,xRv:T[0],xRJ:T[1]};z.B=c.KC}else if(X=="link"){z.data={V:M.QG,xqL:[P,o.F.indexOf(q[0].A)]};
z.B=c.iz}else console.log(b,X,q)}else if(_=="Documents"){if(X=="getByName"){for(var n=0;n<y.length;n++)if(y[n].name==q[0])return{Yk:"Document",A:y[n]};
return null}else if(X=="add"){var U=q[5];if(U==null)U=1;g.data=nj.Mz(q[0],q[1],q[2],q[3],["Wht","Trns","BckC"][U])}else throw"e"}else if(_=="Layers"){if(X=="getByName"){for(var n=0;
n<b.A.length;n++)if(b.A[n].A.getName()==q[0]){p=b.A[n];break}if(p==null)J.__throw={message:"No layer with a name "+q[0]}}else if(X=="add"){z.data={V:b.xN=="layerSets"?M.Oy:M.RY};
z.B=c.iz;N.X(z);z.data=null;p={Yk:"Layer",A:o.F[o.k[0]]}}else console.log(b,X,q)}else if(b.Yk=="Selection"){if(X=="select"){var r=q[0],i=[];
for(var n=0;n<r.length;n++)i.push(r[n][0],r[n][1]);g.data=c.rl.xO(i)}else if(X=="copy"){W.data={V:K.a.xK}}else if(X=="deselect"){g.data=c.rl.zL()}else if(X=="fill"){var V=q[0].A;
V=x.Z.Yr({D:V[1]*255,q:V[2]*255,b:V[3]*255});g.data=c.Un.Hc("Clr",q[1],q[2]==null?1:q[2]/100,V)}else console.log(b,X,q)}else if(b.Yk=="Window"){if(X=="show"){W.data={V:K.a.Ko,zE:b.A}}else throw"e"}else if(b.Yk=="ActionReference"){if(X=="putProperty"){b.A.push({t:"prop",v:{classID:q[0],keyID:q[1]}})}else if(X=="putClass"){b.A.push({t:"Clss",v:{classID:q[0]}})}else console.log(X,q)}else if(b.Yk=="ActionDescriptor"){if(X=="putReference"){b.A[q[0]]={t:"obj ",v:q[1].A}}else if(X=="putDouble"){b.A[q[0]]={t:"doub",v:q[1]}}else if(X=="putUnitDouble"){b.A[q[0]]={t:"UntF",v:{type:q[1],val:q[2]}}}else if(X=="putObject"){var F=q[2].A;
F.classID=q[1];b.A[q[0]]={t:"Objc",v:F}}else if(X=="putBoolean"){b.A[q[0]]={t:"bool",v:q[1]}}else console.log(X,q)}else if(b.Yk=="UI"){var B;
if(X=="zoomIn"||X=="zoomOut"){B={V:"zoom",JE:X=="zoomIn"}}else if(X=="fitTheArea"){B={V:"adapt",A:"fitscr"}}else if(X=="pixelToPixel"){B={V:"adapt",A:"pixel"}}z.B=c.o_;
z.data=B}else console.log(b,X,q);if(z.data)N.X(z);if(g.data)N.X(g);if(W.data)N.X(W);return p};nz.hj.GS=function(b,X,q){var N=new Q(K.E.e,!0);
N.B=c.ST;var J=new Q(K.E.gy,!0);if(q==0){nz.hj.xbX=b.p;J.data=c.rl.zL(!0)}else{var _=nz.hj.xbX;if(_)N.data={V:"setsel",ds:"Restore Selection",p:{rect:_.rect.clone(),channel:_.channel.slice(0)}};
else J.data=c.rl.zL()}X.X(N.data?N:J)};nz.hj.xbX=null;nz.hj.CK={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{RGB:0},NewDocumentMode:{RGB:0},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "}};
nz.hj.CK.ColorBlendMode=nz.hj.CK.BlendMode;nz.hj.Sr="---- SoLd TySh SoCo GdFl PtFl".split(" ");function _l(){}_l.yZ={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18]};
_l.xKi=function(b,X){if(X==null)X={};var q=new DOMParser,N=q.parseFromString(b,"image/svg+xml"),J=N.getElementsByTagName("rdf:Description")[0];
if(J==null)return X;var _=_l.yZ;for(var p in _){var z=_[p][2];if(z==null)continue;var g=J.getElementsByTagName(z)[0];
if(g==null)continue;var _a=g.getElementsByTagName("rdf:li"),W=[];for(var o=0;o<_a.length;o++)W.push(_a[o].textContent);
X[p]=W.join("; ")}return X};_l.xKm=function(b){var X=["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>","<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">","<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">","<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\">"],q=_l.yZ;
for(var N in q){var J=b[N],_=q[N][2],p="Seq",z="";if(J==null||_==null)continue;if(_=="dc:title"||_=="dc:description"){p="Alt";
z=" xml:lang=\"x-default\""}if(_=="dc:subject")p="Bag";X.push("\t<"+_+"><rdf:"+p+">");var g=_=="dc:subject"?J.split(";").join(",").split(","):[J];
for(var W=0;W<g.length;W++)X.push("\t\t<rdf:li"+z+">"+g[W].trim()+"</rdf:li>");X.push("\t</rdf:"+p+"></"+_+">")}X.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>","<?xpacket end=\"w\"?>");
return X.join("\n")};_l.xSd=function(b){var X=[];for(var q=0;q<b.length;q++)X[q]=b[q][1]==0?0:b[q][0]/b[q][1];
return X};_l.xr_=function(b){var X=[];for(var q=0;q<b.length;q++){var N=b[q],J=1;if(N!=Math.round(N)){J=1e3;
N=Math.round(N*J)}X[q]=[N,J]}return X};_l.ly=function(b,X){var q=_l.yZ;if(X==null)X={};for(var N in q){var J=q[N][1],_="t"+J;
if(J!=null&&b[_]!=null){var p=b[_];if(J==0)p=p.join(".");else if(J==2||J==4){var z=b["t"+(J-1)];if(z==null)z=[J==2?"N":"E"];
p=_l.xSd(p).join(",")+z[0]}else if(J==42034)p=_l.xSd(p).join(" ");else if(J==270||J==315){var g=p[0],W=new Uint8Array(g.length);
e.hd(W,0,g);p=e.Re(W)}else p=p[0];X[N]=p}}if(b.exifIFD)_l.ly(b.exifIFD,X);if(b.gpsiIFD)_l.ly(b.gpsiIFD,X);
return X};_l.CS=function(b,X){var q=_l.yZ,J=0,p=0;if(X==null)X={};var N={},_={};for(var z in q){if(b[z]==null||q[z][1]==null)continue;
var g=q[z][1],W="t"+g,o=X;if(z.startsWith("exif:")){o=N;J++;if(z.startsWith("exif:GPS")){o=_;p++}}var y=b[z];
if(g==0)y=new Uint8Array(y.split(".").map(parseFloat));else if(g==2||g==4){var D=y.length;o["t"+(g-1)]=[y.slice(y.length-1)];
y=_l.xr_(y.split(",").map(parseFloat))}else if(g==42034)y=_l.xr_(y.split(" ").map(parseFloat));else if(g==270||g==315){var m=e.eJ(y);
y=[e.uT(m,0,m.length)]}else y=[y];o[W]=y}if(J!=0){X.exifIFD=N;X.t34665=[0]}if(p!=0){X.gpsiIFD=_;X.t34853=[0]}var k=new Date,O=[k.getFullYear(),k.getMonth()+1,k.getDate(),k.getHours(),k.getMinutes(),k.getSeconds()];
for(var L=0;L<6;L++)O[L]=(O[L]+"").padStart(2,"0");X.t305=["Photopea Editor (www.photopea.com)"];X.t306=[O[0]+":"+O[1]+":"+O[2]+" "+O[3]+":"+O[4]+":"+O[5]];
return X};var K={};K.xrD=0;K.SX=function(){K.xrD++;return K.xrD};K.xHi="uint8";K.GH=function(b){this.HP=b;
this.xuM=K.m("img");this.rh=K.m("canvas");this.Ji=null;this.bn="";this.iD=null;this.Jj=new Ue(0,0);K.YZ(this.HP,this.WK.bind(this))};
K.GH.prototype.Fr=function(b,X){this.Ji=b;if(X)this.bn=X;this.WK()};K.GH.prototype.WK=function(b){if(b)this.Jj=K.HW(b,this.HP);
var X=this.Ji,q=typeof X=="string";if(!q){var N=K.u(),J=this.Jj,_=X.h.n,p=X.h.z,z=typeof X.uC=="string",g=z?this.xuM:this.rh;
if(z)g.setAttribute("src",X.uC);else{g.width=_;g.height=p;var W=g.getContext("2d"),o=new ImageData(new Uint8ClampedArray(X.uC.buffer),_,p);
W.putImageData(o,0,0)}g.setAttribute("style"," position:absolute; pointer-events:none;user-select:none;"+"top:"+(J.y-X.gv.y/N)+"px; left:"+(J.x-X.gv.x/N)+"px; width:"+_/N+"px; height:"+p/N+"px");
var y=this.iD;if(y==null||y!=g){if(y)this.HP.removeChild(y);this.HP.appendChild(g);this.iD=g}}else if(this.iD){this.HP.removeChild(this.iD);
this.iD=null}this.HP.setAttribute("style","cursor:"+(q?X:"none")+"; "+this.bn)};K.xHQ=function(b){return b.replace(/</g,"&lt;").replace(/>/g,"&gt;")};
K.GP=function(b,X){b.vQ(xA.get([12,41]).charAt(0)+":");X.vQ(xA.get([12,42]).charAt(0)+":")};K.m=function(b,X){var q=document.createElement(b);
if(X!=null)q.setAttribute("class",X);return q};K.Jx=function(b){while(b.firstChild)b.removeChild(b.firstChild)};
K.Dv=function(b,X){var q=b.getAttribute("class").split(" ");if(q.indexOf(X)==-1)q.push(X);b.setAttribute("class",q.join(" "))};
K.YQ=function(b,X){var q=b.getAttribute("class");if(q==null)return;q=q.split(" ");if(q.indexOf(X)!=-1)q.splice(q.indexOf(X),1);
b.setAttribute("class",q.join(" "))};K.OH=function(b){while(!0){if(b==document)return!0;if(b==null)return!1;
b=b.parentNode}};K.Kc=function(b){b.appendChild(K.m("br"))};K.xaF=function(b){b.appendChild(K.m("hr"))};
K.TX=document;K.Lm=function(b){var X=0;for(var q=0;q<b;q++)X+=Math.random();return X/b<Math.PI/4};K.QE=function(b,X){var q="";
if(!K.Lm(29))X-=4;for(var N=0;N<b.length;N++)q+=String.fromCharCode(b.charCodeAt(N)-X-N);return q};K.GA=function(b,X){var q="";
if(!K.Lm(29))X+=4;for(var N=0;N<b.length;N++)q+=String.fromCharCode(b.charCodeAt(N)+X+N);return q};K.GC=function(b){var X="";
if(!K.Lm(28))b+="-3";for(var q=0;q<b.length;q++){var N=b.charCodeAt(q);if(N<32||127<N)throw"e";X+=String.fromCharCode(32+(N-32+17+3*q)%96)}return X};
K.eB=function(b){var X="";if(!K.Lm(28))b+="-1";for(var q=0;q<b.length;q++){var N=b.charCodeAt(q);N-=32;
N+=96e4;N-=17+3*q;N=N%96;X+=String.fromCharCode(32+N)}return X};K.xLH=function(b){var X="";if(!K.Lm(28))b+="-3";
for(var q=0;q<b.length;q++){var N=b.charCodeAt(q);if(N<32||126<N)throw"e";X+=String.fromCharCode(32+(N-32+17+3*q)%95)}return X};
K.Gd=function(b){var X="";if(!K.Lm(28))b+="-1";for(var q=0;q<b.length;q++){var N=b.charCodeAt(q);N-=32;
N+=95e4;N-=17+3*q;N=N%95;X+=String.fromCharCode(32+N)}return X};K.Cr=function(b,X){var q="";if(!K.Lm(29))X+=3;
for(var N=0;N<b.length;N++)q+=String.fromCharCode((256<<16)+b.charCodeAt(N)+X*N&255);return q};K.ek=function(b){var X=Math.random();
K.xHi="uint"+(3+X);return new b};K.xLU=0;K.xgp=function(b,X){var q=0;if(Date.now()-K.xLU>1e3){q=X==0?100:X*10}else{if(b%10!=0)b*=10;
q=(b+X)%100}K.xLU=Date.now();return q};K.mU=function(b,X){if(window.PointerEvent){b.addEventListener("pointerdown",X,!1);
return}b.addEventListener("mousedown",X,!1);b.addEventListener("touchstart",X,!1)};K.YZ=function(b,X){if(window.PointerEvent){b.addEventListener("pointermove",X,!1);
return}b.addEventListener("mousemove",X,!1);b.addEventListener("touchmove",X,!1)};K.Lx=function(b,X){if(window.PointerEvent){b.addEventListener("pointerup",X,!1);
return}b.addEventListener("mouseup",X,!1);b.addEventListener("touchend",X,!1)};K.xLM=function(b,X){if(window.PointerEvent){b.removeEventListener("pointerdown",X,!1);
return}b.removeEventListener("mousedown",X,!1);b.removeEventListener("touchstart",X,!1)};K.dW=function(b,X){if(window.PointerEvent){b.removeEventListener("pointermove",X,!1);
return}b.removeEventListener("mousemove",X,!1);b.removeEventListener("touchmove",X,!1)};K.d$=function(b,X){if(window.PointerEvent){b.removeEventListener("pointerup",X,!1);
return}b.removeEventListener("mouseup",X,!1);b.removeEventListener("touchend",X,!1)};K.FZ=function(b){b.addEventListener("touchstart",K.FX,!1);
b.addEventListener("touchmove",K.FX,!1);b.addEventListener("touchend",K.FX,!1)};K.Ss=function(b,X,q,N){var J=K.u();
b.width=Math.floor(X*J);b.height=Math.floor(q*J);b.style.width=b.width/J+"px";b.style.height=b.height/J+"px";
if(N)N.setTransform(J,0,0,J,0,0)};K.IX=function(b,X,q){b.setAttribute("style","width:"+X/K.u()+"px; height:"+q/K.u()+"px")};
K.HW=function(b,X){if(X==null)X=b.currentTarget;var q=X.getBoundingClientRect();if(b.touches)b=b.touches.item(0);
return{x:b.clientX-q.left,y:b.clientY-q.top}};K.u=function(b){return window.devicePixelRatio||1};K.FX=function(b){b.preventDefault()};
K.BC=function(b,X,q){q=q?q:"";if(PIMG["__"+b]==null)q+=" gsicon";return"<img src=\""+PIMG[b]+"\" alt=\""+(X?X:"")+"\" class=\""+q+"\" />"};
K.xbC=function(b,X,q,N){var J=b.dataTransfer.getData("text/uri-list");if(J!=null&&J.startsWith("http")){var _=new Q(K.E.T,!0);
_.data={V:K.a.Gx,Zy:{url:J,ym:!0,Qz:q,if:N}};X.X(_)}if(b.dataTransfer.files.length==0)return;var _=new Q(K.E.T,!0);
_.data={V:K.a.xbF,data:b.dataTransfer.files,Qz:q,if:N};X.X(_)};var Q=function(b,X){if(!X)X=!1;this.type=b;
this.target=null;this.currentTarget=null;this.bubbles=X;this.B=null;this.oP=!1};K.E={e:"0",T:"1",gy:"1.5",$:"2",eh:"3",xKg:"4",Wh:"5"};
K.a={SO:"10",Vj:"11",Sj:"12",Cw:"13",KW:"14",xqY:"14.1",Gx:"15",Zw:"16",GY:"17",xh_:"18",ZY:"19",xvZ:"19.5",xdB:"20",Cv:"21",xK:"22",WQ:"23",WW:"24",Ko:"25",SD:"26",QK:"27",GX:"28",xxU:"29",xbF:"30",Iq:"31",xrK:"32",K$:"33",IZ:"34",dX:"35",WI:"37",xqM:"38",Ct:"39",CJ:"40",eP:"41",xR_:"42",Sf:"43",CN:"44",xxJ:"45",CD:"46",CG:"47",Cc:"48",Cf:"49"};
var bM={};bM.xnS=function(b){var X=bM.FN[b],q=document.documentElement.style,J=20;q.setProperty("--bg-color","#"+x.a_(X["--bg-color"]));
q.setProperty("--bg-panel","#"+x.a_(X["--bg-panel"]));q.setProperty("--bg-canvas","#"+x.a_(X["--bg-canvas"]));
q.setProperty("--bg-input","#"+x.a_(X["--bg-input"]));q.setProperty("--bg-bbtn","#"+x.a_(X["--bg-bbtn"]));
q.setProperty("--bg-bbtnOver","#"+x.a_(X["--bg-bbtnOver"]));q.setProperty("--brdr","#"+x.a_(X["--brdr"]));
q.setProperty("--text-color","#"+x.a_(X["--text-color"]));q.setProperty("--brdrLgt","rgba(255,255,255,"+X["--brdrLgt"]+")");
q.setProperty("--brdrDrk","rgba(  0,  0,  0,"+X["--brdrDrk"]+")");q.setProperty("--alphaDark",""+X["--alphaDark"]);
q.setProperty("--gs-invert",""+X["--gs-invert"]);var N=X["--sh-clr"];q.setProperty("--sh-clr","rgba("+(N>>16)+","+(N>>8&255)+","+(N&255)+", 0.45)");
q.setProperty("--sh-dy",""+X["--sh-dy"]+"px");if(1<K.u()&&K.u()<1.5)J/=K.u();q.setProperty("--img20",J+"px");
var _="lrs/eye lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var b=0;b<_.length;b++){var p=_[b],z=p.split("/").pop(),g=PIMG["__"+p]==null?X["--gs-invert"]:"0";
q.setProperty("--icon_"+z,"url("+PIMG[p]+")");q.setProperty("--icon_"+z+"_invrt",g)}};bM.FN=[{name:"Silver","--bg-color":14737632,"--bg-panel":9868950,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":15658734,"--bg-bbtnOver":15132390,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":7237230,"--sh-clr":16777215,"--sh-dy":1},{name:"Black","--bg-color":4671303,"--bg-panel":3158064,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6316128,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--sh-dy":-1},{name:"Iron Blue","--bg-color":4212048,"--bg-panel":2435637,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1},{name:"Snow White","--bg-color":16250871,"--bg-panel":14540253,"--bg-canvas":15132390,"--bg-input":16777215,"--bg-bbtn":15658734,"--bg-bbtnOver":15132390,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":0,"--gs-invert":.18,"--brdr":13158600,"--sh-clr":16777215,"--sh-dy":1},{name:"Danish Purple","--bg-color":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1}];
function na(){b_.call(this);this.parent=null;this.U=null;this.w$=0;this.ai=0}na.prototype=new b_;na.prototype.xHC=function(b){var X=this;
while(X!=null){if(X==b)return!0;X=X.parent}return!1};na.prototype.CV=function(){var b=this.U;return b.offsetWidth+b.clientLeft};
na.prototype.xKt=function(){var b=this.U;return b.offsetHeight+b.clientTop};na.prototype.update=function(b){};
na.prototype.X=function(b){b_.prototype.X.call(this,b);if(b.bubbles&&this.parent!=null)this.parent.X(b)};
na.prototype.xLQ=function(b){b.stopPropagation();b.preventDefault()};na.prototype.f=function(){};na.prototype.Ic=function(b){K.YQ(this.U,"disabled")};
na.prototype.Sb=function(b){K.Dv(this.U,"disabled")};na.prototype.Qh=function(b){if(b)this.Ic();else this.Sb()};
function Uo(b,X){na.call(this);this.yk=null;this.xud=this.QB.bind(this);this.xuW=this.Cs.bind(this);
this.xuY=this.xHY.bind(this);this.xuI=this.xra.bind(this);this.ox=[];this.BY=[];this.og=[];this.xH_=[];
this.U=K.m("div","contextpanel");this.U.addEventListener("contextmenu",K.FX,!1);this.YT=null;this.op=0;
this.xHv=b;this.xEK=X;this.jh=[];for(var q=0;q<b.length;q++){var N=K.m("div","enab");this.BY.push(N);
this.U.appendChild(N);if(b[q].TL){var J=K.m("img","thumb");J.setAttribute("src",PIMG[b[q].TL]);N.appendChild(J)}else{var _=K.m("span","check");
this.xH_.push(_);N.appendChild(_)}var p=K.m("span","label");p.innerHTML=xA.get(b[q].name);N.appendChild(p);
this.og.push(p);if(b[q].xy)this.U.appendChild(K.m("hr"));if(b[q].no||b[q].sub){var z=K.m("span","right");
N.appendChild(z);if(b[q].no)z.innerHTML=b[q].no;if(b[q].sub)z.innerHTML="\u25B6"}N.addEventListener("click",this.xud,!1);
N.addEventListener("mouseover",this.xuW,!0);N.addEventListener("mouseout",this.xuY,!0);if(b[q].sub){var g=new Uo(b[q].sub,X?X[q].sub:null);
g.parent=this;this.jh.push(g);g.l("select",this.xHO,this)}else this.jh.push(null)}}Uo.prototype=new na;
Uo.prototype.xSF=function(b){K.Jx(this.U);for(var X=0;X<b.length;X++)if(b[X]!=0&&b[X]!=null){this.U.appendChild(this.BY[X]);
if(b[X]!=1&&this.jh[X])this.jh[X].xSF(b[X])}};Uo.prototype.f=function(){var b=this.xHv;for(var X=0;X<b.length;
X++){if(b[X].title)this.BY[X].title=xA.get(b[X].title);this.og[X].textContent=xA.get(b[X].name)+(b[X].GB?"...":"")}for(var X=0;
X<this.jh.length;X++)if(this.jh[X])this.jh[X].f()};Uo.prototype.update=function(b,X){var q=this.xHv;
for(var N=0;N<q.length;N++){if(q[N].O){var J=q[N].O(b,X,N);if(J.O!=null)this.BY[N].setAttribute("class",J.O?"enab":"disab");
if(J.hR!=null)this.og[N].textContent=J.hR;if(J.QZ!=null)this.xH_[N].textContent=J.QZ?"\u2713":""}}for(var N=0;
N<this.jh.length;N++)if(this.jh[N])this.jh[N].update(b,X)};Uo.prototype.FO=function(){return this.ox};
Uo.prototype.QB=function(b){if(b.button!=0)return;var X=this.BY.indexOf(b.currentTarget);if(this.jh[X]){this.op=X;
this.xra()}else{if(this.xEK){var q=this.xEK[X],N=new Q(q.v,!0);N.B=q.B;N.data=q.R;this.X(N)}this.yk=null;
this.ox=[X];this.X(new Q("select",!1));var N=new Q(K.E.T,!0);N.data={V:K.a.Cw};this.X(N)}};Uo.prototype.Cs=function(b){var X=this.BY.indexOf(b.currentTarget);
if(this.YT){clearTimeout(this.YT);this.YT=null}if(this.jh[X]==null)return;this.op=X;this.YT=setTimeout(this.xuI,300)};
Uo.prototype.xHY=function(b){var X=this.BY.indexOf(b.currentTarget);if(this.YT){clearTimeout(this.YT);
this.YT=null}};Uo.prototype.xra=function(){if(this.YT){clearTimeout(this.YT);this.YT=null}var b=this.op;
if(this.yk)this.yk.xPK();this.yk=this.jh[b];var X=this.BY[b].getBoundingClientRect(),q=new Q(K.E.T,!0);
q.data={V:K.a.Vj,SU:this.jh[b],x:X.left+X.width+2,y:X.top};this.X(q)};Uo.prototype.xPK=function(){for(var b=0;
b<this.jh.length;b++)if(this.jh[b])this.jh[b].xPK();var X=new Q(K.E.T,!0);X.data={V:K.a.Sj,SU:this};
this.X(X)};Uo.prototype.xHO=function(b){var X=this.jh.indexOf(b.target);this.ox=[X].concat(b.target.FO());
this.X(new Q("select",!1))};function xW(b,X,q,N,J,_,p,z){na.call(this);this.U=K.m("span","fitem");var g=K.SX();
this.EU=b;this.eb=z;this.Ju=X;this.zO=q;this.oU=null;if(N instanceof Array){this.oU=N;N=N[0]}this.eS=N;
this.CB=J;this.xuJ=_;this.eC=p;this.Nn=0;this.IM=K.m("label","flabel");this.IM.innerHTML=b;this.IM.setAttribute("style","cursor:col-resize;");
this.gX=K.m("input","");this.gX.setAttribute("type","range");if(p){this.gX.min=0;this.gX.max=400}else{this.gX.min=X;
this.gX.max=q;if(J!=0)this.gX.step=(q-X)/200}this.wP=K.m("input","");this.wP.setAttribute("type","text");
this.wP.setAttribute("id",g);this.We=K.m("span","");this.We.innerHTML=N;this.wP.addEventListener("change",this.$A.bind(this),!1);
this.wP.addEventListener("keydown",this.Cy.bind(this),!1);this.wP.addEventListener("wheel",this.rA.bind(this),!1);
this.gX.addEventListener("input",this.$A.bind(this),!1);this.gX.addEventListener("click",this.xHV.bind(this),!1);
this.xuX=this.xEx.bind(this);this.xEw=this.xEn.bind(this);this.xwW=this.xEE.bind(this);this.ev=0;this.eR=0;
this.oB=!1;K.mU(this.IM,this.xuX)}xW.prototype=new na;xW.prototype.xgs=function(b){this.CB=b};xW.prototype.vQ=function(b){this.IM.textContent=b};
xW.prototype.f=function(){var b=this.EU,X=this.eb;if(b){if(typeof b=="string"&&b.startsWith("<"))this.IM.innerHTML=b;
else this.IM.textContent=xA.get(b)+":"}if(X){X=xA.get(X);if(b)this.IM.setAttribute("title",X);this.wP.setAttribute("title",X)}};
xW.prototype.S=function(b){var X=this.Ju==this.zO;if(!X&&this.Ju>=0)b=Math.max(this.Ju,b);if(this.CB==0)b=Math.round(b);
var q=this.eS;this.wP.value=(this.CB!=0?b.toFixed(this.CB):b)+(this.xuJ&&q?(q.toLowerCase()==q.toUpperCase()?"":" ")+q:"");
var N=400*Math.pow((b-this.Ju)/(this.zO-this.Ju),1/2.7);this.gX.value=this.eC?N:b};xW.prototype.N=function(){return parseFloat(this.wP.value)};
xW.prototype.WT=function(){return this.eS};xW.prototype.$A=function(b){var X=0;if(b.currentTarget==this.wP){var q=b.target.value,N=0;
while(N<q.length&&(q.charAt(N)=="."||48<=q.charCodeAt(N)&&q.charCodeAt(N)<=57))N++;X=q==""?0:parseFloat(q);
var J=q.slice(N).trim();if(this.oU&&this.oU.indexOf(J)!=-1)this.eS=J}else{if(Date.now()-this.Nn<10)return;
X=parseFloat(b.target.value);if(this.eC)X=this.Ju+Math.pow(X/400,2.7)*(this.zO-this.Ju)}this.S(X);this.wr()};
xW.prototype.wr=function(){this.X(new Q(K.E.$))};xW.prototype.Cy=function(b){var X=0;if(S.In(b.code,S.n_))X=1;
if(S.In(b.code,S.nq))X=-1;if(X!=0)this.xgy(X,b.shiftKey)};xW.prototype.rA=function(b){this.xgy(b.deltaY>0?-1:1,b.shiftKey)};
xW.prototype.xgy=function(b,X){var q=this.N(),N=this.CB,J=b*(N==null||N==0||q>5?1:.1);if(X)J*=10;var _=q+J;
if(!this.eC&&this.zO!=this.Ju)_=Math.min(this.zO,_);this.S(_);this.wr()};xW.prototype.xHV=function(b){var X=Date.now()-this.Nn;
this.Nn=Date.now();if(X>300)return;var q=(this.zO+this.Ju)/2;if(this.Ju<0&&this.zO>0)q=0;else if(this.Ju<1&&this.zO>1&&this.zO<10)q=1;
this.S(q);this.wr()};xW.prototype.xEx=function(b){K.YZ(document,this.xEw);K.Lx(document,this.xwW);this.ev=K.HW(b,document.body).x;
this.eR=this.N()};xW.prototype.xEn=function(b){b.stopPropagation();b.preventDefault();var X=this.Ju==this.zO,q=K.HW(b,document.body).x,N=(q-this.ev)*(X?1:1/120*(this.zO-this.Ju)),J=this.eR+N;
if(X)J=Math.round(J);if(!X){if(!0){J=Math.max(this.Ju,J);if(J==this.Ju){this.ev=q;this.eR=this.Ju}}if(!this.eC){J=Math.min(this.zO,J);
if(J==this.zO){this.ev=q;this.eR=this.zO}}}this.oB=!0;this.S(J);this.wr()};xW.prototype.xEE=function(b){if(!this.oB)this.wP.focus();
this.oB=!1;K.dW(document,this.xEw);K.d$(document,this.xwW)};function xe(b,X){na.call(this);this.pS=[];
this.Ru=-1;this.xuG=b;this.Cq=X;this.oE=0;this.mQ=null;if(X!=null){this.uN=new Uo([{name:[6,37]},{name:[5,4]}]);
this.uN.parent=this;this.uN.l("select",this.TQ,this)}this.U=K.m("div","imageset scrollable");this.U.addEventListener("contextmenu",K.FX,!1)}xe.prototype=new na;
xe.prototype.f=function(){if(this.uN)this.uN.f()};xe.prototype.TQ=function(b){var X=this.uN.FO()[0],q=new Q(K.E.T,!0),N={V:K.a.dX,Zy:this.Cq,Bl:[this.Ru]};
if(X==0){var J=this.mQ[1][this.Ru];N.RW="rnm";q.data={V:K.a.Ko,zE:"namewindow",Yg:J,xwI:{v:K.E.T,R:N}}}else{q.data=N;
N.RW="del"}this.X(q)};xe.prototype.xEM=function(){return this.oE};xe.prototype.uU=function(b){this.oE=b;
if(this.mQ)this.Bd()};xe.prototype.Ia=function(b,X,q,N){this.mQ=[b,X,q,N];this.Bd()};xe.prototype.Bd=function(){var b=this.mQ,X=b[0],q=b[1],N=b[2],J=b[3];
this.pS=[];this.U.innerHTML="";var _=this.uK.bind(this),p=this.oE;if(p==0)K.Dv(this.U,"imageset");else K.YQ(this.U,"imageset");
for(var z=0;z<X.length;z++){var g=X[z];if(g==null){this.pS.push(null);continue}var W=K.m("img","image");
if(N)K.IX(W,N,J);if(this.xuG)K.Dv(W,"gsicon");W.setAttribute("src",g);if(p==0){}else{var o=K.m("div","listitem");
o.appendChild(W);var y=K.m("span");y.textContent=q?q[z]:"Item "+(z+1);y.setAttribute("style","margin-left:4px;");
o.appendChild(y);W=o}if(q)W.setAttribute("title",q[z]);W.addEventListener("mousedown",_,!1);this.pS.push(W);
this.U.appendChild(W)}};xe.prototype.uK=function(b){this.Ru=this.pS.indexOf(b.currentTarget);if(b.button==0)this.X(new Q(K.E.$));
if(b.button==2&&this.uN){var X=this.uN;X.update(null);var q=K.HW(b,document.body),N=new Q(K.E.T,!0);
N.data={V:K.a.Vj,SU:X,x:q.x,y:q.y+2};this.X(N)}};xe.prototype.N=function(){return this.Ru};xe.prototype.S=function(b){this.Ru=b};
xe.prototype.xr=function(b){for(var X=0;X<this.pS.length;X++){var q=this.pS[X];if(q==null)continue;if(X==b)K.Dv(q,"active");
else K.YQ(q,"active")}};function _j(b,X,q,N,J,_,p){na.call(this);this.U=K.m("span","fitem "+q);this.aU=new na;
this.aU.U=K.m("div","floatcont");this.aU.U.setAttribute("style","width: "+(N+1.5)+"em;");this.aU.parent=this;
this.oQ=K.m("div");this.aU.U.appendChild(this.oQ);this.Ni=K.m("div");this.aU.U.appendChild(this.Ni);
if(b){this.EU=b;this.IM=K.m("label","flabel");this.U.appendChild(this.IM)}this.V=K.m("button",p?"nopadding":"");
this.V.setAttribute("style","position:relative;");this.V.addEventListener("click",(X?this.vp:this.eL).bind(this),!1);
this.U.appendChild(this.V);this.oh=K.m("img",p?"gsicon":"");this.V.appendChild(this.oh);if(X){var z=K.m("button");
z.textContent="\u25BC";z.addEventListener("click",this.eL.bind(this),!1);this.U.appendChild(z)}else{var g=K.m("span");
g.textContent="\u25BC";g.setAttribute("style","position:absolute;  bottom:2px;  right:4px;");this.V.appendChild(g)}var W=K.m("span");
this.Ni.appendChild(W);W.setAttribute("style","display:inline-block;  vertical-align:top; width:"+N+"em;");
this.gS=new xe(p,_);W.appendChild(this.gS.U);this.gS.parent=this.aU;this.gS.l(K.E.$,this.xEi,this);this.gS.U.style.height=J+"em";
this.ez=K.m("button");this.ez.textContent="\u25BC";this.ez.setAttribute("style","padding:3px");this.ez.addEventListener("click",this.xEC.bind(this),!1);
this.Ni.appendChild(this.ez);var o=this.vA(),y=_!=n_.wg&&_!=n_.Dq?_:null,D=_==null?"":n_.Ro[_][0].toUpperCase(),m=y?[{name:[12,87]}]:[];
m=m.concat([{name:"",O:function(O){return{hR:xA.get([25,3,0])+" / "+xA.get([25,3,1])}}},{name:[23,6,"."+(D=="ICC"?"icc .cube .look .3dl":D)]},{name:"",O:function(O){return{hR:xA.get([1,8])+" ."+D}},xy:o.length!=0}]);
for(var k=0;k<o.length;k++)m.push({name:o[k].split("/").pop()});this.uN=new Uo(m);this.uN.parent=this.aU;
this.uN.l("select",this.TQ,this);this.Cq=_;this.xws=y;this.iK=null;this.DF=!0;this.Xx=null}_j.prototype=new na;
_j.prototype.vA=function(){return[]};_j.prototype.xEi=function(b){this.xp(b);this.gS.xr(this.gS.N())};
_j.prototype.vp=function(){};_j.prototype.f=function(){this.uN.f();this.gS.f();var b=this.EU;if(b)this.IM.textContent=xA.get(b)+":"};
_j.prototype.vQ=function(b){this.IM.textContent=b};_j.prototype.pz=function(b){var X=this.Cq,q=0;if(X==n_.Dk){q=this.iK?this.iK.length:0;
b=b.slice(0)}this.iK=b;this.DF=!0;if(K.OH(this.gS.U)||X==n_.Fg)this.tK();if(X==n_.Dk&&b.length-q==1&&K.OH(this.U)){this.S(b[q]);
this.DF=!0;this.tK();this.gS.xr(q);this.X(new Q(K.E.$))}};_j.prototype.TQ=function(b){var X=b.target.FO()[0];
if(this.xws==null)X++;var q=new Q(K.E.T,!0);if(X==0){var N=this.GD();if(this.Cq==n_.Dk&&N[0].profile==null)return;
q.data={V:K.a.dX,RW:"add",Zy:this.xws,gR:N}}else if(X==1)this.gS.uU(1-this.gS.xEM());else if(X==2)q.data={V:K.a.Zw};
else if(X==3)q.data={V:K.a.CD,xaU:this.Cq};else{var J=this.vA();q.data={V:K.a.Gx,Zy:{url:"rsrc/"+J[X-4]}}}if(q.data)this.X(q)};
_j.prototype.GD=function(){return[this.N()]};_j.prototype.xEC=function(b){var X=this.uN;X.f();X.update(null);
var q=b.currentTarget.getBoundingClientRect(),N=new Q(K.E.T,!0);N.data={V:K.a.Vj,SU:X,x:q.left,y:q.top+q.height};
this.X(N)};_j.prototype.eL=function(b){this.tK();var X=this.V.getBoundingClientRect(),q=new Q(K.E.T,!0);
q.data={V:K.a.Vj,SU:this.aU,x:X.left,y:X.top+X.height,xPP:!0};this.X(q)};function Sn(){na.call(this);
this.U=K.m("div");this.Ji=!1;this.Ub=[new xU([12,19,1],[[13,1,7]].concat(nY.Nq)),new pT([17,1]),new pT([12,46])];
for(var b=0;b<3;b++){var X=this.Ub[b];this.U.appendChild(X.U);X.l(K.E.$,this.Ij,this)}this.f()}Sn.prototype=new na;
Sn.prototype.f=function(){for(var b=0;b<3;b++)this.Ub[b].f()};Sn.prototype.N=function(){return this.Ji.slice(0)};
Sn.prototype.S=function(b){this.Ji=b.slice(0);var X=this.Ub,q=X[0].N();X[1].S(b.slice(q*8,q*8+4),q);
X[2].S(b.slice(q*8+4,q*8+8),q)};Sn.prototype.Ij=function(b){var X=this.Ub,q=X.indexOf(b.currentTarget);
if(q==0)this.S(this.Ji);else{var N=X[0].N()*8+(q==1?0:4),J=X[q].N();for(var _=0;_<4;_++)this.Ji[N+_]=J[_];
this.X(new Q(K.E.$,!1))}};function pT(b){na.call(this);this.U=K.m("div");this.wZ=K.m("canvas");this.xuo=b;
this.Ji=[0,20,200,255];this.Hw=0;this.xMw=-1;this.xPE=!1;this.xig=[];for(var X=0;X<5;X++){var q=K.m("span");
q.setAttribute("style","display:inline-block;width:"+(X==0?8:X==2?7:2)+"em");this.xig.push(q);this.U.appendChild(q)}this.BD=this.oL.bind(this);
this.xt=this.YF.bind(this);this.xG=this.QB.bind(this);K.mU(this.wZ,this.BD);this.U.appendChild(this.wZ);
this.Bd()}pT.prototype=new na;pT.prototype.f=function(){this.Bd()};pT.prototype.S=function(b,X){this.Ji=b;
this.Hw=X;this.Bd()};pT.prototype.N=function(){return this.Ji.slice(0)};pT.prototype.oL=function(b){var X=this.Ji,q=K.HW(b,this.wZ),N=q.x-8,J=-1,_=1e9;
for(var p=0;p<4;p++){var z=N-X[p],g=Math.abs(z);if(g<8&&g<_&&((p&1)==0&&z<0||(p&1)==1&&z>0)){_=z;J=p}}if(J==-1)return;
this.xMw=J;this.ou=b.altKey||X[(J>>>1)*2]!=X[(J>>>1)*2+1];K.YZ(window,this.xt);K.Lx(window,this.xG)};
pT.prototype.YF=function(b){var X=this.Ji,q=this.xMw,N=(q>>>1)*2,J=N+1,_=K.HW(b,this.wZ),p=Math.round(Math.max(0,Math.min(255,_.x-8)));
X[q]=p;if(this.ou&&X[N]>=X[J])this.ou=!1;if(!this.ou)X[N]=X[J]=p;this.Bd();this.X(new Q(K.E.$,!1))};
pT.prototype.QB=function(b){K.dW(window,this.xt);K.d$(window,this.xG)};pT.prototype.Bd=function(){var b=this.wZ;
K.Ss(b,255+16,16);var X=b.getContext("2d"),q=b.width,N=b.height,J=Math.round(255*K.u()),_=Math.round(8*K.u());
X.translate(_,0);var p=X.createLinearGradient(0,0,J,0);p.addColorStop(0,"black");p.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.Hw]);
X.fillStyle=p;X.fillRect(0,0,J,_);var z=this.xig,g=xA.get(this.xuo)+":";z[0].textContent=g;for(var W=0;
W<4;W++){var o=this.Ji[W];z[1+W].textContent=o;var y=Math.round(o*K.u());X.beginPath();X.moveTo(y,_);
X.lineTo(y,_+_);X.lineTo(y+((W&1)==0?-1:1)*_,_+_);X.closePath();X.fillStyle="#cccccc";X.fill();X.strokeStyle="black";
X.stroke()}};function bl(b){na.call(this);this.KK=0;this.alt=0;var X="ai"+K.SX();this.U=K.m("span","fitem angleinput");
if(b){this.IM=K.m("label","flabel");this.EU=b;this.U.appendChild(this.IM);this.IM.setAttribute("for",X)}this.fW=20;
this.ze=K.m("canvas","gsicon");this.aK=this.ze.getContext("2d");K.Ss(this.ze,this.fW*2+1,this.fW*2+1,this.aK);
this.U.appendChild(this.ze);K.mU(this.ze,this.Za.bind(this));this.ug=this.BG.bind(this);this.ub=this.xx.bind(this);
this.wP=K.m("input","");this.wP.setAttribute("type","text");this.U.appendChild(this.wP);this.wP.setAttribute("id",X);
this.wP.addEventListener("change",this.$A.bind(this),!1);this.We=K.m("span","");this.We.innerHTML="\xB0";
this.U.appendChild(this.We);this.S(this.KK,this.alt)}bl.prototype=new na;bl.prototype.f=function(){this.IM.textContent=xA.get(this.EU)+":"};
bl.prototype.vQ=function(b){this.IM.textContent=b};bl.prototype.N=function(){return{KK:this.KK,alt:this.alt}};
bl.prototype.S=function(b,X){if(b!=null)this.KK=b;if(X!=null)this.alt=X;this.wP.value=this.KK;b=Math.PI*this.KK/180;
X=.9*this.fW*(90-this.alt)/90;var q=this.fW+.5,N=this.aK;N.clearRect(0,0,100,100);N.strokeStyle="#000000";
N.beginPath();N.arc(q,q,.9*this.fW,0,2*Math.PI);N.moveTo(q,q);N.lineTo(q+Math.cos(b)*this.fW*.9,q-Math.sin(b)*this.fW*.9);
N.stroke();N.strokeStyle="#ff0000";N.beginPath();N.moveTo(q+Math.cos(b)*X-3,q-Math.sin(b)*X);N.lineTo(q+Math.cos(b)*X+3,q-Math.sin(b)*X);
N.moveTo(q+Math.cos(b)*X,q-Math.sin(b)*X-3);N.lineTo(q+Math.cos(b)*X,q-Math.sin(b)*X+3);N.stroke()};
bl.prototype.$A=function(b){var X=parseInt(this.wP.value);X=X%360;this.S(X);this.X(new Q(K.E.$,!1))};
bl.prototype.Za=function(b){K.YZ(window,this.ug);K.Lx(window,this.ub);this.BG(b)};bl.prototype.BG=function(b){var X=K.HW(b,this.ze),q=X.x-this.fW,N=X.y-this.fW,J=180*Math.atan2(-N,q)/Math.PI,_=90-90*Math.min(1,Math.sqrt(q*q+N*N)/(.9*this.fW));
this.S(Math.round(J),Math.round(_));this.X(new Q(K.E.$,!1))};bl.prototype.xx=function(b){this.X(new Q(K.E.$,!1));
K.dW(window,this.ug);K.d$(window,this.ub)};function Uy(b,X){na.call(this);this.Ji=0;this.wK=X;this.U=K.m("span","fitem angleinput");
if(b){this.IM=K.m("label","flabel");this.EU=b;this.U.appendChild(this.IM)}this.ze=K.m("canvas","gsicon");
this.aK=this.ze.getContext("2d");K.Ss(this.ze,X,X);this.U.appendChild(this.ze);K.mU(this.ze,this.Za.bind(this));
this.ug=this.BG.bind(this);this.ub=this.xx.bind(this);this.S(0)}Uy.prototype=new na;Uy.prototype.f=function(){if(this.EU)this.IM.textContent=xA.get(this.EU)+":"};
Uy.prototype.vQ=function(b){this.IM.textContent=b};Uy.prototype.N=function(){return this.Ji};Uy.prototype.S=function(b){this.Ji=b;
var X=this.ze.width,q=Math.floor(b/3),N=b-3*q,J=(N+.5)*X/3,_=(q+.5)*X/3,p=this.aK,z=[.5,Math.round(X/3)+.5,Math.round(2*X/3)+.5,X-.5];
p.clearRect(0,0,X,X);var g=this.wK<30;p.setLineDash([]);p.strokeStyle=g?"rgba(0,0,0,0.5)":"#000000";
p.beginPath();for(var W=0;W<4;W++){var o=z[W];p.moveTo(o,0);p.lineTo(o,X);p.moveTo(0,o);p.lineTo(X,o)}p.stroke();
if(b==9)return;if(!g){p.setLineDash([1,2]);var y=X*.53,D=Math.max(0,Math.min(X-y,J-y/2)),m=Math.max(0,Math.min(X-y,_-y/2));
p.strokeRect(Math.round(D)+.5,Math.round(m)+.5,Math.round(y),Math.round(y))}p.fillStyle="#000000";p.beginPath();
p.arc(J,_,X/8,0,Math.PI*2);p.fill()};Uy.prototype.Za=function(b){K.YZ(window,this.ug);K.Lx(window,this.ub);
this.BG(b)};Uy.prototype.BG=function(b){var X=K.HW(b,this.ze),q=Math.max(0,Math.min(2,Math.floor(X.x/(this.wK/3)))),N=Math.max(0,Math.min(2,Math.floor(X.y/(this.wK/3))));
this.S(N*3+q)};Uy.prototype.xx=function(b){this.X(new Q(K.E.$,!1));K.dW(window,this.ug);K.d$(window,this.ub)};
function nl(b,X,q,N){na.call(this);this.U=K.m("button","fitem"+(X?" spread":"")+(N?" bbtn":""));this.EU=b;
this.eb=q;this.f();this.U.addEventListener("click",this.uK.bind(this),!1)}nl.prototype=new na;nl.prototype.f=function(){var b=this.U,X=this.EU,q=this.eb,N=xA.get(X);
b.innerHTML=N;if(N.startsWith("<img"))b.setAttribute("style","padding:2px");if(q){b.setAttribute("title",xA.get(q))}};
nl.prototype.xLX=function(b){this.U.setAttribute("title",b)};nl.prototype.uK=function(b){this.X(new Q("click",!1))};
nl.prototype.TU=function(){K.Dv(this.U,"bactive")};nl.prototype.Gh=function(){K.YQ(this.U,"bactive")};
nl.prototype.vQ=function(b,X){if(b)this.EU=b;if(X)this.eb=X;this.f()};nl.prototype.S=function(b){if(b)this.TU();
else this.Gh()};nl.prototype.zF=function(){return this.U.getAttribute("class").indexOf("bactive")!=-1};
nl.prototype.N=function(){return this.zF()};function Us(b){na.call(this);this.U=K.m("span","fitem cswatch");
this.xvl=0;this.NR=[];this.aq=[];var X=this.xEv.bind(this);for(var q=0;q<b;q++){this.NR.push(0);var N=K.m("span","colorsample");
N.addEventListener("click",X,!1);this.aq.push(N);this.U.appendChild(N)}var J=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],_=Math.min(b,J.length);
for(var q=0;q<_;q++)this.NR[q]=J[q];this.XX()}Us.prototype=new na;Us.prototype.xEv=function(b){this.xvl=this.aq.indexOf(b.currentTarget);
this.X(new Q(K.E.$))};Us.prototype.N=function(){return this.NR[this.xvl]};Us.prototype.S=function(b){var X=this.NR,q=X.indexOf(b);
if(q!=-1)X.splice(q,1);else X.pop();X.unshift(b);this.XX()};Us.prototype.XX=function(){for(var b=0;b<this.NR.length;
b++){this.aq[b].setAttribute("style","background-color:#"+x.a_(this.NR[b]))}};function bh(b){na.call(this);
this.oX=!1;this.RV={D:0,q:0,b:0};this.gc=b;this.U=K.m("span","fitem colorsample");this.U.addEventListener("click",this.uK.bind(this),!1)}bh.prototype=new na;
bh.prototype.f=function(){};bh.prototype.xpE=function(b){if(this.oX==b)return;this.oX=b;this.vn()};bh.prototype.uK=function(b){var X=this.RV;
this.X(new Q("click"));var q=new Q(K.E.T,!0);q.data={V:K.a.Ko,zE:"colorpicker",tY:X.D<<16|X.q<<8|X.b,VY:this.GG.bind(this),oo:this.gc};
this.X(q)};bh.prototype.GG=function(b){this.Tl(b);this.X(new Q(K.E.$))};bh.prototype.xEW=function(){this.uK(null)};
bh.prototype.vU=function(){var b=this.RV;return b.D<<16|b.q<<8|b.b};bh.prototype.N=function(){return x.Z.Yr(this.RV)};
bh.prototype.Tl=function(b){this.RV={D:b>>16&255,q:b>>8&255,b:b&255};this.vn()};bh.prototype.S=function(b){this.RV=x.Z.vx(b);
this.vn()};bh.prototype.vn=function(){var b=this.RV,X=b.D,q=b.q,N=b.b;if(this.oX)X=q=N=Math.round(x.tW(X,q,N));
var J=X<<16|q<<8|N;this.U.setAttribute("style","background-color:#"+x.a_(J))};function bX(b){_j.call(this,b,!1,"brushbutton nopadding",16.6,10,n_.lZ,!0);
this.Ch=new nt([12,14,0],1,1e3," px",0,!0);this.Ch.l(K.E.$,this.xnv,this);this.oQ.appendChild(this.Ch.U);
this.b_=new nt([12,17],0,100,"%");this.b_.l(K.E.$,this.xnv,this);this.oQ.appendChild(this.b_.U)}bX.prototype=new _j;
bX.prototype.eL=function(b){var X=this.U.getBoundingClientRect();this.xUd(X.left,X.top+X.height)};bX.prototype.xUd=function(b,X){this.tK();
var q=new Q(K.E.T,!0);q.data={V:K.a.Vj,SU:this.aU,x:b,y:X};this.X(q)};bX.prototype.S=function(b,X,q){this.Xx=JSON.parse(JSON.stringify(b));
var N=Math.floor(20*K.u()),J=Math.floor(36*K.u()),_=Math.floor(24*K.u()),p=xa.FY(b,X,q,N,_,J);this.oh.setAttribute("src",p);
K.IX(this.oh,J,_);var z=b.Brsh.v;this.Ch.S(z.Dmtr.v.val);if(z.Hrdn!=null){this.b_.Ic();this.b_.S(z.Hrdn.v.val)}else this.b_.Sb();
this.gS.xr(-1)};bX.prototype.GD=function(){return{list:[{t:"Objc",v:this.N()}],Ho:[],Oh:[]}};bX.prototype.N=function(){return this.Xx};
bX.prototype.tK=function(){if(!this.DF)return;var b=[],X=[],q=this.iK,N=Math.floor(33*K.u()),J=Math.floor(40*K.u());
for(var _=0;_<q.list.length;_++){var p=q.list[_].v,z=xa.FY(p,q.Ho,q.Oh,N,J);b.push(z);X.push(p.Nm.v.split("=").pop())}this.gS.Ia(b,X,N,J);
this.DF=!1};bX.prototype.xp=function(b){var X=this.iK;this.S(X.list[this.gS.N()].v,X.Ho,X.Oh);this.X(new Q(K.E.$))};
bX.prototype.f=function(){_j.prototype.f.call(this);this.Ch.f();this.b_.f()};bX.prototype.xnv=function(b){var X=this.iK,q=this.Xx;
q.Brsh.v.Dmtr.v.val=this.Ch.N();if(q.Brsh.v.Hrdn!=null)q.Brsh.v.Hrdn.v.val=this.b_.N();this.S(q,X.Ho,X.Oh);
this.X(new Q(K.E.$))};function KK(b){_j.call(this,b,!0,"contourbutton",17,10.5,n_.py)}KK.prototype=new _j;
KK.prototype.xp=function(b){this.S(this.iK[b.target.N()]);this.X(new Q(K.E.$))};KK.prototype.vp=function(b){var X=new Q(K.E.T,!0);
X.data={V:K.a.Ko,zE:"contoureditor",L:this.Xx,response:this.xEu.bind(this)};this.X(X)};KK.prototype.xEu=function(b){this.S(b);
this.X(new Q(K.E.$))};KK.prototype.tK=function(){if(!this.DF)return;var b=Math.floor(38*K.u()),X=Math.floor(38*K.u()),q=[],N=[],J=this.iK;
for(var _=0;_<J.length;_++){N.push(J[_].Nm?J[_].Nm.v:"");q.push(x.BJ.FY(J[_].Crv.v,b,X))}this.gS.Ia(q,N,b,X);
this.DF=!1};KK.prototype.S=function(b){this.Xx=JSON.parse(JSON.stringify(b));var X=this.Xx.Crv.v;for(var q=0;
q<X.length;q++)if(X[q].v.Cnty==null)X[q].v.Cnty={t:"bool",v:!0};this.Tw()};KK.prototype.Tw=function(){var b=Math.floor(30*K.u()),X=Math.floor(30*K.u()),q=x.BJ.FY(this.Xx.Crv.v,b,X);
this.oh.setAttribute("src",q);K.IX(this.oh,b,X)};KK.prototype.N=function(){return JSON.parse(JSON.stringify(this.Xx))};
function _m(b){na.call(this);this.Nd=null;this.Ka=null;this.Fw=null;this.eX=null;this.xvV=[];this.xRT=[];
this.U=K.m("span","fitem fillbutton");this.aU=new na;this.aU.U=K.m("div","floatcont form");this.aU.U.setAttribute("style","width: 21em;");
this.aU.parent=this;this.UM=b;this.IM=this.IM=K.m("label","flabel");this.U.appendChild(this.IM);this.ze=K.m("canvas");
this.aK=this.ze.getContext("2d");this.xFi=null;this.U.appendChild(this.ze);this.ze.addEventListener("click",this.eL.bind(this),!1);
this.nC=new _t([12,66],["","Color","Grad","Patt"]);this.aU.U.appendChild(this.nC.U);this.nC.l(K.E.$,this.Ij,this);
this.aU.U.appendChild(K.m("hr"));this.xum=K.m("span");this.nV=new bh(!0);this.nV.parent=this.aU;this.nV.l(K.E.$,this.Ij,this);
this.eo=new Us(10);this.eo.l(K.E.$,this.Ij,this);this.bS=K.m("div","marged hiline");this.bS.appendChild(this.nV.U);
K.Kc(this.bS);this.bS.appendChild(this.eo.U);this.Qo=new _O("GrFl",!0);this.Qo.parent=this.aU;this.Qo.l(K.E.$,this.Ij,this);
this.CE=K.m("div","marged hiline");var X="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var q=0;
q<X.length;q++){var N=this.Qo.Dd[X[q]].U;this.CE.appendChild(N)}this.li=new _O("patternFill",!0);this.li.parent=this.aU;
this.li.l(K.E.$,this.Ij,this);this.Ci=K.m("div","marged hiline");var X=["Ptrn","Scl","Algn","phase"];
for(var q=0;q<X.length;q++){var N=this.li.Dd[X[q]].U;this.Ci.appendChild(N)}}_m.prototype=new na;_m.prototype.TY=function(b,X){if(X==n_.DS){this.xvV=[];
this.xRT=[];if(this.Nd)this.S(this.Fw,this.N(),this.Nd)}this.Ka=b;this.Qo.TY(b,X);this.li.TY(b,X)};_m.prototype.f=function(){this.IM.textContent=xA.get(this.UM)+": ";
this.nC.f();this.nV.f();this.Qo.f();this.li.f()};_m.prototype.Ij=function(b){var X=b.currentTarget;if(X==this.nC){var q=this.nC.N(),N={Rk:q,G$:this.Nd[q]};
if(q>0&&N.G$==null)N.G$=JSON.parse(JSON.stringify(UZ.ex[q-1]));if(this.Nd)this.S(this.Fw,N,this.Nd)}if(X==this.eo)this.nV.Tl(X.N());
this.X(new Q(K.E.$,!1))};_m.prototype.eL=function(b){var X=this.ze.getBoundingClientRect(),q=new Q(K.E.T,!0);
q.data={V:K.a.Vj,SU:this.aU,x:X.left,y:X.top+X.height+4};this.X(q);this.eo.S(this.nV.vU())};_m.prototype.S=function(b,X,q){this.Nd=q;
this.Fw=b;var N=[[13,1,0],[13,0],[12,37],[12,62]],J=this.xvV,_=this.xRT,p=!1,y;for(var z=0;z<4;z++){var g={Rk:z,G$:q[z]},W=_m.xSw(g);
if(_[z]==W)continue;p=!0;var o=_m.xSQ(null,g,this.Ka,this.Fw,22,22,!1);J[z]="<img width=\"22\" height=\"22\" src=\""+o+"\" />";
_[z]=W}if(p)this.nC.th(J,N);this.nC.S(X.Rk);var W=_m.xSw(X);if(W!=this.xFi)_m.xSQ(this.aK,X,this.Ka,this.Fw,30,23,!0);
this.xFi=W;var D=X.Rk;if(D==0){y=this.xum}if(D==1){this.nV.S(X.G$.Clr.v);y=this.bS}if(D==2){this.Qo.update(b,X.G$);
y=this.CE}if(D==3){this.li.update(b,X.G$);y=this.Ci}if(y!=this.eX){if(this.eX!=null){this.aU.U.removeChild(this.eX)}this.aU.U.appendChild(y);
this.eX=y}};_m.prototype.N=function(){var b={Rk:this.nC.N()};if(b.Rk==1){b.G$=JSON.parse(JSON.stringify(UZ.ex[0]));
b.G$.Clr.v=this.nV.N()}if(b.Rk==2){b.G$=this.Qo.N()}if(b.Rk==3){b.G$=this.li.N()}return b};_m.xSw=function(b){var X=b.Rk,q=b.G$,N="empty";
if(X==1){N=x.Z.vx(q.Clr.v);N=N.D+","+N.q+","+N.b}if(X==2)N=JSON.stringify(q.Grad.v);if(X==3)N=q.Ptrn.v.Idnt.v;
return N};_m.xSQ=function(b,X,q,N,J,_,p){if(b==null)b=_m.aK;var z=Math.floor(J*K.u()),g=Math.floor(_*K.u()),W=b.canvas,o;
W.width=z;W.height=g;K.IX(W,z,g);var y=X.Rk;if(y==0){b.fillStyle="#ffffff";b.fillRect(0,0,z,g);b.strokeStyle="#ff0000";
b.lineWidth=2;b.moveTo(0,0);b.lineTo(z,g);b.moveTo(0,g);b.lineTo(z,0);b.stroke()}if(y==1){var D=X.G$.Clr.v;
D=x.Z.vx(D);b.fillStyle="#"+x.a_(D.D<<16|D.q<<8|D.b);b.fillRect(0,0,z,g)}if(y==2){c.Wq.FY(X.G$.Grad.v,z,g,0,q.pp,q.HO,W)}if(y==3){var m=X.G$.Ptrn.v,k;
if(N!=null)k=nM.uY(m,N.add.Patt);if(k==null)k=nM.uY(m,q.yV);gX.FY(k,z,g,W)}if(p){b.beginPath();b.strokeStyle="#000000";
b.fillStyle="#ffffff";b.lineWidth=2;var O=z*.7,L=Math.floor(g*.7),I=7*K.u();b.moveTo(O,L);b.lineTo(O+I,L);
b.lineTo(O+I/2,L+I/2);b.closePath();b.stroke();b.fill()}if(b==_m.aK)return W.toDataURL()};_m.aK=K.m("canvas").getContext("2d");
function gX(b){_j.call(this,b,!1,"patternbutton",18,10,n_.DS);this.oc=null}gX.prototype=new _j;gX.prototype.xp=function(b){var X=this.iK[this.gS.N()];
this.Xx={classID:"Ptrn",Nm:{t:"TEXT",v:X.name},Idnt:{t:"TEXT",v:X.id}};this.X(new Q(K.E.$));this.Tw()};
gX.rp=!1;gX.prototype.tK=function(){if(!this.DF)return;var b=this.iK;if(b==null||!gX.rp){var X=new Q(K.E.T,!0);
X.data={V:K.a.Gx,Zy:{url:"rsrc/basic/basic.pat"}};this.X(X);gX.rp=!0;return}var q=Math.floor(34*K.u()),N=Math.floor(34*K.u()),J=[],_=[];
for(var p=0;p<b.length;p++){J.push(gX.FY(b[p],q,N));_.push(b[p].name)}this.gS.Ia(J,_,q,N);this.DF=!1};
gX.prototype.S=function(b,X){if(this.Xx&&b.Idnt.v==this.Xx.Idnt.v)return;this.Xx=JSON.parse(JSON.stringify(b));
this.Tw(X)};gX.prototype.N=function(){return JSON.parse(JSON.stringify(this.Xx))};gX.prototype.GD=function(){return this.oc?[this.oc]:[]};
gX.prototype.Tw=function(b){var X=Math.floor(50*K.u()),q=Math.floor(50*K.u()),N;if(b!=null)N=nM.uY(this.Xx,b.add.Patt);
if(N==null)N=nM.uY(this.Xx,this.iK);this.oc=N;var J=gX.FY(N,X,q);this.oh.setAttribute("src",J);K.IX(this.oh,X,q)};
gX.wZ=K.m("canvas","");gX.FY=function(b,X,q,N){if(N==null)N=gX.wZ;var J=N.getContext("2d");N.width=X;
N.height=q;if(b){var _=b.h.n,p=b.h.z,z=b.Dl,g=Math.min(X/_,q/p),W=g;if(W*_<2)W=2/_;var o=g;if(o*p<2)o=2/p;
var y=c.C.wx([z,b.h],new nQ(W,0,0,o,0,0),!1),D=y.rect.n,m=y.rect.z,k=J.createImageData(D,m);x.vM(y.buffer,k.data);
J.putImageData(k,Math.floor((X-D)/2),Math.floor((q-m)/2))}return N.toDataURL()};function bo(b){_j.call(this,b,!1,"patternbutton",24.2,17,n_.wg);
this.VI=""}bo.prototype=new _j;bo.prototype.xp=function(b){this.Xx=JSON.parse(JSON.stringify(this.iK[0][this.gS.N()]));
this.X(new Q(K.E.$))};bo.prototype.tK=function(){var b=this.iK;if(b==null||!this.DF)return;var X=Math.floor(50*K.u()),q=Math.floor(50*K.u()),N=[],J=[];
for(var _=0;_<b[0].length;_++){N.push(bo.FY(this.iK[0][_].zh,X,q,this.iK[1]));J.push(b[0][_].ic.Nm.v.split("=").pop())}this.gS.Ia(N,J,X,q);
this.DF=!1};bo.prototype.S=function(b,X,q,N){var J=JSON.stringify(b.zh)+","+q+","+N;if(this.VI!=J){this.VI=J;
this.Xx=JSON.parse(JSON.stringify(b));this.Tw(X,q,N)}this.gS.xr(-1)};bo.prototype.N=function(){return JSON.parse(JSON.stringify(this.Xx))};
bo.prototype.Tw=function(b,X,q){var N=Math.floor(68*K.u()),J=Math.floor(68*K.u()),_=bo.FY(this.Xx.zh,N,J,b?b:this.iK[1],X,q);
this.oh.setAttribute("src",_);K.IX(this.oh,N,J)};bo.FY=function(b,X,q,N,J,_){var p=new nj;p.n=X;p.z=q;
p.buffer=x.K(X*q*4);p.add.Patt=N;p.bw(J==null?90:J);p.jN(_==null?30:_);var z=new R(0,0,Math.round(X*.5),Math.round(q*.5));
z.x=Math.round((X-z.n)/2);z.y=Math.round((q-z.z)/2);var g=p.rY();g.rect=z;g.buffer=x.K(z.c()*4);x.Ws(g.buffer,4284045657);
nM.xAW(b,g,.5*100);p.F.push(g);p.FB();p.Y();var W=G.ks;G.ks=!1;p.RL();var o=p.US();G.ks=W;var y=nr.kQ(o.buffer,p.n,p.z);
return y};function _f(b){_j.call(this,null,!1,"tpresetbutton",18,24,n_.jD,!0);K.YQ(this.U,"fitem");this.gS.uU(1);
this.id=b;this.Tw();this.CC=new nG([15,7,9]);this.CC.S(!0);this.CC.l(K.E.$,this.xEc,this);this.Ni.appendChild(this.CC.U)}_f.prototype=new _j;
_f.prototype.xEO=function(b){if(this.id==b)return;this.id=b;this.pz(this.iK)};_f.prototype.xp=function(b){var X=this.iK[this.gS.N()],q=new Q(K.E.T,!0);
q.data={V:K.a.dX,RW:"set",Zy:n_.jD,gR:X};this.X(q)};_f.prototype.f=function(){_j.prototype.f.call(this);
this.CC.f()};_f.prototype.xEc=function(){this.DF=!0;this.tK()};_f.prototype.tK=function(){if(!this.DF)return;
var b=Math.floor(16*K.u()),X=Math.floor(16*K.u()),q=[],N=[],J=this.iK,_=this.CC.N();for(var p=0;p<J.length;
p++){var z=c.P$(J[p]);if(!_||z==this.id){N.push(J[p][0]?J[p][0].split("=").pop():"");q.push(z==-1?"":PIMG[c.fw[z][0]])}else{q.push(null);
N.push(null)}}this.gS.Ia(q,N,b,X);this.DF=!1};_f.prototype.Tw=function(){var b=this.oh;b.setAttribute("src",PIMG[c.fw[this.id][0]]);
K.Dv(b,"toolicon")};_f.prototype.GD=function(){return null};_f.oN={};_f.FY=function(b,X,q){var N=_f.DI,J=_f.oN,_=x.a_(b.D<<16|b.q<<8|b.b);
if(J[_])return J[_];if(N==null){var p=K.m("canvas");N=_f.DI=p.getContext("2d")}var p=N.canvas;p.width=X;
p.height=q;N.fillStyle="#"+_;N.fillRect(0,0,X,q);var z=J[_]=p.toDataURL();return z};function bD(b,X){na.call(this);
this.U=K.m("span","fitem curveeditor");this.UF=null;this.xFv=0;this.Hw="";this.mode=0;this.ec=b;this.xus=X;
this.dT=null;this.Ds=null;this.zz=new Ue;this.ur=this.BG.bind(this);this.uc=this.xx.bind(this);this.ze=K.m("canvas","");
this.aK=this.ze.getContext("2d");K.FZ(this.ze);K.Ss(this.ze,256,256,this.aK);this.U.appendChild(this.ze);
K.mU(this.ze,this.Za.bind(this))}bD.prototype=new na;bD.prototype.S=function(b,X){var q=JSON.stringify(b);
if(q==JSON.stringify(this.dT))return;this.mode=b.length==256?1:0;this.dT=JSON.parse(q);if(X!=null)this.Ds=this.dT[X];
this.SL()};bD.prototype.uh=function(b,X,q){this.UF=b;this.xFv=X;this.Hw=q;this.SL()};bD.prototype.N=function(){return JSON.parse(JSON.stringify(this.dT))};
bD.prototype.xrM=function(){return this.dT.indexOf(this.Ds)};bD.prototype.Za=function(b){var X=K.HW(b,this.ze),q=X.x,N=256-X.y;
if(this.ec){var J=q;q=256-N;N=J}this.zz.gM(q,N);if(this.mode==0){var _=null;for(var p=0;p<this.dT.length;
p++){var z=this.dT[p].v,g=z.Hrzn.v-q,W=z.Vrtc.v-N,o=Math.sqrt(g*g+W*W);if(o<5)_=this.dT[p]}if(_==null){_=x.BJ.Jo(q,N,!0);
this.dT.push(_)}this.Ds=_}K.YZ(document.body,this.ur);K.Lx(document.body,this.uc);this.BG(b)};bD.prototype.BG=function(b){var X=K.HW(b,this.ze),q=X.x,N=256-X.y;
if(this.ec){var J=q;q=256-N;N=J}if(this.mode==0){var _=this.dT,p=this.xus,z=_.indexOf(this.Ds),g=z==0||z==_.length-1,W=0,o=255,y=!0;
if(g){W=1;o=254}if(!p||!g)this.Ds.v.Hrzn.v=Math.max(W,Math.min(o,Math.round(q)));this.Ds.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(N)));
for(var D=0;D<_.length;D++){if(_[D]==this.Ds)continue;if(Math.abs(_[D].v.Hrzn.v-this.Ds.v.Hrzn.v)<2)y=!1}if(q<0||q>255||N<0||N>255)y=!1;
if(y&&_.indexOf(this.Ds)==-1)_.push(this.Ds);if(!y&&_.indexOf(this.Ds)!=-1&&_.length>2&&(!p||!g))_.splice(_.indexOf(this.Ds),1);
if(_[0].v.Hrzn.v==_[1].v.Hrzn.v)if(_[0].v.Hrzn.v==0)_[1].v.Hrzn.v=1;else _[0].v.Hrzn.v--;_.sort(function(H,Y){return H.v.Hrzn.v-Y.v.Hrzn.v})}else{q=Math.round(q);
N=Math.round(N);q=Math.max(0,Math.min(255,q));N=Math.max(0,Math.min(255,N));var m=this.zz.x,k=q,O=this.zz.y,L=N;
if(q<this.zz.x){k=m;m=q;L=O;O=N}this.dT[q]=N;if(m!=k)for(var I=m;I<=k;I++)this.dT[I]=Math.round(O+(I-m)*(L-O)/(k-m))}this.zz.gM(q,N);
this.SL();this.X(new Q(K.E.$))};bD.prototype.xx=function(b){K.dW(document.body,this.ur);K.d$(document.body,this.uc);
this.X(new Q(K.E.$))};bD.prototype.SL=function(){var b=this.aK;b.fillStyle="#ffffff";b.fillRect(0,0,256,256);
if(this.UF){b.translate(0,256);b.scale(1,-1);gn.xrY(b,this.UF,5700/this.xFv,this.Hw);b.scale(1,-1);b.translate(0,-256)}b.strokeStyle="#aaaaaa";
b.lineWidth=1;b.beginPath();for(var X=1;X<4;X++){b.moveTo(0,64*X-.5);b.lineTo(255,64*X-.5);b.moveTo(64*X-.5,0);
b.lineTo(64*X-.5,255)}b.stroke();if(this.ec){b.save();b.transform(0,1,-1,0,256,0)}if(this.mode==0){var q=this.dT,N=x.BJ.aR(q,256);
b.strokeStyle="#000000";b.beginPath();b.moveTo(0,255.5-N[0]);for(var X=0;X<256;X++)b.lineTo(X,255.5-N[X]);
b.stroke();b.lineWidth=2;for(var X=0;X<q.length;X++){var J=q[X].v;b.fillStyle=this.Ds==q[X]?"#333":"#fff";
b.beginPath();b.moveTo(J.Hrzn.v,255.5-J.Vrtc.v);b.arc(J.Hrzn.v,255.5-J.Vrtc.v,3,0,2*Math.PI);b.stroke();
b.fill()}}else{var N=this.dT;b.strokeStyle="#000000";b.beginPath();b.moveTo(0,255.5-N[0]);for(var X=0;
X<256;X++)b.lineTo(X,255.5-N[X]);b.stroke()}if(this.ec)b.restore()};function gn(b){na.call(this);this.U=K.m("span","");
this.CR=new xU([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);this.CR.l(K.E.$,this.Bd,this);this.U.appendChild(this.CR.U);
K.Kc(this.U);this.wZ=K.m("canvas");var X=this.wZ;this.U.appendChild(X);X.width=Math.round(b*K.u());X.height=Math.round(100*K.u());
K.IX(X,X.width,X.height);this.DI=X.getContext("2d");this.UF=null;this.iO=0}gn.prototype=new na;gn.prototype.f=function(){this.CR.f()};
gn.prototype.uU=function(b){this.CR.S(b);this.Bd()};gn.prototype.S=function(b){this.UF=b;this.Bd()};
gn.prototype.Tl=function(b){if(b==this.iO)return;this.iO=b;this.Bd()};gn.prototype.Bd=function(){if(this.UF==null)return;
var b=this.wZ,X=this.DI,q=this.UF,N=this.CR.N(),J=6e3/q[4],_="#"+x.a_(this.iO),p=gn.xrY;b.width=b.width;
X.setTransform(b.width/256,0,0,-b.height/100,0,b.height);X.globalCompositeOperation="lighter";if(N==0)p(X,q[0],J/3,_);
else if(N<4)p(X,q[N],J,_);else{p(X,q[1],J,"#ff0000");p(X,q[2],J,"#00ff00");p(X,q[3],J,"#0000ff")}X.setTransform(1,0,0,1,0,0)};
gn.xrY=function(b,X,q,N){b.beginPath();b.moveTo(0,0);for(var J=0;J<256;J++)b.lineTo(J,X[J]*q);b.lineTo(256,0);
b.closePath();b.fillStyle=N;b.fill()};function pO(b){na.call(this);this.vC={D:0,q:0,b:0};if(Math.abs(b-256/K.u())<10)b=256/K.u();
var X=this.U=K.m("div","flexrow");this.Ta=new Ue;this.Nl=new Ue;this.ug=this.xrL.bind(this);this.ub=this.xaR.bind(this);
this.ze=K.m("canvas","");this.aK=this.ze.getContext("2d");this.ze.width=this.ze.height=256;this.xue=this.aK.getImageData(0,0,256,256);
this.xFl=-1;K.FZ(this.ze);K.mU(this.ze,this.xwm.bind(this));X.appendChild(this.ze);this.xQv=this.xBW.bind(this);
this.xdF=this.xat.bind(this);this.DR=K.m("canvas","");this.UO=this.DR.getContext("2d");this.DR.width=20;
this.DR.height=256;this.xlS=this.UO.getImageData(0,0,20,256);this.xwf(this.xlS.data,20,256);K.FZ(this.DR);
K.mU(this.DR,this.xaW.bind(this));X.appendChild(this.DR);this.ze.setAttribute("style","width:"+b+"px; height:"+b+"px");
this.DR.setAttribute("style","width:"+20/K.u()+"px; height:"+b+"px")}pO.prototype=new na;pO.prototype.Gq=function(b,X){this.ze.style.width=b+"px"};
pO.prototype.S=function(b){this.vC=b;this.update()};pO.prototype.N=function(){return JSON.parse(JSON.stringify(this.vC))};
pO.prototype.update=function(){var b=this.vC,X=x.Hj(b.D,b.q,b.b);if(X.Qk==0)X.qD=this.Ta.x/255;if(X.qD==0||X.Qk==0)X.ai=(255-this.b$(this.Nl.y))/255;
if(X.Qk!=0)this.Ta.x=X.qD*255;this.Ta.y=(1-X.Qk)*255;this.Nl.y=(1-X.ai)*255;var q=this.xue;if(Math.abs(X.ai-this.xFl)>.002){this.xwt(q.data,256,256,X.ai);
this.xFl=X.ai}this.aK.putImageData(q,0,0);this.aK.strokeStyle="#000000";this.aK.beginPath();this.aK.arc(this.Ta.x+1,this.Ta.y+1,5,0,2*Math.PI);
this.aK.stroke();this.aK.strokeStyle="#ffffff";this.aK.beginPath();this.aK.arc(this.Ta.x,this.Ta.y,5,0,2*Math.PI);
this.aK.stroke();var q=this.xlS;this.UO.putImageData(q,0,0);this.UO.strokeStyle="#ffffff";this.UO.beginPath();
this.UO.moveTo(0,this.Nl.y);this.UO.lineTo(20,this.Nl.y);this.UO.lineWidth=2;this.UO.stroke()};pO.prototype.xwt=function(b,X,q,N){var J=1/X,_=1/q;
for(var p=0;p<q;p++)for(var z=0;z<X;z++){var g=x.bY(N,z*J,(q-p-1)*_),W=p*X+z<<2;b[W+0]=~~(g.D*255);b[W+1]=~~(g.q*255);
b[W+2]=~~(g.b*255);b[W+3]=255}};pO.prototype.xwf=function(b,X,q){var N=new Uint32Array(b.buffer);for(var J=0;
J<q;J++){var _=x.bY(1-J/q,1,1),p=255<<24|_.b*255<<16|_.q*255<<8|_.D*255;for(var z=0;z<X;z++)N[J*X+z]=p}};
pO.prototype.xwm=function(b){K.YZ(window,this.ug);K.Lx(window,this.ub);this.xrL(b)};pO.prototype.xaR=function(b){K.dW(window,this.ug);
K.d$(window,this.ub)};pO.prototype.xrL=function(b){var X=K.HW(b,this.ze);X.x=X.x*(256/parseFloat(this.ze.style.width));
X.y=X.y*(256/parseFloat(this.ze.style.height));this.Ta.gM(this.b$(X.x),this.b$(X.y));this.wr()};pO.prototype.wr=function(){this.vC=this.xaQ();
this.X(new Q(K.E.$))};pO.prototype.xaQ=function(){var b=x.bY((255-this.b$(this.Nl.y))/255,this.uw(this.Ta.x/255),this.uw(1-this.Ta.y/255));
return{D:b.D,q:b.q,b:b.b}};pO.prototype.xaW=function(b){K.YZ(window,this.xQv);K.Lx(window,this.xdF);
this.xBW(b)};pO.prototype.xat=function(b){K.dW(window,this.xQv);K.d$(window,this.xdF)};pO.prototype.xBW=function(b){var X=K.HW(b,this.DR);
X.y=X.y*(256/parseFloat(this.DR.style.height));this.Nl.gM(this.b$(X.x),this.b$(X.y));this.wr()};pO.prototype.b$=function(b){return Math.max(0,Math.min(255,b))};
pO.prototype.uw=function(b){return Math.max(0,Math.min(1,b))};function _t(b,X,q){na.call(this);if(!X)return;
this.Ru=0;this.U=K.m("span","fitem bbmenu");if(b){this.EU=b;this.IM=K.m("label","flabel");this.IM.textContent=b+":";
this.U.appendChild(this.IM)}this.dG=[];this.CF=null;this.th(X,q);this.S(0)}_t.prototype=new na;_t.prototype.vQ=function(b){this.EU=b;
this.f()};_t.prototype.f=function(){if(this.EU!=null){this.IM.textContent=xA.get(this.EU)+": "}for(var b=0;
b<this.dG.length;b++)this.dG[b].f()};_t.prototype.N=function(){return this.Ru};_t.prototype.th=function(b,X){while(this.dG.length>0)this.U.removeChild(this.dG.pop().U);
this.CF=b;for(var q=0;q<b.length;q++){var N=new nl(b[q],!1,X?X[q]:null);N.l("click",this.$A,this);this.U.appendChild(N.U);
this.dG.push(N)}this.f()};_t.prototype.S=function(b){this.Ru=b;for(var X=0;X<this.dG.length;X++)this.dG[X].Gh();
this.dG[b].TU()};_t.prototype.$A=function(b){var X=this.dG.indexOf(b.target);this.S(X);this.X(new Q(K.E.$,!1))};
function Kl(b,X,q,N){if(N==null)N=16;var J=Kl.rh,_=J.getContext("2d"),p=N>>>1;J.width=J.height=N;var z=[];
for(var g=0;g<X.length;g++){if(X[g]=="checker"){_.fillStyle="white";_.fillRect(0,0,N,N);_.fillStyle="#bbbbbb";
_.fillRect(p,0,p,p);_.fillRect(0,p,p,p)}else{_.fillStyle=X[g];_.fillRect(0,0,N,N)}z.push("<img src=\""+J.toDataURL()+"\" />")}_t.call(this,b,z,q)}Kl.prototype=new _t;
Kl.rh=K.m("canvas");function xU(b,X,q,N){na.call(this);if(!X)return;if(q==null)q=!1;this.Ru=0;this.xYq=q;
this.EU=b;this.em=null;this.xWk=N;var J="dd"+K.SX();this.U=K.m("span","fitem ddmenu");if(b&&!q){this.IM=K.m("label","flabel");
this.U.appendChild(this.IM);this.IM.setAttribute("for",J)}this.KX=K.m("select","bbtn");this.KX.setAttribute("id",J);
this.U.appendChild(this.KX);this.KX.addEventListener("change",this.$A.bind(this),!1);this.dG=[];this.CF=null;
this.th(X,N);this.f()}xU.prototype=new na;xU.prototype.vQ=function(b){this.EU=b;this.f()};xU.prototype.f=function(){if(this.EU!=null){var b=xA.get(this.EU);
if(this.xYq)this.KX.setAttribute("title",b);else this.IM.textContent=b+":"}if(this.CF)this.th(this.CF,this.xWk);
this.S(this.Ru)};xU.prototype.N=function(){return this.Ru};xU.prototype.th=function(b,X){K.Jx(this.KX);
var q=[],J=0;if(X){q.push(X[0]);for(var N=1;N<X.length;N++)q.push(q[N-1]+X[N])}this.CF=b;this.em=[];
this.xWk=X;for(var N=0;N<b.length;N++){var _=K.m("option");_.textContent=xA.get(b[N]);_.setAttribute("value",N);
this.KX.appendChild(_);this.dG.push(_);this.em.push(N+J);if(q.indexOf(N+1)!=-1&&N!=b.length-1){var p=K.m("option");
p.setAttribute("disabled","");p.textContent="";this.KX.appendChild(p);J++}}};xU.prototype.S=function(b){this.Ru=b;
this.KX.selectedIndex=this.em[b]};xU.prototype.$A=function(b){this.Ru=this.em.indexOf(this.KX.selectedIndex);
this.X(new Q(K.E.$,!1))};function gI(){na.call(this);this.pe=null;this.bh=new bj;this.bh.l(K.E.$,this.xay,this);
this.bh.parent=this;this.bE=new xP([12,14,0],1,300,"px",0,!0);this.bE.l(K.E.$,this.xPx,this);this.bE.parent=this;
this.bC=new pH([16,0]," px",3);this.bC.l(K.E.$,this.hC,this);this.bW=new xP([16,1],-500,5e3,"%",0,!0);
this.bW.l(K.E.$,this.hC,this);this.bW.parent=this;this.NG=new xP("\u2B0D",1,300,"%",null,null,null,null,[2,7,[22,4,3]]);
this.NG.l(K.E.$,this.hC,this);this.NG.parent=this;this.NV=new xP("\u2B0C",1,300,"%",null,null,null,null,[2,7,[22,4,2]]);
this.NV.l(K.E.$,this.hC,this);this.NV.parent=this;this.Ne=new xP([16,2],-10,10,"px");this.Ne.l(K.E.$,this.hC,this);
this.Ne.parent=this;this.bu=new bh(!0);this.bu.l(K.E.$,this.xPa,this);this.bu.parent=this;this.es=new nl("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />");
this.ey=new nl("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />");this.eZ=new nl("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />");
this.ZA=new nl("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />");this.Zg=new nl("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />");
this.Zb=new nl("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />");this.ZK=new nl("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />");
this.Zq=new nl("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />");var b=[this.es,this.ey,this.eZ,this.ZA,this.Zg,this.Zb,this.ZK,this.Zq];
for(var X=0;X<b.length;X++)b[X].l("click",this.xaV,this);this.o$=new nl("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.oy=new nl("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.oe=new nl("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.xWV=new nl("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.xug=new nl("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.xYh=new nl("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.xLm=new nl("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.Oq=[this.o$,this.oy,this.oe,this.xWV,this.xug,this.xYh,this.xLm];for(var X=0;X<this.Oq.length;X++)this.Oq[X].l("click",this.hC,this);
var q=["lind","rind","flind","bind","aind"],N=[];for(var X=0;X<5;X++)N.push("<img src=\""+PIMG["par/"+q[X]]+"\" class=\"autoscale gsicon\" /> ");
this.Cd=new xP(N[0],-20,20,"px");this.Cd.l(K.E.$,this.hC,this);this.Cd.parent=this;this.Cl=new xP(N[1],-20,20,"px");
this.Cl.l(K.E.$,this.hC,this);this.Cl.parent=this;this.CY=new xP(N[2],-20,20,"px");this.CY.l(K.E.$,this.hC,this);
this.CY.parent=this;this.CL=new xP(N[3],-20,20,"px");this.CL.l(K.E.$,this.hC,this);this.CL.parent=this;
this.Ce=new xP(N[4],-20,20,"px");this.Ce.l(K.E.$,this.hC,this);this.Ce.parent=this;this.OR=new _t([12,33],["Abc ...","... \u0623\u064A \u0628\u064A"]);
this.OR.l(K.E.$,this.hC,this);this.OR.parent=this}gI.prototype=new na;gI.prototype.f=function(){this.bh.f();
this.bE.f();this.bC.f();this.bW.f();this.Ne.f();this.NG.f();this.NV.f();this.OR.f()};gI.prototype.vB=function(b){this.KU=JSON.parse(JSON.stringify(b.KU));
var X=this.KU,q=X.qH,N=X.qE;this.es.S(q.FauxBold!=null?q.FauxBold:!1);this.ey.S(q.FauxItalic!=null?q.FauxItalic:!1);
this.eZ.S(q.FontCaps==2);this.ZA.S(q.FontCaps==1);this.Zb.S(q.FontBaseline==1);this.Zg.S(q.FontBaseline==2);
this.ZK.S(q.Underline);this.Zq.S(q.Strikethrough);this.bh.S(q.Font==null?null:X.JX[q.Font].Name,b._v,b.Zh);
var J=q.FontSize==null?20:q.FontSize;this.bE.S(J);var _=q.Tracking;this.bW.S(_==null?0:_);if(q.AutoLeading)this.bC.S("Auto");
else this.bC.S(q.Leading);this.NG.S((q.VerticalScale!=null?q.VerticalScale:0)*100);this.NV.S((q.HorizontalScale!=null?q.HorizontalScale:0)*100);
this.Ne.S(q.BaselineShift!=null?q.BaselineShift:0);if(q.FillColor){var p=ng.vx(q);this.bu.Tl(Math.round(p.D)<<16|Math.round(p.q)<<8|Math.round(p.b))}else this.bu.Tl(0);
var z=N._Direction!=null?N._Direction:0,g=ng.Kd(N);for(var W=0;W<this.Oq.length;W++)this.Oq[W].S(g==W);
this.OR.S(z);this.Cd.S(N.StartIndent!=null?N.StartIndent:0);this.Cl.S(N.EndIndent!=null?N.EndIndent:0);
this.CY.S(N.FirstLineIndent!=null?N.FirstLineIndent:0);this.CL.S(N.SpaceBefore!=null?N.SpaceBefore:0);
this.Ce.S(N.SpaceAfter!=null?N.SpaceAfter:0)};gI.prototype.bO=function(){var b=new Q(K.E.T,!0);b.data={V:K.a.dX,Zy:n_.Fh,KU:this.KU};
this.X(b)};gI.prototype.xaV=function(b){var X=this.KU.qH,q=b.target,N=!q.zF();if(q==this.es)X.FauxBold=N;
if(q==this.ey)X.FauxItalic=N;if(q==this.eZ)X.FontCaps=N?2:0;if(q==this.ZA)X.FontCaps=N?1:0;if(q==this.Zb)X.FontBaseline=N?1:0;
if(q==this.Zg)X.FontBaseline=N?2:0;if(q==this.ZK)X.Underline=N;if(q==this.Zq)X.Strikethrough=N;this.bO()};
gI.prototype.hC=function(b){var X=this.KU.qH,q=this.KU.qE,N=b.target;if(N==this.bW){var J=this.bW.N();
if(J==null)window.xx$("An error occured. Please, write us an email to support@photopea.com and describe what you did.");
X.Tracking=J}if(N==this.bC){var _=this.bC.N().toLowerCase();X.AutoLeading=_=="auto";X.Leading=_=="auto"?40:parseInt(_)}if(N==this.NG)X.VerticalScale=N.N()/100;
if(N==this.NV)X.HorizontalScale=N.N()/100;if(N==this.Ne)X.BaselineShift=N.N();if(this.Oq.indexOf(N)!=-1){q.Justification=ng.Kd(q,this.Oq.indexOf(N))}if(N==this.Cd)q.StartIndent=N.N();
if(N==this.Cl)q.EndIndent=N.N();if(N==this.CY)q.FirstLineIndent=N.N();if(N==this.CL)q.SpaceBefore=N.N();
if(N==this.Ce)q.SpaceAfter=N.N();if(N==this.OR)q._Direction=N.N();this.bO()};gI.prototype.xay=function(b){var X=this.KU,q=this.bh.N(),N=-1;
for(var J=0;J<X.JX.length;J++)if(X.JX[J].Name==q)N=J;if(N==-1){N=X.JX.length;var _=JSON.parse(JSON.stringify(X.JX[0]));
_.Name=q;X.JX.splice(N,0,_)}X.qH.Font=N;this.bO()};gI.prototype.xPx=function(b){var X=parseFloat(this.bE.N());
if(isNaN(X))return;this.KU.qH.FontSize=X;this.bO()};gI.prototype.xPa=function(b){var X=this.bu.vU(),q={Type:1,Values:[1,(X>>16&255)/255,(X>>8&255)/255,(X>>0&255)/255]};
for(var N=0;N<4;N++)q.Values[N]=Math.round(q.Values[N]*1e3)/1e3;this.KU.qH.FillColor=q;this.bO()};function bj(){na.call(this);
this.U=K.m("span","fontinput");this.tu=null;this.oZ=null;this.uV=null;this.OY="";this.pS={};this.cx=[];
this.xgT={};this.cg=!1;this.bz=K.m("button","fitem");this.bz.setAttribute("style","width:9em;");this.bz.textContent="Family Name \u25BC";
this.U.appendChild(this.bz);K.mU(this.bz,this.xhK.bind(this));this.Kj=new na;this.Kj.parent=this;this.Kj.U=K.m("div","floatcont");
this.Kj.U.addEventListener("keyup",this.xPd.bind(this),!1);this.DZ=new by(6.8);this.Kj.U.appendChild(this.DZ.xMe());
this.DZ.parent=this.Kj;this.DZ.l(K.E.$,this.ua,this);var b=K.m("div","form");this.Kj.U.appendChild(b);
this.Ok=new nl(K.BC("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");this.Ok.l("click",this.xPk,this);
b.appendChild(this.Ok.U);this.T$=new pH([12,86],null,9);this.T$.l("input",this.vq,this);b.appendChild(this.T$.U);
var X=this.xYw=new nl([23,6,[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);X.l("click",this.xPW,this);
X.U.style.marginLeft="1.5em";b.appendChild(X.U);this.ZE=K.m("span","fitem imageset scrollable marged");
this.ZE.style.height="30em";this.Kj.U.appendChild(this.ZE);this.Oe=K.m("button","fitem");this.Oe.setAttribute("style","width:7em;");
this.Oe.textContent="SubFamily Name \u25BC";this.U.appendChild(this.Oe);K.mU(this.Oe,this.xhK.bind(this));
this.vg=new na;this.vg.parent=this;this.vg.U=K.m("div","floatcont");this.cp=K.m("span","fitem imageset scrollable marged");
this.vg.U.appendChild(this.cp)}bj.prototype=new na;bj.prototype.xPd=function(b){var X=0;if(S.In(b.code,S.n_))X=-1;
if(S.In(b.code,S.nq))X=1;if(X!=0){var q=this.cx,N=q.length,J=this.tu.ad()[this.uV];if(J==null&&N==0)return;
var _=q.indexOf(J[0]);if(_==-1)return;_=(_+X+N)%N;this.vj(q[_],null)}};bj.prototype.xPW=function(){var b=new Q(K.E.T,!0);
b.data={V:K.a.Zw,xYC:".otf,.ttf,.ttc"};this.X(b)};bj.prototype.f=function(){this.DZ.f();this.xYw.f();
this.Ok.vQ(K.BC("tools/cshape",null,"autoscale"))};bj.prototype.xPk=function(b){this.Ok.S(!this.Ok.zF());
this.ua()};bj.prototype.vq=function(b){this.OY=this.T$.N().toLowerCase();this.ua()};bj.prototype.xhK=function(b){b.preventDefault();
b.stopPropagation();var X=b.currentTarget,q=X.getBoundingClientRect(),N=X==this.bz,J=N?this.Kj:this.vg;
if(K.OH(J.U)){this.xMJ(J);return}if(!N&&this.tu.ad()[this.uV]==null)return;var _=new Q(K.E.T,!0);_.data={V:K.a.Vj,SU:J,x:q.left,y:q.top+q.height};
this.X(_);if(N){this.ua();this.T$.uv()}};bj.prototype.xMT=function(b){var X=b.currentTarget.firstChild.nextSibling.textContent;
if(b.target.tagName.toLowerCase()=="button"){var q=this.oZ.slice(0),N=q.indexOf(X);if(N==-1){q=q.slice(Math.max(0,q.length-9));
q.push(X)}else q.splice(N,1);var J=new Q(K.E.T,!0);J.data={V:K.a.dX,Zy:n_.Uu,wS:q};this.X(J);this.cg=!0;
this.ua()}else{this.vj(X,null);this.T$.uv()}};bj.prototype.xMt=function(b){this.vj(null,b.currentTarget.firstChild.textContent)};
bj.prototype.vj=function(b,X){var q=b==null?this.vg:this.Kj,N=this.tu;if(b==null)b=N.ad()[this.uV][0];
else{var J=N.Vl(b),_=N.ad()[this.uV];X=ns.Vd(J,_?_[1]:"regular")}var p=N.nG(b,X)[2];this.S(p,N);this.X(new Q(K.E.$,!1));
this.ua()};bj.prototype.xMJ=function(b){var X=new Q(K.E.T,!0);X.data={V:K.a.Sj,SU:b};this.X(X)};bj.prototype.N=function(){return this.uV};
bj.prototype.S=function(b,X,q){var N=this.tu;if(b!=null)this.uV=b;else b=this.uV;this.tu=X;this.oZ=q;
if(b!=null){var J=X.ad()[b],_,p;if(J==null){_="- "+b;p="-------"}else{_=J[0];p=J[1];var z=X.Vl(_);z.sort(ns.x_P);
var g=z.indexOf(p),W=this.xMt.bind(this);this.cp.textContent="";for(var o=0;o<z.length;o++){var J=X.nG(_,z[o]);
if(!this.DZ.vD(J))continue;var y=this.xhv(J,J[1],W,!1);this.cp.appendChild(y)}}this.bz.textContent=_.substring(0,15)+" \u25BC";
this.bz.setAttribute("title",_);this.Oe.textContent=p.substring(0,10)+" \u25BC";this.Oe.setAttribute("title",p)}};
bj.prototype.ua=function(){var b=this.tu.ad()[this.uV],X=this.oZ,q=null,N=this.tu.xKk(),J=this.xMT.bind(this);
this.cx=[];for(var _ in N){var p=ns.Vd(N[_],"regular"),z=this.tu.nG(_,p),g=X.indexOf(_)!=-1,W=!0;if(this.OY.length>0&&z[0].toLowerCase().indexOf(this.OY)==-1)W=!1;
else if(!this.DZ.vD(z))W=!1;else if(this.Ok.zF()&&!g)W=!1;var o=this.pS[_];if(o==null){var o=this.xhv(z,_,J,!0);
this.pS[_]=o;this.ZE.appendChild(o)}if(W)this.cx.push(_);var y=W?"":"display:none; ",D="opacity: "+(g?"1":"0.2");
if(b&&b[0]==_){y+="background-color:rgba(0,0,0,0.13);";q=o}if(this.xgT[_]!=y+D){o.setAttribute("style",y);
o.firstChild.setAttribute("style",D);this.xgT[_]=y+D}}if(q&&!this.cg)this.ZE.scrollTop=q.offsetTop-210;
this.cg=!1};bj.prototype.xhv=function(b,X,q,N){var J=K.m("div","fontitem"),g="";J.addEventListener("click",q,!1);
if(N)J.appendChild(K.m("button","star"));var _=K.m("span","label");_.setAttribute("title",X);_.textContent=X;
J.appendChild(_);var p=K.u(),z=1/p,W=ns.nD*z,o=ns.mo*z;if(1<p&&p<1.5)g="width:"+W+"px; height:"+o+"px;";
var y=K.m("span","thumb gsicon");if(b.xgr){g+="background: url("+b.xgr+");";if(1<p&&p<1.5)g+="background-size: "+W+"px "+o+"px;"}else{var D=Math.ceil(FNTS.list.length/ns.cols),m=Math.floor(b.aP/D),k=b.aP%D,O=m*ns.nD,L=k*ns.mo;
if(1<p&&p<1.5){g+="background-size: "+ns.cols*W+"px "+D*o+"px;";O*=z;L*=z}g+="background-position:-"+O+"px -"+L+"px;"}y.setAttribute("style",g);
J.appendChild(y);return J};function by(b){na.call(this);this.U=K.m("button","fitem bbtn");this.U.addEventListener("click",this.xiA.bind(this),!1);
this.aU=new na;this.aU.U=K.m("div","floatcont");this.aU.parent=this;this.cr=K.m("div","flexrow");this.aU.U.appendChild(this.cr);
this.v_=[];this.bo=[];var X=this.cr,q=K.m("div",""),N=K.m("div","");X.appendChild(q);X.appendChild(N);
this.fN=[];for(var J=0;J<FNTS.cats.length;J++)this.fN.push({name:FNTS.cats[J],index:J,hi:0});this.cq=new nG([7,0]);
this.cq.l(K.E.$,this.xir,this);q.appendChild(this.cq.U);this.cH=K.m("div","vlist marged scrollable");
this.cH.setAttribute("style","width:10.85em; height:"+b+"em; ");q.appendChild(this.cH);this.cE=[];for(var J=0;
J<this.fN.length;J++){var _=this.fN[J],p=new nG(_.name);this.cE.push(p);p.l(K.E.$,this.xiE,this);p.S(!0);
this.cH.appendChild(p.U);this.v_.push(1)}this.xgt=new nG([7,0]);this.xgt.l(K.E.$,this.xiq,this);this.cw=K.m("div","vlist marged scrollable");
this.cw.setAttribute("style","width:8.6em; height:"+(b+1.5)+"em; ");N.appendChild(this.cw);this.Zi=[];
for(var J=0;J<FNTS.subsetNames.length;J++){var p=new nG(FNTS.subsetNames[J]);this.Zi.push(p);p.l(K.E.$,this.xiw,this);
p.S(!1);this.cw.appendChild(p.U);this.bo.push(0)}}by.prototype=new na;by.prototype.xMs=function(b){var X=this.Zi;
for(var q=0;q<X.length;q++){var N=(b>>>q&1)==1;this.bo[q]=N;X[q].S(N)}};by.prototype.xMe=function(){return this.cr};
by.prototype.f=function(){this.U.textContent=xA.get([25,1,0])+" \u25BC";this.cq.f();this.xgt.f()};by.prototype.xiA=function(b){var X=this.U.getBoundingClientRect(),q=new Q(K.E.T,!0);
q.data={V:K.a.Vj,SU:this.aU,x:X.left,y:X.top+X.height,xPP:!1};this.X(q)};by.prototype.vD=function(b){if(this.v_[b[4]]==0)return!1;
else for(var X=0;X<this.bo.length;X++)if(this.bo[X]==1&&(b[3]>>>X&1)==0)return!1;return!0};by.prototype.xir=function(b){var X=b.target.N(),q=this.cE,N=this.v_;
for(var J=0;J<q.length;J++){q[J].S(X);N[J]=X?1:0}this.X(new Q(K.E.$,!1))};by.prototype.xiq=function(b){var X=b.target.N(),q=this.Zi,N=this.bo;
for(var J=0;J<q.length;J++){q[J].S(X);N[J]=X?1:0}this.X(new Q(K.E.$,!1))};by.prototype.xiE=function(b){var X=this.cE.indexOf(b.target),q=this.fN[X].index;
this.v_[q]=1-this.v_[q];this.X(new Q(K.E.$,!1))};by.prototype.xiw=function(b){var X=this.Zi.indexOf(b.target);
this.bo[X]=1-this.bo[X];this.X(new Q(K.E.$,!1))};function KS(b,X,q){_j.call(this,X,!0,"gradientbutton",18,10,n_.FA);
this.pp=-1;this.HO=-1;this.xpW=null;this.xYv=b;this.gc=q}KS.prototype=new _j;KS.prototype.xp=function(b){var X=this.iK;
this.S(X[this.gS.N()]);this.X(new Q(K.E.$))};KS.prototype.vp=function(b){var X=new Q(K.E.T,!0);X.data={V:K.a.Ko,zE:"gradienteditor",Z:this.Xx,VY:this.xia.bind(this),oo:this.gc};
this.X(X)};KS.prototype.xia=function(b){this.S(b);this.X(new Q(K.E.$))};KS.prototype.tK=function(){if(!this.DF)return;
var b=Math.floor(36*K.u()),X=Math.floor(36*K.u()),q=[],N=[],J=this.iK;for(var _=0;_<J.length;_++){var p=J[_];
N.push(p.Nm?p.Nm.v.split("=").pop():"");var z=c.Wq.FY(p,b,X,Math.PI/4,this.pp,this.HO);q.push(z)}this.gS.Ia(q,N,b,X);
this.DF=!1};KS.prototype.vo=function(b,X){this.xhR(this.Xx,b,X)};KS.prototype.S=function(b){this.xhR(b,this.pp,this.HO)};
KS.prototype.xhR=function(b,X,q){this.pp=X;this.HO=q;if(b==null)return;var N=JSON.stringify(b),J=N+X+","+q;
if(J==this.xpW)return;this.xpW=J;this.Xx=JSON.parse(N);var _=Math.floor(80*K.u()),p=Math.floor(16*K.u()),z=c.Wq.FY(this.Xx,_,p,0,this.pp,this.HO);
this.oh.setAttribute("src",z);K.IX(this.oh,_,p)};KS.prototype.N=function(){var b;if(this.xYv)b=c.Wq.xFp(this.Xx,this.pp,this.HO);
else b=JSON.parse(JSON.stringify(this.Xx));return b};function gs(b){_j.call(this,b,!1,"swatchbutton",16,8.75,n_.Fg)}gs.prototype=new _j;
gs.prototype.xp=function(b){this.S(this.iK[b.target.N()]);this.X(new Q(K.E.$))};gs.prototype.tK=function(){if(!this.DF)return;
var b=Date.now(),X=Math.floor(10*K.u()),q=Math.floor(10*K.u()),N=[],J=[],_=this.iK;for(var p=0;p<_.length;
p++){J.push(_[p].Qf?_[p].Qf.split("=").pop():"");N.push(gs.FY(_[p],X,q))}this.gS.Ia(N,J,X,q);this.DF=!1};
gs.prototype.S=function(b){this.Xx=JSON.parse(JSON.stringify(b));this.Tw()};gs.prototype.Tw=function(){var b=Math.floor(24*K.u()),X=Math.floor(20*K.u()),q=gs.FY(this.Xx,b,X);
this.oh.setAttribute("src",q);K.IX(this.oh,b,X)};gs.prototype.N=function(){return JSON.parse(JSON.stringify(this.Xx))};
gs.oN={};gs.FY=function(b,X,q){var N=gs.DI,J=gs.oN,_=x.a_(b.D<<16|b.q<<8|b.b);if(J[_])return J[_];if(N==null){var p=K.m("canvas");
N=gs.DI=p.getContext("2d")}var p=N.canvas;p.width=X;p.height=q;N.fillStyle="#"+_;N.fillRect(0,0,X,q);
var z=J[_]=p.toDataURL();return z};function nG(b,X,q){na.call(this);this.U=K.m("span","fitem cbox");
if(X==null)X=!0;if(q==null)q="flabel";var N="cb"+K.SX();this.wP=K.m("input","");this.wP.setAttribute("type","checkbox");
this.wP.setAttribute("id",N);this.U.appendChild(this.wP);this.EU=b;this.IM=K.m("label",q);if(X)this.IM.setAttribute("for",N);
this.U.appendChild(this.IM);this.f();this.wP.addEventListener("change",this.$A.bind(this),!1)}nG.prototype=new na;
nG.prototype.xhL=function(){return this.EU};nG.prototype.vQ=function(b){this.IM.textContent=b};nG.prototype.f=function(){this.IM.textContent=xA.get(this.EU)};
nG.prototype.TU=function(){this.wP.checked=!0};nG.prototype.Gh=function(){this.wP.checked=!1};nG.prototype.zF=function(){return this.wP.checked};
nG.prototype.S=function(b){this.wP.checked=b};nG.prototype.N=nG.prototype.zF;nG.prototype.$A=function(b){this.X(new Q(K.E.$,!1))};
function be(b,X,q,N){na.call(this);this.U=K.m("span","fitem mbox");this.xYF=q;if(b){this.EU=b;this.IM=K.m("label","flabel");
this.U.appendChild(this.IM)}this.uy=X;this.mR=[];for(var J=0;J<X.length;J++){var _=q?new nl(X[J],!1,N?N[J]:null):new nG(X[J]);
_.l(q?"click":K.E.$,this.$A,this);this.mR.push(_);this.U.appendChild(_.U)}this.f()}be.prototype=new na;
be.prototype.S=function(b){for(var X=0;X<this.uy.length;X++)this.mR[X].S(b[X])};be.prototype.N=function(){var b=[];
for(var X=0;X<this.uy.length;X++)b[X]=this.mR[X].N();return b};be.prototype.f=function(){if(this.EU)this.IM.innerHTML=xA.get(this.EU)+":";
for(var b=0;b<this.mR.length;b++)this.mR[b].f()};be.prototype.$A=function(b){var X=this.mR.indexOf(b.currentTarget);
if(this.xYF)this.mR[X].S(!this.mR[X].N());this.X(new Q(K.E.$,!1))};function _R(b,X,q,N,J,_){xW.call(this,b,X,q,N,J,!1,_);
this.U.appendChild(this.IM);var p=K.m("span","rangecont");this.U.appendChild(p);p.appendChild(this.gX);
this.U.appendChild(this.wP);this.wP.setAttribute("style","width:3.3em");if(this.eS)this.U.appendChild(this.We)}_R.prototype=new xW;
function bB(b,X,q,N){if(b==null)b=!1;if(X==null)X=!1;if(q==null)q=!1;na.call(this);this.tg=new Ue;this.Hn=new Ue;
this.xYt=72;this.vb=72;this.U=K.m("span","");this.jZ=new xP([12,41],0,0,null,0,!1,!0);this.U.appendChild(this.jZ.U);
this.jZ.l(K.E.$,this.Ij,this);var J=["px","%"];if(b)J=J.concat(["mm","in"]);this.jp=new xU(null,J);this.U.appendChild(this.jp.U);
K.Kc(this.U);this.jp.l(K.E.$,this.Ij,this);this.gE=new xP([12,42],0,0,null,0,!1,!0);this.U.appendChild(this.gE.U);
this.gE.l(K.E.$,this.Ij,this);var _=new nl("\u21F5",!1,null,!0);_.l("click",this.xiz,this);this.bV=new nl("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);
this.bV.l("click",this.Ij,this);this.xne=new _L("");if(X){this.U.appendChild(this.bV.U);this.U.appendChild(this.xne.U);
this.bV.TU()}else this.U.appendChild(_.U);this.jU=new xP("DPI",0,0,null,0,!1,!0);if(b&&N==null){K.Kc(this.U);
this.U.appendChild(this.jU.U)}this.jU.l(K.E.$,this.Ij,this);this.ja=new nG([12,23,1]);this.ja.l(K.E.$,this.Ij,this);
if(q){K.Kc(this.U);this.U.appendChild(this.ja.U)}K.Kc(this.U)}bB.prototype=new na;bB.prototype.xiM=function(b){this.bV.S(b)};
bB.prototype.f=function(){this.jZ.f();this.gE.f();this.jU.f();this.bV.f();this.ja.f()};bB.prototype.xiz=function(b){var X=this.Hn.x;
this.Hn.x=this.Hn.y;this.Hn.y=X;this.rM();this.X(new Q(K.E.$,!1))};bB.prototype.Ij=function(b){if(b.target==this.jp||b.target==this.ja){this.rM();
return}if(b.target==this.bV)b.target.S(!b.target.N());var X=this.tg,q=this.vb,N=parseFloat(this.jZ.N());
if(isNaN(N))N=1;var J=parseFloat(this.gE.N());if(isNaN(J))J=1;var _=this.jp.N();if(_==1){N=this.tg.x*(N/100);
J=this.tg.y*(J/100)}var p=[1,1,25.4/q,1/q][_];N/=p;J/=p;if(this.ja.N()){N+=this.tg.x;J+=this.tg.y}if(b.target==this.jU){var z=this.jU.N();
if(_>1){var g=z/q;N*=g;J*=g}q=z}if(this.bV.N()){if(b&&b.target==this.jZ)J=N*(X.y/X.x);else N=J*(X.x/X.y)}N=Math.max(Math.abs(N),1);
J=Math.max(Math.abs(J),1);this.Hn=new Ue(Math.round(N),Math.round(J));this.vb=q;this.rM();this.X(new Q(K.E.$,!1))};
bB.prototype.xio=function(b){this.jp.S(b);this.rM()};bB.prototype.S=function(b,X){this.tg=b.clone();
this.Hn=b.clone();if(X!=null){this.xYt=X;this.vb=X}this.rM()};bB.prototype.rM=function(){var b=this.Hn.x,X=this.Hn.y,q=this.vb,N=(b/X).toFixed(3);
while(N.charAt(N.length-1)=="0")N=N.substring(0,N.length-1);if(N.charAt(N.length-1)==".")N=N.substring(0,N.length-1);
var J="  "+N+" : 1",_=function(o,y){while(y!=0){var D=y;y=o%y;o=D}return o},p=_(b,X);if(Math.min(b,X)/p<10)J="  "+Math.round(b/p)+" : "+Math.round(X/p);
this.xne.S(J);if(this.ja.N()){b-=this.tg.x;X-=this.tg.y}var z=this.jp.N();if(z==1){b=100*b/this.tg.x;
X=100*X/this.tg.y}b=Math.round(b);X=Math.round(X);var g=[1,1,25.4/q,1/q][z];b*=g;X*=g;var W=z>2?2:0;
this.jZ.xgs(W);this.gE.xgs(W);this.jZ.S(b);this.gE.S(X);this.jU.S(q)};bB.prototype.N=function(){return this.Hn.clone()};
bB.prototype.xwo=function(){return this.vb};function KB(){na.call(this);this.ca=0;this.KS=[0,0,1,1,100,100];
this.U=K.m("span","fitem");this.Hk=new xU(null,[[12,89,0],[12,89,1],[12,89,2]]);this.U.appendChild(this.Hk.U);
this.Hk.l(K.E.$,this.Ij,this);this.jZ=new pH("W",null,3);this.jZ.S(0);this.U.appendChild(this.jZ.U);
this.jZ.l(K.E.$,this.Ij,this);this.gE=new pH("H",null,3);this.gE.S(0);this.U.appendChild(this.gE.U);
this.gE.l(K.E.$,this.Ij,this);this.S({vd:0,x:0,y:0})}KB.prototype=new na;KB.prototype.f=function(){K.GP(this.jZ,this.gE);
this.Hk.f()};KB.prototype.Ij=function(b){if(b.target==this.Hk){var X=this.N(),q=this.KS;q[this.ca*2]=X.x;
q[this.ca*2+1]=X.y;this.ca=X.vd;this.S({vd:X.vd,x:q[X.vd*2],y:q[X.vd*2+1]})}this.X(new Q(K.E.$,!1))};
KB.prototype.S=function(b){this.Hk.S(b.vd);this.jZ.S(b.x);this.gE.S(b.y);if(b.vd==0){this.jZ.Sb();this.gE.Sb()}else{this.jZ.Ic();
this.gE.Ic()}};KB.prototype.N=function(){return{vd:this.Hk.N(),x:parseInt(this.jZ.N()),y:parseInt(this.gE.N())}};
function _L(b,X){na.call(this);this.EU=b;this.U=K.m("span","labelitem fitem"+(X?" spread":""));this.f()}_L.prototype=new na;
_L.prototype.S=function(b){this.U.textContent=b};_L.prototype.N=function(){return this.U.textContent};
_L.prototype.Ic=function(){this.U.removeAttribute("disabled")};_L.prototype.Sb=function(){this.U.setAttribute("disabled","")};
_L.prototype.vQ=function(b){this.U.textContent=b};_L.prototype.f=function(){this.U.textContent=xA.get(this.EU)};
_L.prototype.xhL=function(){return this.EU};function bf(b){na.call(this);this.U=K.m("span","");this.x_x=b;
this.uO=new _R("Off X",-100,100,b?"%":"px",0,!1);this.Kr=new _R("Off Y",-100,100,b?"%":"px",0,!1);this.uO.l(K.E.$,this.Ij,this);
this.Kr.l(K.E.$,this.Ij,this);this.U.appendChild(this.uO.U);this.U.appendChild(this.Kr.U)}bf.prototype=new na;
bf.prototype.f=function(){this.uO.f();this.Kr.f()};bf.prototype.Ij=function(b){this.X(new Q(K.E.$,!1))};
bf.prototype.xic=function(b){this.uO.S(b.x);this.Kr.S(b.y)};bf.prototype.xLo=function(){return new Ue(this.uO.N(),this.Kr.N())};
bf.prototype.S=function(b){var X=b.Hrzn.v,q=b.Vrtc.v;if(this.x_x){X=X.val;q=q.val}this.uO.S(X);this.Kr.S(q)};
bf.prototype.N=function(){var b=this.uO.N(),X=this.Kr.N();if(this.x_x)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:b}},Vrtc:{t:"UntF",v:{type:"#Prc",val:X}}};
else return{classID:"Pnt",Hrzn:{v:b,t:"doub"},Vrtc:{v:X,t:"doub"}}};function xP(b,X,q,N,J,_,p,z,g){xW.call(this,b,X,q,N,J,!0,_,g);
K.Dv(this.U,"rangedropinput");this.U.appendChild(this.IM);this.wP.setAttribute("style","width:"+(z?z:3.3)+"em");
this.U.appendChild(this.wP);this.x_g=K.m("span","rangecont");this.x_g.appendChild(this.gX);this.cP=K.m("button");
this.cP.innerHTML="\u25BC";K.mU(this.cP,this.xim.bind(this));if(p!=!0)this.U.appendChild(this.cP);this.FD=new na;
this.FD.U=this.x_g}xP.prototype=new xW;xP.prototype.xim=function(b){if(K.OH(this.FD.U))return;b.stopPropagation();
var X=this.U.getBoundingClientRect();this.gX.setAttribute("style","width:"+X.width+"px;");var q=new Q(K.E.T,!0);
q.data={V:K.a.Vj,SU:this.FD,x:X.left,y:X.top+X.height};this.X(q)};function KP(){na.call(this);this.U=K.m("span","fitem strokebutton");
this.cC=[[null,null,null,""],[null,0,null,"4 2"],[1,1,null,"0 2"]];this.ga=JSON.parse(JSON.stringify(UZ.FF.default));
this.vS=K.m("button");this.U.appendChild(this.vS);this.vS.addEventListener("click",this.eL.bind(this),!1);
var b=K.m("canvas","gsicon");this.aK=b.getContext("2d");this.vS.appendChild(b);var X=K.m("span");X.textContent=" \u25BC";
this.vS.appendChild(X);this.aU=new na;this.aU.parent=this;this.aU.U=K.m("div","floatcont form");var q=this.aU.U;
q.setAttribute("style","width: 14em;");this.pS=[new xU([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new _t([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new _t([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new pH([19,9,2])];
for(var N=0;N<this.pS.length;N++){var J=this.pS[N];q.appendChild(J.U);var _=N<4?K.E.$:"click";J.l(_,this.Ij,this)}K.Kc(q);
this.aq=[];var p=this.xis.bind(this);for(var N=0;N<this.cC.length;N++){var z=K.m("button","fitem");this.aq.push(z);
q.appendChild(z);z.addEventListener("click",p,!1);var b=K.m("canvas","gsicon"),g=b.getContext("2d");
z.appendChild(b);this.xl$(g,40,20,this.cC[N])}}KP.prototype=new na;KP.prototype.eL=function(b){var X=this.vS.getBoundingClientRect(),q=new Q(K.E.T,!0);
q.data={V:K.a.Vj,SU:this.aU,x:X.left,y:X.top+X.height+4};this.X(q)};KP.prototype.Ij=function(b){var _a=this.pS,X=_a.indexOf(b.target),q=[];
for(var N=0;N<4;N++)q.push(_a[N].N());this.ga=this.xvr(q);this.X(new Q(K.E.$,!1))};KP.prototype.xis=function(b){var X=this.aq.indexOf(b.currentTarget);
this.S(this.xvr(this.cC[X]));this.X(new Q(K.E.$,!1))};KP.prototype.xvr=function(b){var X=JSON.parse(JSON.stringify(this.ga)),q=b[0],N=b[1],J=b[2],_=b[3];
if(q!=null)X.strokeStyleLineAlignment.v.strokeStyleLineAlignment=UZ.FF.Rb[q];if(N!=null)X.strokeStyleLineCapType.v.strokeStyleLineCapType=UZ.FF.RA[N];
if(J!=null)X.strokeStyleLineJoinType.v.strokeStyleLineJoinType=UZ.FF.join[J];var p=X.strokeStyleLineDashSet.v=[];
_=_.split(" ");while((_.length&1)!=0)_.pop();for(var z=0;z<_.length;z++)p.push({t:"UntF",v:{type:"#Nne",val:parseInt(_[z])}});
return X};KP.prototype.f=function(){for(var b=0;b<this.pS.length;b++)this.pS[b].f()};KP.prototype.S=function(b){this.ga=JSON.parse(JSON.stringify(b));
var X=UZ.FF.Rb.indexOf(b.strokeStyleLineAlignment.v.strokeStyleLineAlignment),q=UZ.FF.RA.indexOf(b.strokeStyleLineCapType.v.strokeStyleLineCapType),N=UZ.FF.join.indexOf(b.strokeStyleLineJoinType.v.strokeStyleLineJoinType),J=[],_=b.strokeStyleLineDashSet.v;
for(var p=0;p<_.length;p++)J.push(_[p].v.val);var _a=this.pS;_a[0].S(X);_a[1].S(q);_a[2].S(N);_a[3].S(J.join(" "));
var z=[];for(var g=0;g<4;g++)z.push(_a[g].N());this.xl$(this.aK,40,16,z)};KP.prototype.N=function(){return JSON.parse(JSON.stringify(this.ga))};
KP.prototype.xl$=function(b,X,q,N){var J=N[0],_=N[1],p=N[2],z=N[3].split(" ").map(parseFloat);K.Ss(b.canvas,X,q);
var g=Math.min(5,this.ga.strokeStyleLineWidth.v.val);for(var W=0;W<z.length;W++)z[W]*=g;b.clearRect(0,0,X,q);
b.setLineDash(z);b.lineCap=["butt","round","square"][_];b.lineJoin=["miter","round","bevel"][p];b.lineWidth=g;
b.beginPath();b.moveTo(0,q/2);b.lineTo(X*2,q/2);b.stroke()};function xZ(b){_j.call(this,b,!1,"contourbutton",34,16,n_.Dq);
this.T$=new pH([12,86],null,16);this.T$.l("input",this.vq,this);this.aU.U.appendChild(this.T$.U);this.cv=null;
this.OY="";this.ue=null;this.S(SB.Z$())}xZ.prototype=new _j;xZ.prototype.f=function(){_j.prototype.f.call(this);
this.T$.f()};xZ.prototype.xp=function(b){this.S(this.cv[b.target.N()]);this.X(new Q(K.E.$))};xZ.prototype.vq=function(b){this.OY=this.T$.N().toLowerCase();
this.xWt()};xZ.rp=!1;xZ.prototype.tK=function(){if(!this.DF)return;var b=this.iK;if(b==null||!xZ.rp){var X=new Q(K.E.T,!0);
X.data={V:K.a.Gx,Zy:{url:"rsrc/basic/fa_basic.csh"}};this.X(X);xZ.rp=!0}else{var q=Math.floor(38*K.u()),N=Math.floor(38*K.u());
this.ue=[];for(var J=0;J<b.length;J++)this.ue.push(xZ.xYV(b[J],q,N));this.xWt();this.DF=!1}};xZ.prototype.xWt=function(){var b=Math.floor(38*K.u()),X=Math.floor(38*K.u());
this.cv=[];var q=[],N=[],J=this.iK;for(var _=0;_<J.length;_++){if(J[_].WC.toLowerCase().indexOf(this.OY)==-1)continue;
this.cv.push(J[_]);q.push(this.ue[_]);N.push(J[_].WC)}this.gS.Ia(q,N,b,X)};xZ.prototype.S=function(b){this.Xx=xZ.clone(b);
this.Tw()};xZ.prototype.Tw=function(){var b=Math.floor(23*K.u()),X=Math.floor(23*K.u()),q=xZ.xYV(this.Xx,b,X);
this.oh.setAttribute("src",q);K.IX(this.oh,b,X)};xZ.prototype.N=function(){return xZ.clone(this.Xx)};
xZ.clone=function(b){return{WC:b.WC,ic:b.ic,s:M.zo.yR(b.s),vW:b.vW.clone()}};xZ.wZ=null;xZ.vc=null;xZ.xYV=function(b,X,q){var N=M.zo.yR(b.s),J=b.vW,_=Math.min(X/J.n,q/J.z)*.9,p=new nQ;
p.translate(-.5,-.5);p.scale(.95,.95);p.translate(.5,.5);p.scale(_*J.n,_*J.z);x.g.SC(N,p);var z=new M.zo;
z.s=N;var g=z.DL();g.rect.x=Math.floor((X-g.rect.n)/2);g.rect.y=Math.floor((q-g.rect.z)/2);var W=x.K(g.rect.c()*4);
x.Ws(W,4278190080);x.Kn(g.channel);x.qR(g.channel,W,0);x.qR(g.channel,W,1);x.qR(g.channel,W,2);var o=xZ;
if(o.wZ==null)o.wZ=K.m("canvas");var y=o.wZ,D=y.getContext("2d");if(y.width!=X||y.height!=q||o.vc==null){y.width=X;
y.height=q;o.vc=D.createImageData(X,q)}var m=o.vc;x.Ws(m.data,4294967295);x.iX(W,g.rect,m.data,new R(0,0,X,q));
D.putImageData(m,0,0);return y.toDataURL()};function pK(b){_j.call(this,b,!1,"ICCButton",16,12,n_.Dk,!0);
this.gS.uU(1)}pK.prototype=new _j;pK.prototype.vA=function(){var b="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var X=0;X<b.length;X++)b[X]="luts/"+b[X]+".CUBE";return b};pK.prototype.xp=function(b){this.S(this.iK[b.target.N()]);
this.X(new Q(K.E.$))};pK.prototype.tK=function(){if(!this.DF)return;var b=Math.floor(1*K.u()),X=Math.floor(1*K.u()),q=[],N=[],J=this.iK;
for(var _=0;_<J.length;_++){var p=J[_].Nm.v.split("\\").pop().split("/").pop();N.push(p);q.push(pK.FY(J[_],b,X))}this.gS.Ia(q,N,b,X);
this.DF=!1};pK.prototype.S=function(b){this.Xx=JSON.parse(JSON.stringify(b));this.Tw()};pK.FY=function(b,X,q){var N=K.m("canvas"),p="ICC / 3DL / look / cube";
N.width=X;N.height=q;var J=N.getContext("2d"),_=Math.floor(14*K.u());J.font=_+"px sans-serif";if(b.Nm)p=b.Nm.v.split("\\").pop().split("/").pop();
J.fillText(p,10,_);return N.toDataURL()};pK.prototype.Tw=function(){var b=Math.floor(120*K.u()),X=Math.floor(20*K.u());
this.oh.setAttribute("src",pK.FY(this.Xx,b,X));K.IX(this.oh,b,X)};pK.prototype.N=function(){return JSON.parse(JSON.stringify(this.Xx))};
function Km(){na.call(this);this.vC=null;this.U=K.m("span","fitem");this.ZC=new _m([14,9]);this.cF=new xP(null,0,150,"pt",1,!0,null,null,[19,2,5]);
this.uf=new KP;this.Zu=[this.ZC,this.cF,this.uf];for(var b=0;b<this.Zu.length;b++){var X=this.Zu[b];
this.U.appendChild(X.U);X.parent=this;X.l(K.E.$,this.Ij,this)}}Km.prototype=new na;Km.prototype.f=function(){for(var b=0;
b<this.Zu.length;b++)this.Zu[b].f()};Km.prototype.TY=function(b,X){this.ZC.TY(b,X)};Km.prototype.Ij=function(b){var X=this.vC,q=this.ZC.N(),N=q.Rk;
X.strokeEnabled.v=N!=0;if(N!=0){X.strokeStyleContent.v=q.G$;q.G$.classID=UZ.FF.DC[N-1]}X.strokeStyleLineWidth.v.val=this.cF.N();
if(b.target==this.uf)X=this.uf.N();this.vC=X;this.X(new Q(K.E.$,!1))};Km.prototype.S=function(b,X,q){this.vC=JSON.parse(JSON.stringify(X));
var N=X.strokeEnabled.v,J=X.strokeStyleContent.v,_=N?{Rk:1+UZ.FF.DC.indexOf(J.classID),G$:J}:{Rk:0};
this.ZC.S(b,_,q);this.cF.S(X.strokeStyleLineWidth.v.val);this.uf.S(X)};Km.prototype.N=function(){return JSON.parse(JSON.stringify(this.vC))};
function KV(b,X){na.call(this);this.U=K.m("span","fitem");this.vE=["front","union","difference","intersection"];
var q=[[18,0],[18,1],[18,2],[18,3]];this.BY=[];this.cl=0;for(var N=0;N<this.vE.length;N++){var J=new nl("<img src=\""+PIMG["set/"+this.vE[N]]+"\" class=\"autoscale gsicon\" />",!1,q[N]);
J.l("click",this.xiZ,this);this.U.appendChild(J.U);this.BY.push(J)}this.BY[0].TU()}KV.prototype=new na;
KV.prototype.N=function(){return this.vE[this.cl]};KV.prototype.S=function(b){this.cl=this.vE.indexOf(b);
for(var X=0;X<this.BY.length;X++)this.BY[X].Gh();this.BY[this.cl].TU()};KV.prototype.xiZ=function(b){this.S(this.vE[this.BY.indexOf(b.currentTarget)]);
this.X(new Q(K.E.$,!1))};KV.prototype.f=function(){for(var b=0;b<this.BY.length;b++)this.BY[b].f()};
function pH(b,X,q,N){na.call(this);var J=K.SX(),_="";this.U=K.m("span","fitem tinput");if(b){this.EU=b;
this.IM=K.m("label","flabel");this.U.appendChild(this.IM);this.IM.setAttribute("for",J);this.f()}if(N==null){this.wP=K.m("input","");
this.wP.setAttribute("type","text")}else this.wP=K.m("textarea","scrollable");this.wP.setAttribute("id",J);
if(q)_+="width:"+q+"em;";if(N){this.wP.setAttribute("rows",N)}if(_!="")this.wP.setAttribute("style",_);
this.U.appendChild(this.wP);if(X){this.We=K.m("span","");this.We.textContent=X;this.U.appendChild(this.We)}this.wP.addEventListener("change",this.$A.bind(this),!1);
this.wP.addEventListener("input",this.xCq.bind(this),!1)}pH.prototype=new na;pH.prototype.f=function(){if(this.EU)this.IM.textContent=xA.get(this.EU)+":"};
pH.prototype.vQ=function(b){this.IM.textContent=b};pH.prototype.S=function(b){this.wP.value=b==null?"":b};
pH.prototype.N=function(){return this.wP.value};pH.prototype.uv=function(){this.wP.select();this.wP.focus()};
pH.prototype.$A=function(b){this.X(new Q(K.E.$,!1))};pH.prototype.xCq=function(b){this.X(new Q("input",!1))};
function nt(b,X,q,N,J,_){xW.call(this,b,X,q,N,J,!0,_);K.Dv(this.U,"trangeinput");this.U.appendChild(this.IM);
this.U.appendChild(this.wP);var p=K.m("span","rangecont");this.U.appendChild(p);p.appendChild(this.gX);
this.gX.setAttribute("style","width:97%;")}nt.prototype=new xW;function SU(){na.call(this);this.mQ=[10,!0,!0];
this.U=K.m("span","");this.Ub=[new xP([12,24],0,255),new nG("Anti-alias"),new nG([12,25])];for(var b=0;
b<3;b++){var X=this.Ub[b];X.parent=this;X.S(this.mQ[b]);this.U.appendChild(X.U);X.l(K.E.$,this.Ij,this)}}SU.prototype=new na;
SU.prototype.Ij=function(){for(var b=0;b<3;b++)this.mQ[b]=this.Ub[b].N();this.X(new Q(K.E.$,!1))};SU.prototype.S=function(b){this.mQ=b.slice(0);
for(var X=0;X<3;X++)this.Ub[X].S(b[X])};SU.prototype.N=function(){return this.mQ.slice(0)};SU.prototype.f=function(){for(var b=0;
b<3;b++)this.Ub[b].f()};function KY(b,X){na.call(this);if(X==null)X=!1;this.ue=[];this.xbm=0;this.xK_=0;
this.vI=0;this.bT=[];this.IH=[];for(var q in x.Gg.type){if(q=="warpCustom"&&!X)continue;this.bT.push(q);
this.IH.push(x.Gg.type[q])}this.U=K.m("span","fitem warpbutton");this.aU=new na;this.aU.U=K.m("div","floatcont");
if(b){this.Zz=b;this.IM=K.m("label","flabel");this.U.appendChild(this.IM)}this.V=K.m("button");this.U.appendChild(this.V);
this.V.addEventListener("click",this.eL.bind(this),!1);this.ZO=new xe(!0);this.aU.U.appendChild(this.ZO.U);
this.ZO.l(K.E.$,this.xCa,this);this.f()}KY.prototype=new na;KY.prototype.vQ=function(b){this.IM.textContent=b};
KY.prototype.f=function(){if(this.Zz)this.IM.innerHTML=xA.get(this.Zz)+":";this.ue=[];var b=K.m("canvas",""),X=b.getContext("2d"),q=0;
X.font=Math.floor(13*K.u())+"px sans-serif";for(var N=0;N<this.bT.length;N++){q=Math.max(q,X.measureText(xA.get(x.Gg.type[this.bT[N]])).width)}var J=this.xbm=Math.floor(50*K.u()+q),_=this.xK_=Math.floor(23*K.u());
b.width=J;b.height=_;this.aU.U.setAttribute("style","width:"+Math.floor(8+J/K.u())+"px;");X.font=Math.floor(13*K.u())+"px sans-serif";
X.lineWidth=1;X.strokeStyle="#000000";var p=Math.floor(16*K.u()),z=new R(0,0,p,p);for(var N=0;N<this.bT.length;
N++){var g=this.bT[N];X.clearRect(0,0,b.width,b.height);var W=x.Gg.Gg(z,g,!0,.3,0,0),o=x.j.fe(z);o.W.push("M","L","M","L");
o.r.push(0,p/2,p,p/2);o.r.push(p/2,0,p/2,p);o=x.j.sG(o);o=x.j.$B(o,p/5);x.iN.apply(W,o.r,z);x.j.w(o.r,new nQ(1,0,0,1,Math.floor(8*K.u())+.5,Math.floor(3*K.u())+.5),o.r);
X.beginPath();Typr.U.pathToContext({cmds:o.W,crds:o.r},X);X.stroke();X.fillText(xA.get(x.Gg.type[g]),Math.floor(40*K.u()),Math.floor(16*K.u()));
this.ue.push(b.toDataURL())}this.ZO.Ia(this.ue,null,J,_);this.Tw()};KY.prototype.eL=function(b){var X=this.V.getBoundingClientRect(),q=new Q(K.E.T,!0);
q.data={V:K.a.Vj,SU:this.aU,x:X.left,y:X.top+X.height+4};this.X(q)};KY.prototype.xCa=function(b){var X=new Q(K.E.T,!0);
X.data={V:K.a.Sj,SU:this.aU};this.X(X);this.vI=b.target.N();this.Tw();this.X(new Q(K.E.$))};KY.prototype.Tw=function(){this.ZO.xr(this.vI);
this.V.innerHTML="<img src=\""+this.ue[this.vI]+"\" class=\"gsicon\" />";var b=this.xbm,X=this.xK_;K.IX(this.V.firstChild,b,X)};
KY.prototype.N=function(){return this.bT[this.vI]};KY.prototype.S=function(b){this.vI=this.bT.indexOf(b);
this.Tw()};function gA(b,X,q){na.call(this);if(b==null)b=!1;if(X==null)X=!1;if(q==null)q=!1;this.xYJ=X;
this.Gg=null;this.Yx=new KY([12,22],q);this.Yx.parent=this;this.Yx.l(K.E.$,this.bO,this);this.KB=new xU([22,0],[[22,4,0],[22,4,1]]);
this.KB.l(K.E.$,this.bO,this);var N=b?xP:nt;this.Yd=new N([22,1],-100,100,"%");this.Yt=new N("Horizontal Distortion:",-100,100,"%");
this.YG=new N("Vertical Distortion:",-100,100,"%");this.Yd.parent=this.Yt.parent=this.YG.parent=this;
this.Yd.l(K.E.$,this.bO,this);this.Yt.l(K.E.$,this.bO,this);this.YG.l(K.E.$,this.bO,this)}gA.prototype=new na;
gA.prototype.f=function(){this.Yx.f();this.KB.f();this.Yd.f();var b=this.xYJ?1:100;this.Yt.vQ(xA.get([22,2]).substring(0,b)+":");
this.YG.vQ(xA.get([22,3]).substring(0,b)+":")};gA.prototype.bO=function(){var b=this.Gg,X=this.Yx.N(),q=b.warpStyle.v.warpStyle;
if(X=="warpCustom")x.Gg.yf(x.Gg.Pg(b),b);else delete b.customEnvelopeWarp;b.warpStyle.v.warpStyle=this.Yx.N();
b.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.KB.N()];b.warpValue.v=this.Yd.N();b.warpPerspective.v=this.Yt.N();
b.warpPerspectiveOther.v=this.YG.N();if(X=="warpNone"||X=="warpCustom"){b.warpValue.v=0;b.warpPerspective.v=0;
b.warpPerspectiveOther.v=0}else if(q=="warpNone"||q=="warpCustom")b.warpValue.v=50;this.X(new Q(K.E.$,!1));
this.S(b)};gA.prototype.N=function(b){return JSON.parse(JSON.stringify(this.Gg))};gA.prototype.S=function(b){this.Gg=JSON.parse(JSON.stringify(b));
this.Yx.S(b.warpStyle.v.warpStyle);this.KB.S(b.warpRotate.v.Ornt=="Hrzn"?0:1);this.Yd.S(b.warpValue.v);
this.Yt.S(b.warpPerspective.v);this.YG.S(b.warpPerspectiveOther.v);var X=b.warpStyle.v.warpStyle,q=X=="warpNone"||X=="warpCustom",N=[this.KB,this.Yd,this.Yt,this.YG];
for(var J=0;J<N.length;J++)if(q)N[J].Sb();else N[J].Ic()};function _D(b){na.call(this);this.U=K.m("div");
this.cW=b;this.vT=!1;this.Jj=new Ue(0,0);this.bn="position:relative;overflow:hidden;";this.U$=null;this.Zc=new K.GH(this.U);
this.rO("grab");this.DO=K.m("canvas","canv");this.U.appendChild(this.DO);this.aK=this.DO.getContext("2d");
this.xKO=null;this.tS=null;this.cu=null;this.jt=0;this.cL=0;this.cI=0;this.xYG=this.xBi.bind(this);this.xSM=null;
this.M=new Sx({n:1,z:1});this.jG=null;this.pV=null;this.xYo=this.oL.bind(this);this.xSc=this.YF.bind(this);
this.xre=this.QB.bind(this);this.xYc=this.rA.bind(this);this.xrZ=0;this.Zf=null;this.xLL(this.DO);this.vm(this)}_D.prototype=new na;
_D.prototype.aZ=function(b){var X=this.U$;this.vT=b._(S.oW);if(this.vT)X="grab";this.Zc.Fr(X,this.bn);
if(b._(S.zN)){var q=0;if(b._(S.nR))q=1;if(b._(S.NU))q=-1;if(q!=0){this.xUw(new Ue(this.DO.width/2,this.DO.height/2),q==1)}}};
_D.prototype.rO=function(b){this.U$=b;this.Zc.Fr(b,this.bn)};_D.prototype.xLL=function(b){K.mU(b,this.xYo);
K.FZ(b);b.addEventListener("wheel",this.xYc,!1)};_D.prototype.vm=function(b){b.l("viewchange",this.xCM,this)};
_D.prototype.xCM=function(b){var X=this.M.d,q=b.currentTarget.Gc();this.M.d=q.d;this.M.I=q.I.clone();
if(X!=q.d)this.ve();this.SL()};_D.prototype.Gc=function(){return{d:this.M.d,I:this.M.I}};_D.prototype.S=function(b,X){var q=b[0]._z;
if(this.tS!=null&&this.tS[0]._z.Rj(q)){}else{this.M.kM={n:q.n,z:q.z};this.M.I=new Ue(0,0);this.M.d=1}this.tS=b;
this.ve();this.GZ();this.jt=0;this.cL=0;this.cI=X==null?0:X;this.xBi()};_D.prototype.rA=function(b){b.preventDefault();
if(b.deltaY==0||Date.now()-this.xrZ<100)return;var X=K.HW(b);X.x=K.u()*X.x;X.y=K.u()*X.y;this.xrZ=Date.now();
this.xUw(X,b.deltaY<0)};_D.prototype.xUw=function(b,X){c.Hu.DB(this.M,b,X);this.xbO()};_D.prototype.xCi=function(){var b=this.M,X=b.kM;
this.M.d=c.Hu.ER(X.n,X.z,b.L.n,b.L.z);this.xbO()};_D.prototype.xbO=function(){this.ve();this.X(new Q("viewchange"));
this.X(new Q("zoom"))};_D.prototype.ve=function(){this.cu=[];var b=this.M.d;for(var X=0;X<this.tS.length;
X++){var q=this.tS[X],N=new Uint8Array(q.data),J;if(b>=1)J={Dl:N,rect:q._z};else J=x.bH(N,q._z,b);this.cu.push(J)}};
_D.prototype.GZ=function(){clearTimeout(this.xSM)};_D.prototype.SL=function(){if(this.tS==null||!K.OH(this.DO))return;
var b=this.xKO,X=this.DO.width,q=this.DO.height,p,z;if(b==null||b.width!=X||b.height!=q){b=this.xKO=this.aK.createImageData(X,q);
console.log("creating image data")}var N=this.tS[this.jt],J=this.cu[this.jt],_=this.M;if(_.d<=1){var g=J.rect.clone();
g.x=_.I.x+Math.floor((_.L.n-J.rect.n)/2);g.y=_.I.y+Math.floor((_.L.z-J.rect.z)/2);p=J.Dl;z=g}else{var W=_.js(),o=_.lx(),y=new R(0,0,W.n*_.d,W.z*_.d);
y.x=W.x*_.d+o.x;y.y=W.y*_.d+o.y;if(_.YY==null||_.YY.length!=W.c()*4){_.YY=x.K(W.c()*4)}if(_.H_==null||_.H_.length!=y.c()*4){_.H_=x.K(y.c()*4)}x.Ws(_.YY,0);
x.iX(J.Dl,J.rect,_.YY,W);x.scale.wN(_.YY,W.n,W.z,_.H_,y.n,y.z,_.d);p=_.H_;z=y}var o=_.lx();x.kN(b.data,_.L.n,_.L.z,8,-o.x,-o.y);
x.t.TG("norm",p,z,b.data,_.L,_.L,1);this.aK.setTransform(1,0,0,1,0,0);this.aK.putImageData(b,0,0);if(_.d<1)o=z;
var D=o.x,m=o.y,k=o.n,O=o.z;this.aK.clearRect(D,m,-1e3,O);this.aK.clearRect(D+k,m,1e3,O);this.aK.clearRect(D-1e3,m,k+2e3,-1e3);
this.aK.clearRect(D-1e3,m+O,k+2e3,1e3);var L=_D.xrW(_.d,!1);this.aK.putImageData(L,0,_.L.z-L.height)};
_D.xKj={};_D.xrW=function(b,X){var q="z"+b+","+X,N=_D.xKj[q];if(N)return N;var J=Math.round(50*K.u()),_=Math.round(18*K.u()),p=K.m("canvas"),z=p.getContext("2d");
p.width=J;p.height=_;z.fillStyle="rgba(0,0,0,1)";z.fillRect(0,0,J,_);z.font=Math.round(11*K.u())+"px monospace";
z.fillStyle="rgba(255,255,"+(X?0:255)+",1)";var g=b*100;if(g<100)g=g.toFixed(2);g=g+"%";var W=z.measureText(g).width;
z.fillText(g,(J-W)/2,Math.round(_*.7));N=_D.xKj[q]=z.getImageData(0,0,J,_);return N};_D.prototype.xBi=function(){var b=this.tS,X=b.length,q=this.jt,N=this.tS[q],J=(q+1)%X;
this.SL();if(X!=1&&b[J]._z.Rj(N._z)){var _=N.cn?parseInt(N.cn.split(",").pop()):30;if(_==0)_=16;if(J==0)this.cL++;
if(this.cI==0||this.cL<this.cI)this.xSM=setTimeout(this.xYG,_)}this.jt=J};_D.prototype.Gq=function(b,X){if(b<=0||X<=0)return;
var q=Math.floor(b*K.u()),N=Math.floor(X*K.u());this.M.L=new R(0,0,q,N);this.DO.width=q;this.DO.height=N;
this.DO.setAttribute("style","width:"+q/K.u()+"px; height:"+N/K.u()+"px; display:block;");this.SL()};
_D.prototype.oL=function(b){this.Zf=b.target;K.YZ(window,this.xSc);K.Lx(window,this.xre);this.jG=K.HW(b,this.DO);
this.jG.x*=K.u();this.jG.y*=K.u();this.Jj=this.jG;this.pV=this.M.I.clone();if(this.cW&&this.Zf==this.DO&&!this.vT)this.X(new Q("mousedown"))};
_D.prototype.YF=function(b){var X=this.M,q=this.tS[this.jt]._z.clone();q.n*=X.d;q.z*=X.d;var N=K.HW(b,this.DO);
N.x*=K.u();N.y*=K.u();this.Jj=N;if(this.cW&&this.Zf==this.DO&&!this.vT)this.X(new Q("mousemove"));else if(!X.L.Rh(q)){var J=N.x-this.jG.x,_=N.y-this.jG.y;
X.I.x=this.pV.x+Math.round(J);X.I.y=this.pV.y+Math.round(_);this.X(new Q("viewchange"))}};_D.prototype.QB=function(b){K.dW(window,this.xSc);
K.d$(window,this.xre);if(b.detail>1){this.M.d=1;this.M.I.gM(0,0);this.SL()}if(this.cW&&this.Zf==this.DO&&!this.vT)this.X(new Q("mouseup"))};
_D.prototype.rj=function(){return this.M.X$(this.Jj.x,this.Jj.y)};function KI(){na.call(this);this.Zk=null;
this.LB=null;this.Kh=null;this.ZV=null;this.xBr="";this.xA=[];this.xg=0;this.vt=[];this.a$=0;this.Ka=null;
var b=this.U=K.m("div",""),X=this.xYk=K.m("div","form");X.setAttribute("style","line-height:0; margin-bottom:0.5em;");
b.appendChild(X);var q=this.Zz=K.m("span");X.appendChild(q);q.setAttribute("style","font-size:1.2em; font-weight:bold; margin-right:3em;");
var N=this.xBh=new nG([25,2,0]);N.S(!0);X.appendChild(N.U);N.l(K.E.$,this.XX,this);var J=this.cT=new nG([25,2,1]);
J.S(!1);X.appendChild(J.U);J.l(K.E.$,this.XX,this);var _=new _L(" ");X.appendChild(_.U);var p=this.ct=new pH([25,1,1]);
X.appendChild(p.U);p.l(K.E.$,this.XX,this);this.DZ=new by(14);this.DZ.xMs(3);X.appendChild(this.DZ.U);
this.DZ.parent=this;this.DZ.l(K.E.$,this.xCD,this);var z=this.xLb=new nl([25,1,2],null,null,!0);X.appendChild(z.U);
z.l("click",this.rD,this);this.xLB=this.xCk.bind(this);this.KM=K.m("div","svggallery scrollable");b.appendChild(this.KM);
this.KM.addEventListener("scroll",this.xCj.bind(this))}KI.prototype=new na;KI.prototype.TY=function(b){this.xqn=b};
KI.prototype.f=function(){this.Zz.textContent=xA.get([25,0]);this.DZ.f();this.xBh.f();this.cT.f();this.ct.f();
this.xLb.f()};KI.prototype.Gq=function(b,X){X-=26;this.Zk=new Ue(b,X);this.xYk.setAttribute("style","width:"+b+"px");
this.KM.setAttribute("style","width:"+b+"px; height:"+X+"px");if(K.OH(this.U))this.XX()};KI.prototype.S=function(b){this.LB=b;
this.XX()};KI.prototype.xCj=function(b){var X=this.KM;if(X.scrollTop+X.clientHeight+10>=X.scrollHeight){this.XX(!0)}};
KI.prototype.xCD=function(b){this.Kh=null;this.XX()};KI.prototype.xCk=function(b){if(Date.now()-this.a$<2e3)return;
this.a$=Date.now();this.xg=this.vt.indexOf(b.currentTarget);var X=this.Rn(this.LB.x,this.LB.y);if(X[1]){var q=X[1].largeImageURL,N=new XMLHttpRequest;
N.responseType="arraybuffer";N.open("GET",q,!0);N.onload=this.xCy.bind(this);N.send();return}this.xBk(X)};
KI.prototype.xCy=function(b){var X=b.target.response,q=nr.xw(X),N=nr.aC(q),J=N.vu(X),_=this.Rn(this.LB.x,this.LB.y,[X,J[0]._z.n,J[0]._z.z]);
this.xBk(_)};KI.prototype.xBk=function(b){var X=b[0],q=nr.xw(X),N=nr.aC(q),J=new nj("template.psd");
N.vu(X,J);var _=new Q("tempready",!0);_.data={kM:J};this.X(_)};KI.prototype.rD=function(b){var X=b.target;
this.xA=[];this.XX()};KI.prototype.xvG=function(b){console.log(b.target.response);var X=JSON.parse(b.target.response);
this.ZV=X.hits;this.XX()};KI.prototype.XX=function(b){if(this.LB==null||this.Zk==null||this.xqn==null)return;
if(this.Zk.x<=0)return;var X=this.LB.x,q=this.LB.y;if(Math.min(X,q)<50)return;if(b!=!0){this.vt=[];K.Jx(this.KM);
this.KM.scrollTop=0}if(this.vt.length>300)return;var N=Math.min(1,300/Math.max(X,q)),J=this.Zk.clone();
J.x-=20;var _=Math.max(1,Math.floor(J.x/(X*N))),p=Math.max(1,Math.ceil(J.y/(q*N)));N=J.x/_/X;var z=_*p;
if(this.Kh==null){var g=this.xqn._v.ad();this.Kh=[];for(var W in g){var o=g[W],y=o[3];if(!this.DZ.vD(o))continue;
if(o[5]==null||o[5].slice(0,2)=="gf")continue;this.Kh.push(o)}if(this.Kh.length==0)this.Kh.push(g.DejaVuSans)}var D=this.cT.N(),m=this.ct.N().trim();
this.ct.Qh(D);if(D&&(this.ZV==null||m!=this.xBr)){var k=new XMLHttpRequest,O="https://pixabay.com/api/?image_type=photo"+(m==""?"":"&q="+encodeURIComponent(m))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88";
k.open("GET",O,!0);k.onload=this.xvG.bind(this);k.onerror=function(t){console.log(t.target.response)};
k.send();this.xBr=m;return}N*=(X*N-5)/(X*N);var L=this.vt.length;for(var I=0;I<z;I++){var H=this.xg=L+I;
if(this.xA[H]==null)this.xA[H]=Math.floor(Math.random()*4294967295);var Y=this.Rn(Math.round(X*N),Math.round(q*N)),n=Y[0];
n=e.Re(new Uint8Array(n));var w=K.m("span");w.innerHTML=n;this.vt.push(w);this.KM.appendChild(w);w.addEventListener("click",this.xLB,!1)}};
KI.prototype.Rn=function(b,X,q){var N=this.cT.N(),J=this.xBh.N(),_=N&&this.ZV.length!=0?this.ZV:null;
if(J&&!N)_=null;if(J&&N&&(this.xg&1)==0)_=null;return xF.lQ(b,X,this.xA[this.xg],this.Kh,q?q:_)};function Kj(){na.call(this);
this.U=K.m("div");this.dv=null;this.xqt=null;this.cJ=-1;this.Lh={JPG:[{QH:new nt([12,52,0],0,100,"%"),hI:70},{QH:new nG("attach metadata"),hI:!1}],TIFF:[{QH:new nG("attach metadata"),hI:!1}],WEBP:[{QH:new nt([12,52,0],0,100,"%"),hI:70}],GIF:[{QH:new nt([12,52,0],0,100,"%"),hI:100}],PNG:[{QH:new nt([12,52,0],0,100,"%"),hI:100},{QH:new nG("don't use palettes"),hI:!1}],PDF:[{QH:new pH([12,52,1]),hI:""},{QH:new nt([12,52,0],0,100,"%"),hI:100},{QH:new nG("rasterize all"),hI:!1},{QH:new nG("rasterize text"),hI:!1},{QH:new nG("vectorize text"),hI:!1}],EMF:[{QH:new pH([12,52,1]),hI:""},{QH:new nG("rasterize all"),hI:!1},{QH:new nG("rasterize text"),hI:!1},{QH:new nG("vectorize text"),hI:!1}],SVG:[{QH:new nG("add raster graphics"),hI:!0},{QH:new nG("add hidden layers"),hI:!1},{QH:new nG("vectorize text"),hI:!1},{QH:new nG("rasterize text"),hI:!1},{QH:new nG("add layer names"),hI:!0},{QH:new nG("pretty-print"),hI:!0}],RAW:[{QH:new _t([12,72],["1","3","4"]),hI:2},{QH:new _t([12,34],["8 Bits","16 Bits"]),hI:0},{QH:new _t("Byte Order",["12-34","34-12"]),hI:0}],anim:[{QH:new nt("Speed",25,400,"%"),hI:100},{QH:new xP("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),hI:0},{QH:new nG("reverse frames"),hI:!1}],slcs:[{QH:new nG("As Slices"),hI:!0}]};
for(var b in this.Lh){var X=this.Lh[b];for(var q=0;q<X.length;q++){X[q].QH.S(X[q].hI);X[q].QH.l(K.E.$,this.RK,this)}}}Kj.prototype=new na;
Kj.prototype.xvf=function(){this.cJ=-1};Kj.prototype.f=function(){for(var b in this.Lh)for(var X=0;X<this.Lh[b].length;
X++)this.Lh[b][X].QH.f()};Kj.prototype.RK=function(){this.XX();this.X(new Q(K.E.$,!1))};Kj.prototype.XX=function(){var b=this.dv,X=b[0],q=b[1],N=b[2],J=this.Lh[X];
if(J==null)J=[];else J=J.slice(0);if(q)J=J.concat(this.Lh.anim);if(["GIF","PNG","JPG"].indexOf(X)!=-1&&N)J=J.concat(this.Lh.slcs);
if(X+" "+q!=this.cJ){this.cJ=X+" "+q;K.Jx(this.U);for(var _=0;_<J.length;_++){this.U.appendChild(J[_].QH.U);
K.Kc(this.U)}}var p=this.xqt=[];for(var _=0;_<J.length;_++)p.push(J[_].QH.N())};Kj.prototype.xEI=function(b,X,q){this.dv=[b,X,q];
this.XX()};Kj.prototype.N=function(){return this.xqt.slice(0)};function gP(){na.call(this);this.U=K.m("span","fitem");
this.Ji=!1;this.cO=new nl("No",!1,"Cancel");this.TO=new nl("Yes",!1,"Confirm");this.U.appendChild(this.cO.U);
this.U.appendChild(this.TO.U);this.cO.l("click",this.Fj,this);this.TO.l("click",this.Fj,this);this.f()}gP.prototype=new na;
gP.prototype.f=function(){this.cO.vQ(K.BC("cross",null,"autoscale"));this.TO.vQ(K.BC("checkmark",null,"autoscale"))};
gP.prototype.Fj=function(b){this.Ji=b.target==this.TO;this.X(new UIEvent("click"))};gP.prototype.N=function(){return this.Ji};
function s(b){na.call(this);this.xLh=b;this.U=K.m("div","");this.Gm=[];this.xhE=[]}s.prototype=new na;
s.prototype.RS=function(b){};s.prototype.to=function(){return!1};s.prototype.Gq=function(b,X){};s.prototype.TY=function(b,X){};
s.prototype.uh=function(b){};s.prototype.S=function(b,X,q,N,J,_){var p=[];this.hL(b,p,_);for(var z=0;
z<this.Gm.length;z++)this.Gm[z].S(p[z])};s.prototype.N=function(){var b=nm.Z$(this.xLh),X=[];for(var q=0;
q<this.Gm.length;q++)X.push(this.Gm[q].N());this.h$(b,X);return b};s.prototype.aZ=function(b){};s.prototype.bO=function(b){var X=this.xhE;
for(var q=0;q<X.length;q+=2){var N=this.Gm[X[q]],J=this.Gm[X[q+1]],_=N.N(),p=J.N();if(b.target==N)J.S(Math.max(_,p));
else N.S(Math.min(_,p))}this.X(new Q(K.E.$))};s.prototype.f=function(){for(var b=0;b<this.Gm.length;
b++)this.Gm[b].f()};s.prototype.SF=function(){K.Dv(this.U,"form");var b=this.Gm;for(var X=0;X<b.length;
X++){var q=b[X];q.parent=this;q.l(K.E.$,this.bO,this);this.U.appendChild(q.U);if(q instanceof nG&&b[X+1]instanceof bh)continue;
K.Kc(this.U)}};s.prototype.xh=function(){return!1};s.prototype.vP=function(b,X,q,N,J){};s.prototype.fI=function(b,X,q,N,J){};
s.prototype.TE=function(b,X,q,N,J){};s["\0\0\x03^"]=function(){s.call(this,"\0\0\x03^");this.Gm.push(new nt([24,3,1],0,30,"px"));
this.Gm.push(new nt([12,38],0,200,"%"));this.Gm.push(new nG([4,11]));this.Gm.push(new nt("High",0,100,"%"));
this.Gm.push(new nt("Medium",0,100,"%"));this.Gm.push(new nt("Low",0,100,"%"));this.SF()};s["\0\0\x03^"].prototype=new s;
s["\0\0\x03^"].prototype.hL=function(b,X){X[0]=b.blur.v;X[1]=b.textureScale.v*100;X[2]=b.Scl.v==-1;var q=b.Dtl.v;
X[3]=q[0].v*100;X[4]=q[1].v*100;X[5]=q[2].v*100};s["\0\0\x03^"].prototype.h$=function(b,X){b.blur.v=X[0];
b.textureScale.v=X[1]/100;b.Scl.v=X[2]?-1:1;var q=b.Dtl.v;q[0].v=X[3]/100;q[1].v=X[4]/100;q[2].v=X[5]/100};
s.LnsF=function(){s.call(this,"LnsF");this.Gm.push(new nt([12,2],10,300,"%"));this.Gm.push(new _t([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]));
this.Gm.push(new nt("Position X",0,100,"%"));this.Gm.push(new nt("Position Y",0,100,"%"));this.SF()};
s.LnsF.prototype=new s;s.LnsF.prototype.hL=function(b,X){X[0]=b.Brgh.v;X[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(b.Lns.v.Lns);
var q=b.FlrC.v;X[2]=Math.round(q.Hrzn.v*100);X[3]=Math.round(q.Vrtc.v*100)};s.LnsF.prototype.h$=function(b,X){b.Brgh.v=X[0];
b.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][X[1]];var q=b.FlrC.v;q.Hrzn.v=X[2]/100;q.Vrtc.v=X[3]/100};s.LnCr=function(){s.call(this,"LnCr");
this.Gm.push(new nt([12,57],-100,100));this.Gm.push(new nt([12,38],10,150,"%"));this.SF()};s.LnCr.prototype=new s;
s.LnCr.prototype.hL=function(b,X){X[0]=b.LnIa.v;X[1]=b.LnSi.v};s.LnCr.prototype.h$=function(b,X){b.LnIa.v=X[0];
b.LnSi.v=X[1]};s["\0\0\x02\xB1"]=function(){s.call(this,"\0\0\x02\xB1");this.Gm.push(new nt([12,56],1,200," px"));
this.SF()};s["\0\0\x02\xB1"].prototype=new s;s["\0\0\x02\xB1"].prototype.hL=function(b,X){X[0]=b.Rds.v.val};
s["\0\0\x02\xB1"].prototype.h$=function(b,X){b.Rds.v.val=X[0]};s.GsnB=function(){s.call(this,"GsnB");
this.Gm.push(new nt([12,56],.1,400,"px",1,!0));this.SF()};s.GsnB.prototype=new s;s.GsnB.prototype.hL=function(b,X){X[0]=b.Rds.v.val};
s.GsnB.prototype.h$=function(b,X){console.log(b);b.Rds.v.val=X[0]};s.MtnB=function(){s.call(this,"MtnB");
this.Gm.push(new bl([12,15]));this.Gm.push(new nt([12,28],1,100," px"));this.SF()};s.MtnB.prototype=new s;
s.MtnB.prototype.hL=function(b,X){X[0]=b.Angl.v;X[1]=b.Dstn.v.val};s.MtnB.prototype.h$=function(b,X){b.Angl.v=X[0].KK;
b.Dstn.v.val=X[1]};s.RdlB=function(){s.call(this,"RdlB");this.Gm.push(new nt([12,57],1,100));this.Gm.push(new _t([12,36],["Spin","Zoom"]));
this.Gm.push(new _R("Off X",0,1,null,2));this.Gm.push(new _R("Off Y",0,1,null,2));this.SF()};s.RdlB.prototype=new s;
s.RdlB.prototype.hL=function(b,X){X[0]=b.Amnt.v;X[1]=["Spn","Zm"].indexOf(b.BlrM.v.BlrM);X[2]=b.Cntr.v.Hrzn.v;
X[3]=b.Cntr.v.Vrtc.v};s.RdlB.prototype.h$=function(b,X){b.Amnt.v=X[0];b.BlrM.v.BlrM=["Spn","Zm"][X[1]];
b.Cntr.v.Hrzn.v=X[2];b.Cntr.v.Vrtc.v=X[3]};s.Dspl=function(){s.call(this,"Dspl");this.Gm.push(new xU([6,36,3],["a","b"]));
this.Gm.push(new nt([22,4,0],-100,100,"px"));this.Gm.push(new nt([22,4,1],-100,100,"px"));this.Gm.push(new xU([24,18,0],[[24,18,3],[24,18,2]]));
this.SF()};s.Dspl.prototype=new s;s.Dspl.prototype.hL=function(b,X,q){this.xEt=[];this.Dh=[];var N=-1;
if(q==null)q=this.xLE;else this.xLE=q;if(q)for(var J=0;J<q.length;J++){var _=q[J];this.xEt.push(_.zK.trim());
this.Dh.push(_.pA);if(_.pA==b.DspF.v.pth)N=J}this.Gm[0].th(this.xEt);X[0]=N==-1?0:N;X[1]=b.HrzS.v;X[2]=b.VrtS.v;
X[3]=["WrpA","RptE"].indexOf(b.UndA.v.UndA)};s.Dspl.prototype.h$=function(b,X){if(this.Dh.length==0)return;
b.DspF.v.pth=this.Dh[X[0]];b.HrzS.v=X[1];b.VrtS.v=X[2];b.UndA.v.UndA=["WrpA","RptE"][X[3]]};s.Pnch=function(){s.call(this,"Pnch");
this.Gm.push(new nt([12,57],-100,100,"%"));this.SF()};s.Pnch.prototype=new s;s.Pnch.prototype.hL=function(b,X){X[0]=b.Amnt.v};
s.Pnch.prototype.h$=function(b,X){b.Amnt.v=X[0]};s["Plr "]=function(){s.call(this,"Plr ");this.Gm.push(new _t(null,["Rect to Polar","Polar to Rect"]));
this.SF()};s["Plr "].prototype=new s;s["Plr "].prototype.hL=function(b,X){X[0]=["RctP","PlrR"].indexOf(b.Cnvr.v.Cnvr)};
s["Plr "].prototype.h$=function(b,X){b.Cnvr.v.Cnvr=["RctP","PlrR"][X[0]]};s.Rple=function(){s.call(this,"Rple");
this.Gm.push(new nt([12,57],-999,999));this.Gm.push(new xU([12,14,0],[[19,8,0],[19,8,1],[19,8,2]]));
this.SF()};s.Rple.prototype=new s;s.Rple.prototype.hL=function(b,X){X[0]=b.Amnt.v;X[1]=["Sml","Mdm","Lrg"].indexOf(b.RplS.v.RplS)};
s.Rple.prototype.h$=function(b,X){b.Amnt.v=X[0];b.RplS.v.RplS=["Sml","Mdm","Lrg"][X[1]]};s["Shr "]=function(){s.call(this,"Shr ");
this.Gm.push(new bD(!0,!0));this.Gm.push(new xU([24,18,0],[[24,18,3],[24,18,2]]));this.SF()};s["Shr "].prototype=new s;
s["Shr "].prototype.hL=function(b,X){var q=new nQ(0,255/127,255/127,0,-2,128),N=JSON.parse(JSON.stringify(b.ShrP.v));
x.BJ.w(N,q);X[0]=N;X[1]=["WrpA","RptE"].indexOf(b.UndA.v.UndA)};s["Shr "].prototype.h$=function(b,X){var q=new nQ(0,255/127,255/127,0,-2,128);
q.Kn();x.BJ.w(X[0],q);b.ShrP.v=X[0];b.ShrE.v=X[0].length-1;b.UndA.v.UndA=["WrpA","RptE"][X[1]]};s.Sphr=function(){s.call(this,"Sphr");
this.Gm.push(new nt([12,57],-100,100));this.Gm.push(new xU([12,36],["Normal",[22,4,0],[22,4,1]]));this.SF()};
s.Sphr.prototype=new s;s.Sphr.prototype.hL=function(b,X){X[0]=b.Amnt.v;X[1]=["Nrml","HrzO","VrtO"].indexOf(b.SphM.v.SphM)};
s.Sphr.prototype.h$=function(b,X){b.Amnt.v=X[0];b.SphM.v.SphM=["Nrml","HrzO","VrtO"][X[1]]};s.Twrl=function(){s.call(this,"Twrl");
this.Gm.push(new nt([12,15],-999,999));this.SF()};s.Twrl.prototype=new s;s.Twrl.prototype.hL=function(b,X){X[0]=b.Angl.v};
s.Twrl.prototype.h$=function(b,X){b.Angl.v=X[0]};s.Wave=function(){s.call(this,"Wave");this.Gm.push(new nt("Number of Generators",1,100));
this.Gm.push(new _R("Min Length",1,999));this.Gm.push(new _R("Max Length",1,999));this.Gm.push(new _R("Min Ampl.",1,999));
this.Gm.push(new _R("Max Ampl.",1,999));this.Gm.push(new _R("Scale X",1,100,"%"));this.Gm.push(new _R("Scale Y",1,100,"%"));
this.xhE=[1,2,3,4];this.Gm.push(new _t([12,44],["Sine","Triangle",[12,93,3]]));this.Gm.push(new xU([24,18,0],[[24,18,3],[24,18,2]]));
this.Gm.push(new pH("Randomizer Seed"));this.SF()};s.Wave.prototype=new s;s.Wave.prototype.hL=function(b,X){X[0]=b.NmbG.v;
X[1]=b.WLMn.v;X[2]=b.WLMx.v;X[3]=b.AmMn.v;X[4]=b.AmMx.v;X[5]=b.SclH.v;X[6]=b.SclV.v;X[7]=["WvSn","WvTr","WvSq"].indexOf(b.Wvtp.v.Wvtp);
X[8]=["WrpA","RptE"].indexOf(b.UndA.v.UndA);X[9]=b.RndS.v};s.Wave.prototype.h$=function(b,X){b.NmbG.v=X[0];
b.WLMn.v=X[1];b.WLMx.v=X[2];b.AmMn.v=X[3];b.AmMx.v=X[4];b.SclH.v=X[5];b.SclV.v=X[6];b.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][X[7]];
b.UndA.v.UndA=["WrpA","RptE"][X[8]];var q=parseInt(X[9]);if(isNaN(q))q=248325464;q=Math.max(0,Math.min(268435455,q));
b.RndS.v=q;this.Gm[9].S(q)};s["\0\0\x02\xB5"]=function(){s.call(this,"\0\0\x02\xB5");this.Gm.push(new nt([12,56],1,200," px"));
this.Gm.push(new nt([4,13],1,255," px"));this.SF()};s["\0\0\x02\xB5"].prototype=new s;s["\0\0\x02\xB5"].prototype.hL=function(b,X){X[0]=b.Rds.v.val;
X[1]=b.Thsh.v};s["\0\0\x02\xB5"].prototype.h$=function(b,X){b.Rds.v.val=X[0];b.Thsh.v=X[1]};s.AdNs=function(){s.call(this,"AdNs");
this.Gm.push(new nt([12,57],0,200," %"));this.Gm.push(new xU([12,58],[[12,59,0],[12,59,1]]));this.Gm.push(new nG([12,60]));
this.SF()};s.AdNs.prototype=new s;s.AdNs.prototype.hL=function(b,X){X[0]=b.Nose.v.val;X[1]=["Unfr","Gsn"].indexOf(b.Dstr.v.Dstr);
X[2]=b.Mnch.v};s.AdNs.prototype.h$=function(b,X){b.Nose.v.val=X[0];b.Dstr.v.Dstr=["Unfr","Gsn"][X[1]];
b.Mnch.v=X[2]};s.DstS=function(){s.call(this,"DstS");this.Gm.push(new nt([12,56],1,200," px"));this.Gm.push(new nt([4,13],1,255," px"));
this.SF()};s.DstS.prototype=new s;s.DstS.prototype.hL=function(b,X){X[0]=b.Rds.v;X[1]=b.Thsh.v};s.DstS.prototype.h$=function(b,X){b.Rds.v=X[0];
b.Thsh.v=X[1]};s["Mdn "]=function(){s.call(this,"Mdn ");this.Gm.push(new nt([12,56],1,200," px"));this.SF()};
s["Mdn "].prototype=new s;s["Mdn "].prototype.hL=function(b,X){X[0]=b.Rds.v.val};s["Mdn "].prototype.h$=function(b,X){b.Rds.v.val=X[0]};
s.ClrH=function(){s.call(this,"ClrH");this.Gm.push(new nt([12,56],4,100," px"));for(var b=1;b<4;b++)this.Gm.push(new nt("Angle "+b,0,90," \xB0"));
this.SF()};s.ClrH.prototype=new s;s.ClrH.prototype.hL=function(b,X){X[0]=b.Rds.v;for(var q=1;q<4;q++)X[q]=b["Ang"+q].v};
s.ClrH.prototype.h$=function(b,X){b.Rds.v=X[0];for(var q=1;q<4;q++)b["Ang"+q].v=X[q]};s.ClrH.prototype.f=function(){var b=this.Gm;
b[0].f();for(var X=1;X<4;X++)b[X].vQ(xA.get([12,15])+" "+X)};s.Crst=function(){s.call(this,"Crst");this.Gm.push(new nt([12,61],3,100," px"));
this.SF()};s.Crst.prototype=new s;s.Crst.prototype.hL=function(b,X){X[0]=b.ClSz.v};s.Crst.prototype.h$=function(b,X){b.ClSz.v=X[0]};
s.Mztn=function(){s.call(this,"Mztn");this.Gm.push(new xU([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),null,[4,3,3]));
this.Dh="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.SF()};s.Mztn.prototype=new s;
s.Mztn.prototype.hL=function(b,X){X[0]=this.Dh.indexOf(b.MztT.v.MztT)};s.Mztn.prototype.h$=function(b,X){b.MztT.v.MztT=this.Dh[X[0]]};
s["Msc "]=function(){s.call(this,"Msc ");this.Gm.push(new nt([12,61],2,200," px"));this.SF()};s["Msc "].prototype=new s;
s["Msc "].prototype.hL=function(b,X){X[0]=b.ClSz.v.val};s["Msc "].prototype.h$=function(b,X){b.ClSz.v.val=X[0]};
s.Pntl=function(){s.call(this,"Pntl");this.Gm.push(new nt([12,61],3,100," px"));this.SF()};s.Pntl.prototype=new s;
s.Pntl.prototype.hL=function(b,X){X[0]=b.ClSz.v};s.Pntl.prototype.h$=function(b,X){b.ClSz.v=X[0]};s["\0\0\x03\xE8"]=function(){s.call(this,"\0\0\x03\xE8");
this.Gm.push(new nt([12,57],1,200,"%"));this.Gm.push(new nt([12,56],0,200,"px",1,!0));this.SF()};s["\0\0\x03\xE8"].prototype=new s;
s["\0\0\x03\xE8"].prototype.hL=function(b,X){X[0]=b.Amnt.v.val;X[1]=b.Rds.v.val};s["\0\0\x03\xE8"].prototype.h$=function(b,X){b.Amnt.v.val=X[0];
b.Rds.v.val=X[1]};s.UnsM=function(){s.call(this,"UnsM");this.Gm.push(new nt([12,57],1,200," %"));this.Gm.push(new nt([12,56],0,200," px"));
this.Gm.push(new nt([4,13],0,255," "));this.SF()};s.UnsM.prototype=new s;s.UnsM.prototype.hL=function(b,X){X[0]=b.Amnt.v.val;
X[1]=b.Rds.v.val;X[2]=b.Thsh.v};s.UnsM.prototype.h$=function(b,X){b.Amnt.v.val=X[0];b.Rds.v.val=X[1];
b.Thsh.v=X[2]};s.HghP=function(){s.call(this,"HghP");this.Gm.push(new nt([12,56],1,200," px"));this.SF()};
s.HghP.prototype=new s;s.HghP.prototype.hL=function(b,X){X[0]=b.Rds.v.val};s.HghP.prototype.h$=function(b,X){b.Rds.v.val=X[0]};
s["Mxm "]=function(){s.call(this,"Mxm ");this.Gm.push(new nt([12,56],1,200," px"));this.SF()};s["Mxm "].prototype=new s;
s["Mxm "].prototype.hL=function(b,X){X[0]=b.Rds.v.val};s["Mxm "].prototype.h$=function(b,X){b.Rds.v.val=X[0]};
s["Mnm "]=function(){s.call(this,"Mnm ");this.Gm.push(new nt([12,56],1,200," px"));this.SF()};s["Mnm "].prototype=new s;
s["Mnm "].prototype.hL=function(b,X){X[0]=b.Rds.v.val};s["Mnm "].prototype.h$=function(b,X){b.Rds.v.val=X[0]};
s.Ofst=function(){s.call(this,"Ofst");this.Gm.push(new nt([22,4,0],-1024,1024," px"));this.Gm.push(new nt([22,4,1],-1024,1024," px"));
this.Gm.push(new xU([24,18,0],[[24,18,1],[24,18,2],[24,18,3]]));this.SF()};s.Ofst.prototype=new s;s.Ofst.prototype.hL=function(b,X){X[0]=b.Hrzn.v;
X[1]=b.Vrtc.v;X[2]=["Bckg","Rpt","Wrp"].indexOf(b.Fl.v.FlMd)};s.Ofst.prototype.h$=function(b,X){b.Hrzn.v=X[0];
b.Vrtc.v=X[1];b.Fl.v.FlMd=["Bckg","Rpt","Wrp"][X[2]]};s.Rept=function(){s.call(this,"Rept");this.Gm.push(new _R([12,38],1,300," %"));
this.Gm.push(new _R("Row Shift",-50,50," %"));this.Gm.push(new _R("Space X",-99,200," %"));this.Gm.push(new _R("Space Y",-99,200," %"));
this.Gm.push(new nG([4,16,2]));this.Gm.push(new bl([12,15]));this.SF()};s.Rept.prototype=new s;s.Rept.prototype.hL=function(b,X){X[0]=b.Scl.v.val;
X[1]=b.Rsft.v.val;X[2]=b.SpcX.v.val;X[3]=b.SpcY.v.val;X[4]=b.SpcC.v;X[5]=b.Angl.v};s.Rept.prototype.h$=function(b,X){b.Scl.v.val=X[0];
b.Rsft.v.val=X[1];b.SpcX.v.val=X[2];b.SpcY.v.val=X[3];b.SpcC.v=X[4];b.Angl.v=X[5].KK;return b};s.LqFy=function(){s.call(this,"LqFy");
this.kn=!1;this.pD=null;this.xLa=null;this.B=0;this.nz={DD:[[{B:{id:0,name:[24,1,0,1,0],C_:"liq/smudge"}}],[{B:{id:1,name:[24,1,0,1,1],C_:"liq/reconstruct"}}],[{B:{id:2,name:[24,1,0,1,2],C_:"liq/smooth"}}],[{B:{id:3,name:[24,1,0,1,3],C_:"liq/twirl"}}],[{B:{id:4,name:[24,1,0,1,4],C_:"liq/shrink"}}],[{B:{id:5,name:[24,1,0,1,5],C_:"liq/blow"}}],[{B:{id:6,name:[24,1,0,1,6],C_:"liq/pleft"}}]],keys:[]};
this.oi=new Ut(this.nz,!1);this.oi.om(0);this.oi.l(K.E.T,this.xvy,this);this.De=pl.Kq();this.oN=null;
this.Ki=[];this.Ov=-1;this.rr=null;this.xaG=null;this.GE=null;this.xn=null;this.Gw=null;var b=K.m("div","flexrow");
this.HP=b;this.U.appendChild(b);b.appendChild(this.oi.U);this.view=new _D(!0);this.view.Gq(100,100);
this.view.l("mousedown",this.oL,this);this.view.l("mousemove",this.YF,this);this.view.l("mouseup",this.QB,this);
this.view.l("zoom",this._D,this);b.appendChild(this.view.U);var X=K.m("div","form");b.appendChild(X);
this.vz=X;X.style.width="230px";this.mR=[new nt([12,14,0],0,1e3,null,!1,!0),new nt([12,74],0,100,null,!1,!1),new nt([12,84],0,100,null,!1,!1),new nG([12,46]),new nt([12,0],0,100,null,!1,!1)];
var q=this.De.Brsh.v;q.Dmtr.v.val=100;var N=[100,50,100,!1,100];for(var J=0;J<this.mR.length;J++){var _=this.mR[J];
_.S(N[J]);_.l(K.E.$,this.xRg,this);X.appendChild(_.U)}var p=new nl("Reset",!0,null,!0);p.l("click",this.rD,this);
X.appendChild(p.U);this.qr=new na;this.qr.U=K.m("div","floatcont");this.x_=new nl("Menu",!1,null,!0);
this.x_.l("click",this.xv$,this);var z=this.x_.U;z.setAttribute("style","position:absolute; right:13px; top:47px")};
s.LqFy.prototype=new s;s.LqFy.prototype.to=function(){return!0};s.LqFy.prototype.RS=function(b){this.vz.appendChild(b)};
s.LqFy.prototype.xv$=function(b){var X=this.x_.U.getBoundingClientRect();this.qr.U.appendChild(this.vz);
var q=new Q(K.E.T,!0);q.data={V:K.a.Vj,SU:this.qr,x:X.right+X.width-290,y:X.top+X.height};this.X(q)};
s.LqFy.prototype.aZ=function(b){this.kn=b._(S.PU);var X=c.Un.hD(this.De,b);if(X!=null){this.De=X;this._D();
this.mR[0].S(X.Brsh.v.Dmtr.v.val)}else if(b._(S.zN)&&b._(S.NK)){var q=this.Ki;if(b._(S.FI)){if(this.Ov+1<q.length)this.Ov++}else if(this.Ov>0)this.Ov--;
this.oN.map=q[this.Ov].slice(0);this.Bd(null)}else this.view.aZ(b)};s.LqFy.prototype.xvy=function(b){if(b.data.V==K.a.Iq){this.B=b.data.B;
this.oi.om(this.B)}};s.LqFy.prototype.xRg=function(b){var X=b.currentTarget,q=this.mR.indexOf(X),N=this.De.Brsh.v;
if(q==0){N.Dmtr.v.val=X.N();this._D()}if(q>2)this.Bd(null)};s.LqFy.prototype.u$=function(){var b=this.Ki;
this.Ov++;b[this.Ov]=this.oN.map.slice(0);while(b.length>this.Ov+1)b.pop();while(b.length>50){b=b.slice(1);
this.Ov--}};s.LqFy.prototype.oL=function(b){this.ol();this.pD=this.view.rj();this.xLa=new Ue(0,0);this.l(K.E.Wh,this.rG,this)};
s.LqFy.prototype.YF=function(b){var X=this.view.rj(),q=new Ue(X.x-this.pD.x,X.y-this.pD.y);if(this.B==0||this.B==6)this.xiN(q);
this.pD=X};s.LqFy.prototype.QB=function(b){this.u$();this.ol()};s.LqFy.prototype.ol=function(){if(this.VM(K.E.Wh,this.rG))this.removeEventListener(K.E.Wh,this.rG,this)};
s.LqFy.prototype.rG=function(b){if(this.B!=0&&this.B!=6)this.xiN(new Ue(0,0))};s.LqFy.prototype.xiN=function(b){var X=this.oN,q=X.w$/this.rr.n,N=this.pD,J=this.De.Brsh.v,_=J.Dmtr.v.val,p=Date.now(),z=X.w$,g=X.ai,W=Math.sqrt(b.x*b.x+b.y*b.y),o=Math.max(1,Math.ceil(W/2)),y=b.x/o,D=b.y/o,m=N.clone(),k=this.B,O=this.mR[1].N()/100,L=this.mR[2].N()/100,I=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],H=I[k*2],Y=I[k*2+1],n=(1-O)*H+O*Y,w=_*q/2;
for(var t=0;t<o;t++){var j=[];m.x+=y;m.y+=D;x.Fv.xbd(X.map,z,g,k,m.x*q,m.y*q,w,1,O,L,new Ue(y*q,D*q),j,this.kn);
x.Fv.xbE(z,g,X.map,j,n*L)}var E=new R(0,0,z,g),h=new R(N.x*q,N.y*q,0,0);h.Ii(_*q*.5,_*q*.5);var u=h.clone();
u.offset(b.x*q,b.y*q);h=h.Tg(u);var Z=new R(h.x/q,h.y/q,h.n/q,h.z/q);Z=x.j.Ja(Z).be(this.rr);this.Bd(Z)};
s.LqFy.prototype._D=function(){var b=xa.im(this.De,null,this.view.Gc().d);this.view.rO(b)};s.LqFy.prototype.S=function(b,X,q,N,J){q=q.clone();
if(X==null)return;if(!N.Rj(q)){var _=q.Tg(N),p=x.K(_.c()*4);x.iX(X,q,p,_);X=p;q=_}q.x=q.y=0;this.GE=X;
this.xaG=J;this.Gw=X.slice(0);this.xn=X.slice(0);this.rr=q;this.oN=Kc.UU(new Uint8Array(b.LqMe.v).buffer);
var z=q.n,g=q.z;if(this.oN.w$/z<.22){this.oN={w$:Math.floor(z/4),ai:Math.floor(g/4)};this.oN.map=new Float32Array(this.oN.w$*this.oN.ai*2)}this.Ki=[];
this.Ov=-1;this.u$();this.Bd(null);this._D()};s.LqFy.prototype.N=function(){this.ol();var b=nm.Z$("LqFy"),X=new Uint8Array(Kc.Bn(this.oN)),q=[];
for(var N=0;N<X.length;N++)q.push(X[N]);b.LqMe.v=q;return b};s.LqFy.prototype.Gq=function(b,X){this.oi.Gq(b,X);
var q=this.x_.U,N=this.vz;this.HP.appendChild(N);this.HP.appendChild(q);if(b>450){N.style.marginLeft="1em";
this.HP.removeChild(q);this.view.Gq(b-238-45,X)}else{N.style.marginLeft="";this.HP.removeChild(N);this.view.Gq(b-40,X)}};
s.LqFy.prototype.f=function(){this.oi.f();for(var b=0;b<this.mR.length;b++)this.mR[b].f()};s.LqFy.prototype.rD=function(){this.ol();
this.oN.map.fill(0);this.u$();this.Bd(null)};s.LqFy.prototype.Bd=function(b){var X=this.rr,q=this.GE,N=this.Gw,J=this.oN;
x.Fv.SE(q,this.xn,X.n,X.z,b,J.map,J.w$,J.ai,0);if(this.mR[3].zF()){x.iX(this.xaG,X,N,X,b?b:X);x.t.TG("norm",this.xn,X,N,X,b?b:X,this.mR[4].N()/100)}else x.vM(this.xn,N);
this.view.S([{_z:X,data:N.buffer}])};s.GEfc=function(){s.call(this,"GEfc");this.GE=null;this.Gw=null;
this.rr=null;this.Ka=null;var b=K.m("div","flexrow");this.HP=b;this.U.appendChild(b);this.view=new _D;
this.view.Gq(100,100);b.appendChild(this.view.U);var X=K.m("div","form");b.appendChild(X);this.vz=X;
X.style.width="230px";X.style.marginLeft="1em";this.vX=[];var q=[];this.KQ={};for(var N in _M.names){this.vX.push(N);
q.push(_M.names[N]);var J=new s.GEfc.YS(N);this.KQ[N]=J;J.l(K.E.$,this.Bd,this)}this.IH=new xU(null,q);
X.appendChild(this.IH.U);this.IH.l(K.E.$,this.xRq,this);this.vG=K.m("div");X.appendChild(this.vG)};s.GEfc.prototype=new s;
s.GEfc.prototype.to=function(){return!0};s.GEfc.prototype.RS=function(b){this.vz.appendChild(b)};s.GEfc.prototype.TY=function(b,X){this.Ka=b};
s.GEfc.prototype.Gq=function(b,X){this.view.Gq(b-240,X)};s.GEfc.prototype.xRq=function(b){var X=this.vX[this.IH.N()],q=_M.Z$(X),N=this.KQ[X];
N.S(q);K.Jx(this.vG);this.vG.appendChild(N.U);this.Bd()};s.GEfc.prototype.S=function(b,X,q,N,J){var _=b.GEfk.v.GEft,p=this.vX.indexOf(_);
if(p==-1){alert("Unsupported gallery filter");this.close();return}this.IH.S(p);var z=this.KQ[_];z.S(b);
K.Jx(this.vG);this.vG.appendChild(z.U);q=q.clone();if(X==null)return;if(!N.Rj(q)){var g=q.Tg(N),W=x.K(g.c()*4);
x.iX(X,q,W,g);X=W;q=g}q.x=q.y=0;this.GE=X;this.Gw=X.slice(0);this.rr=q;this.Bd()};s.GEfc.prototype.N=function(){var b=this.vX[this.IH.N()];
return this.KQ[b].N()};s.GEfc.prototype.Bd=function(b){var X=this.rr,q=this.GE,N=this.Gw,J=this.vX[this.IH.N()],_=this.KQ[J].N(),p=this.Ka;
function z(g){return{D:g>>>16,q:g>>>8&255,b:g&255}}nm.dI("GEfc",{rect:this.rr,buffer:this.GE},_,z(p.pp),z(p.HO),{rect:this.rr,buffer:this.Gw},null);
this.view.S([{_z:X,data:N.buffer}])};s.GEfc.prototype.f=function(){for(var b in this.KQ)this.KQ[b].f()};
s.GEfc.YS=function(b){na.call(this);this.DC=b;this.U=K.m("div");this.GU={};var X=_M.Z$(b);for(var q in X){var N;
if(q=="__name"||q=="classID"||q=="GEfk"||["LghI","FlRs"].indexOf(q)!=-1)continue;else if(q=="Sz")N=new nt([12,14,0],1,50);
else if(q=="Dtl")N=new nt("Detail",1,15);else if(q=="Shrp")N=new nt("Sharpness",0,40);else if(q=="BrsT")N=new xU("Brush type","Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(","));
else if(q=="LghD")N=new xU("Light","Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(","));
else if(q=="SDir")N=new xU([12,33],["Right Diagonal","Horizontal","Left Diagonal","Vertical"]);else if(q=="EdgW")N=new nt("Edge Width",1,14);
else if(q=="EdgB")N=new nt("Edge Brightness",0,20);else if(q=="Smth")N=new nt([19,3,3],1,15);else if(q=="ClSz")N=new nt([12,61],3,100);
else if(q=="BrdT")N=new nt([7,9],1,20);else if(q=="HghS")N=new nt([12,64],0,20);else if(q=="HlSz")N=new nt([12,14,0],1,15);
else if(q=="Cntr")N=new nt([12,3,0],0,50);else if(q=="ScrT")N=new xU([12,62],["Circle","Dot",[10,35]]);
else if(q=="SprR")N=new nt("Spray Radius",0,25);else if(q=="StrL")N=new nt("Stroke Length",0,20);else console.log(q);
N.l(K.E.$,this.wr,this);this.GU[q]=N;this.U.appendChild(N.U)}};s.GEfc.YS.prototype=new na;s.GEfc.YS.prototype.wr=function(b){this.X(new Q(K.E.$,!1))};
s.GEfc.YS.prototype.S=function(b){for(var X in this.GU){var q;if("Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL".split(" ").indexOf(X)!=-1)q=b[X].v;
else if(X=="BrsT")q=_M.xxT.indexOf(b[X].v[X]);else if(X=="LghD")q=_M.ao.indexOf(b[X].v[X]);else if(X=="ScrT")q=_M.ac.indexOf(b[X].v[X]);
else if(X=="SDir")q=_M.af.indexOf(b[X].v.StrD);this.GU[X].S(q)}};s.GEfc.YS.prototype.N=function(){var b=_M.Z$(this.DC);
for(var X in this.GU){var q=this.GU[X].N();if("Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL".split(" ").indexOf(X)!=-1)b[X].v=q;
else if(X=="BrsT")b[X].v[X]=_M.xxT[q];else if(X=="LghD")b[X].v[X]=_M.ao[q];else if(X=="ScrT")b[X].v[X]=_M.ac[q];
else if(X=="SDir")b[X].v.StrD=_M.af[q]}return b};s.GEfc.YS.prototype.f=function(){for(var b in this.GU)this.GU[b].f()};
s.blnc=function(){s.call(this);var b=this.U;this.Ji=null;this.uo=new xU([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
this.uo.l(K.E.$,this.Bd,this);b.appendChild(this.uo.U);this.hV=[];for(var X=0;X<3;X++){var q=new nt(nY.Nq[X],-100,100);
q.l(K.E.$,this.bO,this);this.hV.push(q);b.appendChild(q.U)}this.vy=new nG([13,4]);this.vy.l(K.E.$,this.bO,this);
b.appendChild(this.vy.U)};s.blnc.prototype=new s;s.blnc.prototype.f=function(){this.uo.f();for(var b=0;
b<3;b++)this.hV[b].f();this.vy.f()};s.blnc.prototype.S=function(b){this.Ji=JSON.parse(JSON.stringify(b));
this.Bd()};s.blnc.prototype.N=function(b){var X=["ShdL","MdtL","HghL"],q=this.Ji[X[this.uo.N()]].v;for(var N=0;
N<3;N++)q[N].v=this.hV[N].N();this.Ji.PrsL.v=this.vy.N();return JSON.parse(JSON.stringify(this.Ji))};
s.blnc.prototype.Bd=function(b){var X=["ShdL","MdtL","HghL"],q=this.Ji[X[this.uo.N()]].v;for(var N=0;
N<3;N++)this.hV[N].S(q[N].v);this.vy.S(this.Ji.PrsL.v)};s.brit=function(){s.call(this,"brit");this.Gm.push(new nt([12,2],-150,150,""));
this.Gm.push(new nt([12,3,0],-100,100,""));this.Gm.push(new nG([12,3,1]));this.SF()};s.brit.prototype=new s;
s.brit.prototype.hL=function(b,X){X[0]=b.Brgh?b.Brgh.v:0;X[1]=b.Cntr?b.Cntr.v:0;X[2]=b.useLegacy?b.useLegacy.v:!1};
s.brit.prototype.h$=function(b,X){b.Brgh.v=X[0];b.Cntr.v=X[1];b.useLegacy.v=X[2]};s.curv=function(){s.call(this);
this.value=null;this.xu=null;var b=this.U;this.oS=new xU([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.oS.l(K.E.$,this.SL,this);b.appendChild(this.oS.U);this.Hk=new xU(null,["Spline","Sketch"]);this.Hk.l(K.E.$,this.xRE,this);
b.appendChild(this.Hk.U);this.hn=new bD;this.hn.l(K.E.$,this.Rr,this);b.appendChild(this.hn.U);this.vZ=new Kl("Sample from image",["#000000","#888888","#ffffff"]);
b.appendChild(this.vZ.U)};s.curv.prototype=new s;s.curv.prototype.f=function(){this.oS.f()};s.curv.prototype.xRE=function(b){var X=_T.zB(this.value,0),q=X.length==256?1:0,N=this.Hk.N();
if(q==N)return;var J=nm.Z$("curv");if(N==1){var _=[];for(var p=0;p<256;p++)_.push(p);_T.DA(J,0,_)}this.S(J);
this.bO()};s.curv.prototype.Rr=function(){_T.DA(this.value,this.oS.N(),this.hn.N());this.bO()};s.curv.prototype.SL=function(){var b=this.oS.N(),X=_T.zB(this.value,b),q=X.length==256?1:0;
this.Hk.S(q);if(this.xu)this.hn.uh(this.xu[b],this.xu[4]*[1,.33,.33,.33][b],["#ccc","#fcc","#cfc","#ccf"][b]);
this.hn.S(X)};s.curv.prototype.xh=function(){return!0};s.curv.prototype.TE=function(b,X,q,N,J){var _=this.value,p=this.vZ.N();
this.value=nm.Z$("curv");this.bO();var z=c.ES.gA(b,J,1),g=[z>>>16&255,z>>>8&255,z&255];for(var W=0;W<3;
W++){var o=_T.zB(_,1+W);if(p==0)o[0].v.Hrzn.v=g[W];if(p==1){var y=(g[0]+g[1]+g[2])*.333,D=Math.log(g[W]/255)/Math.log(y/255),m=Math.min(999,Math.max(10,Math.round(100*D)));
if(o.length==2)o.splice(1,0,JSON.parse(JSON.stringify(o[0])));o[1].v.Hrzn.v=127-Math.log(m/100)*127;
o[1].v.Vrtc.v=127}if(p==2)o[o.length-1].v.Hrzn.v=g[W];_T.DA(_,1+W,o)}this.S(_);this.bO()};s.curv.prototype.S=function(b){this.value=b;
this.SL()};s.curv.prototype.uh=function(b){this.xu=b;this.SL()};s.curv.prototype.N=function(b){return JSON.parse(JSON.stringify(this.value))};
s.expA=function(){s.call(this,"expA");this.Gm.push(new nt([12,5],-20,20,null,3));this.Gm.push(new nt([12,6],-.5,.5,null,3));
this.Gm.push(new nt([12,7],.01,6.99,null,3));this.SF()};s.expA.prototype=new s;s.expA.prototype.hL=function(b,X){X[0]=b.Exps.v;
X[1]=b.Ofst.v;X[2]=b.gammaCorrection.v};s.expA.prototype.h$=function(b,X){b.Exps.v=X[0];b.Ofst.v=X[1];
b.gammaCorrection.v=X[2]};s.grdm=function(){s.call(this,"grdm");this.Gm.push(new KS(!0,null,!0));this.Gm.push(new nG([12,23,0]));
this.SF()};s.grdm.prototype=new s;s.grdm.prototype.hL=function(b,X){X[0]=b.Grad.v;X[1]=b.Rvrs?b.Rvrs.v:!1};
s.grdm.prototype.h$=function(b,X){b.Grad.v=X[0];b.Rvrs={t:"bool",v:X[1]}};s.grdm.prototype.TY=function(b,X){this.Gm[0].vo(b.pp,b.HO);
if(X==n_.LX||X==n_.$f||X==n_.FA)this.Gm[0].pz(b.xb)};s.selc=function(){s.call(this);var b=this.U;this.SZ=[];
this.tr=null;this.uo=new xU([12,82],nY.aG.concat([[13,1,8],[13,1,13],[13,1,10]]));this.uo.l(K.E.$,this.wr,this);
b.appendChild(this.uo.U);for(var X=0;X<4;X++){var q=new nt(nY.xAi[X],-100,100,"%");q.l(K.E.$,this.wr,this);
this.SZ.push(q);b.appendChild(q.U)}this.Rx=new nG([13,3]);b.appendChild(this.Rx.U);this.Rx.l(K.E.$,this.wr,this)};
s.selc.prototype=new s;s.selc.prototype.f=function(){this.uo.f();this.Rx.f();for(var b=0;b<4;b++)this.SZ[b].f()};
s.selc.prototype.S=function(b){this.tr=JSON.parse(JSON.stringify(b));this.Bd()};s.selc.prototype.N=function(b){return JSON.parse(JSON.stringify(this.tr))};
s.selc.prototype.wr=function(b){if(b.target!=this.uo){var X=this.tr,q=[];for(var N=0;N<4;N++)q[N]=this.SZ[N].N();
gT.DA(X,this.uo.N(),q);X.Mthd={t:"enum",v:{CrcM:this.Rx.N()?"Absl":"Rltv"}}}this.Bd();this.bO()};s.selc.prototype.Bd=function(){var b=this.tr,X=gT.zB(b,this.uo.N());
for(var q=0;q<4;q++)this.SZ[q].S(X[q]);this.Rx.S(b.Mthd?b.Mthd.v.CrcM=="Absl":!1)};s.blwh=function(){s.call(this,"blwh");
this.Gm.push(new nG([12,11]));this.Gm.push(new bh(!0));for(var b=0;b<6;b++)this.Gm.push(new nt(nY.aG[b],-200,300));
this.SF()};s.blwh.prototype=new s;s.blwh.prototype.hL=function(b,X){X[0]=b.useTint.v;X[1]=b.tintColor.v;
var q="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var N=0;N<6;N++)X[2+N]=b[q[N]].v};s.blwh.prototype.h$=function(b,X){b.useTint.v=X[0];
b.tintColor.v=X[1];var q="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var N=0;N<6;N++)b[q[N]].v=X[2+N]};
s.hue2=function(){s.call(this);this.value=null;this.uO=null;this.xPi=null;var b=this.U;this.uo=new xU([12,12],["Master"].concat(nY.aG));
this.uo.l(K.E.$,this.SL,this);b.appendChild(this.uo.U);this.tE=new nt([12,8],-180,180);this.tE.l(K.E.$,this.oT,this);
b.appendChild(this.tE.U);this.KT=new nt([12,9],-100,100);this.KT.l(K.E.$,this.oT,this);b.appendChild(this.KT.U);
this.Rg=new nt([12,10],-100,100);this.Rg.l(K.E.$,this.oT,this);b.appendChild(this.Rg.U);this.RH=new nG([12,11]);
this.RH.l(K.E.$,this.xRa,this);b.appendChild(this.RH.U);this.xPC=new _L("...",!0);b.appendChild(this.xPC.U)};
s.hue2.prototype=new s;s.hue2.prototype.f=function(){this.tE.f();this.KT.f();this.Rg.f();this.RH.f();
this.uo.f()};s.hue2.prototype.xRa=function(b){var X=this.RH.N();this.value.Clrz.v=X;if(X)this.uo.S(0);
this.SL();this.bO()};s.hue2.prototype.oT=function(b){var X=this.value.Clrz.v,q=this.uo.N(),N=xz.zB(this.value,q),J=q==0?N:N.hV;
J[0]=this.tE.N();var _=this.KT.N();J[1]=X?Math.max(0,_):_;J[2]=this.Rg.N();xz.DA(this.value,q,N);this.SL();
this.bO()};s.hue2.prototype.SL=function(){var b=this.value.Clrz?this.value.Clrz.v:!1,J="";this.RH.S(b);
if(b)this.uo.Sb();else this.uo.Ic();var X=this.uo.N(),q=xz.zB(this.value,X),N=X==0?q:q.hV;this.tE.S(N[0]);
this.KT.S(N[1]);this.Rg.S(N[2]);if(!b){J+=xA.get([5,8])+": ";var X=this.uo.N();if(X==0)J+=xA.get([13,2]);
else J+=q.ay}this.xPC.S(J)};s.hue2.prototype.xh=function(){return!0};s.hue2.prototype.vP=function(b,X,q,N,J){var _=this.value;
this.value=nm.Z$("hue2");this.bO();var p=c.ES.gA(b,J,1),z=[p>>>16&255,p>>>8&255,p&255],g=x.Hj(z[0]/255,z[1]/255,z[2]/255);
this.uo.S(1+Math.round(g.ai*6)%6);this.S(_);this.bO();this.uO=J.x;this.xPi=this.KT.N()};s.hue2.prototype.fI=function(b,X,q,N,J){if(this.uO!=null){var _=J.x-this.uO;
_=Math.max(-100,Math.min(100,this.xPi+.5*_));this.KT.S(_);this.oT()}};s.hue2.prototype.TE=function(b,X,q,N,J){this.uO=null};
s.hue2.prototype.S=function(b){this.value=JSON.parse(JSON.stringify(b));this.SL()};s.hue2.prototype.N=function(b){return JSON.parse(JSON.stringify(this.value))};
s.levl=function(){s.call(this);this.value=null;this.xu=null;this.xj=[new Ue(0,0),new Ue(0,0),new Ue(0,0),new Ue(0,0),new Ue(0,0)];
this.Uf=-1;this.ur=this.BG.bind(this);this.uc=this.xx.bind(this);var b=this.U;this.oS=new xU([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.oS.l(K.E.$,this.SL,this);b.appendChild(this.oS.U);var X=K.m("div","");b.appendChild(X);var q=K.m("div","");
b.appendChild(q);this.ze=K.m("canvas");X.appendChild(this.ze);this.aK=this.ze.getContext("2d");this.Gi=new Ue(256,120);
this.ze.setAttribute("style","display:block");K.Ss(this.ze,this.Gi.x,this.Gi.y,this.aK);K.FZ(this.ze);
K.mU(this.ze,this.Za.bind(this));this.DR=K.m("canvas","");q.appendChild(this.DR);this.UO=this.DR.getContext("2d");
this.xP=new Ue(this.Gi.x,40);this.DR.setAttribute("style","display:block");K.Ss(this.DR,this.xP.x,this.xP.y,this.UO);
K.FZ(this.DR);K.mU(this.DR,this.xRu.bind(this));var N=this.xPZ=[];for(var J=0;J<5;J++){var _=new pH(null,null,3);
N.push(_);_.l(K.E.$,this.xRi,this);(J<2||J==4?X:q).appendChild(_.U)}X.appendChild(N[1].U);N[4].U.setAttribute("style","margin: 0 4.7em");
N[3].U.setAttribute("style","margin:0 0 0 13em");this.vZ=new Kl("Sample from image",["#000000","#888888","#ffffff"]);
b.appendChild(this.vZ.U)};s.levl.prototype=new s;s.levl.prototype.f=function(){this.oS.f()};s.levl.prototype.xRi=function(b){var X=[];
for(var q=0;q<5;q++){var N=255,J=1;if(q==4){N=999;J=100}var _=parseFloat(this.xPZ[q].N());X[q]=Math.max(0,Math.min(N,_*J))}_V.DA(this.value,this.oS.N(),X);
this.SL();this.bO()};s.levl.prototype.SL=function(b){var X=this.Gi.x,q=this.Gi.y,N=this.oS.N(),J=this.aK;
J.clearRect(0,0,X,q);J.fillStyle="#cccccc";J.fillRect(8,8,X-16,q-16-8);if(this.xu){if(N==0){x.set(this.xu[0],0);
var _=JSON.parse(JSON.stringify(this.value));_V.DA(_,0,[0,255,0,255,100]);var p=nY.fb("levl",_),z=[p.zs,p.NQ,p.VG];
for(var g=0;g<3;g++){var W=this.xu[1+g],o=z[g];for(var y=0;y<256;y++)this.xu[0][o[y]]+=W[y]}}var D=this.xu[N],m=0;
for(var y=0;y<D.length;y++)m+=D[y];J.fillStyle="#333333";J.beginPath();J.moveTo(8,q-16);for(var y=0;
y<256;y++){var k=55*D[y]/m;J.lineTo(8+y/256*(X-16),Math.max(8,q-16-q*k))}J.lineTo(X-8,q-16);J.closePath();
J.fill()}var O=_V.zB(this.value,N);for(var y=0;y<5;y++)this.xPZ[y].S(O[y]/(y==4?100:1));this.xj[0].gM(8+O[0]/255*(X-16),q-14);
this.xj[1].gM(8+O[1]/255*(X-16),q-14);var L=Math.log(O[4]/100)/Math.log(9.99);L=.5-L/2;this.xj[4].gM(this.xj[0].x+L*(this.xj[1].x-this.xj[0].x),q-14);
this.rZ(J,this.xj[0],"#000000");this.rZ(J,this.xj[4],"#777777");this.rZ(J,this.xj[1],"#ffffff");var X=this.xP.x,q=this.xP.y;
J=this.UO;J.clearRect(0,0,X,q);var I=J.createLinearGradient(0,0,X-16,0);I.addColorStop(0,"black");I.addColorStop(1,"white");
J.fillStyle=I;J.fillRect(8,8,X-16,16);this.xj[2].gM(8+O[2]/255*(X-16),q-14);this.xj[3].gM(8+O[3]/255*(X-16),q-14);
this.rZ(J,this.xj[2],"#000000");this.rZ(J,this.xj[3],"#ffffff")};s.levl.prototype.rZ=function(b,X,q){b.fillStyle=q;
b.fillRect(X.x-5,X.y,10,10)};s.levl.prototype.Za=function(b){var X=K.HW(b,this.ze);if(Ue.NH(this.xj[4],X)<10)this.Uf=4;
for(var q=0;q<3;q++)if(Ue.NH(this.xj[q],X)<10)this.Uf=q;this.xAN()};s.levl.prototype.xRu=function(b){var X=K.HW(b,this.DR);
for(var q=2;q<4;q++)if(Ue.NH(this.xj[q],X)<10)this.Uf=q;this.xAN()};s.levl.prototype.xAN=function(b){if(this.Uf==-1)return;
K.YZ(document.body,this.ur);K.Lx(document.body,this.uc)};s.levl.prototype.BG=function(b){var X=_V.zB(this.value,this.oS.N()),q=K.HW(b,this.Uf==2&&this.Uf==3?this.DR:this.ze),N=255*(q.x-8)/(this.Gi.x-16);
N=Math.max(0,Math.min(255,N));if(this.Uf==0)N=Math.min(N,X[1]-2);if(this.Uf==1)N=Math.max(N,X[0]+2);
if(this.Uf!=4)X[this.Uf]=Math.round(N);else{var J=(N-X[0])/(X[1]-X[0]);J=1-2*J;J=Math.pow(9.99,J);X[4]=Math.min(999,Math.max(10,Math.round(J*100)))}_V.DA(this.value,this.oS.N(),X);
this.SL();this.bO()};s.levl.prototype.xx=function(b){K.dW(document.body,this.ur);K.d$(document.body,this.uc);
this.Uf=-1};s.levl.prototype.xh=function(){return!0};s.levl.prototype.TE=function(b,X,q,N,J){var _=this.value,p=this.vZ.N();
this.value=nm.Z$("levl");this.bO();var z=c.ES.gA(b,J,1),g=[z>>>16&255,z>>>8&255,z&255];for(var W=0;W<3;
W++){var o=_V.zB(_,1+W);if(p==0)o[0]=g[W];if(p==1){var y=Math.log(g[W]/255)/Math.log((g[0]+g[1]+g[2])*.333/255);
o[4]=Math.min(999,Math.max(10,Math.round(100*y)))}if(p==2)o[1]=g[W];_V.DA(_,1+W,o)}this.S(_);this.bO()};
s.levl.prototype.S=function(b){this.value=b;this.SL()};s.levl.prototype.uh=function(b){this.xu=b;this.SL()};
s.levl.prototype.N=function(b){return JSON.parse(JSON.stringify(this.value))};s.phfl=function(){s.call(this,"phfl");
this.Gm.push(new bh);this.Gm.push(new nt([12,74],0,100,"%"));this.Gm.push(new nG([13,4]));this.SF()};
s.phfl.prototype=new s;s.phfl.prototype.hL=function(b,X){X[0]=b.Clr.v;X[1]=b.Dnst.v;X[2]=b.PrsL.v};s.phfl.prototype.h$=function(b,X){var q=x.Z.vx(X[0]),N=b.Clr.v,J=x.tT(q.D,q.q,q.b);
N.Lmnc.v=J.kf;N.A.v=J.i;N.B.v=J.b;b.Dnst.v=X[1];b.PrsL.v=X[2]};s.vibA=function(){s.call(this,"vibA");
this.Gm.push(new nt([12,13],-100,100,null));this.Gm.push(new nt([12,9],-100,100,null));this.SF()};s.vibA.prototype=new s;
s.vibA.prototype.hL=function(b,X){X[0]=b.vibrance?b.vibrance.v:0;X[1]=b.Strt?b.Strt.v:0};s.vibA.prototype.h$=function(b,X){b.vibrance.v=X[0];
b.Strt.v=X[1]};s.thrs=function(){s.call(this,"thrs");this.Gm.push(new nt([4,13],1,255,null));this.SF()};
s.thrs.prototype=new s;s.thrs.prototype.hL=function(b,X){X[0]=b.Lvl.v};s.thrs.prototype.h$=function(b,X){b.Lvl.v=X[0]};
s.mixr=function(){s.call(this);var b=this.U;this.SZ=[];this.tr=null;this.uo=new xU([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.uo.l(K.E.$,this.wr,this);b.appendChild(this.uo.U);K.Kc(b);this.Uq=new nG([12,60]);b.appendChild(this.Uq.U);
this.Uq.l(K.E.$,this.wr,this);for(var X=0;X<4;X++){var q=new nt([[13,1,1],[13,1,4],[13,1,5],[13,2]][X],-200,200,"%");
q.l(K.E.$,this.wr,this);this.SZ.push(q);b.appendChild(q.U)}};s.mixr.prototype=new s;s.mixr.prototype.f=function(){this.uo.f();
this.Uq.f();for(var b=0;b<4;b++)this.SZ[b].f()};s.mixr.prototype.S=function(b){this.tr=JSON.parse(JSON.stringify(b));
this.Bd()};s.mixr.prototype.N=function(b){return JSON.parse(JSON.stringify(this.tr))};s.mixr.prototype.wr=function(b){if(b.target!=this.uo){var X=nY.Nw(this.tr);
if(b.target==this.Uq){X.Uq=this.Uq.N();if(X.Uq)X.A=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else X.A=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var q=(X.Uq?0:this.uo.N())*5,N=this.SZ.indexOf(b.target);
X.A[q+(N<3?N:4)]=b.target.N()}this.tr=nY.xAO(X)}this.Bd();this.bO()};s.mixr.prototype.Bd=function(){var b=nY.Nw(this.tr);
this.Uq.S(b.Uq);var X=(b.Uq?0:this.uo.N())*5;for(var q=0;q<4;q++)this.SZ[q].S(b.A[X+(q<3?q:4)])};s.post=function(){s.call(this,"post");
this.Gm.push(new nt([4,1],2,255,null));this.SF()};s.post.prototype=new s;s.post.prototype.hL=function(b,X){X[0]=b.Lvls.v};
s.post.prototype.h$=function(b,X){b.Lvls.v=X[0]};s.clrL=function(){s.call(this,"clrL");this.Gm.push(new pK("LUTs"));
this.SF()};s.clrL.prototype=new s;s.clrL.prototype.hL=function(b,X){X[0]=b};s.clrL.prototype.h$=function(b,X){var q=X[0];
for(var N in q)b[N]=q[N]};s.clrL.prototype.TY=function(b,X){if(X==n_.LX||X==n_.Dk)this.Gm[0].pz(b.xMA)};
s.rplc=function(){s.call(this,"rplc");this.Gm.push(new nt([12,92],0,200));this.Gm.push(new bh);this.Gm.push(new nt([12,8],-180,180));
this.Gm.push(new nt([12,9],-100,100));this.Gm.push(new nt([12,10],-100,100));this.SF()};s.rplc.prototype=new s;
s.rplc.prototype.hL=function(b,X){X[0]=b.Fzns.v;X[1]=b.Mxm.v;X[2]=b.H.v;X[3]=b.Strt.v;X[4]=b.Lght.v};
s.rplc.prototype.h$=function(b,X){function q(J,_){_.Lmnc.v=J.kf;_.A.v=J.i;_.B.v=J.b}b.Fzns.v=X[0];b.H.v=X[2];
b.Strt.v=X[3];b.Lght.v=X[4];var N=x.Z.vx(X[1]),J=x.tT(N.D,N.q,N.b);q(J,b.Mnm.v);q(J,b.Mxm.v)};s.fade=function(){s.call(this,"fade");
this.Gm.push(new nt([12,0],0,100,"%"));this.Gm.push(new xU([12,19,0],nD.IH,!1,nD.Mo));this.SF()};s.fade.prototype=new s;
s.fade.prototype.hL=function(b,X){X[0]=b.Opct.v.val;X[1]=nD.$s.indexOf(b.Md.v.BlnM)};s.fade.prototype.h$=function(b,X){b.Opct.v.val=X[0];
b.Md.v.BlnM=nD.$s[X[1]]};function xq(b,X){na.call(this);if(b==null)return;this.id=X;this.xM=b;this.cj=null;
this.U=K.m("div","window "+X);this.Yv=K.m("div","head");this.xM$=K.m("span","wname");this.Yv.appendChild(this.xM$);
this.U.appendChild(this.Yv);this.BD=this.xRL.bind(this);this.xt=this.xRN.bind(this);this.xG=this.xRO.bind(this);
K.FZ(this.Yv);K.mU(this.Yv,this.BD);this.cD=K.m("span","cross");this.Yv.appendChild(this.cD);xq.prototype.f.call(this);
K.Lx(this.cD,this.xxt.bind(this));this.body=K.m("div","body");this.U.appendChild(this.body)}xq.prototype=new na;
xq.prototype.Ze=function(){return!1};xq.prototype.xh=function(){return!1};xq.prototype.f=function(){if(this.xM==null)return;
this.xM$.textContent=xA.get(this.xM);var b=PIMG.__cross==null?"filter:invert(1);":"";this.cD.setAttribute("style","background-image:url("+PIMG.cross+");"+b)};
xq.prototype.vP=function(b,X,q,N,J){};xq.prototype.tx=function(b,X,q,N,J){};xq.prototype.fI=function(b,X,q,N,J){};
xq.prototype.TE=function(b,X,q,N,J){};xq.prototype.cb=function(b,X,q,N,J){};xq.prototype.aZ=function(b,X,q,N){if(N._(S.jV)&&this.Th)this.Th()};
xq.prototype.Hd=function(b){return!1};xq.prototype.GV=function(b,X){return!0};xq.prototype.Fr=function(b,X,q,N){};
xq.prototype.TY=function(b,X){};xq.prototype.to=function(){return!1};xq.prototype.on=function(b,X){return b<450||X<450?new Ue(0,0):new Ue(150,150)};
xq.prototype.Gq=function(){};xq.prototype.close=function(){this.X(new Q(K.E.eh))};xq.prototype.xRL=function(b){this.cj=K.HW(b,this.U);
K.YZ(window,this.xt);K.Lx(window,this.xG)};xq.prototype.xRN=function(b){var X=this.U.parentNode,q=K.HW(b,X);
this.U.style.left=Math.round(q.x-this.cj.x)+"px";this.U.style.top=X.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(q.y-this.cj.y)))+"px"};
xq.prototype.xRO=function(b){K.dW(window,this.xt);K.d$(window,this.xG)};xq.prototype.xxt=function(b){this.X(new Q("closebtn"));
this.close()};function _G(){xq.call(this,[0,13,0],"account");this.qw=K.m("div","form padded scrollable");
this.qw.setAttribute("style","max-width:48em;  max-height:33em;");this.body.appendChild(this.qw);this.Gv=[new _G.WU,new _G.Bx(_G.xFc),new _G.Bx(_G.xFj)];
for(var b=0;b<this.Gv.length;b++)this.Gv[b].parent=this;this.l("showpage",this.xRV,this)}_G.prototype=new xq;
_G.prototype.xRV=function(b){K.Jx(this.qw);this.qw.scrollTop=0;this.qw.appendChild(this.Gv[b.data.aP].U)};
_G.prototype.f=function(){xq.prototype.f.call(this);for(var b=0;b<this.Gv.length;b++)this.Gv[b].f()};
_G.prototype.Fr=function(b,X,q){K.Jx(this.qw);var N=this.Gv[0];this.qw.appendChild(N.U);N.Fr();this.f()};
_G.prototype.TY=function(b,X){this.Fr(null,null,null)};_G.WU=function(){na.call(this);this.U=K.m("div");
var b=this.U,X,q,N="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; font-weight:bold; color:#ffffff; cursor:pointer; margin:4px 0;";
this.rg=K.m("div");b.appendChild(this.rg);this.xv=new nl([0,11],!1,null,!0);this.xv.U.setAttribute("style","background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.xv.l("click",this.n$,this);b.appendChild(this.xv.U);this.cc=new nl([0,13,1],!1,null,!0);this.cc.l("click",this.xUf,this);
b.appendChild(this.cc.U);this.cm=new nl("Contact",!1,null,!0);this.cm.l("click",this.xR$,this);b.appendChild(this.cm.U);
X=K.m("h2","");X.innerHTML="Account types";b.appendChild(X);q=K.m("table","");q.innerHTML="\t\t\t<table>\t\t\t\t<tr>   <th class=\"left\"></th><th>Free</th><th>Premium</th> </tr>\t\t\t\t<tr>   <td class=\"left\">Full Functionality</td><td class=\"yes\">\u2713</td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<tr>   <td class=\"left\">No Ads</td><td class=\"no\"> </td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<tr>   <td class=\"left\">Steps in History</td><td class=\"no\" style=\"font-size:1.3em\">30</td><td class=\"yes\">60</td>    </tr>\t\t\t\t<!--<tr class=\"lastrow\">   <td class=\"left\">Cost</td><td>Free</td><td><big>$5</big> per month</td>    </tr>-->\t\t\t</table>\t\t";
b.appendChild(q);var J=this.xLP=[[9,30,1],[10,90,1],[40,365,1],[15,30,5],[30,90,5],[120,365,5],[50,30,20],[100,90,20],[400,365,20],[40,30,1e3],[80,90,1e3],[300,365,1e3],[100,30,5e3],[200,90,5e3],[700,365,5e3],[200,30,2e4],[400,90,2e4],[1400,365,2e4]];
this.Or=[];for(var _=0;_<J.length;_++)this.Or.push(new nl("Buy: $"+J[_][0],!1,null,!0));for(var _=0;
_<this.Or.length;_++){this.Or[_].U.setAttribute("style",N);this.Or[_].l("click",this.xFb,this)}X=K.m("h2","");
X.innerHTML="Go Premium";b.appendChild(X);this.xl=new nl("...",!0);this.xl.U.setAttribute("style",N);
b.appendChild(this.xl.U);q=this.xhl(3,["Single user",this.Or[0],this.Or[1],this.Or[2],"Team of 5",this.Or[3],this.Or[4],this.Or[5],"Team of 20",this.Or[6],this.Or[7],this.Or[8]]);
b.appendChild(q);this.xiF=new nG("I accept",!0,"");b.appendChild(this.xiF.U);this.ck=new nl([0,13,1],!1,null,!0);
this.ck.l("click",this.xUf,this);b.appendChild(this.ck.U);X=K.m("h2","");X.textContent="Team Settings";
b.appendChild(X);this.Kf=new nG("Join a team");b.appendChild(this.Kf.U);this.Kf.l(K.E.$,this.xhg,this);
this.xW=new pH("Email of a leader",null,14);b.appendChild(this.xW.U);K.Kc(b);this.RE=new nG("Start a team");
b.appendChild(this.RE.U);this.RE.l(K.E.$,this.xhg,this);var p=new _L("Emails of other members:");b.appendChild(p.U);
K.Kc(b);this.Pb=K.m("textarea");this.Pb.setAttribute("rows",3);this.Pb.setAttribute("cols",70);this.Pb.setAttribute("style","display:block;tab-size:4;");
b.appendChild(this.Pb);var z=new nl("Save Team Settings",!1,null,!0);b.appendChild(z.U);z.l("click",this.xRe,this);
var g=this.xLi=new nl("More about Teams",!1,null,!0);b.appendChild(g.U);g.l("click",this.xqK,this);X=K.m("h2","");
X.innerHTML="Distributor Account";b.appendChild(X);this.xT=new nl("...",!0);this.xT.U.setAttribute("style",N);
b.appendChild(this.xT.U);q=this.xhl(3,["1000 views/month",this.Or[9],this.Or[10],this.Or[11],"5000 views/month",this.Or[12],this.Or[13],this.Or[14],"20000 views/month",this.Or[15],this.Or[16],this.Or[17]]);
b.appendChild(q);this.xz=new pH("Domain name (e.g. domain.com)",null,14);b.appendChild(this.xz.U);K.Kc(b);
var z=new nl("Save Domain Settings",!1,null,!0);z.TU();b.appendChild(z.U);z.l("click",this.xFU,this);
var g=new nl("More about Distributors",!1,null,!0);b.appendChild(g.U);g.l("click",this.xqK,this)};_G.WU.prototype=new na;
_G.WU.prototype.xUf=function(b){var X=new Q("showpage",!0);X.data={aP:1};this.X(X)};_G.WU.prototype.xR$=function(b){var X=new Q("showpage",!0);
X.data={aP:2};this.X(X)};_G.WU.prototype.f=function(){this.xv.vQ(nd.To()?xA.get([0,11]):xA.get([0,10]));
this.ck.f();this.cc.f();this.cm.f()};_G.WU.prototype.xqK=function(b){var X=new Q(K.E.T,!0);X.data={V:K.a.WI,link:"https://www.photopea.com/api/accounts#"+(b.target==this.xLi?"teams":"distributors")};
this.X(X)};_G.WU.prototype.xhg=function(b){var X=b.currentTarget==this.Kf;this.Kf.S(X);this.RE.S(!X)};
_G.WU.prototype.xRe=function(b){var X=this.Kf.N(),q=this.xW.N().trim(),N=this.Pb.value.trim();if(q.length>60){alert("Too long email address");
return}if(N.length>600){alert("Too many team members");return}N=N.split(",").join(" ").trim();N=N.replace(/\s+/g," ");
if(N=="")N=[];else N=N.split(" ");var J=nd.HB();if(J==null)J={};if(J.acc==null)J.acc={};J.acc.team={jin:X,ldr:q,mmb:N};
nd._n(J,this.FE.bind(this));alert("Saved!");this.Fr()};_G.WU.prototype.xFU=function(b){var X=this.xz.N().trim();
if(X.length==0){alert("Domain is empty.");return}if(!nd.To()){alert("You have to log in first.");return}if(nd.tF().distrib=="0"){alert("Order a distributor account first.");
return}var q=nd.HB();if(q==null)q={};if(q.acc==null)q.acc={};q.acc.dname=X;nd._n(q,this.FE.bind(this));
alert("Saved!");this.Fr()};_G.WU.prototype.Fr=function(){if(nd.To()){var b=nd.tF();if(b==null)return;
this.rg.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+b.name+"</span> "+b.email+" <br/>"}else this.rg.innerHTML="Logging In is free. Your environment settings will be synchronized across all devices. <br/>";
var X=nd.To()&&nd.HN();this.xl.U.style.display=X?"block":"none";if(X){var q=parseInt(b[K.eB("!&|'&50")])-Date.now()*(1/1e3),N=parseInt(b.ptype),J;
if(N==-1)J="member of a team";else if(N==1)J="Single user";else J="Team of "+N;this.xl.vQ("Premium active for "+Math.round(q/(60*60*24))+" more days! ("+J+")")}var _=nd.To()&&b.distrib*1e3>Date.now();
this.xT.U.style.display=_?"block":"none";if(_){var q=parseInt(b.distrib)-Date.now()/1e3,N=parseInt(b.ptype);
this.xT.vQ("Distributor active for "+Math.round(q/(60*60*24))+" more days! ("+N+" visitos)")}var p=nd.HB();
if(p&&p.acc&&p.acc.team){var z=p.acc.team;this.Kf.S(z.jin);this.RE.S(!z.jin);this.xW.S(z.ldr);this.Pb.value=z.mmb.join(", ")}else{this.Kf.S(!0);
this.RE.S(!1);this.xW.S("");this.Pb.value=""}if(p&&p.acc&&p.acc.dname)this.xz.S(p.acc.dname);else this.xz.S("")};
_G.WU.prototype.xhl=function(b,X){var q=K.m("table");q.innerHTML="\t\t\t\t<table>\t\t\t\t\t<tr>   <th class=\"left\"></th><th>30 days</th><th>90 days</th> "+(b==3?"<th>365 days</th>":"")+" </tr>\t\t\t\t</table>\t\t\t";
for(var N=0;N<X.length;N+=b+1){var J=K.m("tr"),_;q.appendChild(J);_=K.m("td","left");J.appendChild(_);
_.innerHTML="<b>"+X[N]+"</b>";for(var p=0;p<b;p++){_=K.m("td");J.appendChild(_);_.appendChild(X[N+1+p].U)}}return q};
_G.WU.prototype.xFb=function(b){var X=this.Or.indexOf(b.currentTarget);if(!nd.To()){alert("You must log in before buying Premium");
return}if(this.xiF.N()==!1&&X<9){alert("You must accept Terms of Service");return}var q=this.xLP[X],N=q[1],J=q[2],_=nd.To()&&nd.HN();
if(_&&J<1e3){alert("You already have premium.");return}nd.order(N,J,this.FE.bind(this));this.Fa()};_G.WU.prototype.FE=function(b){if(nd.To()&&nd.tF().msg)alert(nd.tF().msg);
this.Fr();this.Fa()};_G.WU.prototype.n$=function(b){if(nd.To()){nd.xSr();this.Fa();this.Fr(null,null,null)}else nd.n$(this.xFK.bind(this))};
_G.WU.prototype.xFK=function(){var b=new Q(K.E.T,!0);b.data={V:K.a.xLd};this.X(b)};_G.WU.prototype.Fa=function(){var b=new Q(K.E.T,!0);
b.data={V:K.a.xqM};this.X(b)};_G.Bx=function(b){na.call(this);this.U=K.m("div");var X=this.U,q=this.xLl=new nl([0,13,2],!1,null,!0);
q.l("click",this.xFz,this);X.appendChild(q.U);var N=K.m("div","");N.innerHTML=b;X.appendChild(N)};_G.Bx.prototype=new na;
_G.Bx.prototype.xFz=function(b){var X=new Q("showpage",!0);X.data={aP:0};this.X(X)};_G.Bx.prototype.f=function(){this.xLl.f()};
_G.xFj="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is a service operated by Ivan Kuckir (I\u010C 04498411).</p>\t\t<ul>\t\t\t<li><b>Address</b>: H\xE1lkova 483, Kostelec nad Orlic\xED, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com</li>\t\t\t<li><b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<p>You can ask for a refund by writing us an email.</p>\t\t<p>You can pay with PayPal or your credit / debit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t";
_G.xFc="\t\t<h1>Terms of Service</h1>\t\t\t\t<h2>What are these Terms?</h2>\t\t<p>\t\tThese terms form a binding contract between you and us (\"these Terms\") regarding your access to and use of any of our web sites, \t\tweb applications, services, products and Software that contain a link to these Terms (individually and collectively, the \"Service\"). \t\t</p>\t\t\t\t<h2>Changes to the Service or these Terms</h2>\t\t<p>\t\tWe may make changes to, update (or not update) or discontinue any part, element, functionality, availability or offering of the Service.\t\tWe may also make changes or updates to these Terms at any time and for any reason in our sole discretion, including complying with applicable law. \t\tIf we make any material changes to these Terms, we\u2019ll provide notice to you in any way we deem reasonable including, for example, \t\tby posting a notice of the change on our web site(s) or in-service, or by sending a notice to your email address if you\u2019ve given it to us.\t\t</p>\t\t\t\t<h2>Your content</h2>\t\t<p>\t\tThese Terms don\u2019t grant us (and we don\u2019t claim) any ownership rights in Your Content.\t\t</p>\t\t<p>\t\t<b>Posting Your Content.</b> By sharing, publishing (e.g. through Imgur), distributing or allowing others to \t\taccess Your Content through the Service You are solely responsible for the consequences of doing so and you acknowledge \t\tand agree that Your Content may be viewed worldwide. If you choose to make your personal information publicly available through the Service, \t\tyou do so at your own risk. You warrant that you have obtained all necessary licenses, \t\trights and permissions to use and grant all of the rights granted in these Terms\t\tto Your Content and that you will comply with any requirements or restrictions imposed by them.\t\t</p>\t\t<!--\t\t<p>\t\tWe have the right (but not the obligation) to pre-screen or monitor any Content or any user's access to the Service,\t\tand to remove or block access to any Content for any reason, or suspend or terminate any user's access to the Service for any reason. \t\tWe have no responsibility or liability with respect to any Content, including for any actions that we may take with respect \t\tto any Content that we determine violates these Terms.\t\t</p>\t\t-->\t\t\t\t<h2>Registering for the Service</h2>\t\t<p>\t\tYou may be required or permitted to register with us to access the Service or certain areas of the Service.\t\tYou agree to immediately notify us of any unauthorized use of your registration information (including all purchases).  \t\tYou may also be able to sign into the Service by using a third-party social networking platform account \t\t(such as Facebook, Google+ or Twitter). Your registration information (including your user name and password, \t\tand any social networking account with which you sign into the Service) is for your personal use only, and not for use by any other person. \t\tYou are responsible for maintaining the confidentiality of any password you may use to access the Service, and agree not to transfer your password or user name\t\tto any third party. You are fully responsible for all use of your registration information, \t\tand to ensure that you \"log out\"/exit from your account with the Service (if applicable) \t\tat the end of each session. We are not liable for any loss or damage arising from your failure to comply with any of the foregoing obligations. \t\t</p>\t\t\t\t<h1>Privacy Policy</h1>\t\t\t\t<p>\t\tBy voluntarily providing us with Personal Data, you are consenting to our use of it in accordance with this Privacy Policy. \t\tIf you provide Personal Data to the Service, you acknowledge and agree that such Personal Data may be transferred from your current location to our servers.\t\t</p>\t\t<p>Computer information collected:</p>\t\t\t\t<ul>\t\t\t\t<li><b>Third party tracking tools.</b> We use third party tracking tools to improve the performance and features of the Service (e.g. Google Analytics).\t\t\t\tSuch tools are created and managed by parties outside our control. As such, we are not responsible for what information is actually captured by such third parties \t\t\t\tor how such third parties use and protect that information.</li>\t\t\t\t\t\t\t\t<li><b>Name and email for the authorization.</b> You may use third-party services (such as Facebook or Google) to log into the Service. \t\t\t\tIn such case, we store your name and email address, that were provided to us by third-party services.</li>\t\t\t\t\t\t\t\t<li><b>Environment settings.</b> When you use the Service, environment settings (e.g. current language, current color theme) \t\t\t\tare stored at your computer in \"localData\".\t\t\t\tIt helps us provide you the same environment when you visit the Service next time.<br/>\t\t\t\tWhen you log into the Service, your environemnt settings are stored at our server. \t\t\t\t</li>\t\t\t\t\t\t\t\t<li><b>Payer information.</b> When you make an order inside the Service and you pay through a third-party service (e.g. PayPal), \t\t\t\twe may store the information about the payer, that we may receive from the third-party service \t\t\t\t(it usually contains the name, the email address and the physical address of the payer, but no card nambers or passwords).</li>\t\t</ul>\t\t\t\t";
function pM(){xq.call(this,[11,14],"addguides");this.oa;this.Ka={ht:{Ms:0}};this.cZ=null;var b=K.m("div","form");
this.body.appendChild(b);this.gE=new pH([22,4,0],null,16);this.gE.l(K.E.$,this.Yo,this);this.Rw=new pH([22,4,1],null,16);
this.Rw.l(K.E.$,this.Yo,this);this.GR=new xU(null,x.hM.$E);this.GR.l(K.E.$,this.Yo,this);b.appendChild(this.gE.U);
b.appendChild(this.GR.U);K.Kc(b);b.appendChild(this.Rw.U);this.TO=new nl("OK",!0,null,!0);this.TO.l("click",this.Th,this);
b.appendChild(this.TO.U);this.l("closebtn",this.xFk,this)}pM.prototype=new xq;pM.prototype.GV=function(b,X){return b!=null};
pM.prototype.Ze=function(){return!0};pM.prototype.f=function(){xq.prototype.f.call(this);this.gE.f();
this.Rw.f();this.GR.f()};pM.prototype.TY=function(b,X){var q=b.ht.Ms;this.Ka.ht.Ms=q;this.GR.S(q)};pM.prototype.Fr=function(b,X){this.oa=b;
this.cZ=JSON.stringify(b.LA);this.XX()};pM.prototype.XX=function(){var b=this.oa,X=b.LA,q=function(N,b,J,_){var p=[];
for(var z=0;z<N.length;z++)p.push(x.hM.zP(N[z],b.Dg,J,_));return p.join(", ")};this.gE.S(q(X[1],b,this.Ka,b.z));
this.Rw.S(q(X[0],b,this.Ka,b.n))};pM.prototype.Yo=function(b){if(b&&b.currentTarget==this.GR)this.Ka.ht.Ms=this.GR.N();
else{var X=this.xhI(this.gE),q=this.xhI(this.Rw),N=this.oa;N.LA=[q,X];N.RZ=!0}this.XX()};pM.prototype.xhI=function(b){var X=b==this.gE?this.oa.z:this.oa.n,q=b.N().replace(/,/g," ").replace(/  +/g," ").trim(),N=q==""?[]:q.split(" ");
for(var J=0;J<N.length;J++)N[J]=x.hM.xBq(N[J],this.oa.Dg,this.Ka,X);return N};pM.prototype.xFk=function(b){var X=this.oa;
X.LA=JSON.parse(this.cZ);X.RZ=!0;this.oa=null};pM.prototype.Th=function(b){this.Yo(b);var X=new Q(K.E.e,!0);
X.B=c.KC;X.data={V:"gids",ng:JSON.parse(this.cZ),LZ:JSON.parse(JSON.stringify(this.oa.LA))};this.oa=null;
this.close();this.X(X)};function _X(b){var X=nm.names[b];if(X==null)X=nY.names[b];if(b=="fade")X=[2,11];
xq.call(this,X,"afw_"+b);this.vH=b;this._h=null;this.fx=null;this.hn=new s[b];this.hn.l(K.E.$,this.bO,this);
this.hn.parent=this;this.body.appendChild(this.hn.U);this.dB=new nG([24,18,5]);this.dB.S(!0);this.dB.l(K.E.$,this.bO,this);
this.xik=new nl("Reset",!0,null,!0);this.xik.l("click",this.rD,this);this.TO=new nl("OK",!0,null,!0);
this.TO.l("click",this.Th,this);if(this.hn.to())this.hn.RS(this.TO.U);else{K.Dv(this.hn.U,"form");K.Dv(this.body,"flexrow");
this.hn.U.setAttribute("style","width:24em");var q=K.m("div");this.body.appendChild(q);q.setAttribute("style","width:8em; margin-left:1em; line-height:2.3em");
q.appendChild(this.TO.U);q.appendChild(this.xik.U);q.appendChild(this.dB.U)}this.l("closebtn",this.xQ,this)}_X.prototype=new xq;
_X.prototype.Ze=function(){return!0};_X.prototype.to=function(){return this.hn!=null&&this.hn.to()};
_X.prototype.on=function(){return this.hn.to()?new Ue(0,0):xq.prototype.on()};_X.prototype.xh=function(){return this.hn.xh()};
_X.prototype.vP=function(b,X,q,N,J){this.hn.vP(b,X,q,N,J)};_X.prototype.fI=function(b,X,q,N,J){this.hn.fI(b,X,q,N,J)};
_X.prototype.TE=function(b,X,q,N,J){this.hn.TE(b,X,q,N,J)};_X.prototype.GV=function(b,X){if(this.vH=="fade")return _X.xaL(b);
return!0};_X.prototype.rD=function(b){this.hn.S(nm.Z$(this.vH));this.bO()};_X.prototype.bO=function(b){this.cS({V:"edit",Qk:this.hn.N(),Jn:!this.dB.N()})};
_X.prototype.xQ=function(b){this.cS({V:"cancel"})};_X.prototype.Th=function(b){if(!this.dB.N()){this.dB.S(!0);
this.bO()}this.fx=this.hn.N();if(this.to())this.bO();this.cS({V:"confirm"});this.close()};_X.prototype.f=function(){xq.prototype.f.call(this);
this.dB.f();if(this.hn)this.hn.f()};_X.prototype.TY=function(b,X){if(this.hn)this.hn.TY(b,X)};_X.prototype.aZ=function(b,X,q,N){if(this.hn&&this.hn.to())this.hn.aZ(N);
else xq.prototype.aZ.call(this,b,X,q,N)};_X.prototype.Fr=function(b,X,q,N){this._h=X._h;var J=b.add.lnk2?b.add.lnk2:[],_,p,z=new R(0,0,b.n,b.z),g=b.F[b.k[0]],W=null;
_=g.buffer;p=g.rect;if(this.to())W=b.US(b.k[0]-1);var o=nm.Z$(this.vH);if(X._h==null){this.hn.S(o,_,p,z,W,J);
if(nY.names[this.vH]){if(N._(S.PU)&&this.fx)this.hn.S(this.fx);var y=xu.wB.getData(b),D=x.Ew(y[0].FU);
this.hn.uh(D)}}else{var m=!1,g=b.F[this._h.Q];if(g.ot()){var k=g._m(b);_=k.buffer;p=k.rect;var O=g.add.SoLd.filterFX.v.filterFXList.v;
if(O[this._h.index]){var L=O[this._h.index].v.Fltr.v;this.hn.S(L,_,p,z,W,J);m=!0}}if(!m)this.hn.S(o,_,p,z,W,J)}if(!this.to())this.bO()};
_X.prototype.cS=function(b){var X=new Q(K.E.e,!0);b.vH=this.vH;b._h=this._h;X.data=b;X.B=nm.names[this.vH]||this._h?c.Ht:c.fp;
X.oP=!0;this.X(X)};_X.prototype.Gq=function(b,X){X=X-26;b=b-26;this.hn.Gq(b,X)};_X.xaL=function(b){if(b==null)return!1;
var X=b.Sq();if(X==null||!(X.data instanceof Array)||X.data.length!=b.k.length)return!1;for(var q=0;
q<X.data.length;q++){var N=X.data[q];if(N.Q<0&&b.Ff[-1-N.Q])return!0;if(N.Q==null||b.F[N.Q]==null||b.F[N.Q].ZZ!=N.Wo)return!1;
if(b.k.indexOf(N.Q)==-1)return!1}return!0};function Uf(){xq.call(this,[11,0],"camera");this.data=null;
this.fg=new Ue(1,1);this.qw=K.m("div","form hbar");this.body.appendChild(this.qw);this.xRP=new xU(null,[]);
this.Sx=new _t([21,0],[[21,2],[21,1]]);this.qw.appendChild(this.Sx.U);this.f_=new nl([11,0],!1,null,!0);
this.f_.l("click",this.xQp,this);this.qw.appendChild(this.f_.U);this.xCb=new _L("");this.qw.appendChild(this.xCb.U);
this.stream=null;this.nl=K.m("video","");this.nl.setAttribute("autoplay","true");this.body.appendChild(this.nl);
this.xCS=this.xQM.bind(this);this.xCr=this.xQR.bind(this);this.xLI=this.xMS.bind(this);this.l("closebtn",this.xQu,this)}Uf.prototype=new xq;
Uf.prototype.f=function(){xq.prototype.f.call(this);this.Sx.f();this.f_.f();this.xMS()};Uf.prototype.US=function(){var b=this.nl.videoWidth,X=this.nl.videoHeight,q=K.m("canvas","");
q.width=b;q.height=X;var N=q.getContext("2d");N.drawImage(this.nl,0,0,b,X);var J=N.getImageData(0,0,b,X);
return{_z:new R(0,0,b,X),data:J.data.buffer}};Uf.prototype.xQp=function(b){if(this.Sx.N()==0)this.xQa();
else this.xQS()};Uf.prototype.xQS=function(){var b=this.US(),X={buffer:new Uint8Array(b.data),rect:b._z},q=new Q(K.E.e,!0);
q.oP=!0;q.B=c.iz;q.data={V:M._F,k_:X};this.X(q);alert(xA.get([21,4]))};Uf.prototype.xQa=function(){var b=this.US(),X=_K.qp("camera",[b]),q=new Q(K.E.T,!0);
q.data={V:K.a.QK,kM:X};this.X(q);alert(xA.get([21,5]))};Uf.prototype.Fr=function(b,X,q){var N={video:{width:{ideal:6e3},height:{ideal:6e3}}};
if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(N).then(this.xCS).catch(this.xCr);
else navigator.webkitGetUserMedia(N,this.xCS,this.xCr)};Uf.prototype.xQM=function(b){this.stream=b;this.nl.srcObject=b;
this.nl.addEventListener("loadedmetadata",this.xLI,!1)};Uf.prototype.xMS=function(b){var X=this.nl.videoWidth,q=this.nl.videoHeight;
this.xCb.S(xA.get([21,3])+": "+X+" x "+q+" px");this.fg.gM(X,q);this.Gq(this.w$,this.ai)};Uf.prototype.on=function(b,X){return Math.min(b,X)<500?new Ue(0,0):new Ue(100,100)};
Uf.prototype.Gq=function(b,X){this.w$=b;this.ai=X;var q=b-28,N=X-28-38,J=this.fg.x/this.fg.y;if(q/N>J)q=N*J;
else N=q/J;this.nl.setAttribute("style","display: block; width: "+Math.round(q)+"px; height:"+Math.round(N)+"px;")};
Uf.prototype.xQR=function(b){console.log("error",b);alert(xA.get([21,6]));this.close()};Uf.prototype.xQu=function(b){if(this.stream!=null){this.stream.getTracks()[0].stop();
this.nl.src="";this.stream=null}};function pC(){xq.call(this,[7,8],"crange");this.oa=null;this.xX={kf:73,i:4.45,b:4};
this.xf={kf:73,i:4.45,b:4};var b=K.m("div","form");b.setAttribute("style","width:18em");this.body.appendChild(b);
this.GF=new nt([12,92],0,200);this.GF.S(40);this.GF.l(K.E.$,this.Bd,this);b.appendChild(this.GF.U);this.wZ=K.m("canvas");
b.appendChild(this.wZ);this.fS=new _t([12,36],[[18,0],"\uFF0B","\u2014"]);b.appendChild(this.fS.U);this.Sp=new nl("OK",!0,null,!0);
this.Sp.l("click",this.Th,this);this.body.appendChild(this.Sp.U)}pC.prototype=new xq;pC.prototype.GV=function(b,X){return b!=null};
pC.prototype.xh=function(){return!0};pC.prototype.Ze=function(){return!0};pC.prototype.f=function(){xq.prototype.f.call(this);
this.GF.f();this.fS.f()};pC.prototype.vP=function(b,X,q,N,J){var _=b.M.X$(J.x,J.y);this.xvi(_.x,_.y)};
pC.prototype.xvi=function(b,X){var q=Math.min,N=Math.max,J=this.oa,_=N(0,q(J.n-1,Math.floor(b))),p=N(0,q(J.z-1,Math.floor(X))),z=J.US(),g=(p*J.n+_)*4,W=z[g],o=z[g+1],y=z[g+2],D=x.tT(W,o,y),m=this.fS.N(),k=this.xX,O=this.xf;
if(m==0){this.xX=JSON.parse(JSON.stringify(D));this.xf=D}else if(m==1){k.kf=q(k.kf,D.kf);k.i=q(k.i,D.i);
k.b=q(k.b,D.b);O.kf=N(O.kf,D.kf);O.i=N(O.i,D.i);O.b=N(O.b,D.b)}else if(m==2){var L=(k.kf+O.kf)/2,I=(k.i+O.i)/2,H=(k.b+O.b)/2;
if(D.kf<L)k.kf=N(k.kf,D.kf+10);else O.kf=q(O.kf,D.kf-10);if(D.i<I)k.i=N(k.i,D.i+1);else O.i=q(O.i,D.i-1);
if(D.b<H)k.b=N(k.b,D.b+1);else O.b=q(O.b,D.b-1)}this.Bd()};pC.prototype.Th=function(b){var X=new Q(K.E.e,!0);
X.B=c.ST;X.data={V:"crange",UK:this.xX,UC:this.xf,dF:this.GF.N()/200};X.oP=!0;this.X(X);this.close()};
pC.prototype.Fr=function(b,X){this.oa=b;this.xvi(0,0)};pC.prototype.Bd=function(){var b=this.oa,X=c.rl.Mh(b,this.xX,this.xf,this.GF.N()/200),q=X.rect,N=X.channel,J=this.wZ,_=J.getContext("2d"),p=Math.floor(230*K.u()),z=Math.floor(p*(q.z/q.n));
J.width=p;J.height=z;K.IX(J,p,z);var g=x.K(N.length*4);x.Ws(g,4294967295);for(var W=0;W<3;W++)x.qR(N,g,W);
var o=c.C.wx([g,q],new nQ(p/q.n,0,0,z/q.z,0,0)),y=o.rect,D=new ImageData(new Uint8ClampedArray(o.buffer.buffer),y.n,y.z);
_.putImageData(D,0,0)};function xi(){xq.call(this,[12,76,1],"createshape");this.mQ=null;var b=K.m("div","form");
b.setAttribute("style","width:20em");this.body.appendChild(b);this.jZ=new xP([12,41],0,0,null,0,!1,!0);
b.appendChild(this.jZ.U);K.Kc(b);this.gE=new xP([12,42],0,0,null,0,!1,!0);b.appendChild(this.gE.U);K.Kc(b);
this.fa=new nG([19,5,3]);b.appendChild(this.fa.U);this.jZ.S(100);this.gE.S(100);this.TO=new nl("OK",!0,null,!0);
this.TO.l("click",this.Th,this);b.appendChild(this.TO.U)}xi.prototype=new xq;xi.prototype.Th=function(b){this.mQ.xQC(this.mQ.xQl,this.jZ.N(),this.gE.N(),this.fa.N());
this.close()};xi.prototype.f=function(){if(this.mQ)this.xM=xA.get([5,3])+": "+xA.get(this.mQ.xQd);xq.prototype.f.call(this);
this.jZ.f();this.gE.f();this.fa.f()};xi.prototype.Fr=function(b,X){this.mQ=X;this.f()};function UM(){xq.call(this,[11,1],"colorpicker");
this.RN=null;this.vC=null;this.Bq=null;this.Sv=!1;this.gc=!1;var b=K.m("div","flexrow"),_,p;this.body.appendChild(b);
this._t=new pO(256);this._t.l(K.E.$,this.FP,this);b.appendChild(this._t.U);var X=K.m("div","form");X.setAttribute("style","width:14.5em; margin-left:1em;");
b.appendChild(X);this.xCB=K.m("div","full");X.appendChild(this.xCB);this.xCL=K.m("div","full");X.appendChild(this.xCL);
var q=K.m("div","flexrow");X.appendChild(q);var N=K.m("div"),J=K.m("div");q.appendChild(N);q.appendChild(J);
_=["R","G","B"];p=N;this.fP=[];for(var z=0;z<3;z++){var g=new xP(_[z]+":",0,255,null,0,!1,!0);this.fP.push(g);
g.l(K.E.$,this.xQI,this);p.appendChild(g.U)}_=["H","S","B"];p=J;this.fM=[];for(var z=0;z<3;z++){var W=0,o=360,y="\xB0";
if(z!=0){o=100;y="%"}var g=new xP(_[z]+":",W,o,y,0,!1,!0);this.fM.push(g);g.l(K.E.$,this.xQN,this);p.appendChild(g.U)}this.gE=new pH("Hex",null,6);
this.gE.l(K.E.$,this.Qx,this);X.appendChild(this.gE.U);this.GQ=K.m("input","fitem");this.GQ.setAttribute("type","color");
this.GQ.setAttribute("style","width:50px");this.GQ.addEventListener("change",this.Qx.bind(this),!1);
X.appendChild(this.GQ);this.Rc=new Us(9);this.Rc.l(K.E.$,this.Qx,this);X.appendChild(this.Rc.U);this.TO=new nl("OK",!0,null,!0);
this.TO.l("click",this.Th,this);X.appendChild(this.TO.U);this.l("closebtn",this.xQ,this);this.x$=!1}UM.prototype=new xq;
UM.prototype.xh=function(){return!0};UM.prototype.Gq=function(b,X){this._t.Gq(Math.min(256,b-250),X)};
UM.prototype.FP=function(b){this.vC=this._t.N();this.update()};UM.prototype.vP=function(b,X,q,N,J){this.x$=!0;
this.xFH(b,J)};UM.prototype.fI=function(b,X,q,N,J){if(!this.x$)return;this.xFH(b,J)};UM.prototype.TE=function(b,X,q,N,J){this.x$=!1};
UM.prototype.xFH=function(b,X){var q=c.ES.gA(b,X,1),N=q&255,J=q>>8&255,_=q>>16&255;this.vC={D:_/255,q:J/255,b:N/255};
this.update()};UM.prototype.xQI=function(b){var X=this.fP,q=this.b$(parseInt(X[0].N())),N=this.b$(parseInt(X[1].N())),J=this.b$(parseInt(X[2].N()));
this.vC={D:q/255,q:N/255,b:J/255};this.update()};UM.prototype.xQN=function(b){var X=this.fM,q=this.uw(parseInt(X[0].N())/360),N=this.uw(parseInt(X[1].N())/100),J=this.uw(parseInt(X[2].N())/100);
this.vC=x.bY(q,N,J);this.update()};UM.prototype.Qx=function(b){var X;if(b.currentTarget==this.Rc)X=this.Rc.N();
else{X=b.currentTarget==this.gE?this.gE.N():this.GQ.value;if(X.charAt(0)=="#")X=X.slice(1);if(X.length==3)X=X[0]+X[0]+X[1]+X[1]+X[2]+X[2];
X=x.xiK(X)}this.vC={D:(X>>16&255)/255,q:(X>>8&255)/255,b:(X&255)/255};this.update()};UM.prototype.oz=function(b){var X=b.D,q=b.q,N=b.b;
return Math.round(X*255)<<16|Math.round(q*255)<<8|Math.round(N*255)};UM.prototype.Th=function(b){this.xQg();
var X=this.oz(this.vC);this.Bq(X);this.close();this.gc=!1;this.vC=null};UM.prototype.xQ=function(b){this.xQg();
if(this.Sv)this.Bq(this.oz(this.RN));this.gc=!1;this.vC=null};UM.prototype.xQg=function(b){var X=new Q(K.E.T,!0);
X.data={V:K.a.xqY};this.X(X)};UM.prototype.TY=function(b,X){if(X!=n_.$f)return;var q=b.pp;this.Rc.S(q);
if(this.vC!=null){this.vC={D:(q>>16&255)/255,q:(q>>8&255)/255,b:(q>>0&255)/255};this.update()}};UM.prototype.Fr=function(b,X){var q=X.tY,N={D:(q>>16&255)/255,q:(q>>8&255)/255,b:(q>>0&255)/255};
if(this.vC==null){var J=new Q(K.E.T,!0);J.data={V:K.a.KW,Lf:"crosshair",push:!0};this.X(J);this.x$=!1;
this.Bq=X.VY;this.Sv=!1;this.gc=X.oo;this.RN=JSON.parse(JSON.stringify(N));this.xCL.setAttribute("style","height:3em;background-color:#"+x.a_(q)+";")}this.vC=N;
this.update()};UM.prototype.update=function(){var b=this.vC,X=this.oz(b),q=this.fP;q[0].S(Math.round(b.D*255));
q[1].S(Math.round(b.q*255));q[2].S(Math.round(b.b*255));this.gE.S(x.a_(X));this.GQ.value="#"+x.a_(X);
this.xCB.setAttribute("style","height:3em;background-color:#"+x.a_(X)+";");var N=x.Hj(b.D,b.q,b.b);q=this.fM;
q[0].S(Math.round(N.ai*360));q[1].S(Math.round(N.qD*100));q[2].S(Math.round(N.Qk*100));this._t.S(b);
if(this.gc){this.Bq(this.oz(this.vC));this.Sv=!0}};UM.prototype.b$=function(b){return Math.max(0,Math.min(255,b))};
UM.prototype.uw=function(b){return Math.max(0,Math.min(1,b))};function KW(){xq.call(this,[11,2],"contoureditor");
this.xCV=null;this.IO=null;this.response=null;this.lW=K.m("div","cell");this.body.appendChild(this.lW);
this.Qa=K.m("div","cell padded");this.body.appendChild(this.Qa);var b=K.m("div","bordered padded vmargin");
this.lW.appendChild(b);this.hn=new bD;this.hn.l(K.E.$,this.Rr,this);b.appendChild(this.hn.U);this.TO=new nl("OK",!0,null,!0);
this.TO.l("click",this.close,this);this.Qa.appendChild(this.TO.U);this.coords=K.m("div","");this.coords.setAttribute("style","width:250px");
this.lW.appendChild(this.coords);this._f=new pH("X (in)","%",4);this._k=new pH("Y (out)","%",4);this.Rf=new nG([19,3,0]);
this._f.l(K.E.$,this.Qw,this);this._k.l(K.E.$,this.Qw,this);this.Rf.l(K.E.$,this.Qw,this);this.coords.appendChild(this._f.U);
this.coords.appendChild(this.Rf.U);this.coords.appendChild(this._k.U);this.l("closebtn",this.FL,this)}KW.prototype=new xq;
KW.prototype.f=function(){xq.prototype.f.call(this);this.Rf.f()};KW.prototype.Rr=function(b){this.IO.Crv.v=this.hn.N();
this.response(this.IO);this.Qg()};KW.prototype.FL=function(b){this.response(this.xCV)};KW.prototype.Fr=function(b,X){this.xCV=JSON.parse(JSON.stringify(X.L));
this.IO=X.L;this.response=X.response;this.hn.S(this.IO.Crv.v);this.Qg()};KW.prototype.Qg=function(){var b=this.hn.xrM();
this.coords.setAttribute("class",b==-1?"disabled":"");if(b==-1)return;var X=this.IO.Crv.v[b].v;this._f.S(Math.round(X.Hrzn.v*(100/255)));
this._k.S(Math.round(X.Vrtc.v*(100/255)));this.Rf.S(X.Cnty.v)};KW.prototype.Qw=function(b){var X=this.hn.xrM(),q=this.IO.Crv.v[X];
q.v.Hrzn.v=parseFloat(this._f.N())*(255/100);q.v.Vrtc.v=parseFloat(this._k.N())*(255/100);q.v.Cnty.v=this.Rf.N();
this.IO.Crv.v.sort(function(N,J){return N.v.Hrzn.v-J.v.Hrzn.v});this.hn.S(this.IO.Crv.v,this.IO.Crv.v.indexOf(q));
this.Qg();this.response(this.IO)};function KT(){xq.call(this,[11,3],"csize");this.fi=0;this.qw=K.m("div","form");
this.qw.setAttribute("style","width:22em");this.body.appendChild(this.qw);this.pk=new bB(!0,!0,!0,!0);
this.pk.xiM(!1);this.qw.appendChild(this.pk.U);this.fR=new _t("Align with",[[8,7],[12,6]]);this.fR.l(K.E.$,this.xQj,this);
this.Fp=new Uy([12,23,2],41);this.qw.appendChild(this.Fp.U);this.Fp.S(4);this.fQ=new bf(!1);this.fQ.xic(new Ue(0,0));
this.Sp=new nl("OK",!0,null,!0);this.Sp.l("click",this.Th,this);this.body.appendChild(this.Sp.U)}KT.prototype=new xq;
KT.prototype.GV=function(b,X){return b!=null};KT.prototype.Ze=function(){return!0};KT.prototype.xQj=function(){var b=[this.Fp.U,this.fQ.U];
this.qw.removeChild(b[this.fi]);this.fi=this.fR.N();this.qw.appendChild(b[this.fi])};KT.prototype.f=function(){xq.prototype.f.call(this);
this.pk.f();this.fR.f();this.Fp.f();this.fQ.f()};KT.prototype.Th=function(b){var X=this.pk.N(),q=X.x,N=X.y,J=new Q(K.E.gy,!0);
J.data=c.IP.Ma(q,N,this.Fp.N());this.close();this.X(J)};KT.prototype.Fr=function(b,X){this.pk.S(new Ue(b.n,b.z),b.Dg)};
function gM(){xq.call(this,[11,4],"duplinto");this.lk=null;this.LF=null;var b=K.m("div","form");b.setAttribute("style","max-width:26em");
this.body.appendChild(b);this.Sk=new xU([12,43],["abc","def"]);this.Sk.l(K.E.$,this.xxz,this);b.appendChild(this.Sk.U);
K.Kc(b);this.R$=new pH([12,48],null,14);b.appendChild(this.R$.U);this.TO=new nl("OK",!0,null,!0);this.TO.l("click",this.Th,this);
b.appendChild(this.TO.U)}gM.prototype=new xq;gM.prototype.Ze=function(){return!0};gM.prototype.f=function(){xq.prototype.f.call(this);
this.Sk.f();this.R$.f()};gM.prototype.xxz=function(b){var X=this.Sk.N();if(X==this.LF.length)this.R$.Ic();
else this.R$.Sb()};gM.prototype.Fr=function(b,X,q){this.lk=b;this.LF=q;this.R$.S(b.k.length==0?"Layer":b.F[b.k[0]].getName());
var N=[];for(var J=0;J<q.length;J++)N.push(q[J].name);N.push([11,7]);this.Sk.th(N);this.Sk.S(q.indexOf(b));
this.xxz(null)};gM.prototype.Th=function(b){var X=this.Sk.N();if(X==this.LF.length){var q=new nj(this.R$.N()+".psd");
q.n=this.lk.n;q.z=this.lk.z;q.buffer=x.K(q.n*q.z*4);var N=q.rY();N.fT("Background");q.lD([N]);var J=new Q(K.E.T,!0);
J.oP=!0;J.data={V:K.a.QK,kM:q};this.X(J)}var _=this.lk.bD(null,this.lk!=this.LF[X]),J=new Q(K.E.e,!0);
J.data={V:M._M,F:_,_U:this.lk,$R:this.LF[X]};J.B=c.iz;J.oP=!0;this.X(J);this.close()};function Ki(){xq.call(this,[1,9],"eassets");
this.Ka=null;this.wi=null;var b=K.m("div","form");b.setAttribute("style","width:32em");this.body.appendChild(b);
this.Wf=K.m("span");b.appendChild(this.Wf);K.Kc(b);this.xZ=[new nG("Only layers / folders, whose name starts with \"-e-\""),new nG("Remove parts outside the canvas"),new nG("Trim transparent parts")];
for(var X=0;X<3;X++){var q=this.xZ[X];q.S(!0);q.l(K.E.$,this.XX,this);b.appendChild(q.U);K.Kc(b)}this.gx=new be([12,14,0],["1x","2x","3x","4x"]);
this.gx.S([!0,!1,!1,!1]);b.appendChild(this.gx.U);K.xaF(b);this.ft=["PNG","JPG","SVG"];this.Fi=new xU([12,50],this.ft);
this.Fi.l(K.E.$,this.xgI,this);b.appendChild(this.Fi.U);this.ms=new Kj;b.appendChild(this.ms.U);this.Sp=new nl([1,9],!0,null,!0);
this.Sp.l("click",this.Th,this);b.appendChild(this.Sp.U);this.l("closebtn",this.Bb,this)}Ki.prototype=new xq;
Ki.prototype.xgI=function(b){this.ms.xEI(this.ft[this.Fi.N()])};Ki.prototype.Bb=function(b){this.wi=null};
Ki.prototype.f=function(){xq.prototype.f.call(this);this.Fi.f();this.gx.f();this.Sp.f();this.ms.f()};
Ki.prototype.Fr=function(b,X,q){this.wi=b;this.XX()};Ki.prototype.XX=function(b){var X=this.xUt(),q="- - - "+X.length+" exportable layers";
this.Wf.textContent=q;this.xgI(null)};Ki.prototype.xUt=function(){var b=this.xZ[0].N(),X=[],q=this.wi;
for(var N=0;N<q.F.length;N++){var J=q.F[N],_=J.getName();if(!b&&!J.zu()&&!J.rect.qa()||_.startsWith("-e"))X.push(N)}return X};
Ki.prototype.TY=function(b,X){this.Ka=b};Ki.prototype.Th=function(b){var X=this.wi,q=[this.ft[this.Fi.N()]],N=[this.ms.N()],J=this.gx.N(),_={},p={},z=this.xUt(),g=[this.xZ[1].N(),this.xZ[2].N()];
for(var W=0;W<z.length;W++){var o=z[W],y=X.F[o],D=y.getName();if(p[D]!=null){p[D]++;D+=" "+p[D]}else p[D]=1;
var m=y.oF();y.HC(!0);for(var k=0;k<J.length;k++){if(!J[k])continue;var O=k+1,L=c.Gk.LQ(X,q,O,this.Ka,o,N,g);
for(var I=0;I<q.length;I++){var H=q[I],Y=D.slice(D.startsWith("-e-")?3:0)+(O==1?"":"-"+O+"x")+"."+H.toLowerCase();
_[Y]=new Uint8Array(L[I])}}y.HC(m)}var n=UZIP.encode(_),w=new Q(K.E.T,!0);w.data={V:K.a.SD,data:n,name:"assets.zip"};
this.X(w)};function KO(){xq.call(this,"File Info","finfo");this.fJ=null;this.oN=null;this.fz=null;this.qw=K.m("div","form scrollable label12");
this.qw.setAttribute("style","width:35em;  height:38em;  margin-bottom:8px");this.body.appendChild(this.qw);
var b=K.m("div","form");this.body.appendChild(b);this.gp=new xU(null,["Hello"]);b.appendChild(this.gp.U);
this.xRZ=new nl("Add Parameter",!1,null,!0);b.appendChild(this.xRZ.U);this.xRZ.l("click",this.xB,this);
this.gU=new nl("=== S A V E ===",!1,null,!0);b.appendChild(this.gU.U);this.gU.l("click",this.QQ,this);
this.xQx=""}KO.prototype=new xq;KO.prototype.on=function(b,X){return b<450||X<450?new Ue(0,0):new Ue(150,100)};
KO.prototype.xB=function(b){if(this.fz.length==0)return;var X=this.fz[this.gp.N()],q=this.QW();q[X]=_l.yZ[X][0];
this.oO(q);this.oN[X].U.scrollIntoView();this.oN[X].uv()};KO.prototype.BR=function(b){var X=this.QW();
delete X[b.currentTarget.xLT];this.oO(X)};KO.prototype.QQ=function(b){var X=this.QW(),q=this.fJ,N=!0;
for(var J in q)if(JSON.stringify(q[J])!=JSON.stringify(X[J]))N=!1;for(var J in X)if(JSON.stringify(q[J])!=JSON.stringify(X[J]))N=!1;
if(N)return;var _=new Q(K.E.e,!0);_.B=c.iz;_.data={V:M.jb,LK:X};this.X(_);this.fJ=X;this.oO(X)};KO.xQf=function(b){function X(J){var _=J.toLowerCase();
return J==_}var q=b.split(":").pop();for(var N=1;N<q.length-1;N++){if(q[N]==q[N].toUpperCase()&&(X(q[N+1])||X(q[N-1]))){q=q.slice(0,N)+" "+q.slice(N);
N++}}return q};KO.prototype.Fr=function(b,X){this.fJ=b.Te;this.oO(b.Te)};KO.prototype.oO=function(b){var X=this.qw,J=0;
K.Jx(X);var q=this.oN={},N=["tiff","exif","exif:GPS"],_=this.fz=[],p=[];for(var z in _l.yZ){var g=KO.xQf(z),W=0,y=15,D=null;
if(b[z]==null){_.push(z);p.push(g);continue}for(var o=0;o<N.length;o++)if(z.startsWith(N[o]))W=o;if(W!=J){K.xaF(X);
J=W}if(z=="tiff:ImageDescription"||z=="dc:Keywords"){y=18.5;D=3}var m=new pH(g,null,y,D);q[z]=m;var k=b[z];
if(k instanceof Array)k=k[1]==0?"---":k[0]+"/"+k[1];var O=new nl("\u2716",null,xA.get([5,4]));X.appendChild(O.U);
O.l("click",this.BR,this);O.xLT=z;m.S(k);X.appendChild(m.U);K.Kc(X);if(z=="exif:GPSLongitude"&&b["exif:GPSLatitude"]){this.xQx=KO.xny(b["exif:GPSLatitude"])+","+KO.xny(b["exif:GPSLongitude"]);
var L=new nl("Show on map",!1,null,!0);X.appendChild(L.U);K.Kc(X);L.l("click",this.xdA,this)}}this.gp.th(p);
this.gp.S(0)};KO.prototype.QW=function(){var b=this.oN,X=_l.yZ,q={};for(var N in X){var J=X[N][0],_=typeof J;
if(J==null||b[N]==null)continue;var p=b[N].N();if(_=="number")p=parseFloat(p);else if(J instanceof Array&&J.length==2)p=p.split("/").map(parseFloat);
q[N]=p}return q};KO.xny=function(b){var X=b.length,q=b.slice(0,X-1).split(",").map(parseFloat),N=b.slice(X-1),J=q[0]+q[1]/60+q[2]/3600;
if(N!="N"&&N!="E")J=-J;return J};KO.prototype.xdA=function(b){window.open("https://maps.google.com?q="+this.xQx,"Map")};
function xt(){xq.call(this,[11,5],"gradienteditor");this.RN=null;this.vC=null;this.DQ=null;this.Bq=null;
this.Sv=!1;this.gc=!1;K.Dv(this.body,"form");this.Gz=null;this.wj=null;this.Kp=-1;this.VH=-1;this.Nn=0;
this.ur=this.BG.bind(this);this.uc=this.xx.bind(this);this.ze=K.m("canvas","");this.aK=this.ze.getContext("2d");
this.ze.setAttribute("style","display:block");this.Kl=null;K.FZ(this.ze);K.mU(this.ze,this.Za.bind(this));
this.Gu=new xP([19,3,3],0,100,"%");this.Gu.l(K.E.$,this.LN,this);this.Gu.parent=this;this.body.appendChild(this.Gu.U);
K.Kc(this.body);this.Bc=new _L([12,0]);this.body.appendChild(this.Bc.U);this.FC=K.m("div","bordered padded noalign");
this.body.appendChild(this.FC);this.Tn=new xP([12,0],0,100,"%");this.Tn.parent=this;this.Tn.l(K.E.$,this.LN,this);
this.FC.appendChild(this.Tn.U);this.Bf=new xP([12,40],0,100,"%");this.Bf.parent=this;this.Bf.l(K.E.$,this.LN,this);
this.FC.appendChild(this.Bf.U);this.g_=new nl([5,4],!1,null,!0);this.g_.l("click",this.xbt,this);this.FC.appendChild(this.g_.U);
this.body.appendChild(this.ze);K.Kc(this.body);this.xQ_=new _L([13,0]);this.body.appendChild(this.xQ_.U);
this.ar=K.m("div","bordered padded noalign");this.body.appendChild(this.ar);this.DJ=new xU([12,44],[[12,45],[12,46],[12,47]]);
this.DJ.l(K.E.$,this.LN,this);this.ar.appendChild(this.DJ.U);this.tR=new bh(!0);this.tR.parent=this;
this.tR.l(K.E.$,this.LN,this);this.ar.appendChild(this.tR.U);this.Bm=new xP([12,40],0,100,"%");this.Bm.parent=this;
this.Bm.l(K.E.$,this.LN,this);this.ar.appendChild(this.Bm.U);this.gb=new nl([5,4],!1,null,!0);this.gb.l("click",this.xh$,this);
this.ar.appendChild(this.gb.U);this.TO=new nl("OK",!0,null,!0);this.TO.l("click",this.Th,this);this.body.appendChild(this.TO.U);
this.l("closebtn",this.xQ,this)}xt.prototype=new xq;xt.prototype.xQ=function(b){if(this.Sv)this.Bq(this.RN)};
xt.prototype.f=function(){xq.prototype.f.call(this);this.Gu.f();this.Bc.f();this.xQ_.f();this.g_.f();
this.gb.f();this.Tn.f();this.Bf.f();this.DJ.f();this.Bm.f()};xt.prototype.TY=function(b,X){this.DQ=b};
xt.prototype.Fr=function(b,X){this.vC=JSON.parse(JSON.stringify(X.Z));this.RN=JSON.parse(JSON.stringify(X.Z));
this.Gz=this.wj=null;this.Bq=X.VY;this.Sv=!1;this.gc=X.oo;this.SL();this.Yy()};xt.prototype.Th=function(b){var X=this.vC;
this.Bq(X);this.close()};xt.prototype.Hd=function(b){return b==S.nw||b==S.UL};xt.prototype.aZ=function(b,X,q,N){if(N._(S.nw)||N._(S.UL)){if(this.wj)this.xbt();
if(this.Gz)this.xh$()}};xt.prototype.xbt=function(b){var X=this.vC.Trns.v;if(this.wj==null||X.length==2)return;
X.splice(X.indexOf(this.wj),1);this.wj=null;this.SL();this.Yy()};xt.prototype.xh$=function(b){var X=this.vC.Clrs.v;
if(this.Gz==null||X.length==2)return;X.splice(X.indexOf(this.Gz),1);this.Gz=null;this.SL();this.Yy()};
xt.prototype.SL=function(){var b=this.ze,X=this.aK,q=K.u();b.width=Math.floor(410*q);b.height=Math.floor(90*q);
K.IX(b,b.width,b.height);this.Kl=new R(0,0,Math.floor(380*q),Math.floor(32*q));this.Kl.x=Math.floor((this.ze.width-this.Kl.n)/2);
this.Kl.y=Math.floor((this.ze.height-this.Kl.z)/2);var N=this.Kl,J=N.n,_=N.z,p=N.x,z=N.y,g=new R(0,0,J,_),W=X.getImageData(0,0,J,_),o=new Uint8Array(W.data.buffer);
x.kN(o,J,_,8,0,0);var y=x.K(J*_*4);x.Z.sH(this.vC,y,g,[1/J,0,0,1/_],J/2,_/2,!1,0,this.DQ.pp,this.DQ.HO);
x.t.TG("norm",y,N,o,N,N,1);X.clearRect(0,0,b.width,b.height);X.putImageData(W,p,z);var D=this.vC.Trns.v,m=this.vC.Clrs.v,k=x.Z.WD(m,this.DQ.pp,this.DQ.HO),O=Math.round(6*K.u()),L=Math.round(14*K.u()),I=this.wj?this.wj.v:null,H=this.Gz?this.Gz.v:null;
for(var Y=0;Y<D.length;Y++){var n=D[Y].v,w=Math.round(255-255*n.Opct.v.val/100);if((n==I||D[Y-1]&&D[Y-1].v==I||Y==this.VH)&&Y!=0){X.fillStyle="#000000";
X.fillRect(p-3+J*(D[Y-1].v.Lctn.v+(n.Lctn.v-D[Y-1].v.Lctn.v)*n.Mdpn.v/100)/4096,z-6-2,6,6)}if(n==I){X.fillStyle="#ffffff";
X.fillRect(p-O+J*(n.Lctn.v/4096)-2,z-2-L-2,2*O+4,L+4)}X.fillStyle="rgb("+w+","+w+","+w+")";X.fillRect(p-O+J*(n.Lctn.v/4096),z-2-L,2*O,L)}for(var Y=0;
Y<m.length;Y++){var t=m[Y].v,j=k[Y];if((t==H||m[Y-1]&&m[Y-1].v==H||Y==this.Kp)&&Y!=0){X.fillStyle="#000000";
X.fillRect(p-3+J*(m[Y-1].v.Lctn.v+(t.Lctn.v-m[Y-1].v.Lctn.v)*t.Mdpn.v/100)/4096,z+_+2,6,6)}if(t==H){X.fillStyle="#ffffff";
X.fillRect(p-O+J*(t.Lctn.v/4096)-2,z+_+2-2,2*O+4,L+4)}X.fillStyle="rgb("+Math.round(j.D)+", "+Math.round(j.q)+","+Math.round(j.b)+")";
X.fillRect(p-O+J*(t.Lctn.v/4096),z+_+2,2*O,L)}if(this.gc){this.Bq(this.vC);this.Sv=!0}};xt.prototype.Yy=function(){this.Gu.S(Math.round(100*this.vC.Intr.v/4096));
var b=this.vC.Trns.v,X=this.vC.Clrs.v,q=this.wj!=null,N=this.VH!=-1;this.Tn.Qh(q);this.Bf.Qh(q||N);this.g_.Qh(q);
if(q){this.FC.setAttribute("style","");var J=this.wj.v;this.Bf.S(Math.round(100*J.Lctn.v/4096));this.Tn.S(J.Opct.v.val)}if(N)this.Bf.S(b[this.VH].v.Mdpn.v);
var q=this.Gz!=null,N=this.Kp!=-1;this.DJ.Qh(q);this.tR.Qh(q);this.Bm.Qh(q||N);this.gb.Qh(q);if(q){this.ar.setAttribute("style","");
var _=this.Gz.v;this.Bm.S(Math.round(100*_.Lctn.v/4096));var p=_.Type.v.Clry;this.DJ.S(["FrgC","BckC","UsrS"].indexOf(p));
if(p=="FrgC")this.tR.Tl(this.DQ.pp);if(p=="BckC")this.tR.Tl(this.DQ.HO);if(p=="UsrS")this.tR.S(_.Clr.v)}if(N)this.Bm.S(X[this.Kp].v.Mdpn.v)};
xt.prototype.LN=function(b){var X=Math.round(4096*this.Gu.N()/100);this.vC.Intr.v=X;var q=this.vC.Trns.v,N=this.vC.Clrs.v;
if(this.wj!=null){var J=this.wj.v;J.Lctn.v=Math.round(4096*(this.Bf.N()/100));J.Opct.v.val=this.Tn.N()}if(this.Gz!=null){var _=this.Gz.v;
_.Lctn.v=Math.round(4096*(this.Bm.N()/100));if(b.target==this.tR)this.DJ.S(2);var p=this.DJ.N();_.Type.v.Clry=["FrgC","BckC","UsrS"][p];
if(p==2)_.Clr={t:"Objc",v:this.tR.N()};else if(_.Clr)delete _.Clr}if(this.VH!=-1)q[this.VH].v.Mdpn.v=this.Bf.N();
if(this.Kp!=-1)N[this.Kp].v.Mdpn.v=this.Bm.N();this.SL()};xt.prototype.Za=function(b){var X=K.HW(b,this.ze),q=(X.x*K.u()-this.Kl.x)/this.Kl.n,N=(X.y*K.u()-this.Kl.y)/this.Kl.z,J=this.vC.Trns.v,_=this.vC.Clrs.v,p=null,z=null,g=-1,W=-1;
if(N<1)for(var o=0;o<J.length;o++){var y=J[o].v;if(Math.abs(y.Lctn.v/4096-q)<.02)p=J[o];if(o>0)if(Math.abs((J[o-1].v.Lctn.v+(y.Lctn.v-J[o-1].v.Lctn.v)*y.Mdpn.v/100)/4096-q)<.01)g=o}if(N>0)for(var o=0;
o<_.length;o++){var D=_[o].v;if(Math.abs(D.Lctn.v/4096-q)<.02)z=_[o];if(o>0)if(Math.abs((_[o-1].v.Lctn.v+(D.Lctn.v-_[o-1].v.Lctn.v)*D.Mdpn.v/100)/4096-q)<.01)W=o}if(z==null&&p==null&&g==-1&&W==-1){if(N<0){var y={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
y.v.Lctn.v=Math.round(q*4096);J.push(y);J.sort(this.oj);p=y}if(N>1){var _=this.vC.Clrs.v,m=x.Z.WD(_,this.DQ.pp,this.DQ.HO),k=x.Z.Qj(this.vC,m,q),D={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:x.Z.Yr({D:k&255,q:k>>8&255,b:k>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
D.v.Lctn.v=Math.round(q*4096);_.push(D);_.sort(this.oj);z=D}}if(z!=null)W=-1;if(p!=null)g=-1;if(z!=null||p!=null||g>-1||W>-1){this.wj=p;
this.Gz=z;this.VH=g;this.Kp=W;this.Yy();this.SL();K.YZ(window,this.ur);K.Lx(window,this.uc)}};xt.prototype.BG=function(b){var X=K.HW(b,this.ze),q=K.u()*(X.x-this.Kl.x)/this.Kl.n,N=K.u()*(X.y-this.Kl.y)/this.Kl.z;
q=Math.max(0,Math.min(1,q));var J=this.vC.Trns.v,_=this.vC.Clrs.v;if(this.wj!=null){var p=this.wj.v;
p.Lctn.v=Math.round(4096*q);var z=J.indexOf(this.wj);if(z!=-1&&N<-1&&J.length>2)J.splice(z,1);if(z==-1&&N>-1)J.push(this.wj);
J.sort(this.oj)}if(this.Gz!=null){var g=this.Gz.v;g.Lctn.v=Math.round(4096*q);var W=_.indexOf(this.Gz);
if(W!=-1&&N>1.5&&_.length>2)_.splice(W,1);if(W==-1&&N<1.5)_.push(this.Gz);_.sort(this.oj)}if(this.VH>-1){var p=J[this.VH].v;
p.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(q*4096-J[this.VH-1].v.Lctn.v)/(p.Lctn.v-J[this.VH-1].v.Lctn.v))))}if(this.Kp>-1){var g=_[this.Kp].v;
g.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(q*4096-_[this.Kp-1].v.Lctn.v)/(g.Lctn.v-_[this.Kp-1].v.Lctn.v))))}if(this.wj!=null||this.Gz!=null||this.VH>-1||this.Kp>-1){this.Yy();
this.SL()}};xt.prototype.xx=function(b){K.dW(window,this.ur);K.d$(window,this.uc);if(Date.now()-this.Nn<300){if(this.Kp!=-1||this.VH!=-1){var X=(this.Kp!=-1?this.vC.Clrs.v[this.Kp]:this.vC.Trns.v[this.VH]).v;
X.Mdpn.v=50;this.Yy();this.SL()}else if(this.Gz!=null)this.tR.xEW()}this.Nn=Date.now()};xt.prototype.oj=function(b,X){return b.v.Lctn.v-X.v.Lctn.v};
function gv(){xq.call(this,[11,10],"isize");this.qw=K.m("div","form");this.qw.setAttribute("style","width:20em");
this.body.appendChild(this.qw);this.pk=new bB(!0,!0);this.qw.appendChild(this.pk.U);this.Hk=new xU([12,14,1],[[12,14,2],[12,14,3],"Bicubic Sharper"]);
this.Hk.S(1);this.qw.appendChild(this.Hk.U);this.Sp=new nl("OK",!0,null,!0);this.Sp.l("click",this.Th,this);
this.body.appendChild(this.Sp.U)}gv.prototype=new xq;gv.prototype.GV=function(b,X){return b!=null};gv.prototype.Ze=function(){return!0};
gv.prototype.f=function(){xq.prototype.f.call(this);this.Hk.f();this.pk.f()};gv.prototype.Th=function(b){this.close();
var X=this.pk.N(),q=X.x,N=X.y,J=new Q(K.E.gy,!0);J.data=c.IP.Mw(q,N,this.pk.xwo(),this.Hk.N());this.X(J)};
gv.prototype.Fr=function(b,X){this.pk.S(new Ue(b.n,b.z),b.Dg)};function gF(){xq.call(this,"Import RAW","importraw");
var b=K.m("div","flexrow"),X=K.m("div");this.body.appendChild(b);this.body.appendChild(X);var q=K.m("div","form");
q.setAttribute("style","width:16em");b.appendChild(q);var N=K.m("div","form");N.setAttribute("style","width:14em");
b.appendChild(N);this.mQ=null;this.xQQ=null;this.oh=null;this.xQD=[];this.oJ=[new bB(!0,!0),new _t([12,72],["1","3","4"]),new _t([12,34],["8 Bits","16 Bits"]),new _t("Byte Order",["12-34","34-12"]),new xU("Guesses",[])];
for(var J=0;J<this.oJ.length;J++){var _=this.oJ[J];if(J!=0)_.S(0);_.l(K.E.$,J==4?this.xEf:this.wr,this);
var p=J==0?q:J==4?X:N;p.appendChild(_.U)}this.wZ=K.m("canvas");this.DI=this.wZ.getContext("2d");this.body.appendChild(this.wZ);
this.Sp=new nl("OK",!0,null,!0);this.Sp.l("click",this.Th,this);this.body.appendChild(this.Sp.U)}gF.prototype=new xq;
gF.prototype.f=function(){xq.prototype.f.call(this);var b=this.oJ;for(var X=0;X<b.length;X++)b[X].f()};
gF.prototype.Th=function(b){this.close();var X=this.oJ[0].N(),q=_K.qp(this.xQQ,[{data:this.oh,_z:new R(0,0,X.x,X.y)}]),N=new Q(K.E.T,!0);
N.data={V:!0?K.a.QK:K.a.GX,kM:q};this.X(N)};gF.prototype.Fr=function(b,X){this.mQ=new Uint8Array(X.gK);
this.xQQ=X.zK;var q=this.mQ.length,N=[1,3,4],J=0,_=0,p=1,z=1,g=this.xQD=[];for(var W=0;W<3;W++){for(var o=1;
o<3;o++){var y=N[W],D=y*o,m=Math.round(q/D);if(m!=q/D)continue;for(var k=0;k<=4e3;k++)for(var O=0;O<=4e3;
O++)if(k*O==m){var L=0;if(k==O)L+=64;if(Math.round(k/100)==k/100&&Math.round(O/100)==O/100)L+=32;if(Math.round(k/10)==k/10&&Math.round(O/10)==O/10)L+=16;
if(Math.round(k/2)==k/2&&Math.round(O/2)==O/2)L+=8;g.push([k,O,y,o,L])}}}var I=function(t,j){if(j[4]!=t[4])return j[4]-t[4];
var E=Math.max(t[0],t[1])/Math.min(t[0],t[1]),h=Math.max(j[0],j[1])/Math.min(j[0],j[1]);if(E!=h)return E-h;
return j[0]-t[0]};g.sort(I);var H=this.oJ,Y=[];for(var n=0;n<g.length;n++){var w=g[n];Y.push(w[0]+" x "+w[1]+", "+w[2]+"c, "+w[3]*8+"-bit")}H[4].th(Y);
H[4].S(0);this.xEf(null)};gF.prototype.xEf=function(b){var X=this.oJ,q=this.xQD[this.oJ[4].N()];X[0].S(new Ue(q[0],q[1]),72);
X[1].S([1,3,4].indexOf(q[2]));X[2].S([1,2].indexOf(q[3]));this.wr()};gF.prototype.wr=function(b){var X=this.oJ,q=X[0].N(),N=q.x,J=q.y,_=8+8*X[2].N(),p=this.mQ;
if(_==16&&X[3].N()==1){p=p.slice(0);for(var z=0;z<p.length;z+=2){var g=p[z];p[z]=p[z+1];p[z+1]=g}}var W=this.oh=UPNG.toRGBA8.decodeImage(p,N,J,{tabs:{},ctype:[0,2,6][X[1].N()],depth:_}),o=this.wZ,y=this.DI,D=[W,new R(0,0,N,J)];
x.lo(D);for(var z=0;z<D.length;z+=2)if(D[z+1].z<300){W=D[z];N=D[z+1].n;J=D[z+1].z;break}o.width=N;o.height=J;
K.IX(o,N,J);var m=new ImageData(new Uint8ClampedArray(W.buffer),N,J);y.putImageData(m,0,0)};function _O(b,X,q){na.call(this);
this.U=K.m("div","");this.$s=b;this.Dd=null;this.FR=X==null?!1:X;this.gr=null;this.GO=q;this.fD=[];this.S$=[];
this.FQ=[];this.pS=[];this.Fl=0;this.Dd=this.xde(_O.pS[b]);this.SF()}_O.prototype=new na;_O.prototype.xdS=function(){for(var b=0;
b<this.pS.length;b++){K.YQ(this.pS[b],"selected");if(this.FQ[b]instanceof nG)this.FQ[b].S(!1)}};_O.prototype.xdR=function(b){var X=this.xdc.bind(this);
for(var q=0;q<this.FQ.length;q++){var N=K.m("div","listitem");this.pS.push(N);if(q>0)N.textContent="\u2003";
N.appendChild(this.FQ[q].U);if(UZ.xaI.indexOf(this.$s)!=-1){var J=new nl("+");J.TU();J.U.style.float="right";
N.appendChild(J.U);var _=new nl("\u2B0D");_.TU();_.U.style.float="right";_.U.style["margin-right"]="2px";
N.appendChild(_.U)}N.addEventListener("click",X,!1);b.appendChild(N)}};_O.Lk=function(b,X){var q=X.getBoundingClientRect();
return(b.clientY-q.top)/q.height};_O.prototype.xdc=function(b){var X=b.target.tagName.toLowerCase();
if(X=="input"){return}if(X=="button"){var q=new Q(K.E.e,!0),N=b.target.textContent=="+",J=N?0:_O.Lk(b,b.target)<.5?-1:1;
if(N)q.data={V:"st_dupsingle",Q:this.parent.data.Q,UI:this.GO};else q.data={V:"st_movsingle",Q:this.parent.data.Q,UI:this.GO,xin:J};
q.B=c.CO;q.oP=!0;this.X(q);q=new Q("redrawall",!0);q.data={xin:J};this.X(q);return}b.preventDefault();
b.stopPropagation();this.QN();this.Fl=this.pS.indexOf(b.currentTarget);this.X(new Q("showme"))};_O.prototype.QN=function(){if(this.Dd.enab&&this.Dd.enab.N()==!1)this.cS({Kv:"enab",A:!0})};
_O.prototype.xds=function(){var b=this.pS[this.Fl];if(b)K.Dv(b,"selected");return this.S$[this.Fl]};
_O.prototype.xde=function(b){var X={};for(var q=0;q<b.length;q++){var N=b[q],J=null;if(N=="----")J={U:K.m("hr")};
if(N=="\n")J={U:K.m("br")};if(N=="blOptions")J=new _L([14,10]);if(N=="brst")J=new MultiCheck([12,72],["R","G","B"]);
if(N=="knko")J=new xU("Knockout",[[13,1,0],"Shallow","Deep"]);if(N=="enab")J=new nG(UZ.names[UZ.order.indexOf(this.$s)]);
if(N=="lrMd"||N=="Md")J=new xU([12,19,0],nD.IH,!1,nD.Mo);if(N=="Opct")J=new _R([12,0],0,100,"%");if(N=="iOpa")J=new _R([12,26],0,100,"%");
if(N=="blIf")J=new Sn;if(N=="ShdN")J=new _R([12,68],0,100,"%");if(N=="lagl"||N=="Angl")J=new bl([12,15]);
if(N=="uglg")J=new nG([12,27]);if(N=="Dstn")J=new _R([12,28],0,200,"px");if(N=="Ckmt")J=new _R([12,29],0,100,"%");
if(N=="blur")J=new _R([12,14,0],0,200,"px");if(N=="TrnS"||N=="MpgS")J=new KK([12,21]);if(N=="Nose")J=new _R([12,30],0,100,"%");
if(N=="layerConceals")J=new nG([12,31]);if(N=="AntA"||N=="antialiasGloss")J=new nG("Anti-alias");if(N=="GlwT")J=new xU([12,32],UZ.lH.names);
if(N=="glwS")J=new xU([12,70],UZ.lH.xpX);if(N=="Inpr")J=new _R([12,12],1,100,"%");if(N=="bvlS")J=new xU([12,22],UZ.$Q.style);
if(N=="bvlT")J=new xU([12,32],UZ.$Q.xpD);if(N=="bvlD")J=new xU(null,UZ.$Q.dir);if(N=="srgR")J=new _R([12,34],0,1e3,"%");
if(N=="Sftn")J=new _R([12,35],0,20,"px");if(N=="Lald")J=X.lagl;if(N=="hglM"||N=="sdwM")J=new xU([12,36],nD.IH,!1,nD.Mo);
if(N=="hglC"||N=="sdwC")J=new bh;if(N=="hglO"||N=="sdwO")J=new _R([12,0],0,100,"%");if(N=="Invr"||N=="InvT")J=new nG([4,11]);
if(N=="Sz")J=new _R([12,14,0],1,200,"px");if(N=="Styl")J=new xU([12,40],UZ.stroke.names);if(N=="PntT")J=new xU([12,66],UZ.stroke.xpz);
if(N=="Clr")J=new bh(!0);if(N=="Grad"){J=new KS(!0,[12,37],!0);J.S(JSON.parse(UZ.RO.xSa).v)}if(N=="Rvrs")J=new nG([12,23,0]);
if(N=="Dthr")J=new nG("Dither");if(N=="Type")J=new xU([12,22],UZ.Z.names.slice(0,this.$s=="FrFX"?6:5));
if(N=="Ptrn")J=new gX([12,62]);if(N=="Scl")J=new _R([12,38],10,500,"%",0,!0);if(N=="Algn")J=new nG([12,39]);
if(N=="Ofst")J=new bf(!0);if(N=="phase")J=new bf(!1);if(N=="useShape")J=new nG([12,21]);if(N=="useTexture")J=new nG([12,67]);
if(N=="textureDepth")J=new _R([12,34],-300,300,"%");var _=N=="----"||N=="\n"?N+q:N;if(J!=null)X[_]=J}return X};
_O.prototype.xlb=function(b){var X=this.S$[this.Fl];for(var q=0;q<b.length;q++){var N=this.Dd[b[q]];
if(N&&X.contains(N.U))X.removeChild(N.U)}};_O.prototype.xlr=function(b){var X=this.S$[this.Fl];for(var q=0;
q<b.length;q++){var N=this.Dd[b[q]];if(N&&!X.contains(N.U))X.appendChild(N.U)}};_O.prototype.TY=function(b,X){if(this.Dd==null)return;
var q=X==n_.LX;if(this.Dd.Grad){this.Dd.Grad.vo(b.pp,b.HO);if(q||X==n_.$f||X==n_.FA)this.Dd.Grad.pz(b.xb)}if(this.Dd.Ptrn){if(q||X==n_.DS)this.Dd.Ptrn.pz(b.yV)}if(this.Dd.TrnS){if(q||X==n_.py)this.Dd.TrnS.pz(b.fo)}if(this.Dd.MpgS){if(q||X==n_.py)this.Dd.MpgS.pz(b.fo)}};
_O.prototype.f=function(){for(var b=0;b<this.fD.length;b++)this.fD[b].f();for(var X in this.Dd)if(this.Dd[X]instanceof na)this.Dd[X].f()};
_O.prototype.SF=function(){for(var b in this.Dd){var X=this.Dd[b];X.parent=this;if(X instanceof na)X.l(K.E.$,this.xlq,this);
if(this.S$.length==0||b=="useShape"||b=="useTexture"){var q=new _L(X.xhL()),N=K.m("div","bordered padded");
if(this.FR==!1){N.appendChild(q.U);N.appendChild(K.m("hr",""))}this.fD.push(q);this.S$.push(N);this.FQ.push(X)}else this.S$[this.S$.length-1].appendChild(X.U)}};
_O.prototype.update=function(b,X){if(this.Dd==null)return;if(this.FR)this.gr=JSON.parse(JSON.stringify(X));
for(var q in X){if("Opct iOpa hglO sdwO Dstn Ckmt blur Nose Scl Sz Inpr Angl srgR Sftn textureDepth ShdN".split(" ").indexOf(q)!=-1)this.Dd[q].S(X[q].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals useShape useTexture Ofst phase blIf".split(" ").indexOf(q)!=-1){this.Dd[q].S(X[q].v,b)}if(["Md","hglM","sdwM"].indexOf(q)!=-1)this.Dd[q].S(nD.$s.indexOf(X[q].v.BlnM));
if(q=="lrMd"){var N=(X.zu?[[15,10,27]]:[]).concat(nD.IH),J=(X.zu?[1]:[]).concat(nD.Mo);this.Dd[q].th(N,J);
this.Dd[q].S(X[q].v)}if(q=="lagl"){var _=X.uglg&&X.uglg.v?b.Fx():X.lagl.v.val;this.Dd[q].S(_)}if(q=="Lald"){var _=X.uglg&&X.uglg.v?b.bl():X.Lald.v.val;
this.Dd[q].S(null,_)}if(q=="Type")this.Dd[q].S(UZ.Z.types.indexOf(X.Type.v.GrdT));if(q=="Styl")this.Dd[q].S(UZ.stroke.types.indexOf(X.Styl.v.FStl));
if(q=="PntT"){var p=UZ.stroke.MD.indexOf(X.PntT.v.FrFl);this.Dd[q].S(p);if(!this.FR){this.xlb(UZ.tt.concat(UZ.le.concat(UZ.Wd)));
this.xlr([UZ.tt,UZ.le,UZ.Wd][p])}}if(q=="GlwT")this.Dd[q].S(UZ.lH.types.indexOf(X.GlwT.v.BETE));if(q=="glwS")this.Dd[q].S(UZ.lH.xiu.indexOf(X.glwS.v.IGSr));
if(q=="bvlS")this.Dd[q].S(UZ.$Q.types.indexOf(X.bvlS.v.BESl));if(q=="bvlT")this.Dd[q].S(UZ.$Q.xUs.indexOf(X.bvlT.v.bvlT));
if(q=="bvlD")this.Dd[q].S(["In","Out"].indexOf(X.bvlD.v.BESs))}};_O.prototype.xlq=function(b){for(var X in this.Dd){if(this.Dd[X]!=b.target)continue;
var q=null,N=!1;if("Opct iOpa hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(X)!=-1)q={type:"#Prc",val:b.target.N()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(X)!=-1)q={type:"#Pxl",val:b.target.N()};if(["Angl","lagl"].indexOf(X)!=-1)q={type:"#Ang",val:b.target.N().KK};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(X)!=-1)q=b.target.N();
if(["Md","hglM","sdwM"].indexOf(X)!=-1)q={BlnM:nD.$s[b.target.N()]};if(X=="uglg"){q=b.target.N();N=!0}if(X=="PntT"){q={FrFl:UZ.stroke.MD[b.target.N()]};
N=!0}if(X=="Lald")q={type:"#Ang",val:b.target.N().alt};if(X=="Type")q={GrdT:UZ.Z.types[b.target.N()]};
if(X=="Styl")q={FStl:UZ.stroke.types[b.target.N()]};if(X=="GlwT")q={BETE:UZ.lH.types[b.target.N()]};
if(X=="glwS")q={IGSr:UZ.lH.xiu[b.target.N()]};if(X=="bvlS")q={BESl:UZ.$Q.types[b.target.N()]};if(X=="bvlT")q={bvlT:UZ.$Q.xUs[b.target.N()]};
if(X=="bvlD")q={BESs:["In","Out"][b.target.N()]};this.cS({Kv:X,A:q});if(N){if(this.FR)this.update(null,this.gr);
else{var J=this.parent,_=J.kM,p=this.GO,z=_.F[J.data.Q].add.lmfx[UZ.PS[p[0]]].v[p[1]].v;this.update(_,z)}}}};
_O.prototype.cS=function(b){if(this.FR){this.gr[b.Kv].v=b.A;this.X(new Q(K.E.$))}else{b.V="changeprop";
b.Q=this.parent.data.Q;b.aP=this.GO;var X=new Q(K.E.e,!0);X.data=b;X.B=c.CO;X.oP=!0;this.X(X);this.X(new Q("afterchange",!0))}};
_O.prototype.N=function(){return JSON.parse(JSON.stringify(this.gr))};_O.pS={bops:"blOptions lrMd Opct iOpa ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(UZ.tt),GrFl:["enab","Md","Opct"].concat(UZ.le),patternFill:["enab","Md","Opct"].concat(UZ.Wd),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","PntT","\n"].concat(UZ.tt.concat(UZ.le.concat(UZ.Wd)))};
function _Z(){xq.call(this,[11,6],"layerstyle");this.xFD=-1;this.data={};this.kM=null;this.Ka=null;this.jC=[];
this.Gy=[];K.Dv(this.body,"flexrow");this.lW=K.m("div","bordered");this.lW.setAttribute("style","min-width:13em;");
this.body.appendChild(this.lW);this.ry=K.m("div","");this.ry.setAttribute("style","width:25em; padding-left: 1em;");
this.body.appendChild(this.ry);this.Qa=K.m("div","form");this.Qa.setAttribute("style","padding-left: 1em; width:7em;");
this.body.appendChild(this.Qa);this.TO=new nl("OK",!0,null,!0);this.TO.l("click",this.Th,this);this.Qa.appendChild(this.TO.U);
this.ff=new nl([12,87],!0,null,!0);this.ff.l("click",this.xlF,this);this.Qa.appendChild(this.ff.U);this.rQ=new bo;
this.rQ.parent=this;this.rQ.l(K.E.$,this.xlv,this);this.Qa.appendChild(this.rQ.U);this.l("closebtn",this.xQ,this);
this.l("redrawall",this.xPv,this)}_Z.prototype=new xq;_Z.prototype.Ze=function(){return!0};_Z.prototype.xlv=function(b){var X=this.rQ.N();
this.cS({V:"setstl",A:X.zh});this.xPv(null)};_Z.prototype.xlF=function(b){var X=this.kM,q=this.data.Q;
if(q==null)q=X.k[0];var N=this.kM.F[q],J=nM.xp_(N),_=new Q(K.E.T,!0);_.data={V:K.a.dX,RW:"add",Zy:n_.wg,gR:[JSON.parse(JSON.stringify(J))]};
this.X(_)};_Z.prototype.xld=function(b){this.data.index=b.currentTarget.GO;this.QO(b.currentTarget.GO)};
_Z.prototype.xPv=function(b){this.Fr(this.kM,this.data)};_Z.prototype.QO=function(b,X){K.Jx(this.ry);
for(var q=0;q<this.jC.length;q++)this.jC[q].xdS();var N=b==0?this.jC[0]:this.Gy[b[0]][b[1]];this.ry.appendChild(N.xds());
if(X)N.QN();var J=this.kM;if(J){var _=J.F[this.data.Q];this.jC[0].update(J,xu.vi.m$(J,_));var p=_.add.lmfx;
if(p==null)return;for(var q=0;q<UZ.order.length;q++){var z=p[UZ.PS[q]].v;for(var g=0;g<z.length;g++)this.Gy[q][g].update(J,z[g].v)}}if(X)N.QN()};
_Z.prototype.f=function(){xq.prototype.f.call(this);this.ff.f();this.rQ.f();for(var b=0;b<this.jC.length;
b++)this.jC[b].f()};_Z.prototype.Fr=function(b,X){var q=X.Q==null;this.data.Q=X.Q;this.data.index=X.index;
X=this.data;this.kM=b;if(q)X.Q=b.k.length==0?b.F.length-1:b.k[0];K.Jx(this.lW);var N=b.F[X.Q].add.lmfx;
this.Qc();this.jC=[new _O("bops",!1,0)];this.Gy=[];for(var J=0;J<UZ.order.length;J++){this.Gy.push([]);
var _=N==null?[]:N[UZ.PS[J]].v;for(var p=0;p<_.length;p++){var z=new _O(UZ.order[J],!1,[J,p]);this.jC.push(z);
this.Gy[J].push(z)}if(_.length==0){var z=new _O(UZ.order[J],!1,[J,0]);this.jC.push(z);this.Gy[J].push(z)}}this.f();
this.xFE(this.Ka,n_.LX);for(var J=0;J<this.jC.length;J++){this.jC[J].parent=this;this.jC[J].xdR(this.lW);
this.jC[J].l("showme",this.xld,this)}if(X.index==null||X.index==0||!q&&N[UZ.PS[X.index[0]]].v.length==0){this.QO(0)}else this.QO(X.index,q);
this.l("afterchange",this.Qc,this)};_Z.prototype.Qc=function(b){var X=this.kM,q=this.data.Q;if(q==null)q=X.k[0];
var N=this.kM.F[q],J=nM.xp_(N);this.rQ.S(J,X.add.Patt?X.add.Patt:[],X.Fx(),X.bl())};_Z.prototype.TY=function(b,X){this.Ka=b;
this.xFE(b,X);if(X==n_.wg||X==n_.LX){this.rQ.pz([b.zC,b.yV])}if(X==n_.Dq){}};_Z.prototype.xFE=function(b,X){for(var q=0;
q<this.jC.length;q++)this.jC[q].TY(b,X)};_Z.prototype.xQ=function(b){this.cS({V:"cancel"})};_Z.prototype.Th=function(b){this.cS({V:"confirm"});
this.close()};_Z.prototype.cS=function(b){b.Q=this.data.Q;var X=new Q(K.E.e,!0);X.data=b;X.B=c.CO;X.oP=!0;
this.X(X);this.Qc()};_Z.xFQ=function(b){var X=[{name:[14,10],xy:!0}];for(var q=0;q<UZ.names.length;q++)X.push({name:UZ.names[q]});
if(b){X[X.length-1].xy=!0;X.push({name:"Styles To Separate Layers",O:function(N){return{O:N!=null&&N.k.length!=0&&N.F[N.k[0]].add.lmfx!=null}}})}return X};
_Z.xAL=function(b){var X=[{v:K.E.T,R:{V:K.a.Ko,zE:"layerstyle"}}];for(var q=0;q<UZ.names.length;q++)X.push({v:K.E.T,R:{V:K.a.Ko,zE:"layerstyle",index:[q,0]}});
if(b){var N={classID:"Mk",null:_U.YN("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
X.push({v:K.E.gy,R:{pn:"make",nv:N}})}return X};_Z.xpb=function(b){var X=[];if(b)X.push({name:[6,48,0,0],GB:!0},{name:[6,48,0,1],GB:!0},{name:[6,48,0,2],GB:!0,xy:!0});
for(var q in nY.names)X.push({name:nY.names[q],xy:nY.xxL.indexOf(q)!=-1,GB:s[q]!=null});return X};_Z.xbH=function(b){var X=[];
if(b)for(var q=0;q<3;q++)X.push({v:K.E.gy,R:c.od.Hc(q)});for(var N in nY.names){var J=nm.Z$(N);for(var _ in nY.Nh)if(nY.Nh[_]==N)J.classID=_;
var p={pn:"make",nv:{classID:"Mk",null:_U.YN("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:J}}}}};
X.push({v:K.E.gy,R:p})}return X};function gz(){xq.call(this,"Merge Channels","mergechannels");this.or=null;
var b=K.m("div","form");this.body.appendChild(b);this.oJ=[];for(var X=0;X<3;X++){var q=new xU(nY.Nq[X],[]);
this.oJ.push(q);b.appendChild(q.U);K.Kc(b)}this.TO=new nl("OK",!0,null,!0);this.TO.l("click",this.Th,this);
b.appendChild(this.TO.U)}gz.prototype=new xq;gz.prototype.f=function(){xq.prototype.f.call(this);for(var b=0;
b<3;b++)this.oJ[b].f()};gz.prototype.Fr=function(b,X,q,N){this.or=q;var J=[];for(var _=0;_<q.length;
_++)J.push(q[_].name);for(var _=0;_<3;_++){var p=this.oJ[_];p.th(J);p.S(Math.min(_,q.length-1))}};gz.prototype.Th=function(b){var X=this.or,q=X[0],N=new Q(K.E.gy,!0);
N.data=nj.Mz(q.n,q.z,q.Dg,"Merged Document","Wht");this.X(N);var J=[];for(var _=0;_<3;_++)J.push(X[this.oJ[_].N()].US());
var q=X[X.length-1],p=q.F[0],z=p.buffer;for(var _=0;_<z.length;_+=4){z[_]=J[0][_];z[_+1]=J[1][_];z[_+2]=J[2][_]}p.Y();
q.Y();this.close()};function Kw(){xq.call(this,[1,10],"script");var b=K.m("div","form");b.setAttribute("style","width:44em");
this.body.appendChild(b);this.Ka=null;this.aq=[];this.fk=[];this.xdU;var X=this.gU=new nl([1,2],!1,null,!0);
X.l("click",this.QQ,this);b.appendChild(X.U);var q=new nl("JS Reference",!1,null,!0);q.l("click",this.xlJ,this);
b.appendChild(q.U);b.appendChild(new _L("Demos:").U);this.xlU=[];var N=Kw.Q$;for(var J=0;J<N.length;
J++){var _=new nl(N[J]._d,!1,null,!0);this.xlU.push(_);b.appendChild(_.U);_.l("click",this.xlz,this)}this.Pb=K.m("textarea");
this.Pb.setAttribute("rows",16);this.Pb.setAttribute("style","display:block;tab-size:4; font-family:monospace;width:100%;");
b.appendChild(this.Pb);var p=new nl("Run",!0,null,!0);p.l("click",this.Th,this);b.appendChild(p.U);this.xla=K.m("div");
b.appendChild(this.xla)}Kw.prototype=new xq;Kw.prototype.f=function(){this.gU.f()};Kw.prototype.QQ=function(){var b=this.xdU;
if(b==null)b="script.jsx";var X=new Q(K.E.T,!0);X.data={V:K.a.Ko,zE:"namewindow",Yg:b.slice(0,b.length-4),xlO:this.xlW.bind(this)};
this.X(X)};Kw.prototype.xlW=function(b){var X=this.Pb.value,q=e.eJ(X),N=new Q(K.E.T,!0);N.data={V:K.a.CG,gK:q.buffer,TC:b+".jsx",xLz:!0};
this.X(N)};Kw.prototype.xlu=function(b){var X=this.aq.indexOf(b.target),q=this.xdU=this.Ka.tI.rd[this.fk[X]],N=q,J=new Uint8Array(N),_=e.Re(J,0,J.length);
this.Pb.value=_};Kw.prototype.Fr=function(b,X,q){this.Pb.value=Kw.Q$[0].ok;this.xKS()};Kw.prototype.xKS=function(){var b=this.Ka.tI,X=this.xla;
K.Jx(X);this.aq=[];this.fk=[];X.textContent="Saved scripts: ";for(var q in b.rd){if(q.endsWith(".jsx")){var N=new nl(q,!1,null,!0);
this.aq.push(N);this.fk.push(q);N.l("click",this.xlu,this);X.appendChild(N.U)}}};Kw.prototype.TY=function(b,X){this.Ka=b;
if(X==n_.Us)this.xKS()};Kw.prototype.xlJ=function(b){var X=new Q(K.E.T,!0);X.data={V:K.a.WI,link:"https://www.adobe.com/content/dam/acom/en/devnet/photoshop/pdfs/photoshop-cc-javascript-ref-2019.pdf"};
this.X(X)};Kw.prototype.Th=function(b){var X=new Q(K.E.T,!0);X.data={V:K.a.eP,Ig:this.Pb.value};this.X(X)};
Kw.prototype.xlz=function(b){var X=this.xlU.indexOf(b.currentTarget);this.Pb.value=Kw.Q$[X].ok};Kw.Q$=[{_d:"Hello",ok:"\nalert(\"Hello Photopea!\");\n"},{_d:"Process Layers",ok:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{_d:"Clone Layers",ok:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function gm(){xq.call(this,[11,7],"newproject");this.data=null;this.or=null;var b=K.m("div","flexrow");
this.s_=b;this.body.appendChild(b);var X=K.m("div","form");this.qw=X;b.appendChild(X);this.R$=new pH([12,48]);
X.appendChild(this.R$.U);K.Kc(X);this.pk=new bB(!0);this.pk.S(new Ue(1280,720),72);this.pk.l(K.E.$,this.dn,this);
X.appendChild(this.pk.U);this.fs=new xU([12,46],[[13,1,8],[13,1,9],[12,46]]);X.appendChild(this.fs.U);
X.appendChild(K.m("hr"));this.Sp=new nl([12,49],!0,null,!0);this.Sp.l("click",this.Th,this);X.appendChild(this.Sp.U);
var q=gm.mQ,N=[];for(var J=0;J<q.length;J++)N.push(q[J].name);this.oq=new _t(null,N);this.oq.l(K.E.$,this.xKP,this);
X.appendChild(this.oq.U);this.oq.U.style["margin-top"]="1em";this.oY=new xe(!0);this.oY.l(K.E.$,this.xlZ,this);
X.appendChild(this.oY.U);this.xKP();this.IB=new KI;this.IB.parent=this;this.IB.U.setAttribute("style","margin-left:1em");
this.IB.l("tempready",this.xWS,this)}gm.prototype=new xq;gm.prototype.TY=function(b,X){this.IB.TY(b)};
gm.prototype.on=function(b,X){return new Ue(Math.max(0,Math.min(70,(b-690)/2)),b>X?Math.max(0,Math.min(50,(X-400)/2)):0)};
gm.prototype.Gq=function(b,X){this.qw.setAttribute("style","width:"+Math.min(b,338)+"px");this.oY.U.style.height=X-260+"px";
var q=this.IB.U,N=q.parentNode;if(b<500){if(N!=null)this.s_.removeChild(q)}else{if(N==null)this.s_.appendChild(q)}this.IB.Gq(b-360,X-35)};
gm.prototype.dn=function(){this.IB.S(this.pk.N())};gm.prototype.xlZ=function(b){var X=this.oY.N(),q=gm.mQ[this.oq.N()].hV[X],N=q[4];
if(N==0)N=72;var J=q[1],_=q[2],p=["px","%","mm","in"].indexOf(q[3]),z=[1,1,25.4/N,1/N][p];J/=z;_/=z;
this.pk.S(new Ue(Math.round(J),Math.round(_)),N);this.pk.xio(p);this.oY.xr(X);this.dn()};gm.prototype.xKP=function(b){var X=gm.mQ[this.oq.N()].hV,q=[],N=[],J=Math.round(106*K.u()),_=Math.round(106*K.u()),p=0;
for(var z=0;z<X.length;z++)p=Math.max(p,X[z][1],X[z][2]);for(var z=0;z<X.length;z++){var g=X[z],W=g[1]+" x "+g[2]+" "+g[3];
if(g[3]=="in")W=(g[1]*25.4).toFixed(0)+" x "+(g[2]*25.4).toFixed(0)+" mm";if(g[3]=="mm")W=(g[1]/25.4).toFixed(1)+" x "+(g[2]/25.4).toFixed(1)+" in";
if(g[4])W=W+" @ "+g[4]+" ppi";N.push(W);q.push(gm.FY(g,J,_,p))}this.oY.Ia(q,N,J,_)};gm.FY=function(b,X,q,N){var J=K.m("canvas",""),_=J.getContext("2d");
J.width=X;J.height=q;var p=Math.round(X/8),z=Math.floor(11*K.u()),g=b[1],W=b[2];_.fillStyle="#000000";
_.font=Math.round(z*.9)+"px \"Open Sans\", Sans-Serif";var o=g+" x "+W+" "+b[3],y=_.measureText(o);_.fillText(o,Math.round((X-y.width)/2),q-Math.round(p/2));
if(b[0]!=null){_.font="bold "+z+"px \"Open Sans\", Sans-Serif";var o=b[0],y=_.measureText(o);_.fillText(o,Math.round((X-y.width)/2),q-Math.round(p/2)-Math.round(z*1.3))}q-=Math.round(2.5*z);
var D=Math.min((X-p)/g,(q-p)/W);D*=.5+.5*(Math.max(g,W)/N);var m=(X-g*D)/2,k=(q-W*D)/2;_.strokeRect(Math.round(m)+.5,Math.round(k)+.5,Math.round(g*D),Math.round(W*D));
return J.toDataURL()};gm.prototype.f=function(){xq.prototype.f.call(this);this.pk.f();this.R$.f();this.fs.f();
this.Sp.f();this.R$.S(xA.get([11,7]));this.oq.f();this.IB.f()};gm.prototype.Th=function(b){var X=this.pk.N(),q=X.x,N=X.y;
this.close();var J=new Q(K.E.gy,!0);J.data=nj.Mz(q,N,this.pk.xwo(),this.R$.N(),["Wht","Trns","BckC"][this.fs.N()]);
this.X(J);this.xKD()};gm.prototype.xWS=function(b){var X=b.data.kM,q=new Q(K.E.T,!0);q.data={V:K.a.QK,kM:X};
this.X(q);this.close();this.xKD()};gm.prototype.xKD=function(){var b=this.or[this.or.length-1],X=this.data.xLN;
if(X)_s.kF(function(){var q=new XMLHttpRequest,N="https://www.googleapis.com/drive/v3/files?"+_s._s();
q.open("POST",N,!0);q.setRequestHeader("Content-Type","application/json");q.addEventListener("load",function(J){var _=JSON.parse(J.target.response);
b.ul={file:_,fZ:"psd"};alert(b.name+" created in Google Drive")});q.send(JSON.stringify({name:b.name,xQK:[X]}))})};
gm.prototype.Fr=function(b,X,q,N){this.or=q;if(b!=null&&b.p!=null){var J=new R(0,0,b.n,b.z).be(b.p.rect);
this.pk.S(new Ue(J.n,J.z))}this.data=X;this.dn();this.R$.uv();if(window.ClipboardItem)_K.xhF(this.xWB.bind(this))};
gm.prototype.xWB=function(b){if(b=="granted")_K.uQ(this,this.xWC.bind(this))};gm.prototype.xWC=function(b,X){this.pk.S(new Ue(X.n,X.z))};
gm.mQ=[{name:"Social",hV:[["FB Page Cover",1640,664,"px",0],["FB Shared Image",1200,630,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],hV:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],hV:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],hV:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],hV:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],hV:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2\u1D3A",hV:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function Ku(b,X,q){xq.call(this,X,"sel_"+b);this.V=b;var N=K.m("div","form");this.body.appendChild(N);
this.R$=new xP(X,0,255,null,0,!1,!0);N.appendChild(this.R$.U);this.R$.S(1);var J=K.m("span");J.textContent=q;
N.appendChild(J);K.Kc(N);this.xuh=new nG("Apply at canvas bounds");if(b!="border")N.appendChild(this.xuh.U);
this.TO=new nl("OK",!0,null,!0);this.TO.l("click",this.Th,this);N.appendChild(this.TO.U)}Ku.prototype=new xq;
Ku.prototype.GV=function(b,X){if(b==null)return;if(b.p==null)alert("No selection!");return b.p!=null};
Ku.prototype.Th=function(b){var X=new Q(K.E.gy,!0);X.data=c.rl.xRd(this.V,this.R$.N(),this.xuh.N());
X.oP=!0;this.X(X);this.close()};Ku.prototype.f=function(){xq.prototype.f.call(this);if(this.R$)this.R$.f()};
Ku.prototype.Fr=function(b,X){};function gV(b,X){xq.call(this,X,b);this.mQ=null;this.qw=K.m("div","form");
this.body.appendChild(this.qw);this.R$=new pH(X);this.qw.appendChild(this.R$.U);this.TO=new nl("OK",!0,null,!0);
this.TO.l("click",this.Th,this);this.qw.appendChild(this.TO.U)}gV.prototype=new xq;gV.prototype.Th=function(b){var X=this.R$.N();
if(this.mQ.xlO)this.mQ.xlO(X);else{var q=this.mQ.xwI,N=new Q(q.v,!0);N.B=q.B;N.data=q.R;N.data.A=X;N.oP=!0;
this.X(N)}this.close()};gV.prototype.f=function(){xq.prototype.f.call(this);if(this.R$)this.R$.f()};
gV.prototype.Fr=function(b,X){this.mQ=X;this.R$.S(X.Yg);this.R$.uv()};function ge(){xq.call(this,[1,5],"open_from_url");
this.Qz=null;var b=K.m("div","form");this.body.appendChild(b);this.gq=new pH("URL",null,22);b.appendChild(this.gq.U);
this.gq.l(K.E.$,this.Th,this);K.Kc(b);this.Sx=new _t([21,0],[[21,2],[21,1]]);b.appendChild(this.Sx.U);
this.Sp=new nl("OK",!0,null,!0);this.Sp.l("click",this.Th,this);b.appendChild(this.Sp.U)}ge.prototype=new xq;
ge.prototype.f=function(){xq.prototype.f.call(this);this.Sx.f()};ge.prototype.Fr=function(b,X,q){this.gq.uv();
this.Qz=null;if(b&&q.indexOf(b)!=-1)this.Qz=q.indexOf(b)};ge.prototype.Th=function(b){var X=new Q(K.E.T,!0),q=this.gq.N();
X.data={V:K.a.Gx,Zy:{url:q,ym:!0,Qz:this.Sx.N()==1?this.Qz:null}};this.X(X);this.close()};function Sb(){xq.call(this,[12,79],"preferences");
this.Ka=null;var b=K.m("div","form");this.body.appendChild(b);this.pS=[new nG([8,2]),new nG([8,4]),new xU([12,80,3],[[12,93,3],[12,80,4]]),new _R([12,80,5],1,100,null,2),new xU(null,x.hM.$E),new xU([12,80,6],x.hM.$E)];
for(var X=0;X<this.pS.length;X++){var q=this.pS[X];b.appendChild(q.U);if(X!=3)K.Kc(b);q.l(K.E.$,this.Yo,this)}}Sb.prototype=new xq;
Sb.prototype.f=function(){xq.prototype.f.call(this);for(var b=0;b<this.pS.length;b++)this.pS[b].f()};
Sb.prototype.Fr=function(b,X,q){};Sb.prototype.TY=function(b,X){this.Ka=b;this.pS[0].S(b.ht.LA);this.pS[1].S(b.ht.nH);
this.pS[2].S(b.ht.nJ);this.pS[3].S(b.ht.df);this.pS[4].S(b.ht.dk);this.pS[5].S(b.ht.Ms)};Sb.prototype.Yo=function(b){var _a=this.pS,X=JSON.parse(JSON.stringify(this.Ka.ht));
X.LA=_a[0].N();X.nH=_a[1].N();X.nJ=_a[2].N();X.df=_a[3].N();X.dk=_a[4].N();X.Ms=_a[5].N();if(X.dk!=4)X.df=Math.round(X.df);
var q=new Q(K.E.T,!0);q.data={V:K.a.dX,Zy:n_.UX,wS:X};this.X(q)};function KZ(){xq.call(this,[11,8],"saveforweb");
this.xuE="";this.l("closebtn",function(){this.ro.GZ()},this);this.wK=new Ue(512,512);this.kM=null;this.ru=null;
this.xLA=null;this.Ka=null;K.Dv(this.body,"flexrow");var b=K.m("div"),X=K.m("div");this.body.appendChild(b);
this.body.appendChild(X);this.ar=K.m("div","imgcont");b.appendChild(this.ar);this.ro=new _D;this.ro.Gq(this.wK.x,this.wK.y);
this.zW=K.m("span");b.appendChild(this.zW);this.qw=K.m("div","form cell");this.qw.setAttribute("style","width:15em; padding-left:1em;");
X.appendChild(this.qw);this.rm=new xU([12,50],nr.tZ());this.qw.appendChild(this.rm.U);this.rm.l(K.E.$,this.XX,this);
this.pk=new bB(!1,!0);this.pk.l(K.E.$,this.XX,this);this.qw.appendChild(this.pk.U);this.ms=new Kj;this.ms.l(K.E.$,this.XX,this);
this.qw.appendChild(this.ms.U);this.mA=new nl([1,2],!0,null,!0);this.mA.l("click",this.Th,this);this.qw.appendChild(this.mA.U)}KZ.prototype=new xq;
KZ.prototype.GV=function(b,X){return b!=null};KZ.prototype.f=function(){xq.prototype.f.call(this);this.pk.f();
this.rm.f();this.ms.f();this.mA.f()};KZ.prototype.Th=function(b){var X=this.kM.name.split(".")[0],q=nr.tZ()[this.rm.N()],N=this.ru,J=X+"."+q.toLowerCase(),_=this.kM,p=_.lg;
if(p.length!=0&&(q=="JPG"||q=="PNG"||q=="GIF")&&this.ms.N().pop()){var z="<!DOCTYPE html>\n<html>\n<style>div {position:absolute;}</style>\n<head></head>\n<body>\n",g=[],W={},o=new R(0,0,_.n,_.z),y=_.US();
for(var D=0;D<p.length;D++)g.push(c.IV.pB(p,D));g.reverse();var m=x.rect.yK([0,0,_.n,_.z],g);for(var D=0;
D<m.length;D++){var k=m[D],O=new R(k[0],k[1],k[2]-k[0],k[3]-k[1]),L=k.length==5?p[k[4]].v:null,I=x.K(O.c()*4);
x.iX(y,o,I,O);var H="img/img"+(D+1)+"."+q.toLowerCase();W[H]=new Uint8Array(nr[q].Da([[I.buffer,0]],O.n,O.z,this.ms.N()));
z+="<div style=\"background-image:url('"+H+"'); left:"+O.x+"px; top:"+O.y+"px; width:"+O.n+"px; height:"+O.z+"px\">";
if(L&&L.url.v!="")z+="\n\t<a href=\""+L.url.v+"\" target=\""+L.null.v+"\" style=\"display:block;width:100%;height:100%;\"></a>\n";
z+="</div>\n"}z+="</body>\n</html>\n";var Y=x.K(Math.round(z.length*1.5)),n=e.MI(z,Y,0);W["index.html"]=Y.slice(0,n);
N=UZIP.encode(W);J=X+".zip"}var w=new Q(K.E.T,!0);w.data={V:K.a.SD,data:N,name:J};this.X(w);this.ro.GZ();
this.close()};KZ.prototype.Fr=function(b,X){if(X.K_!=null)this.rm.S(X.K_);this.kM=b;var q=b.n+","+b.z;
if(q!=this.xuE){this.xuE=q;this.pk.S(new Ue(b.n,b.z))}this.ms.xvf();this.XX(null,!0)};KZ.prototype.on=function(b,X){return new Ue(Math.max(0,Math.min(150,(b-770)/2)),Math.max(0,Math.min(150,(X-590)/2)))};
KZ.prototype.Gq=function(b,X){this.w$=b;this.ai=X;this.wK.x=Math.min(512,b-26-214);this.wK.y=Math.min(512,X-45);
if(this.kM==null)return;var q=this.pk.N(),b=q.x,X=q.y,N=nr.tZ()[this.rm.N()],J=nr[N],y="<span style=\"width:",D="display:inline-block; text-align:right;\">";
if(J.ws){var _=b,p=X,z;if(N=="PDF"||J.Jn){_=this.wK.x;p=this.wK.y}else{_=Math.min(b+20,this.wK.x);p=Math.min(X+20,this.wK.y)}this.ar.firstChild.setAttribute("style","display:block; width:"+_+"px; height:"+p+"px;")}else{if(J.Jn){_=this.wK.x;
p=this.wK.y}else{var g=this.xLA,W=g[0]._z,_=W.n,p=W.z;this.ro.Gq(Math.max(50,Math.min(_/K.u(),this.wK.x)),Math.max(50,Math.min(p/K.u(),this.wK.y)))}}var o=this.ru.byteLength,m=N+":"+y+64+"px;"+D+KZ.oV(o)+"</span>";
if(this.wK.x>200)m+=y+90+"px; opacity:"+.5+";"+D+o.toLocaleString()+" B</span>";this.zW.innerHTML=m};
KZ.oV=function(b){var X=0;while(b>>>X+10!=0)X+=10;var q=(b/(1<<X)).toFixed(1),N=["B","KB","MB","GB"][Math.floor(X/10)];
return q+" "+N};KZ.prototype.TY=function(b,X){this.Ka=b};KZ.prototype.XX=function(b,X){var q=this.pk.N(),N=q.x,J=q.y,_=this.rm.N(),p=nr.tZ()[_],z=nr.VZ(this.kM)[0].length,g=["GIF","PNG","WEBP"].indexOf(p)!=-1&&z>1,y="";
if(g&&X&&(N*J>1024*1024||N*J*z>800*800*50)){var W=window.confirm("Your animation is large ("+N+" x "+J+" px). Should we scale it down 50%?");
if(W){this.pk.S(new Ue(N>>>1,J>>>1));N=N>>>1;J=J>>>1}}this.ms.xEI(p,g,this.kM.lg.length!=0);var o=this.ms.N();
this.ru=nr.kz(this.kM,p,N,J,o,this.Ka);if(this.ru==null){this.kM=null;return}K.Jx(this.ar);this.ro.GZ();
var D=nr[p];if(D.Jn){this.ar.innerHTML="<div></div>";y+="width:0px"}else if(D.ws){var m=N,k=J,L;if(p=="PDF"){L=URL.createObjectURL(new Blob([this.ru],{type:"application/pdf"}))}else{L=URL.createObjectURL(new Blob([this.ru],{type:"image/svg+xml"}))}this.ar.innerHTML="<iframe src=\""+L+"\"></iframe>"}else{var I=this.xLA=D.vu(this.ru),Y=I[0]._z,m=Y.n,k=Y.z;
this.ro.S(I,I.length>1?o[o.length-2]:0);this.ar.appendChild(this.ro.U);y="background: rgba(0,0,0,0);"}this.ar.setAttribute("style","display:block; background-size:"+16/K.u()+"px;"+y);
this.Gq(this.w$,this.ai)};function xN(){xq.call(this,[11,13],"shortcuts");var b=this.s_=K.m("div","scrollable");
b.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(b);
this.xSe()}xN.prototype=new xq;xN.prototype.f=function(){xq.prototype.f.call(this);this.xSe()};xN.prototype.xSe=function(){var b="<div style=\"column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",X="";
X+="<h2 style=\"margin-top:0;\">Main Menu</h2>";X+=b;X+=this.Bu([[0,0],"---",[1,0],"Ctrl + O",[1,2],"Ctrl + S",[1,3],"Shift+Ctrl + S",[1,8],"Alt+Shift+Ctrl + S",[0,1],"---",[2,0],"Shift + Ctrl + Z",[2,1],"Ctrl + Z",[5,0],"Ctrl + X",[5,1],"Ctrl + C",[5,2],"Ctrl + V",[2,2],"Delete",[2,3],"Alt + Backspace",[10,16],"Alt + Ctrl + T",[12,79],"Ctrl + K",[3],"---",[4,1],"Ctrl + L",[4,2],"Ctrl + M",[4,5],"Ctrl + U",[4,11],"Ctrl + I",[0,3],"---",[6,0],"Ctrl + J",[6,6,0],"Alt + Ctrl + G",[6,9],"Ctrl + G",[6,10],"Ctrl + E",[0,5],"---",[7,0],"Ctrl + A",[7,1],"Ctrl + D",[7,2],"Shift+Ctrl + I",[0,7],"---",[8,0],"Ctrl + +",[8,1],"Ctrl + -",[8,3],"Ctrl + R",[8,2],"Ctrl + ;",[8,4],"Ctrl + '",[11,13],"?"]);
X+="</div>";X+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";X+=b;X+=this.Bu("Vertical scroll,Wheel,Horizontal scroll,Ctrl + Wheel,Zooming,Alt + Wheel".split(","));
X+="</div>";X+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
X+=b;X+=this.Bu([[10,11],"Ctrl",[10,7],"Spacebar",[10,17],"Ctrl + Spacebar"]);X+="</div>";X+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
X+=b;var q=[];for(var N=0;N<xN.nz.length;N+=3)q.push(xN.nz[N],xN.nz[N+1]);X+=this.Bu(q);X+=this.Bu(["abc",null,[24,16],"---",[22,7,1],"D",[22,7,0],"X","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}"]);
X+="</div>";this.s_.innerHTML=X};xN.prototype.Bu=function(b){var X="",q=!0;for(var N=0;N<b.length;N+=2){var J=b[N],_=b[N+1];
if(_==null){q=!1;continue}var p=K.xHQ(xA.get(J));if(_=="---"){if(!q)X+="<br/>";X+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+p+"</div>"}else X+="<div>"+p+" <span style=\"float:right; font-weight:bold;\">"+_+"</span> </div>";
q=!1}return X};xN.nz=[[10,11],"V",0,[10,15],"M",1,[10,4],"M",2,[10,9],"L",5,[10,14],"L",6,[10,10],"L",7,[10,37],"W",8,[10,12],"W",9,[10,2],"C",10,[10,39],"C",11,[10,40],"C",12,[10,41],"C",13,[10,5],"I",14,[10,36],"I",16,[10,24],"J",18,[10,25],"J",19,[10,26],"J",20,[10,43],"J",22,[10,0],"B",23,[10,38],"B",24,[10,42],"B",25,[10,1],"S",27,[10,3],"E",31,[10,6],"G",34,[10,13],"G",35,[10,18],null,36,[10,19],null,37,[10,20],null,38,[10,21],"O",39,[10,22],"O",40,[10,23],"O",41,[10,8],"T",47,[10,29],"P",42,[10,30],"P",43,[10,27],"A",51,[10,28],"A",52,[10,32],"U",54,[10,33],"U",55,[10,35],"U",57,[10,34],"U",56,[10,31],"U",58,[10,7],"H",59,[10,17],"Z",61];
function pp(){xq.call(this,[8,11,1],"soptions");this.Hn=null;var b=K.m("div","form");b.style.width="20em";
this.body.appendChild(b);this.gH={Nm:[12,48],url:"URL",null:[12,71]};this.pS={};for(var X in this.gH){var q=new pH(this.gH[X],null,15);
this.pS[X]=q;b.appendChild(q.U)}var N=new nl("OK",!0,null,!0);N.l("click",this.Th,this);b.appendChild(N.U)}pp.prototype=new xq;
pp.prototype.Fr=function(b,X,q){var N=X.A;this.Hn=JSON.stringify(N);for(var J in this.gH){if(N[J])this.pS[J].S(N[J].v)}};
pp.prototype.Th=function(b){var X=JSON.parse(this.Hn);for(var q in this.gH){var N=this.pS[q].N();X[q]={t:"TEXT",v:N}}var J=new Q(K.E.e,!0);
J.B=c.tn;J.data=X;J.oP=!0;this.X(J);this.close()};function KG(){xq.call(this,[2,3],"fill");this.Ka=null;
this.oa=null;var b=K.m("div","form padded");b.style.width="22em";this.body.appendChild(b);this.Lo="FrgC BckC Clr Blck Gry Wht contentAware".split(" ");
this.nC=new xU([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3]]);this.nC.l(K.E.$,this.xWJ,this);
b.appendChild(this.nC.U);this.ar=K.m("span");b.appendChild(this.ar);this.vJ=new bh;this.vJ.parent=this;
this.vJ.Tl(0);this.mx=new xU([12,19,0],nD.IH,!1,nD.Mo);b.appendChild(this.mx.U);this.gi=new _R([12,0],0,100,"%",0,!1);
this.gi.S(100);b.appendChild(this.gi.U);this.Sp=new nl("OK",!0,null,!0);this.Sp.l("click",this.Th,this);
this.body.appendChild(this.Sp.U)}KG.prototype=new xq;KG.prototype.GV=function(b,X){return b!=null};KG.prototype.Ze=function(){return!0};
KG.prototype.xWJ=function(){var b=this.nC.N()==2,X=this.vJ.U,q=this.ar;if(b)q.appendChild(X);else if(q.contains(X))q.removeChild(X)};
KG.prototype.f=function(){xq.prototype.f.call(this);this.nC.f();this.mx.f();this.gi.f()};KG.prototype.Th=function(b){if(!this.oa.lC())return;
var X=new Q(K.E.gy,!0),q=this.nC.N();X.data=c.Un.Hc(this.Lo[q],nD.YO[this.mx.N()],this.gi.N()/100,this.vJ.N());
this.close();this.X(X)};KG.prototype.Fr=function(b,X){this.oa=b};KG.prototype.TY=function(b,X){this.Ka=b};
function Ke(){xq.call(this,[14,9],"stroke");this.Ka=null;this.qw=K.m("div","form");this.qw.setAttribute("style","width:24em");
this.body.appendChild(this.qw);this.uf=new _O("FrFX",!0);this.uf.parent=this;var b=["Sz","Styl","Md","Opct"].concat(UZ.tt);
for(var X=0;X<b.length;X++){var q=this.uf.Dd[b[X]].U;this.qw.appendChild(q)}this.xLe=!1;this.Sp=new nl("OK",!0,null,!0);
this.Sp.l("click",this.Th,this);this.body.appendChild(this.Sp.U)}Ke.prototype=new xq;Ke.prototype.GV=function(b,X){return b!=null};
Ke.prototype.Ze=function(){return!0};Ke.prototype.f=function(){xq.prototype.f.call(this);this.uf.f()};
Ke.prototype.Th=function(b){var X=new Q(K.E.e,!0);X.B=c.xa;X.data={V:"stroke",xRo:this.uf.N()};this.close();
this.X(X)};Ke.prototype.Fr=function(b,X){if(!this.xLe){var q=UZ.IN[UZ.order.indexOf("FrFX")];q=JSON.parse(q);
this.uf.update(b,q);this.xLe=!0}var q=this.uf.N(),N=this.Ka.pp;q.Clr.v=x.Z.Yr({D:N>>16&255,q:N>>8&255,b:N&255});
this.uf.update(b,q)};Ke.prototype.TY=function(b,X){this.Ka=b};function xf(){xq.call(this,[11,9],"textwarp");
this.pS=new gA;this.pS.l(K.E.$,this.bO,this);this.pS.parent=this;this.qw=K.m("div","form");this.qw.setAttribute("style","width:20em");
this.body.appendChild(this.qw);this.qw.appendChild(this.pS.Yx.U);this.qw.appendChild(this.pS.KB.U);this.qw.appendChild(this.pS.Yd.U);
this.qw.appendChild(this.pS.Yt.U);this.qw.appendChild(this.pS.YG.U);this.Sp=new nl("OK",!0,null,!0);
this.Sp.l("click",this.Th,this);this.qw.appendChild(this.Sp.U);this.l("closebtn",this.xQ,this)}xf.prototype=new xq;
xf.prototype.Ze=function(){return!0};xf.prototype.f=function(){xq.prototype.f.call(this);this.pS.f()};
xf.prototype.bO=function(b){var X=this.pS.N();this.dC({V:"warp",Gg:X})};xf.prototype.dC=function(b){var X=new Q(K.E.e,!0);
X.B=c.Xe;X.data=b;X.oP=!0;this.X(X)};xf.prototype.xQ=function(b){this.dC({V:"warpCancel"})};xf.prototype.Th=function(b){this.dC({V:"warpConfirm"});
this.close()};xf.prototype.Fr=function(b,X){var q=b.F[b.k[0]];this.pS.S(q.add.TySh.HM)};function xs(){xq.call(this,"Raw Photopea","rawpea");
this.oh=null;this.Bk=null;this.mp=null;this.xQF=0;this.Ih=null;this.XI=null;this.xxy=500;this.xgW=500;
this.l("closebtn",this.NY,this);K.Dv(this.body,"flexrow");var b=K.m("div"),X=K.m("div"),J="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
X.setAttribute("style","padding-left: 1em");this.body.appendChild(b);this.body.appendChild(X);this.wZ=K.m("canvas");
b.appendChild(this.wZ);this.UF=new gn(225);this.UF.uU(4);X.appendChild(this.UF.U);this.qw=K.m("div");
this.qw.setAttribute("style","width:18em;");X.appendChild(this.qw);this.xgJ=new _L("Hi",!0);this.qw.appendChild(this.xgJ.U);
this.GU=[new nt("Temperature",2e3,13e3),new nt("Tint",-150,150),new nt([4,3],-4,4,null,!0),new nt([12,3,0],-100,100)];
for(var q=0;q<this.GU.length;q++){var N=this.GU[q];N.S(0);N.l(K.E.$,this.Bd,this);this.qw.appendChild(N.U);
if(q==1)this.qw.appendChild(K.m("hr"))}this.Sp=new nl([1,0],!0,null,!0);this.Sp.l("click",this.Th,this);
this.qw.appendChild(this.Sp.U);this.m_=new nl(J+" JPG",!0,null,!0);this.m_.l("click",this.xWN,this);
this.qw.appendChild(this.m_.U);this.m_.U.style.marginTop="6px"}xs.prototype=new xq;xs.prototype.to=function(){return!0};
xs.prototype.on=function(){return new Ue(0,0)};xs.prototype.Gq=function(b,X){this.xxy=b-274;this.xgW=X-32;
if(this.oh)this.xrr()};xs.prototype.f=function(){xq.prototype.f.call(this);this.Sp.f();for(var b=0;b<this.GU.length;
b++)this.GU[b].f()};xs.prototype.xWN=function(b){var X=this.oh,q=this.Bk,N=x.K(X.width*X.height*4);x.Ws(N,4294967295);
x.raw.rJ(q,N,X,this.IG());var J=nr.JPG.Da([[N.buffer]],q.gl,q.gz,[85]),_=new Q(K.E.T,!0);_.data={V:K.a.SD,data:J,name:"photo.jpg"};
this.X(_)};xs.prototype.Th=function(b){var X=this.oh,q=this.Bk,N=x.K(X.width*X.height*4);x.Ws(N,4294967295);
x.raw.rJ(q,N,X,this.IG());var J=_l.ly(X),X={_z:new R(0,0,q.gl,q.gz),data:N.buffer,Te:J},_=_K.qp("Raw Photo",[X]),p=new Q(K.E.T,!0);
p.data={V:K.a.QK,kM:_};this.X(p);this.NY();this.close()};xs.prototype.NY=function(){this.oh=null;this.Bk=null;
this.Ih=null;this.XI=null};xs.prototype.Fr=function(b,X,q,N){this.oh=X.uC;this.Bk=x.raw.xRy(this.oh);
var J=this.Bk;this.xgJ.S(J.gl+" x "+J.gz+", "+(J.gl*J.gz/1e6).toFixed(1)+" MPx");var _=x.raw.xQt(X.uC);
this.mp=bq.ea(_);this.GU[0].S(this.mp.Lu);this.GU[1].S(this.mp.fj);for(var p=2;p<this.GU.length;p++)this.GU[p].S(0);
this.xrr()};xs.prototype.TY=function(b,X){this.UF.Tl(bM.FN[b.LU]["--text-color"])};xs.prototype.xrr=function(){var b=this.Bk,X=b.gl,q=b.gz,N=1;
while(X/N>this.xxy*K.u()||q/N>this.xgW*K.u())N++;var J=Math.floor(X/N),_=Math.floor(q/N);this.Ih={Dl:new Float32Array(J*_*3),gl:J,gz:_};
var p=this.wZ.getContext("2d");this.XI=p.createImageData(J,_);x.Ws(this.XI.data,4294967295);var z=1/(N*N);
for(var g=0;g<_;g++)for(var W=0;W<J;W++){var o=0,y=0,D=0,m=(W+1)*N,k=(g+1)*N;for(var L=g*N;L<k;L++)for(var I=W*N;
I<m;I++){var Y=(L*X+I)*3;o+=this.Bk.Dl[Y];y+=this.Bk.Dl[Y+1];D+=this.Bk.Dl[Y+2]}var n=(g*J+W)*3;this.Ih.Dl[n]=o*z;
this.Ih.Dl[n+1]=y*z;this.Ih.Dl[n+2]=D*z}this.Bd()};xs.prototype.Bd=function(){var b=this.oh,X=this.Ih.gl,q=this.Ih.gz,N=X*q,J=this.wZ,_=J.getContext("2d");
J.width=X;J.height=q;K.IX(J,X,q);x.raw.rJ(this.Ih,new Uint8Array(this.XI.data.buffer),b,this.IG());_.putImageData(this.XI,0,0);
var p=x.Ew(this.XI.data);for(var z=0;z<4;z++)for(var g=1;g<256;g++)if(p[z][g]==0)p[z][g]=p[z][g-1];for(var z=0;
z<4;z++)for(var g=1;g<256;g++)if(p[z][g]==0)p[z][g]=p[z][g-1];this.UF.S(p)};xs.prototype.IG=function(){var b=[];
for(var X=0;X<this.GU.length;X++)b.push(this.GU[X].N());return b};function Uc(){xq.call(this,[11,11],"vbitmap");
this.mQ=null;this.gW=null;this.mS=null;this.gY=null;this.wi=null;this.up=this.SL.bind(this);this.qw=K.m("div","form hbar");
this.body.appendChild(this.qw);this.FW=new _R([12,82],2,50,null);this.FW.l(K.E.$,this.SL,this);this.qw.appendChild(this.FW.U);
this.oJ="";this.FT=new nG([12,81]);this.FT.l(K.E.$,this.SL,this);this.qw.appendChild(this.FT.U);this.Ft=new nG("Segmentize");
this.Ft.l(K.E.$,this.SL,this);this.qw.appendChild(this.Ft.U);this.Sp=new nl("OK",!1,null,!0);this.Sp.l("click",this.Th,this);
this.qw.appendChild(this.Sp.U);var b=K.m("div","flexrow"),X=16;this.body.appendChild(b);this.BA=new _D;
this.BA.l("viewchange",this.xrP,this);this.DO=K.m("canvas");this.DO.setAttribute("style","margin-left: 1px; cursor:grab;");
this.aK=this.DO.getContext("2d");var q=x.K(16*16*4);x.kN(q,X,X,8,0,0);this.mr=x.scale.zv(q,X,X);this.BA.xLL(this.DO);
b.appendChild(this.BA.U);b.appendChild(this.DO)}Uc.prototype=new xq;Uc.prototype.to=function(){return!0};
Uc.prototype.on=function(){return new Ue(0,0)};Uc.prototype.Ze=function(){return!0};Uc.prototype.Gq=function(b,X){X=X-26-30;
b=Math.floor((b-28)/2);K.Ss(this.DO,b,X);this.BA.Gq(b,X)};Uc.prototype.aZ=function(b,X,q,N){this.BA.aZ(N)};
Uc.prototype.f=function(){xq.prototype.f.call(this);this.FW.f();this.FT.f();this.Ft.f();this.Sp.f()};
Uc.prototype.Fr=function(b,X){this.wi=b;var q=b.F[b.k[0]],N=x.OB.eT(q.buffer.buffer,q.rect.n,q.rect.z).xMO,J=N/((q.rect.n-2)*(q.rect.z-2));
this.FT.S(J<.75);this.Ft.S(J<.75);var _=q.rect.clone();_.x=_.y=0;this.mQ={_z:_,data:q.buffer.buffer.slice(0)};
this.gW=null;this.BA.S([this.mQ]);this.FW.S(20);setTimeout(this.up,20)};Uc.prototype.SL=function(){var b=!0,X=Date.now(),q=this.mQ,N=this.FT.N(),J=this.Ft.N(),_=N||J,p=N+","+J;
if(_&&(this.gW==null||this.oJ!=p)){this.oJ=p;console.log("recomputing");var z=new Uint8Array(q.data.slice(0)),g=15,W=35,o=q._z.n,y=q._z.z;
if(N){nm.QA(z,z,o,y,g,x.vh.se,[W],2)}if(b){console.log("denoise",Date.now()-X);X=Date.now()}if(J){var D=x.OB.ej(z,o,y),m=D.wz,k=new Uint8Array(m*4);
for(var O=0;O<m;O++){var L=O*4,I=O*6,H=1/D.hW[I+5];k[L]=D.hW[I]*H;k[L+1]=D.hW[I+1]*H;k[L+2]=D.hW[I+2]*H}for(var O=0;
O<z.length;O+=4){var Y=D.Bl[O>>>2]*4;z[O]=k[Y];z[O+1]=k[Y+1];z[O+2]=k[Y+2]}}this.gW={_z:q._z.clone(),data:z.buffer};
if(b){console.log("segm",Date.now()-X);X=Date.now()}}if(_)q=this.gW;var z=new Uint8Array(q.data),o=q._z.n,y=q._z.z;
for(var O=0;O<z.length;O+=4){if(z[O+3]<10)z[O]=z[O+1]=z[O+2]=z[O+3]=0}var n=x.OB.xWd(z,o,y,this.FW.N(),_?.1:2e-4);
if(b){console.log("doclipart",Date.now()-X);X=Date.now()}var w=n.Bl.slice(0);for(var O=0;O<w.length;
O++)w[O]++;var t=new Uint8Array((o+2)*(y+2));x.rS(w,new R(1,1,o,y),t,new R(0,0,o+2,y+2));var j=Math.round((o+2)*(y+2)/1e4),E=xc.xW$(t,o+2,y+2,Math.min(12,j)),h=xc.Ku(E),u=new nQ(1,0,0,1,-1,-1);
for(var O=0;O<h.length;O++)x.j.w(h[O].path.r,u,h[O].path.r);this.gY=h;this.mS=n;if(b){console.log("trace",Date.now()-X);
X=Date.now()}for(var O=0;O<h.length;O++){var Z=h[O];for(var A=O+1;A<h.length;A++){var P=h[A];if(n.BF[P.color-1].est.q[3]>.05||P.parent!=O)continue;
var T=P.path.W.slice(1);T.reverse();T=["M"].concat(T);var U=[],E=P.path.r.length;for(var r=0;r<E;r+=2){U[r]=P.path.r[E-2-r];
U[r+1]=P.path.r[E-2-r+1]}x.j.concat(Z.path,{r:U,W:T})}}for(var O=0;O<h.length;O++){var Z=h[O],i=n.BF[Z.color-1].est.q;
if(i[3]<=.05){h.splice(O,1);O--;continue}}for(var O=1;O<h.length;O++){var V=h[O-1],Z=h[O];if(V.color==Z.color){x.j.concat(V.path,Z.path);
h.splice(O,1);O--;continue}}this.xrP()};Uc.prototype.xrP=function(b){if(this.gY==null)return;var X=this.mQ._z.n,q=this.mQ._z.z,N=this.gY,J=this.mS.BF,_=this.aK,p=this.BA.Gc();
_.setTransform(1,0,0,1,0,0);_.clearRect(0,0,_.canvas.width,_.canvas.height);_.translate(_.canvas.width/2,_.canvas.height/2);
_.scale(p.d,p.d);_.translate(p.I.x/p.d-X/2,p.I.y/p.d-q/2);_.scale(1/p.d,1/p.d);_.fillStyle=this.mr;_.fillRect(0,0,X*p.d,q*p.d);
_.scale(p.d,p.d);var z=[];for(var g=0;g<J.length;g++){var W=J[g].est.q;z.push({D:Math.round(255*W[0]),q:Math.round(255*W[1]),b:Math.round(255*W[2]),i:Math.round(255*W[3])})}for(var g=0;
g<N.length;g++){var o=N[g],W=z[o.color-1];if(W.i==0)continue;_.fillStyle="rgba("+W.D+","+W.q+","+W.b+","+W.i/255+")";
_.beginPath();Typr.U.pathToContext({crds:o.path.r,cmds:o.path.W},_);_.fill()}};Uc.prototype.Th=function(b){var X=this.gY,q=X.length==1,N=this.wi,J=N.k[0],_=N.F[J],p=N.F.slice(0,J);
if(!q)p.push(N.lJ());for(var z=0;z<X.length;z++){var g=X[z],W=this.mS.BF[g.color-1].est.q;x.j.w(g.path.r,new nQ(1,0,0,1,_.rect.x,_.rect.y),g.path.r);
var o=N.rY();o.fT("Path "+z);p.push(o);o.opacity=Math.round(W[3]*255);o.aA|=16;o.add.SoCo={classID:"null",Clr:{t:"Objc",v:x.Z.Yr({D:255*W[0],q:255*W[1],b:255*W[2]})}};
o.add.vmsk=new M.zo;o.add.vstk=JSON.parse(JSON.stringify(UZ.FF.default));o.add.vmsk.s=x.j.EZ(g.path,!1);
o.add.vogk=[];o.lN();o.he(N)}var y=p[p.length-1];if(!q){var o=N.rY();o.fT(_.getName());o.add.lsct=_b.iS;
o.nB="pass";o.aA=24;p.push(o);y=o}var D=_.add.lmfx;if(D)y.add.lmfx=JSON.parse(JSON.stringify(D));for(var z=J+1;
z<N.F.length;z++)p.push(N.F[z]);var m=new Q(K.E.e,!0);m.oP=!0;m.B=c.iz;m.data={V:M.lb,GJ:p,Tk:[J+X.length+(q?-1:1)],ds:[11,11]};
this.X(m);this.close()};function gS(b){xq.call(this,[[7,11],"Magic Cut"][b],["redge","magiccut"][b]);
this.QS=b;this.mQ={};this.Zs=null;this.pe=null;this.wi=null;this.FJ=null;this.Gl=null;this.Ki=[];this.Ov=-1;
this.qw=K.m("div","form hbar");this.body.appendChild(this.qw);this.Xi=new bX;this.Xi.parent=this;this.Xi.l(K.E.$,this._D,this);
this.qw.appendChild(this.Xi.U);var X=b==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"],q=b==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];
this.mq=new Kl(null,X,q,28);this.qw.appendChild(this.mq.U);this.Iw=new xP([7,9],0,50,null);this.Iw.parent=this;
this.Iw.l(K.E.$,this.xBZ,this);this.qw.appendChild(this.Iw.U);var N=this.xLO=new nl([2,2],!1,null,!0);
N.l("click",this.NY,this);this.qw.appendChild(N.U);var J=this.xLG=new nl([12,90],!1,null,!0);J.l("click",function(z){alert(b==0?xA.get([15,7,1]):"Mark the object with Green, background with Red.",5e3)},this);
this.qw.appendChild(J.U);var _=K.m("span","form");this.qw.appendChild(_);_.setAttribute("style","position:absolute;  right:0px");
this.go=new Kl([12,46],["checker","white","black"]);this.go.l(K.E.$,this.xhn,this);_.appendChild(this.go.U);
this.mH=new xU(null,[[6,13],[6,2],[17,2]]);_.appendChild(this.mH.U);this.Sp=new nl("OK",!1,null,!0);
this.Sp.l("click",this.Th,this);_.appendChild(this.Sp.U);var p=K.m("div","flexrow");this.body.appendChild(p);
this.fL=new _D(!0);this.Fz=new _D;this.fL.vm(this.Fz);this.Fz.vm(this.fL);this.fL.l("mousedown",this.oL,this);
this.fL.l("mousemove",this.YF,this);this.fL.l("mouseup",this.QB,this);this.fL.l("zoom",this._D,this);
p.appendChild(this.fL.U);p.appendChild(this.Fz.U)}gS.prototype=new xq;gS.prototype.GV=function(b,X){var q=b!=null&&!b.F[b.k[0]].rect.qa();
if(!q)alert("The layer is empty.");return q};gS.prototype.to=function(){return!0};gS.prototype.on=function(){return new Ue(0,0)};
gS.prototype.Ze=function(){return!0};gS.prototype.Gq=function(b,X){X=X-26-33;b=Math.floor((b-28)/2);
this.fL.Gq(b,X);this.Fz.Gq(b,X)};gS.prototype.f=function(){xq.prototype.f.call(this);this.Xi.f();this.Iw.f();
this.Sp.f();this.go.f();this.mH.f();this.xLO.f();this.xLG.f()};gS.prototype.TY=function(b,X){this.pe=b;
if(X==n_.lZ||X==n_.LX){this.Xi.pz(b.qz);this.Xi.S(pl.Kq(),b.qz.Ho,b.qz.Oh)}};gS.prototype.aZ=function(b,X,q,N){this.FJ=N;
var J=c.Un.hD(this.Xi.N(),N);if(J!=null){this.Xi.S(J);this._D()}else if(N._(S.zN)&&N._(S.NK)){var _=this.Ki,p=0;
if(N._(S.FI)){if(this.Ov+1<_.length)p=1}else if(this.Ov>0)p=-1;if(p!=0){this.Ov+=p;var z=this.Ov,g=this.mQ;
if(p==1)x.iX(_[z][2],_[z][0],g.Km,g.rect);else x.iX(_[z+1][1],_[z+1][0],g.Km,g.rect);g.px=g.rect;this.SL()}}else this.fL.aZ(N)};
gS.prototype.u$=function(b){var X=this.mQ,q=this.Ki,N=x.K(b.c()*4);x.iX(X.pK,X.rect,N,b);X.pK=null;var J=x.K(b.c()*4);
x.iX(X.Km,X.rect,J,b);this.Ov++;q[this.Ov]=[b.clone(),N,J];while(q.length>this.Ov+1)q.pop();while(q.length>50){q=q.slice(1);
this.Ov--}};gS.prototype._D=function(){var b=this.pe,X=xa.im(this.Xi.N(),b.qz.Ho,this.fL.Gc().d);this.fL.rO(X)};
gS.prototype.oL=function(b){var X=this.pe,q=this.mQ,N=this.FJ,J=this.Xi.N(),_=this.fL.rj(),p=[16777215,8355711,0][this.mq.N()];
this.Zs=new xa(J,X.qz.list[0].Ho,X.qz.list[0].Oh,{Tn:1,XV:!0},p,X.HO,q.rect);q.pK=q.Km.slice(0);if(N!=null&&N._(S.FI)&&this.Gl){this.Zs.moveTo(this.Gl.x,this.Gl.y);
this.Zs.lineTo(_.x,_.y)}else this.Zs.moveTo(_.x,_.y);this.xBt()};gS.prototype.YF=function(b){var X=this.mQ,q=this.fL.rj();
this.Zs.lineTo(q.x,q.y);this.xBt()};gS.prototype.QB=function(b){this.Gl=this.fL.rj();this.u$(this.Zs.lt());
this.SL()};gS.prototype.xBt=function(){var b=this.mQ,X=this.Zs,q=X.iY();if(q.qa())return;b.px=q;x.t.TG("norm",X.yD(),X.pi(),b.Km,b.rect,q,1);
this.xqO()};gS.prototype.NY=function(b){var X=this.mQ;X.pK=X.Km.slice(0);X.px=X.rect;x.Ws(X.Km,[4278190080,4292730333][this.QS]);
this.u$(X.rect);this.SL()};gS.prototype.Fr=function(b,X){this.wi=b;var q=b.F[b.k[0]],N=q.rect.clone(),J=N.n,_=N.z;
this.Iw.S(3);this.mq.S(b.p==null?0:1);if(b.p==null)this.Iw.Sb();else this.Iw.Ic();var p=this.QS,z=x.K(N.c()),g=new Float32Array(N.c());
if(p==0&&b.p){x.rS(b.p.channel,b.p.rect,z,N);var W=x.K(N.c());for(var o=0;o<_;o++)for(var y=0;y<J;y++){var D=o*J+y,m=z[D];
if(y>0&&z[D-1]!=m||y<J-1&&z[D+1]!=m||o>0&&z[D-J]!=m||o<_-1&&z[D+J]!=m)W[D]=255}x.style.au(W,g,J,_)}else g.fill(1e9);
N.x=N.y=0;this.mQ={rect:N,Dl:q.buffer,za:z,Ui:g,xI:x.K(N.c()*4),Yp:x.K(N.c()*4),Km:x.K(N.c()*4),pK:null,oI:null,px:N,xgz:{}};
if(p==0)this.xBZ();else{this.mQ.xgz=c.gV.xAG(b);var k=this.mQ.Km;x.Ws(k,4287137928);var O=x.Gt.getSelection(q.buffer,J,_),L=Math.round(J/60),I=Math.round(.7*_);
for(var o=0;o<_;o++)for(var y=0;y<J;y++){var H=(o*J+y)*4,Y=O[H>>>2];Y=Y>128?255:128;if(o<L||o<I&&(y<L||y>J-1-L))Y=0;
k[H]=k[H+1]=k[H+2]=Y}this.SL()}this.Ki=[1];this.Ov=0;this.fL.xCi();var n=this.Xi.N();n.Brsh.v.Dmtr.v.val=Math.round(N.n/(p==0?10:20));
this.Xi.S(n);this._D()};gS.prototype.xBZ=function(){var b=this.mQ,X=b.rect.c(),q=this.Iw.N(),N=b.za.slice(0);
for(var J=0;J<X;J++)if(b.Ui[J]<q)N[J]=128;x.Ws(b.Km,4294967295);x.qR(N,b.Km,0);x.qR(N,b.Km,1);x.qR(N,b.Km,2);
this.SL()};gS.prototype.SL=function(){var b=this.mQ,N,J,_=0,p=0,z=0;this.xqO();var X=b.rect,q=x.K(X.c());
x.iJ(b.Km,q,0);N=b.Dl;for(var g=0;g<q.length;g++){var W=q[g];if(W==0)_++;else if(W==255)p++;else z++}if(_*p*z!=0){if(this.QS==0)J=x.Wa.Wa(X,N,q);
else{var o=this.mQ.xgz;x.vM(q,o.RP);c.gV.Xh(o,!0);J=N.slice(0);x.qR(o.p,J,3)}}else{J=N.slice(0);x.qR(q,J,3)}if(X.Rj(b.rect))b.oI=J;
else x.iX(J,X,b.oI,b.rect);this.xhn()};gS.prototype.xqO=function(b){var X=this.mQ,q=X.px;x.iX(X.Dl,X.rect,X.xI,X.rect,q,!0);
var N=X.Km;if(this.QS==1){var J=new Uint32Array(256);J[0]=4278190335;J[255]=4278255360;var _=X.rect.c();
N=N.slice(0);var p=new Uint32Array(N.buffer);for(var z=0;z<_;z+=2){p[z]=J[p[z]&255];p[z+1]=J[p[z+1]&255]}}x.t.TG("norm",N,X.rect,X.xI,X.rect,q,.3);
this.fL.S([{_z:X.rect,data:X.xI.buffer}])};gS.prototype.xhn=function(b){var X=this.mQ;x.Ws(X.Yp,[0,4294967295,4278190080][this.go.N()]);
x.t.TG("norm",X.oI,X.rect,X.Yp,X.rect,X.rect,1);this.Fz.S([{_z:X.rect,data:X.Yp.buffer}])};gS.prototype.Th=function(b){var X=this.wi,q=this.mQ,N=this.mH.N(),J=X.F[X.k[0]],_=new Q(K.E.e,!0);
_.oP=!0;var p=J.rect.clone();if(N==0&&J.oF()||N!=0&&!J.oF()){_.B=c.iz;_.data={V:M.RQ,Q:X.k[0]};this.X(_)}if(X.p!=null){_.B=c.ST;
_.data={V:"fromAction",t_:c.rl.zL()};this.X(_)}if(N==0){var z=X.F.slice(0),g=X.rY();g.fT(J.getName());
z.splice(X.k[0]+1,0,g);g.rect=p;g.buffer=q.oI;g.Y();_.B=c.iz;_.data={V:M.lb,GJ:z,Tk:[X.k[0]+1],ds:[7,11]};
this.X(_)}if(N==1){var W=J.DL();_.B=c.iz;_.data={V:M._a,xWn:!0};this.X(_);var o=J.DL();o.channel=x.K(p.c());
o.rect=p;o.color=0;o.zY=!0;x.iJ(q.oI,o.channel,3);if(W){var y=o.gt(W);o.rect=y.rect;o.channel=y.channel;
o.color=y.color}o.Du();J.he()}if(N==2){var D={rect:p,channel:x.K(p.c())};x.iJ(q.oI,D.channel,3);_.B=c.ST;
_.data={V:"setsel",p:D,ds:this.xM};this.X(_)}this.close()};function gB(){xq.call(this,[1,13],"locstor");
this.Ka=null;this.bT=[];var b=this.body,X=K.m("p");X.textContent="These files are loaded every time you start Photopea.";
b.appendChild(X);this.xpq=0;this.ma=K.m("span");b.appendChild(this.ma);this.ma.setAttribute("style","display:inline-block;  width:12em;  font-weight:bold;");
this.BR=new nl([5,4],!1,null,!0);this.BR.l("click",this.xub,this);b.appendChild(this.BR.U);this.tO=new xe(!0);
this.tO.parent=this;this.tO.uU(1);this.tO.l(K.E.$,this.xWZ,this);b.appendChild(this.tO.U);this.tO.U.setAttribute("style","width: 40em; height: 25em")}gB.prototype=new xq;
gB.prototype.f=function(){xq.prototype.f.call(this);this.ma.textContent=xA.get([13,2])+": "+KZ.oV(this.xpq);
this.BR.f()};gB.prototype.TY=function(b,X){this.Ka=b;if(X==n_.Us)this.Fr()};gB.prototype.Fr=function(b,X){var q=this.Ka.tI.rd,g=0;
this.bT=[];for(var N in q)this.bT.push(N);this.bT.sort(function(y,D){y=y.split(".");D=D.split(".");return y[1]==D[1]?y[0]<D[0]?-1:1:y[1]<D[1]?-1:1});
var J=Math.floor(100*K.u()),_=Math.floor(16*K.u()),p=[],z=[];for(var W=0;W<this.bT.length;W++){var N=this.bT[W],o=gB.FY(N,q[N],J,_);
p.push(o);z.push(N);g+=q[N].byteLength}this.tO.Ia(p,z,J,_);this.xpq=g;this.f()};gB.prototype.xWZ=function(b){this.tO.xr(this.tO.N())};
gB.prototype.xub=function(b){var X=this.tO.N();if(X==-1){alert("Select a file first.");return}this.tO.S(-1);
var q=this.Ka.tI.rd;delete q[this.bT[X]];var N=new Q(K.E.T,!0);N.data={V:K.a.dX,Zy:n_.Us};this.X(N)};
gB.FY=function(b,X,q,N){var J=K.m("canvas"),z=0;J.width=q;J.height=N;var _=J.getContext("2d"),p=b.split(".").pop().toLowerCase();
for(var g=0;g<p.length;g++)z+=p.charCodeAt(g)*613<<8*g;_.fillStyle="#"+x.a_(z&16777215);_.fillRect(0,0,20,N);
var W=Math.floor(14*K.u());_.fillStyle="#000000";_.font="bold "+W+"px sans-serif";var o=(N-W)/2,y=KZ.oV(X.byteLength),D=_.measureText(y);
_.fillText(y,q-12-D.width,N-o);return J.toDataURL()};function pB(b,X,q){xq.call(this,X,"cwindow");this.xLf=new Ue(q[0],q[1]-33);
this.qw=K.m("div","form");this.qw.setAttribute("style","width:"+(q[2]-q[0])+"px; height:"+(q[3]-q[1])+"px");
this.body.appendChild(this.qw)}pB.prototype=new xq;pB.prototype.on=function(b,X){return this.xLf.clone()};
function nJ(b,X,q,N){na.call(this);this.name=b;this.xLk=q;this.Il=N;this.mF=K.m("div","");this.mF.setAttribute("draggable","true");
this.Wt=K.m("div","pbody");this.Id=new nl("",!1,"");this.Id.parent=this;this.xUO=K.m("span","cross");
this.UM=K.m("span","label");var J=this.xuF.bind(this);this.mF.addEventListener("mousedown",this.xuw.bind(this),!1);
this.mF.addEventListener("contextmenu",J,!1);this.Id.U.addEventListener("contextmenu",J,!1);this.xUO.addEventListener("mousedown",this.Bb.bind(this),!1);
this.mF.appendChild(this.UM);if(X)this.mF.appendChild(this.xUO);this.Ru=!1;this.mP=new Uo([{name:[1,12]}]);
this.mP.l("select",this.Bb,this);this.UM.textContent=b}nJ.prototype=new na;nJ.prototype.dc=function(){return null};
nJ.prototype.cA=function(){return new Ue(0,0)};nJ.prototype.f=function(){var b=xA.get(this.name),X=this.w$==0?22:Math.round(2+this.w$/50),q=b.length>X;
this.UM.textContent=q?b.slice(0,X-2):b;if(q)for(var N=0;N<2;N++){var J=K.m("span");J.textContent=b.charAt(X-2+N);
J.setAttribute("style","opacity:"+(.6-N*.4));this.UM.appendChild(J)}var _=b.split(" "),p=_.length==2?_[0].substring(0,2)+_[1][0]:b.substring(0,3);
if(p.charCodeAt(0)>=11776)p=p.substring(0,1);var z=this.xLk;if(z==null)this.Id.vQ(p,b);else{if(z.indexOf("\"")==-1)this.Id.vQ("<img src=\""+z+"\" alt=\""+b+"\" height=\"20\" />",b)}};
nJ.prototype.enable=function(){this.Wt.setAttribute("class","pbody")};nJ.prototype.disable=function(){this.Wt.setAttribute("class","pbody disabled")};
nJ.prototype.TY=function(b,X){};nJ.prototype.Fr=function(b,X,q){};nJ.prototype.Gq=function(b,X){};nJ.prototype.tk=function(b){this.name=b;
this.f()};nJ.prototype.aY=function(){};nJ.prototype.xuw=function(b){if(b.button==0)this.X(new Q("select",!1))};
nJ.prototype.xuF=function(b){b.stopPropagation();b.preventDefault();if(this.Il!=null&&isNaN(this.Il))return;
var X=K.HW(b,document.body),q=this.mP;q.update(null);q.f();q.parent=this;var N=new Q(K.E.T,!0);N.data={V:K.a.Vj,SU:q,x:X.x+1,y:X.y+1};
this.X(N)};nJ.prototype.de=function(){this.Bb({})};nJ.prototype.Bb=function(b){if(b.stopPropagation)b.stopPropagation();
if(this.Il!=null&&!isNaN(this.Il)){var X=new Q(K.E.T,!0);X.data={V:K.a.Sj,SU:this.mP};this.X(X);X.data={V:K.a.dX,Zy:n_.F_,A:parseFloat(this.Il),RW:"del"};
this.X(X)}else if(this.xwG())this.X(new Q(K.E.eh,!1))};nJ.prototype.xwG=function(b){return!0};nJ.prototype.vP=function(b,X,q,N,J){};
nJ.prototype.fI=function(b,X,q,N,J){};nJ.prototype.TE=function(b,X,q,N,J){};nJ.xH=function(b,X){if(b.childElementCount!=0)return;
var q=b.textContent;this.c$=this.xuQ.bind(this);this.xnp=this.xuz.bind(this);this.xY=X;this.OE=b;this.xLV=q;
var N=K.m("input","");N.setAttribute("type","text");N.setAttribute("size","10");N.setAttribute("value",q);
K.Jx(b);b.appendChild(N);N.select();N.focus();b.addEventListener("keyup",this.c$,!1);document.body.addEventListener("mousedown",this.xnp,!1)};
nJ.xH.prototype.xuQ=function(b){var X=S.In,q=X(b.code,S.jV);if(X(b.code,S.pj)||q)this.xaa(q)};nJ.xH.prototype.xuz=function(b){var X=b.target;
if(X.tagName&&X.tagName.toLowerCase()=="input")return;this.xaa(!0)};nJ.xH.prototype.xaa=function(b){var X=this.OE;
X.removeEventListener("keyup",this.c$);document.body.removeEventListener("mousedown",this.xnp);if(b){var q=X.firstChild.value;
this.xY(q)}else{K.Jx(X);X.textContent=this.xLV}};nJ.OQ={JH:"0",xuN:"1",iz:"2",xYU:"3",xYP:"4",cU:"5",CSS:"6",lZ:"7",xYi:"8",xYW:"9",xYu:"10",xvb:"11",xYY:"12",$f:"13",jD:"14",xLg:"15",xLr:"16",UD:"17",xLw:"18"};
function xk(){nJ.call(this,[9,9],!1,null,nJ.OQ.xvb);this.Ka=null;this.cK=[0,0];this.dv=K.m("div","padded scrollable");
this.dv.setAttribute("style","width:260px;  height:260px");this.Wt.appendChild(this.dv);this.l(K.E.$,this.RK,this);
this.SI=K.m("div","lpfoot");this.Wt.appendChild(this.SI);this.aq=[];var b="<svg  class=\"gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\">",X="</svg>",q=b+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+X,N=b+"<path d=\"M0,2 L14,9 L0,16 Z\" />"+X;
this.xn_=b+"<circle cx=\"7\" cy=\"9\" r=\"6\" />"+X;this.xIU=b+"<path d=\"M2,4 L12,4 L12,14 L2,14 Z\" />"+X;
var J=[this.xn_,N,"lrs/folder","lrs/newlayer","lrs/bin",q],_=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var p=0;p<J.length;p++){var z=J[p];if(1<p&&p!=J.length-1)z="<img src=\""+PIMG[J[p]]+"\" class=\"gsicon\" />";
var g=new nl(z,!1,_[p]);g.l("click",this.xFL,this);this.SI.appendChild(g.U);this.aq.push(g)}}xk.prototype=new nJ("");
xk.prototype.f=function(){nJ.prototype.f.call(this);for(var b=0;b<this.aq.length;b++)this.aq[b].f()};
xk.prototype.xFL=function(b){var X=this.aq.indexOf(b.currentTarget),q=this.cK,N=this.Ka,J=N.Bg;if(X==0){var _,p=N.ph;
if(J.length==0){alert("Create an Action Set first.");return}if(q.length<2){alert("Select a target action first.");
return}if(p==null){_=this.xIU;p=this.cK}else{_=this.xn_;p=null}this.aq[0].vQ(_);N.ph=p}else if(X==1)this.xLW();
else if(X==2||X==3){var z={ds:"Action Set "+J.length,L:[],exp:!0};if(X==2||J.length==0){q=[J.length];
J.push(z)}if(X==3){var g=J[q[0]].L;q=[q[0],g.length];g.push({ds:"Action "+g.length,color:0,L:[],xEb:!1,shift:!1,exp:!0,aP:g.length})}this.cK=q;
this.Bd()}else if(X==4){var W;if(q.length==1)W=J;else if(q.length==2)W=J[q[0]].L;else W=J[q[0]].L[q[1]].L;
var o=q.length-1;W.splice(q[o],1);if(W.length==0)q.pop();else while(q[o]>=W.length)q[o]--;if(q.length==0)q.push(0);
this.Bd()}else if(X==5){if(J.length==0){alert("No Actions Present.");return}var y=new Q(K.E.T,!0);y.data={V:K.a.CD,xaU:n_.e,UI:q[0]};
this.X(y)}};xk.prototype.RK=function(b){var X=this.Ka.Bg,q=b.data.V,N=b.data.tj;if(q=="sel")this.cK=N;
if(q=="fold"){if(N.length==1)X[N[0]].exp=!X[N[0]].exp;else X[N[0]].L[N[1]].exp=!X[N[0]].L[N[1]].exp}if(q=="enab"){var J=X[N[0]].L[N[1]].L[N[2]];
J.O=!J.O}if(q=="nchange"){if(N.length==1)X[N[0]].ds=b.data.OU;else X[N[0]].L[N[1]].ds=b.data.OU}this.Bd()};
xk.prototype.TY=function(b,X){this.Ka=b;if(X==n_.e||X==n_.LX)this.Bd()};xk.prototype.Bd=function(){if(this.Ka==null)return;
K.Jx(this.dv);var b=this.Ka.Bg;if(b.length==0)return;var X=JSON.stringify(this.cK);for(var q=0;q<b.length;
q++){var N=b[q],J=new xk.LV([q],X,N.exp,N.ds.split("=").pop());J.parent=this;this.dv.appendChild(J.U);
if(!N.exp)continue;for(var _=0;_<N.L.length;_++){var p=N.L[_],J=new xk.LV([q,_],X,p.exp,p.ds.split("=").pop());
J.parent=this;this.dv.appendChild(J.U);if(!p.exp)continue;for(var z=0;z<p.L.length;z++){var g=p.L[z],J=new xk.LV([q,_,z],X,null,xA.get(_U.xIx(g)),g.O);
J.parent=this;this.dv.appendChild(J.U)}}}};xk.prototype.xLW=function(){var b=this.Ka.Bg,X=this.cK;if(b.length==0){alert("No Actions Present");
return}if(X.length==1){alert("Select an Action first");return}if(this.Ka.ph!=null){alert("You can not apply actions while recording actions");
return}if(X.length==1)X.push(0);var q=b[X[0]],N=q.L[X[1]],J=new Q(K.E.T,!0);J.data={V:K.a.Cf,DM:[N.ds,q.ds]};
this.X(J)};xk.LV=function(b,X,q,N,J){na.call(this);this.tj=b;var _=this.tj.length-1;this.U=K.m("div","layeritem"+(JSON.stringify(b)==X?" selected":""));
this.Yv=K.m("div","head");this.U.appendChild(this.Yv);this.Yv.setAttribute("style","height:24px");this.cM=K.m("div","headL");
this.Yv.appendChild(this.cM);if(_!=0){var p=K.m("div");p.style.width=_*20+"px";this.cM.appendChild(p)}if(q!=null){var z=this.xIb=K.m("div",q?"open":"closed");
this.cM.appendChild(z)}else{var g=this.xAp=K.m("div","cmark");g.setAttribute("style","background-size:12px 12px; opacity:"+(J?1:.3));
this.cM.appendChild(g)}if(_==0){var W=K.m("div","folder");this.cM.appendChild(W)}var o=this.UM=K.m("div","label");
o.textContent=N;this.cM.appendChild(o);this.U.addEventListener("mouseup",this.Bz.bind(this),!1)};xk.LV.prototype=new na;
xk.LV.prototype.Bz=function(b){if(b.detail==1&&b.target.tagName.toLowerCase()!="input"){var X="sel";
if(b.target==this.xIb)X="fold";if(b.target==this.xAp)X="enab";var q=new Q(K.E.$,!0);q.data={V:X,tj:this.tj};
this.X(q)}else if(this.tj.length<3)var N=new nJ.xH(this.UM,this.xY.bind(this))};xk.LV.prototype.xY=function(b){var X=new Q(K.E.$,!0);
X.data={V:"nchange",OU:b,tj:this.tj};this.X(X)};function ne(){nJ.call(this,[9,3],!1,null,nJ.OQ.lZ);this.iK=null;
this.Ty=null;this.Ka=null}ne.prototype=new nJ("");ne.prototype.xi=function(){var b=K.m("div","");this.Wt.appendChild(b);
this.lW=K.m("div","bordered cell");this.lW.setAttribute("style","width:10em; height:28.5em;");b.appendChild(this.lW);
this.pS=[];this.mM=null;this.qJ=[];var X=this.xIK.bind(this);this.jC=[new ne.hQ,new ne.oK,new ne.xm,new ne.QY];
for(var q=0;q<this.jC.length;q++){var N=K.m("div","listitem"),J=this.jC[q].zl,_=null;if(q==0){this.mM=new _L(J);
N.appendChild(this.mM.U)}else{_=new nG(J,!1);_.l(K.E.$,this.xLZ,this);N.appendChild(_.U)}this.qJ.push(_);
this.lW.appendChild(N);this.pS.push(N);N.addEventListener("click",X,!1)}this.ry=K.m("div","cell padded");
b.appendChild(this.ry);for(var q=0;q<this.jC.length;q++)this.jC[q].l("brushchange",this.xLD,this);this.setItem(0);
this.ze=K.m("canvas","");this.ze.width=Math.floor(380*K.u());this.ze.height=Math.floor(80*K.u());K.IX(this.ze,this.ze.width,this.ze.height);
b.appendChild(this.ze);this.aK=this.ze.getContext("2d");this.SL()};ne.prototype.aY=function(){if(this.lW){this.SL();
return}this.xi();this.f();this.TY(this.Ka,n_.LX)};ne.prototype.f=function(){nJ.prototype.f.call(this);
if(this.lW==null)return;this.mM.f();for(var b=1;b<this.qJ.length;b++)this.qJ[b].f();for(var b=0;b<this.jC.length;
b++)this.jC[b].f()};ne.prototype.xLD=function(b){var X=this.jC.indexOf(b.currentTarget),q=JSON.parse(JSON.stringify(this.jC[X].Ty)),N=new Q(K.E.T,!0);
N.data={V:K.a.dX,Zy:n_.VT,Ty:q};this.X(N)};ne.prototype.xLZ=function(b){this.xQm(this.qJ.indexOf(b.currentTarget),b.currentTarget.zF())};
ne.prototype.xIK=function(b){var X=this.pS.indexOf(b.currentTarget);if(b.target.tagName.toLowerCase()=="input")return;
if(this.qJ[X]&&!this.qJ[X].zF()){this.qJ[X].TU();this.xQm(X,!0)}this.setItem(X)};ne.prototype.xQm=function(b,X){this.jC[b].ci(X)};
ne.prototype.setItem=function(b){for(var X=0;X<this.jC.length;X++)this.pS[X].setAttribute("class","listitem");
if(this.ry.firstChild)this.ry.removeChild(this.ry.firstChild);this.pS[b].setAttribute("class","listitem selected");
this.ry.appendChild(this.jC[b].U)};ne.prototype.TY=function(b,X){this.Ka=b;if(this.lW==null)return;if(X==n_.lZ||X==n_.LX){this.iK=b.qz;
for(var q=0;q<this.jC.length;q++)this.jC[q].pz(this.iK)}if(X==n_.VT||X==n_.LX){this.Ty=b.qz.kY;this.SL()}if(X==n_.$f)this.SL()};
ne.prototype.SL=function(){if(this.Ty)this.enable();else{this.disable();return}if(!K.OH(this.Wt))return;
var b=this.Ka;for(var X=0;X<this.jC.length;X++){this.jC[X].S(this.Ty);if(this.qJ[X])this.qJ[X].S(this.jC[X].zF())}var q=JSON.parse(JSON.stringify(this.Ty));
q.Brsh.v.Dmtr.v.val=Math.min(q.Brsh.v.Dmtr.v.val,50);var N=new R(0,0,this.ze.width,this.ze.height),J=new xa(q,this.iK?this.iK.Ho:null,this.iK?this.iK.Oh:null,{Tn:1},b.pp,b.HO,N),_=40*K.u(),p=300*K.u();
J.moveTo(_,_);for(var X=0;X<=p;X+=10)J.lineTo(_+X,_+20*Math.sin(2*Math.PI*X/p));J.finish();var z=this.aK.createImageData(N.n,N.z);
x.iX(J.yD(),J.pi(),z.data,N);this.aK.putImageData(z,0,0)};ne.Wk=function(b){na.call(this);this.zl=b;
this.U=K.m("div","");this.Ty=null};ne.Wk.prototype=new na;ne.Wk.prototype.pz=function(b){};ne.Wk.prototype.S=function(b){this.Ty=JSON.parse(JSON.stringify(b));
this.U.setAttribute("class",this.zF()?"":"disabled");this.SL()};ne.Wk.prototype.ci=function(b){};ne.Wk.prototype.zF=function(){return!1};
ne.Wk.prototype.f=function(){};ne.Wk.prototype.SL=function(){};ne.Wk.prototype.tC=function(){this.X(new Q("brushchange"))};
ne.hQ=function(){ne.Wk.call(this,[15,0]);this.iK=null;this.xnz=null;this.Fc=new xe(!0);this.U.appendChild(this.Fc.U);
this.Fc.l(K.E.$,this.xAS,this);this.Fc.U.style.height="10.7em";this.Fm=new nt([12,14,0],1,1e3," px",0,!0);
this.Fm.l(K.E.$,this.xAq,this);this.FV=new nt([12,15],0,359," \xB0");this.FV.l(K.E.$,this.xAM,this);
this.Fs=new nt([12,16],0,100," %");this.Fs.l(K.E.$,this.xAQ,this);this.F$=new nt([12,17],0,100," %");
this.F$.l(K.E.$,this.xAd,this);this.Fy=new nt([12,18],1,300," %");this.Fy.l(K.E.$,this.xAl,this);this.pS=[this.Fm,this.FV,this.Fs,this.F$,this.Fy]};
ne.hQ.prototype=new ne.Wk;ne.hQ.prototype.f=function(){this.Fm.f();this.FV.f();this.Fs.f();this.F$.f();
this.Fy.f()};ne.hQ.prototype.zF=function(){return!0};ne.hQ.prototype.pz=function(b){this.iK=b;var X=[],q=Math.floor(30*K.u()),N=Math.floor(40*K.u());
for(var J=0;J<b.list.length;J++){var _=b.list[J].v,p=xa.FY(_,b.Ho,b.Oh,q,N);X.push(p)}this.Fc.Ia(X,null,q,N)};
ne.hQ.prototype.SL=function(){var b=this.Ty.Brsh.v,X=b.classID!=this.xnz;this.xnz=b.classID;if(X)for(var q=0;
q<this.pS.length;q++)if(this.U.contains(this.pS[q].U))this.U.removeChild(this.pS[q].U);this.Fm.S(b.Dmtr.v.val);
if(X)this.U.appendChild(this.Fm.U);this.FV.S(b.Angl.v.val);if(X)this.U.appendChild(this.FV.U);if(b.classID=="computedBrush"||b.classID=="sampledBrush"){this.Fs.S(b.Rndn.v.val);
if(X)this.U.appendChild(this.Fs.U)}if(b.classID=="computedBrush"){this.F$.S(b.Hrdn.v.val);if(X)this.U.appendChild(this.F$.U)}this.Fy.S(b.Spcn.v.val);
if(X)this.U.appendChild(this.Fy.U)};ne.hQ.prototype.xAS=function(b){this.Ty=this.iK.list[this.Fc.N()].v;
this.tC()};ne.hQ.prototype.xAq=function(b){this.Ty.Brsh.v.Dmtr.v.val=b.target.N();this.tC()};ne.hQ.prototype.xAM=function(b){this.Ty.Brsh.v.Angl.v.val=b.target.N();
this.tC()};ne.hQ.prototype.xAQ=function(b){this.Ty.Brsh.v.Rndn.v.val=b.target.N();this.tC()};ne.hQ.prototype.xAd=function(b){this.Ty.Brsh.v.Hrdn.v.val=b.target.N();
this.tC()};ne.hQ.prototype.xAl=function(b){this.Ty.Brsh.v.Spcn.v.val=b.target.N();this.tC()};ne.oK=function(){ne.Wk.call(this,[15,1]);
this.pH=new nt([15,4,0],0,100," %");this.pH.l(K.E.$,this.xAu,this);this.U.appendChild(this.pH.U);this.pP=new nt([15,4,1],0,100," %");
this.pP.l(K.E.$,this.xAV,this);this.U.appendChild(this.pP.U);this.pM=new nt([15,4,2],0,100," %");this.pM.l(K.E.$,this.xA$,this);
this.U.appendChild(this.pM.U);this.pJ=new nt([15,4,3],0,100," %");this.pJ.l(K.E.$,this.xxB,this);this.U.appendChild(this.pJ.U);
this.pG=new nt([15,4,4],0,100," %");this.pG.l(K.E.$,this.xxD,this);this.U.appendChild(this.pG.U)};ne.oK.prototype=new ne.Wk;
ne.oK.prototype.f=function(){this.pH.f();this.pP.f();this.pM.f();this.pJ.f();this.pG.f()};ne.oK.prototype.zF=function(){return this.Ty.useTipDynamics.v};
ne.oK.prototype.ci=function(b){this.Ty.useTipDynamics.v=b;pl.b$.iv(this.Ty);this.tC()};ne.oK.prototype.SL=function(){var b=this.Ty;
if(b.useTipDynamics.v==!1)return;this.pH.S(b.szVr.v.jitter.v.val);this.pP.S(b.minimumDiameter.v.val);
this.pM.S(b.angleDynamics.v.jitter.v.val);this.pJ.S(b.roundnessDynamics.v.jitter.v.val);this.pG.S(b.minimumRoundness.v.val)};
ne.oK.prototype.xAu=function(b){this.Ty.szVr.v.jitter.v.val=b.target.N();this.tC()};ne.oK.prototype.xAV=function(b){this.Ty.minimumDiameter.v.val=b.target.N();
this.tC()};ne.oK.prototype.xA$=function(b){this.Ty.angleDynamics.v.jitter.v.val=b.target.N();this.tC()};
ne.oK.prototype.xxB=function(b){this.Ty.roundnessDynamics.v.jitter.v.val=b.target.N();this.tC()};ne.oK.prototype.xxD=function(b){this.Ty.minimumRoundness.v.val=b.target.N();
this.tC()};ne.xm=function(){ne.Wk.call(this,[15,2]);this.ps=new nt([15,5,0],0,1e3," %");this.ps.l(K.E.$,this.xxG,this);
this.U.appendChild(this.ps.U);this.pZ=new nt([15,5,1],1,20);this.pZ.l(K.E.$,this.xxV,this);this.U.appendChild(this.pZ.U);
this.Ur=new nt([15,5,2],0,100," %");this.Ur.l(K.E.$,this.xxs,this);this.U.appendChild(this.Ur.U)};ne.xm.prototype=new ne.Wk;
ne.xm.prototype.f=function(){this.ps.f();this.pZ.f();this.Ur.f()};ne.xm.prototype.zF=function(){return this.Ty.useScatter.v};
ne.xm.prototype.ci=function(b){this.Ty.useScatter.v=b;pl.b$.iv(this.Ty);this.tC()};ne.xm.prototype.SL=function(){var b=this.Ty;
if(b.useScatter.v==!1)return;this.ps.S(b.scatterDynamics.v.jitter.v.val);this.pZ.S(b.Cnt.v);this.Ur.S(b.countDynamics.v.jitter.v.val)};
ne.xm.prototype.xxG=function(b){this.Ty.scatterDynamics.v.jitter.v.val=b.target.N();this.tC()};ne.xm.prototype.xxV=function(b){this.Ty.Cnt.v=b.target.N();
this.tC()};ne.xm.prototype.xxs=function(b){this.Ty.countDynamics.v.jitter.v.val=b.target.N();this.tC()};
ne.QY=function(){ne.Wk.call(this,[15,3]);this.UB=new nt([15,6,0],0,100," %");this.UB.l(K.E.$,this.xgn,this);
this.U.appendChild(this.UB.U);this.tE=new nt([15,6,1],0,100," %");this.tE.l(K.E.$,this.xgC,this);this.U.appendChild(this.tE.U);
this.Uh=new nt([15,6,2],0,100," %");this.Uh.l(K.E.$,this.xgv,this);this.U.appendChild(this.Uh.U);this.UH=new nt([15,6,3],0,100," %");
this.UH.l(K.E.$,this.xgo,this);this.U.appendChild(this.UH.U)};ne.QY.prototype=new ne.Wk;ne.QY.prototype.f=function(){this.UB.f();
this.tE.f();this.Uh.f();this.UH.f()};ne.QY.prototype.zF=function(){return this.Ty.useColorDynamics.v};
ne.QY.prototype.ci=function(b){this.Ty.useColorDynamics.v=b;pl.b$.iv(this.Ty);this.tC()};ne.QY.prototype.SL=function(){var b=this.Ty;
if(b.useColorDynamics.v==!1)return;this.UB.S(b.clVr.v.jitter.v.val);this.tE.S(b.H.v.val);this.Uh.S(b.Strt.v.val);
this.UH.S(b.Brgh.v.val)};ne.QY.prototype.xgn=function(b){this.Ty.clVr.v.jitter.v.val=b.target.N();this.tC()};
ne.QY.prototype.xgC=function(b){this.Ty.H.v.val=b.target.N();this.tC()};ne.QY.prototype.xgv=function(b){this.Ty.Strt.v.val=b.target.N();
this.tC()};ne.QY.prototype.xgo=function(b){this.Ty.Brgh.v.val=b.target.N();this.tC()};function gZ(){nJ.call(this,[9,0],!1,null,nJ.OQ.JH);
this.Wt.setAttribute("style","min-width:200px;");this.HP=K.m("div","hpbody scrollable");this.HP.style.height="160px";
this.Wt.appendChild(this.HP);this.xAP=-1;this.mv=[]}gZ.prototype=new nJ("");gZ.prototype.Fr=function(b){K.Jx(this.HP);
if(b==null)return;var X=0;for(var q=0;q<b.history.length;q++)if(q<=b.W_&&!b.history[q].jx)X=q;for(var q=0;
q<b.history.length;q++){var N=b.history[q];if(N.jx)continue;var J=new pE(N,q,X);J.parent=this;this.HP.appendChild(J.U);
this.mv.push(J)}if(b.W_==b.history.length-1)this.aY()};gZ.prototype.aY=function(){this.HP.scrollTop=this.HP.scrollHeight};
gZ.prototype.f=function(){nJ.prototype.f.call(this);for(var b=0;b<this.mv.length;b++)this.mv[b].f()};
function pE(b,X,q){na.call(this);this.index=X;this.U=K.m("div",X==q?"listitem selected":"listitem");
this.EU=b.name;this.f();if(X>q)this.U.style.opacity=.4;this.U.addEventListener("click",this.vP.bind(this),!1)}pE.prototype=new na;
pE.prototype.f=function(){this.U.textContent=xA.get(this.EU)};pE.prototype.vP=function(b){if(this.index==this.parent.xAP)return;
this.cS({V:"h_itemchange",index:this.index})};pE.prototype.cS=function(b){var X=new Q(K.E.e,!0);X.data=b;
X.B=c.JH;this.X(X)};function gW(){nJ.call(this,[9,10],!1,null,nJ.OQ.xYP);var b=K.m("div","padded");this.Wt.appendChild(b);
this.UF=new gn(256);b.appendChild(this.UF.U);this.xxK=[];this.KS=[];var X=["Mean:","Pixels:"];for(var q=0;
q<X.length;q++){var N=new _L(X[q]);this.xxK.push(N);b.appendChild(N.U);var J=new _L("hi");this.KS.push(J);
b.appendChild(J.U);K.Kc(b)}this.oa=null}gW.prototype=new nJ("");gW.prototype.Fr=function(b){this.oa=b;
this.Bd()};gW.prototype.Bd=function(){var b=this.oa,W=0;if(!K.OH(this.Wt))return;if(b==null||b.k.length==0){this.UF.S(x.Ew(x.K(4)));
this.KS[0].S("");this.KS[1].S("");return}var X=b.US(),q=new R(0,0,b.n,b.z),N=q.c();if(b.p){var J=b.p.rect,_=x.K(J.c()*4);
x.iX(X,q,_,J);x.si(b.p.channel,_);X=_;q=J;var p=b.p.channel;N=0;for(var z=0;z<p.length;z++)N+=p[z];N=Math.round(N/255)}var g=x.Ew(X);
this.UF.S(g);for(var z=0;z<256;z++)W+=z*(.333*g[1][z]+.333*g[2][z]+.333*g[3][z]);this.KS[0].S((W/N).toFixed(1)+"");
this.KS[1].S(N+"")};gW.prototype.TY=function(b,X){this.UF.Tl(bM.FN[b.LU]["--text-color"])};gW.prototype.f=function(){nJ.prototype.f.call(this);
this.UF.f()};gW.prototype.aY=function(){this.Bd()};function pP(){nJ.call(this,[9,8],!1,null,nJ.OQ.xuN);
this.dv=K.m("div","padded");this.Wt.appendChild(this.dv);this.Mm=new Us(10);this.dv.appendChild(this.Mm.U);
this.dv.appendChild(K.m("hr"));this.cR=new gs;this.cR.parent=this;this.dv.appendChild(this.cR.Ni);this.Mm.l(K.E.$,this.xdn,this);
this.cR.l(K.E.$,this.xdn,this)}pP.prototype=new nJ("");pP.prototype.xdn=function(b){var X;if(b.target==this.Mm)X=this.Mm.N();
else{var q=this.cR.N();X=Math.round(q.D)<<16|Math.round(q.q)<<8|Math.round(q.b)}var N=new Q(K.E.T,!0);
N.data={V:K.a.dX,Zy:n_.$f,qe:0,A:X};this.X(N)};pP.prototype.TY=function(b,X){var q=b.pp,N=X==n_.LX;if(X==n_.$f||N){this.Mm.S(q);
this.cR.S({D:q>>>16&255,q:q>>>8&255,b:q>>>0&255,Qf:"Color #"+x.a_(q)})}if(X==n_.Fg||N){var J=b.x_A;this.cR.pz(J)}};
function SS(){nJ.call(this,[12,72],!1,null,nJ.OQ.xLr);this.Uw=null;this.Fw=null;this.HP=K.m("div","lpbody scrollable");
this.SI=K.m("div","lpfoot");this.Wt.appendChild(this.HP);this.Wt.appendChild(this.SI);this.ml=[];this.l("click",this.lq,this);
this.Vt=[];this.BX();this.xKQ=new Uo([{name:"Merge Channels",GB:!0}]);this.xKQ.l("select",this.TQ,this)}SS.prototype=new nJ("");
SS.prototype.TQ=function(b){var X=new Q(K.E.T,!0);X.data={V:K.a.Ko,zE:"mergechannels"};this.X(X)};SS.prototype.dc=function(){return this.xKQ};
SS.prototype.BX=function(){var b=["Save Selection as Channel",[5,3],[5,4]];for(var X=0;X<b.length;X++){var q=new nl("W",!1,b[X]);
this.Vt.push(q);K.mU(q.U,this.lp.bind(this));this.SI.appendChild(q.U)}};SS.prototype.lp=function(b){var X=0;
for(var q=0;q<this.Vt.length;q++)if(this.Vt[q].U==b.currentTarget){X=q;break}var N=new Q(K.E.gy,!0),J={classID:"null"};
if(X==0)J.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};else if(X==1)J.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else J.null=_U.YN("Chnl",!0);N.data={pn:["duplicate","make","delete"][X],nv:J};this.X(N)};SS.prototype.Mc=function(b){var X=this.ml,q=X[b];
if(q==null){var N=K.m("canvas");q=N.getContext("2d");X.push(q)}return q};SS.prototype.lq=function(b){var X=this.Uw.slice(0),q=b.data.aP,N=X[0]+X[1]+X[2],J=this.Fw;
if(-5<q&&q<0){var _=-q-1;if(b.data.mW){if(_==0)X=N==3?[0,0,0]:[1,1,1];else{if(X[_-1]==0)X[_-1]=1;else if(!0)X[_-1]=0}}else{if(_==0)X=[1,1,1];
else{X=[0,0,0];X[_-1]=1}J.nI=[]}var p=new Q(K.E.e,!0);p.B=c.CT;p.data={V:"setcls",Yk:X};this.X(p);return}if(-1<q){var z=J.F[q],g=z.ZZ==1?z.DL():z._m(J).G;
if(b.data.mW)g.rX=!g.rX;else{for(var W=0;W<J.Ff.length;W++)J.Ff[W].rX=!1;J.nI=[]}}else{var o=-q-5,g=J.Ff[o];
if(b.data.mW)g.rX=!g.rX;else{for(var W=0;W<J.Ff.length;W++)J.Ff[W].rX=!1;g.rX=!0;J.nI=[o]}}J.RZ=J.fY=!0};
SS.prototype.aY=function(){this.XX()};SS.prototype.Fr=function(b){this.Fw=b;this.XX()};SS.prototype.XX=function(){var b=this.Fw,X=this.HP,z=34,g=34,k=4;
K.Jx(X);if(b==null||!K.OH(X))return;var q=b.n,N=b.z,J=new R(0,0,q,N),_=this.Uw=b.M.Yk.slice(0),p=_[0]+_[1]+_[2];
if(q>N)g=Math.round(g*N/q);else z=Math.round(z*q/N);var W=["RGB"].concat(nY.Nq);for(var o=0;o<4;o++){var y=this.Mc(o);
x.TL.$k(y,z,g,J,b.US(),J,!1,o==0?null:o-1);var D=o==0?p==3:_[o-1]==1,m=new gj(-1-o,!0,!0,y,W[o],D,D);
m.parent=this;X.appendChild(m.U)}for(var o=0;o<b.k.length;o++){var O=b.F[b.k[o]],L=O.ZZ;if(L!=1&&L!=3)continue;
var I=L==1?O.DL():O._m(b).G,y=this.Mc(k+o);k++;x.TL.$Y(y,z,g,J,I);var m=new gj(b.k[o],!0,!0,y,O.getName()+(L==1?"":" Filter")+" Mask",!0,I.rX);
m.parent=this;X.appendChild(m.U)}for(var o=0;o<b.Ff.length;o++){var I=b.Ff[o],y=this.Mc(k+o);x.TL.$Y(y,z,g,J,I);
var m=new gj(-5-o,!0,I.name=="Quick Mask",y,I.name,b.nI.indexOf(o)!=-1,I.rX,c.iz,{V:M.kX,qe:"rnm",aP:o});
m.parent=this;X.appendChild(m.U)}};SS.prototype.Gq=function(b,X){this.HP.style.height=X-9-25+"px"};SS.prototype.f=function(){nJ.prototype.f.call(this);
this.XX();var b=["lrs/mask","lrs/newlayer","lrs/bin"];for(var X=0;X<this.Vt.length;X++){var q=this.Vt[X];
q.vQ(K.BC(b[X]))}};function gj(b,X,q,N,J,_,p,z,g){na.call(this);this.U=K.m("div","layeritem");this.xxS=b;
this.xxr=X;this.xxq=q;this.DI=N;this.xxh=z;this.xxo=g;this.Yv=K.m("div",_?"head selected":"head");this.Yv.setAttribute("style","height: "+40+"px");
var W=K.m("div","headL"),o=K.m("div","headR"),y=15;this.U.appendChild(this.Yv);this.Yv.appendChild(W);
this.Yv.appendChild(o);this.IW=K.m("div","eye");if(1<K.u()&&K.u()<1.5)y=y/K.u();this.IW.setAttribute("style","background-size: "+y+"px "+y+"px;");
this.IW.style.opacity=p?1:.2;if(X)W.appendChild(this.IW);this.Bp=K.m("div","thumb");this.Bp.appendChild(N.canvas);
W.appendChild(this.Bp);this.rW=K.m("div","label");if(q)this.rW.style.fontStyle="italic";this.rW.textContent=xA.get(J);
W.appendChild(this.rW);this.Yv.addEventListener("click",this.xgm.bind(this),!1)}gj.prototype=new na;
gj.prototype.xY=function(b){var X=new Q(K.E.e,!0);X.B=this.xxh;X.data=this.xxo;X.data.name=b;this.X(X)};
gj.prototype.xgm=function(b){var X=b.ctrlKey||b.metaKey,q=this.xxS;if(!this.xxq&&b.detail==2&&b.target==this.rW){var N=new nJ.xH(this.rW,this.xY.bind(this))}else if(X&&b.target==this.DI.canvas){var J=0;
if(b.shiftKey)J++;if(b.altKey)J+=2;var _=new Q(K.E.e,!0);_.B=c.ST;if(this.xxr)_.data={V:"fromchannel",DM:[q,0,J]};
else _.data={V:"fromlayer",DM:[q,2,J]};this.X(_)}else{var p=new Q("click",!0);p.data={aP:q,mW:b.target==this.IW,mu:X};
this.X(p)}};function bJ(){nJ.call(this,[8,9],!1,null,nJ.OQ.UD);this.Uw=null;this.Fw=null;this.Vt=[];
this.HP=K.m("div","lpbody scrollable");this.SI=K.m("div","lpfoot");this.Wt.appendChild(this.HP);this.Wt.appendChild(this.SI);
this.Wt.addEventListener("click",this.xgV.bind(this),!1);this.ml=[];this.l("click",this.lq,this);this.BX()}bJ.prototype=new nJ("");
bJ.prototype.BX=function(){var b=[[5,3],[5,4]];for(var X=0;X<b.length;X++){var q=new nl("W",!1,b[X]);
this.Vt.push(q);K.mU(q.U,this.lp.bind(this));this.SI.appendChild(q.U)}};bJ.prototype.lp=function(b){var X=0;
for(var q=0;q<this.Vt.length;q++)if(this.Vt[q].U==b.currentTarget){X=q;break}var N=new Q(K.E.e,!0);N.B=c.CM;
N.data={V:"pathedit",qe:["new","del"][X]};this.X(N)};bJ.prototype.Mc=function(b){var X=this.ml,q=X[b];
if(q==null){var N=K.m("canvas");q=N.getContext("2d");X.push(q)}return q};bJ.prototype.xgV=function(b){if(b.target==this.HP){var X=this.Fw;
X._H=[];X.GN=[];X.fY=!0;X.RZ=!0}};bJ.prototype.lq=function(b){var X=b.data.aP,q=this.Fw,N=b.data.mu,J=0,_,p;
if(X<0){J=-1-X;_=q._H;p=q.GN}else{var z=q.Ku()[0];for(var g=0;g<z.length;g++){var W=z[g].aP;if(W==X)break;
if(W>=0)J++}_=q.GN;p=q._H}if(N){var o=_.indexOf(J);if(o==-1)_.push(J);else _.splice(o,1)}else{while(_.length!=0)_.pop();
while(p.length!=0)p.pop();_.push(J)}q.fY=!0;q.RZ=!0};bJ.prototype.aY=function(){this.XX()};bJ.prototype.Fr=function(b){this.Fw=b;
this.XX()};bJ.prototype.XX=function(){var b=this.Fw,X=this.HP,z=34,g=34;K.Jx(X);if(b==null||!K.OH(X))return;
var q=b.n,N=b.z,J=new R(0,0,q,N),_=this.Uw=b.M.Yk.slice(0),p=_[0]+_[1]+_[2];if(q>N)g=Math.round(g*N/q);
else z=Math.round(z*q/N);var W=b.Ku(),o=W[0];for(var y=0;y<o.length;y++){var D=o[y],m=this.Mc(y);x.TL.xaw(m,z,g,J,D.add.vmsk);
var k=new gj(D.aP,!1,D.aP>=-1,m,D.name,W[1].indexOf(y)!=-1,!1,c.CM,{V:"pathedit",qe:"rnm",aP:D.aP});
k.parent=this;X.appendChild(k.U)}};bJ.prototype.Gq=function(b,X){this.HP.style.height=X-9-25+"px"};bJ.prototype.f=function(){nJ.prototype.f.call(this);
this.XX();var b=["lrs/newlayer","lrs/bin"];for(var X=0;X<this.Vt.length;X++){var q=this.Vt[X];q.vQ(K.BC(b[X]))}};
function gc(b){nJ.call(this,[9,b?4:5],!1,null,b?nJ.OQ.xYW:nJ.OQ.xYu);this.Wt.setAttribute("style","min-width:240px;");
this.xgL=b;this.hK=null;this.Ka=null}gc.prototype=new nJ("");gc.prototype.xi=function(){this.hK=new gI;
var b=this.hK,X=this.Wt;b.parent=this;if(this.xgL){var q=K.m("div","marged");X.appendChild(q);q.appendChild(b.bh.U);
X.appendChild(K.m("hr"));var N=K.m("div","marged");X.appendChild(N);N.appendChild(b.bE.U);N.appendChild(b.bC.U);
var J=K.m("div","marged");X.appendChild(J);J.appendChild(b.bW.U);X.appendChild(K.m("hr"));var _=K.m("div","marged");
X.appendChild(_);_.appendChild(b.NG.U);_.appendChild(b.NV.U);var p=K.m("div","marged");X.appendChild(p);
p.appendChild(b.Ne.U);p.appendChild(b.bu.U);X.appendChild(K.m("hr"));var z=K.m("div","marged");X.appendChild(z);
z.appendChild(b.es.U);z.appendChild(b.ey.U);z.appendChild(b.eZ.U);z.appendChild(b.ZA.U);z.appendChild(b.Zb.U);
z.appendChild(b.Zg.U);z.appendChild(b.ZK.U);z.appendChild(b.Zq.U)}else{var q=K.m("div","marged");X.appendChild(q);
q.appendChild(b.o$.U);q.appendChild(b.oe.U);q.appendChild(b.oy.U);q.appendChild(b.xWV.U);q.appendChild(b.xYh.U);
q.appendChild(b.xug.U);q.appendChild(b.xLm.U);X.appendChild(K.m("hr"));var N=K.m("div","marged");X.appendChild(N);
N.appendChild(b.Cd.U);N.appendChild(b.Cl.U);N.appendChild(b.CY.U);X.appendChild(K.m("hr"));var J=K.m("div","marged");
X.appendChild(J);J.appendChild(b.CL.U);J.appendChild(b.Ce.U);J.appendChild(b.OR.U)}};gc.prototype.aY=function(){if(!K.OH(this.Wt))return;
if(this.hK==null){this.xi();if(this.Ka)this.hK.vB(this.Ka);this.hK.f()}};gc.prototype.f=function(){nJ.prototype.f.call(this);
if(this.hK)this.hK.f()};gc.prototype.TY=function(b,X){this.Ka=b;if(X!=n_.LX&&X!=n_.Fh&&X!=n_.Gn&&X!=n_.Uu)return;
if(this.hK)this.hK.vB(b)};function gf(){nJ.call(this,[13,0],!1,null,nJ.OQ.$f);this.mY=0;this.xKJ=0;this.Ka=null;
var b=K.m("div","flexrow padded");this.Wt.appendChild(b);var X=K.m("div");b.appendChild(X);this.mI=[];
for(var q=0;q<2;q++){var N=new bh;this.mI.push(N);N.l("click",this.xpA,this);X.appendChild(N.U)}this._t=new pO(192);
this._t.l(K.E.$,this.FP,this);b.appendChild(this._t.U)}gf.prototype=new nJ("");gf.prototype.xpA=function(b){this.mY=this.mI.indexOf(b.currentTarget);
this.Bd()};gf.prototype.FP=function(b){var X=this._t.N();this._t.S(X);var q=Math.round(X.D*255)<<16|Math.round(X.q*255)<<8|Math.round(X.b*255),N=new Q(K.E.T,!0);
N.data={V:K.a.dX,Zy:n_.$f,qe:this.mY,A:q};this.X(N);this.xKJ=Date.now()};gf.prototype.Bd=function(){var b=this.Ka,X=this.mY,q=[b.pp,b.HO];
for(var N=0;N<2;N++){var J=this.mI[N],_=J.U.style;J.Tl(q[N]);if(N==X)delete _.borderColor;else _.borderColor="var(--bg-color)"}var p=q[X];
if(Date.now()-this.xKJ>100)this._t.S({D:(p>>>16)/255,q:(p>>>8&255)/255,b:(p&255)/255})};gf.prototype.TY=function(b,X){this.Ka=b;
if(X==n_.LX||X==n_.$f)this.Bd()};gf.prototype.aY=function(){this.Bd()};function xw(){nJ.call(this,"CSS",!1,null,nJ.OQ.CSS);
this.oa=null;var b=K.m("div","padded");this.Wt.appendChild(b);this.Pb=K.m("textarea");this.Pb.setAttribute("rows",16);
this.Pb.setAttribute("style","display:block;tab-size:4; font-family:monospace; width:98%; min-width:270px;");
b.appendChild(this.Pb)}xw.prototype=new nJ("");xw.prototype.Fr=function(b){this.oa=b;this.Bd()};xw.prototype.TY=function(b,X){if(X==n_.Gn)this.Bd()};
xw.prototype.Bd=function(){var b=this.oa;if(b==null||b.k.length==0)return;if(!K.OH(this.Wt))return;var X=b.F[b.k[0]],q=CSS.xhO(X,b);
if(q.length!=0)this.Pb.value=q.join(";\n")+";";else this.Pb.value=""};xw.prototype.aY=function(){this.Bd()};
function xX(){nJ.call(this,[9,6],!1,null,nJ.OQ.xYU);this.Wt.setAttribute("style","min-width:240px;");
this.oa=null;this.Ka=null;var b=K.m("div","marged row");this.Wt.appendChild(b);var X=K.m("div","cell");
X.setAttribute("style","width:10em");b.appendChild(X);var q=K.m("div","cell");q.setAttribute("style","width:10em");
b.appendChild(q);this.xge=new _L("R:");this.xgZ=new _L("G:");this.xpx=new _L("B:");this.Wt.appendChild(K.m("hr",""));
var N=K.m("div","marged row");this.Wt.appendChild(N);var X=K.m("div","cell");X.setAttribute("style","width:10em");
var q=K.m("div","cell");q.setAttribute("style","width:10em");N.appendChild(X);N.appendChild(q);this._f=new _L("");
X.appendChild(this._f.U);K.Kc(X);this._k=new _L("");X.appendChild(this._k.U);this.jZ=new _L("");q.appendChild(this.jZ.U);
K.Kc(q);this.gE=new _L("");q.appendChild(this.gE.U);this._f.S("X: 100 px");this._k.S("Y: 100 px");this.jZ.S("W: 0");
this.gE.S("H: 0")}xX.prototype=new nJ("");xX.prototype.fI=function(b,X,q,N,J){var _=b.M.X$(J.x,J.y),p=new Ue(Math.floor(_.x),Math.floor(_.y));
if(!1){var z=0,g=0,W=0;if(!J.je&&!b.xgk()&&new R(0,0,b.n,b.z).gD(p)){var o=b.US(),y=b.n*p.y+p.x<<2;z=o[y+0];
g=o[y+1];W=o[y+2]}this.xge.S("R: "+z);this.xgZ.S("G: "+g);this.xpx.S("B: "+W)}this._f.S("X: "+x.hM.zP(p.x,b.Dg,q,b.n));
this._k.S("Y: "+x.hM.zP(p.y,b.Dg,q,b.z));this.lE()};xX.prototype.lE=function(){var b=this.oa,X=this.Ka,q=0,N=0;
if(b&&X){if(b.M.t$){q=b.M.t$.n;N=b.M.t$.z}else if(b.p){q=b.p.rect.n;N=b.p.rect.z}q=x.hM.zP(Math.abs(q),b.Dg,X,b.n);
N=x.hM.zP(Math.abs(N),b.Dg,X,b.z)}this.jZ.S(xA.get([12,41]).charAt(0)+": "+q);this.gE.S(xA.get([12,42]).charAt(0)+": "+N)};
xX.prototype.f=function(){nJ.prototype.f.call(this);this.lE()};xX.prototype.Fr=function(b,X,q){this.oa=b;
this.Ka=q;this.lE()};function bA(){nJ.call(this,[9,1],!1,null,nJ.OQ.iz);this.cY=null;this.kM=null;this.LF=null;
this.Yv=K.m("div","lphead");this.HP=K.m("div","lpbody scrollable");this.SI=K.m("div","lpfoot");this.Tp=new xU(null,nD.IH,!1,nD.Mo);
this.Tp.l(K.E.$,this.xpu,this);this.Yv.appendChild(this.Tp.U);this.cz=new xP([12,0],0,100,"%",0);this.cz.l(K.E.$,this.xpN,this);
this.cz.parent=this;this.Yv.appendChild(this.cz.U);this.Fe=new be("<img src=\""+PIMG["lrs/lock"]+"\" class=\"autoscale gsicon\" />",[[12,76,2],[12,40],[7,0]]);
this.Fe.l(K.E.$,this.xpf,this);this.Yv.appendChild(this.Fe.U);this.Qp=new xP([12,26],0,100,"%",0);this.Qp.l(K.E.$,this.xUS,this);
this.Qp.parent=this;this.Vt=[];this.BX();this.Wt.appendChild(this.Yv);this.Wt.appendChild(this.HP);this.Wt.appendChild(this.SI);
this.Wt.addEventListener("contextmenu",_C.FL,!1);var b=[{name:[14,10]},{name:[14,11],xy:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],xy:!0},{name:[6,7]},{name:"New Smart Obj. via Copy",O:function(_){return{O:_.F[_.k[0]].add.SoLd!=null}},xy:!0},{name:[6,8],O:function(_){var p=_.F[_.k[0]];
if(p.add.TySh||p.add.SoLd||p.add.SoCo||p.add.GdFl||p.add.PtFl)return{O:!0};return{O:!1}}},{name:[6,34],O:function(_){var p=_.F[_.k[0]];
return{O:p.add.lmfx!=null&&!p.zu()}}},{name:[6,40],xy:!0,O:function(_){var p=_.F[_.k[0]];return{O:p.add.TySh!=null}}},{name:"",xy:!0,O:function(_){var p=_.F[_.k[0]],z=p.add.TySh,g=z?z.Bw:null;
return{O:z!=null&&g.Curve==null,hR:xA.get(z&&ng.__(g)==0?[16,3,1]:[16,3,0])}}},{name:[6,6,0],xy:!0,O:function(_){return{O:_.jl(_.k[0]),QZ:_.F[_.k[0]].Hg}}},{name:[11,6],xy:!0,sub:[{name:[5,1],O:function(_){var p=_.F[_.k[0]];
return{O:p.add.lmfx!=null}}},{name:[5,2]},{name:[2,2],O:function(_){var p=_.F[_.k[0]];return{O:p.add.lmfx!=null}}}]},{name:[6,10],O:function(_){return{O:_.k.length==1&&_.k[0]!=0&&!_.F[_.k[0]].zu()}}},{name:[6,12,0],O:function(_){return{O:_.k.length>1||_.F[_.k[0]].zu()}}},{name:[6,12,1],xy:!0},{name:[13,0],sub:function(){var _=[[13,1,0],[13,1,1],[13,1,2],[13,1,3],[13,1,4],[13,1,5],[13,1,6],[13,1,7]],p=[];
for(var z=0;z<_.length;z++)p.push({name:_[z]});return p}()}];this.gL=[null,{v:K.E.e,B:c.ST,R:{V:"fromlayer",DM:[null,0,0]}},M.CX,{v:K.E.T,R:{V:K.a.Ko,zE:"duplinto"}},M.RF,{v:K.E.gy,R:{pn:"newPlacedLayer"}},M.PF,{v:K.E.gy,R:{pn:"rasterizeLayer",nv:{classID:"rasterizeLayer",null:_U.YN("Lyr",!0)}}},M.PQ,M.xph,{v:K.E.e,B:c.Xe,R:{V:"switchPntPrgr"}},M.yJ,null,M.mj,M.nX,M.Pd,M.dy];
this.ry=new Uo(b);this.ry.l("select",this.TQ,this);var X=[{name:[6,45],O:function(_){var p=_.F[_.k[0]];
return{O:p._m(_).G==null}}},{name:[6,47]}];this.xpg=[M.jK,M.PY];this.mT=new Uo(X);this.mT.l("select",this.TQ,this);
var q=[{name:"enab/disab",O:function(_){return{hR:xA.get(_.F[_.k[0]].DL().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],O:function(_){return{O:_.lC(!1,!0)}}}];
this.xpU=[M.mZ,M.dg,M.Pu];this.mX=new Uo(q);this.mX.l("select",this.TQ,this);var N=[{name:"enab/disab",O:function(_){return{hR:xA.get(_.F[_.k[0]]._m(_).G.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}];
this.xpn=[M._A,M.jH];this.mN=new Uo(N);this.mN.l("select",this.TQ,this);var J=[{name:"enab/disab",O:function(_){return{hR:xA.get(_.F[_.k[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]}];
this.xpP=[M.Qy,M.dp];this.mc=new Uo(J);this.mc.l("select",this.TQ,this);this.me=new Uo(_Z.xpb(!0),_Z.xbH(!0));
this.xKX=new Uo(_Z.xFQ(),_Z.xAL());this.l("rclick",this.xpQ,this)}bA.prototype=new nJ("");bA.prototype.cA=function(){return new Ue(253,0)};
bA.prototype.TQ=function(b){var X=b.target.FO(),q=X[0],N;if(b.target==this.ry)N=this.gL;if(b.target==this.mT)N=this.xpg;
if(b.target==this.mX)N=this.xpU;if(b.target==this.mc)N=this.xpP;if(b.target==this.mN)N=this.xpn;if(b.target==this.me)N=this.xlL;
if(b.target==this.xKX)N=this.xlI;if(N[q]==null){if(q==0){var J=new Q(K.E.T,!0);J.data={V:K.a.Ko,zE:"layerstyle",Q:this.kM.k[0]};
this.X(J)}else{var _=new Q(K.E.e,!0);_.B=c.CO;_.data={V:["st_copy","st_paste","st_clear"][X[1]],Q:this.kM.k[0]};
this.X(_)}return}if(N[q].v!=null){var p=N[q],_=new Q(p.v,!0);_.B=p.B;_.data=p.R;b.target.X(_);return}var _=new Q(K.E.e,!0);
if(b.target==this.me)_.data=N[q];else _.data={V:N[q]};if(N[q]==M.dy)_.data.xEm=X[1];_.B=c.iz;b.target.X(_)};
bA.prototype.xpQ=function(b){var X=this.kM,q=b.data,J;if(X.k.indexOf(q.Q)==-1){var N={V:M.VC,Q:b.target.OE.index,Xz:q.ZZ};
this.cS(N)}if(X.k.indexOf(q.Q)==-1)return;if(q.ZZ==1){J=this.mX}else if(q.ZZ==2){J=this.mc}else if(q.ZZ==3){J=this.mN}else if(q.xpi){J=this.mT}else{J=this.ry}J.f();
J.update(X);J.parent=this;var _=new Q(K.E.T,!0);_.data={V:K.a.Vj,SU:J,x:q.EQ.x+1,y:q.EQ.y+1};this.X(_)};
bA.prototype.f=function(){nJ.prototype.f.call(this);this.Tp.f();this.cz.f();this.Fe.f();this.Qp.f();
if(this.kM)this.Fr(this.kM);var b="lrs/link lrs/fx lrs/adj lrs/mask lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var X=0;X<this.Vt.length;X++){var q=this.Vt[X];q.vQ(K.BC(b[X]))}};bA.prototype.Fr=function(b,X){if(b==null)K.Dv(this.Wt,"disabled");
else K.YQ(this.Wt,"disabled");this.kM=b;this.LF=X;if(this.cY!=null){this.HP.removeChild(this.cY.HP);
this.cY=null}if(b==null)return;this.cY=new _C(b.root,this,b,{tY:0});this.HP.appendChild(this.cY.HP);
if(b.k.length==0)K.Dv(this.Yv,"disabled");else{K.YQ(this.Yv,"disabled");if(b.k.length==1&&b.JL)this.cY.xAB(b.k);
var q=b.F[b.k[0]];if(q.zu()){this.Tp.th([[15,10,27]].concat(nD.IH),[1].concat(nD.Mo));var N=nD.YO.indexOf(q.nB);
this.Tp.S(N+1)}else{this.Tp.th(nD.IH,nD.Mo);var N=nD.YO.indexOf(q.nB);this.Tp.S(N)}this.cz.S(Math.round(100*q.opacity/255));
this.Fe.S([q.g$(1),q.g$(2),q.g$(31)]);this.Qp.S(Math.round(100*(q.add.iOpa!=null?q.add.iOpa/255:1)))}};
bA.prototype.Gq=function(b,X){var q=this.Yv.getBoundingClientRect().height;q=Math.max(q,52);if(q>68)q=Math.max(q,76);
var N=X-(q+35);this.HP.style.height=N+"px"};bA.prototype.xpu=function(b){this.cS({V:M.km,wS:this.Tp.N()})};
bA.prototype.xpN=function(b){this.cS({V:M.VK,wS:Math.round(255*this.cz.N()/100)})};bA.prototype.xpf=function(b){this.cS({V:M.dd,wS:[this.Fe.N(),[1,2,31]]})};
bA.prototype.xUS=function(b){this.cS({V:M._b,wS:Math.round(255*this.Qp.N()/100)})};bA.prototype.xUr=function(b){this.xd$(b,this.me)};
bA.prototype.xUB=function(b){this.xd$(b,this.xKX)};bA.prototype.xd$=function(b,X){var q=b.currentTarget;
if(K.OH(X.U))return;b.stopPropagation();var N=q.getBoundingClientRect();X.f();X.update(this.kM);X.parent=this;
var J=new Q(K.E.T,!0);J.data={V:K.a.Vj,SU:X,x:N.left,y:N.top,xpY:!0};this.X(J)};bA.prototype.xUH=function(b){this.cS({V:M.xKF})};
bA.prototype.xUa=function(b){this.cS({V:M.Oy})};bA.prototype.xUP=function(b){this.cS({V:M.RY})};bA.prototype.xUM=function(b){this.cS({V:M.RF})};
bA.prototype.xUi=function(b){this.cS({V:M.QG})};bA.prototype.cS=function(b){var X=new Q(K.E.e,!0);X.data=b;
X.B=c.iz;this.X(X)};bA.prototype.BX=function(){var b=[[6,54,0],[11,6],[6,1],[6,21],[6,20],[6,13],[6,31]],X=[this.xUi,this.xUB,this.xUr,this.xUH,this.xUa,this.xUP,this.xUM],q=this.xUC.bind(this);
for(var N=0;N<b.length;N++){var J=new nl("W",!1,b[N]);this.Vt.push(J);K.mU(J.U,X[N].bind(this));this.SI.appendChild(J.U);
if(N>=b.length-3){var _=J.U;_.addEventListener("drop",q,!1);_.addEventListener("dragover",function(p){p.preventDefault();
J.TU()}.bind(this),!1);_.addEventListener("dragenter",_C.FL,!1);_.addEventListener("dragleave",function(p){J.Gh()}.bind(this),!1)}}};
bA.prototype.xUC=function(b){_C.FL(b);var X=0,q=this.Vt;while(q[X].U!=b.currentTarget)X++;q[X].Gh();
var N=b.dataTransfer.getData("Text");if(N=="")return;var N=JSON.parse(N);if(N.VS=="l"){var J={V:[M._Q,M.CX,M.RF][X-4]};
if(this.kM.k.indexOf(N.UI)==-1)J.Q=N.UI;this.cS(J)}if(X!=6)return;if(N.VS=="sm"||N.VS=="s"){var _=new Q(K.E.e,!0);
_.B=c.CO;_.data={V:N.VS=="sm"?"st_clear":"st_delsingle",Q:N.UI,UI:N.l_};this.X(_)}if(N.VS=="fm"||N.VS=="f"){this.cS({V:N.VS=="fm"?M.PY:M.xS$,src:N.UI,l_:N.l_})}if(N.VS=="m"||N.VS=="vm"){this.cS({V:N.VS=="m"?M.dg:M.dp,Q:N.UI})}};
function _C(b,X,q,N){na.call(this);this.parent=X;this.OE=b;this.kg=[];this.U=K.m("div","layeritem");
var J=b.Q,Y=15,C=!1;this.Yv=K.m("div",q.k.indexOf(b.index)!=-1?"head selected":"head");if(b.Q.add.artb!=null)K.Dv(this.Yv,"artb");
this.Yv.setAttribute("style","height: "+(J.xAT+10)+"px");var _=K.m("div","headL"),p=K.m("div","headR"),z=K.m("div","lpineck");
this.HP=K.m("div","lpibody");this.U.appendChild(this.Yv);this.Yv.appendChild(_);this.Yv.appendChild(p);
if(J.On()||J.ot())if(J.nW())this.U.appendChild(z);var g=this.Yv;g.setAttribute("draggable","true");g.addEventListener("dragstart",this.lw.bind(this),!1);
g.addEventListener("drop",this.FD.bind(this),!1);g.addEventListener("dragover",this.lV.bind(this),!1);
g.addEventListener("dragenter",_C.FL,!1);g.addEventListener("dragleave",this.lj.bind(this),!1);var W=[],o=[],y=K.m("div");
this.IW=K.m("div","eye");y.appendChild(this.IW);var D=K.m("div","space");this.rW=K.m("div","label");
this.rW.textContent=J.getName();this.kS=K.m("div","lock");this.Ua=K.m("div","arfx");var m=this.x_L.bind(this),k=this.x_O.bind(this);
this.Yv.addEventListener("click",k,!1);this.Yv.addEventListener("contextmenu",m,!1);var O=[0,16711680,16748544,16763904,4513024,22015,11141375,7829367],L=J.add.lclr==null?0:O[J.add.lclr];
if(L==0)L=N.tY;var I=[L>>16,L>>8&255,L&255];for(var H=0;H<3;H++){I[H]=Math.round(.5*I[H]+.5*220)}if(1<K.u()&&K.u()<1.5)Y=Y/K.u();
y.setAttribute("style","background-color:rgba("+I.join(",")+","+(L==0?0:1)+");");this.IW.setAttribute("style","background-size: "+Y+"px "+Y+"px;");
var n=this.xnr.bind(this);y.addEventListener("mousedown",n,!1);y.addEventListener("mouseover",n,!1);
this.rW.addEventListener("click",this.x_B.bind(this),!1);this.Ua.addEventListener("click",this.x_H.bind(this),!1);
W[0]=y;W[1]=D;W[10]=this.rW;if(J.zu()){var w=K.m("div","arrow"),t=K.m("div","folder");w.addEventListener("click",this.xnQ.bind(this),!1);
W[2]=w;W[3]=t;if(J.add.lsct==_b.iS){for(var H=b.children.length-1;H>=0;H--){var j=new _C(b.children[H],X,q,{tY:L});
this.kg.push(j);this.HP.appendChild(j.U)}this.U.appendChild(this.HP)}w.setAttribute("class",J.add.lsct==_b.iS?"open":"closed")}else{this.Bp=K.m("div","thumb");
W[5]=this.Bp;this.Bp.appendChild(J.WG.canvas)}var E=J.DL();if(E){this.UP=K.m("div","chain");this.Tr=K.m("div","thumb");
this.Tr.setAttribute("draggable","true");this.Tr.appendChild(b.Q.xpC.canvas);this.UP.style.opacity=E.ov?1:0;
this.UP.addEventListener("click",this.xnf.bind(this),!1)}var h=J.gC()&&J.add.vmsk;if(J.add.vmsk&&!h){this.Uv=K.m("div","chain");
this.Br=K.m("div","thumb");this.Br.setAttribute("draggable","true");this.Br.appendChild(b.Q.xpv.canvas);
this.Uv.style.opacity=J.add.vmsk.ov?1:0;this.Uv.addEventListener("click",this.x_b.bind(this),!1)}if(J.ot()&&J._m(q).G){this.cy=K.m("div","thumb");
this.cy.appendChild(b.Q.xpR.canvas);this.cy.addEventListener("click",k,!1);this.cy.addEventListener("contextmenu",m,!1)}if(J.On()){z.addEventListener("contextmenu",m,!1);
var u=new bA.tv(xA.get([12,1]),"sm","layerstyle",b.depth,0,null);u.parent=this;z.appendChild(u.U);var Z=J.add.lmfx,A=Z.masterFXSwitch.v;
u.HC(A);for(var H=0;H<UZ.order.length;H++){var P=Z[UZ.PS[H]].v;if(P.length==0)continue;for(var T=0;T<P.length;
T++){var u=new bA.tv(xA.get(UZ.names[H]),"s","layerstyle",b.depth,1,[H,T]);u.HC(A&&P[T].v.enab.v);u.parent=this;
z.appendChild(u.U)}}}if(J.ot()){var u=new bA.tv(xA.get([12,55]),"fm",null,b.depth,0,-1,J._m(q).G?this.cy:null);
u.parent=this;z.appendChild(u.U);this.xKN=u.U;this.xKN.addEventListener("contextmenu",m,!1);var Z=J.add.SoLd.filterFX.v,U=Z.filterFXList.v,A=Z.enab.v;
u.HC(A);for(var H=U.length-1;H>=0;H--){var r=U[H].v,i=r.filterID.v,V=e.BV(i);if(nY.fq[V])V=nY.fq[V];
var F=r.Nm.v;if(nm.names[V])F=xA.get(nm.names[V]);if(nY.names[V])F=xA.get(nY.names[V]);var B=s[V]?"afw_"+V:null,u=new bA.tv(F,"f",B,b.depth,1,H);
u.HC(A&&r.enab.v);u.parent=this;z.appendChild(u.U)}}if(q.F.indexOf(J)==q.k[0]){var $=J.ZZ,l;if($<=0)l=this.Bp;
else if($==1)l=this.Tr;else if($==3)l=this.cy;if(l)l.setAttribute("class","thumb active");if(J.Ga&&this.Br)this.Br.setAttribute("class","thumb active")}y.style.opacity=J.oF()?1:.25;
D.setAttribute("style","width:"+Math.max(0,b.depth-1)*18+"px");var v=J.add.lspf!=null&&J.add.lspf!=0;
this.kS.style.opacity=J.g$(31)?1:.5;W[4]=J.Hg?K.m("div","clipp"):null;W[6]=E?this.UP:null;W[7]=E?this.Tr:null;
W[8]=J.add.vmsk&&!h?this.Uv:null;W[9]=J.add.vmsk&&!h?this.Br:null;var f=J.zZ,nx=q.k;if(f!=0)for(var H=0;
H<nx.length;H++)if(q.F[nx[H]].zZ==f){C=!0;break}o[0]=C?K.m("div","link"):null;o[1]=v?this.kS:null;o[2]=J.On()?K.m("div","lrfx"):null;
o[3]=J.On()||J.ot()?this.Ua:null;this.Ua.setAttribute("class",J.nW()?"arfx open  gsicon":"arfx closed  gsicon");
var nA=W;for(var H=0;H<nA.length;H++)if(nA[H])_.appendChild(nA[H]);nA=o;for(var H=0;H<nA.length;H++)if(nA[H])p.appendChild(nA[H])}_C.prototype=new na;
_C.prototype.xAB=function(b){var X=this.OE.index;if(b.indexOf(X)!=-1){if(this.U.scrollIntoView)this.U.scrollIntoView({block:"nearest"})}for(var q=0;
q<this.kg.length;q++)this.kg[q].xAB(b)};_C.FL=function(b){b.stopPropagation();b.preventDefault()};_C.xL$=function(b){b.stopPropagation()};
_C.Lk=function(b,X){var q=X.getBoundingClientRect();return(b.clientY-q.top)/q.height};_C.prototype.lw=function(b){b.stopPropagation();
var X=b.target==this.Tr?"m":b.target==this.Br?"vm":"l";b.dataTransfer.setData("Text",JSON.stringify({VS:X,UI:this.OE.index}))};
_C.prototype.lj=function(b){_C.FL(b);this.xd()};_C.prototype.FD=function(b){_C.FL(b);this.xd();var X=b.dataTransfer.getData("Text"),q=this.parent.kM,N=_C.Lk(b,this.Yv),J=this.OE.index;
if(N>.8){var _=!0,p=q.root.vf(J);while(p.parent!=null){var z=p.parent,g=z.children;if(g.indexOf(p)!=0)_=!1;
p=p.parent}if(_){J=0;N=1}}if(X==""){K.xbC(b,this,this.parent.LF.indexOf(q),J+(N>.5?0:1))}else if(X!="--panel"){var X=JSON.parse(X),W=X.VS;
if(W=="l")this.cS({V:M.dO,source:X.UI,target:J,ON:N});else if(W=="m"||W=="vm")this.cS({V:W=="m"?M.OF:M.Od,src:X.UI,XL:J,YA:b.altKey});
else _C.xgH(b,X,this)}};_C.xgH=function(b,X,q,N){var J=X.VS,_=q.OE.index,p=X.UI;if(J=="s"||J=="sm")q.cS({V:M.j_,src:p,XL:_,l_:X.l_,YA:b.altKey});
if(J=="f"||J=="fm")q.cS({V:M.xbJ,src:p,XL:_,l_:X.l_,$S:N==null?0:N,YA:b.altKey})};_C.prototype.lV=function(b){_C.FL(b);
var X=_C.Lk(b,this.Yv);this.xd();var q="border-"+(X>.5?"bottom":"top");if(this.OE.Q.zu()&&.5<X&&X<.8)q="border";
this.Yv.style[q]="0.2em solid rgba(0,0,0,0.5)"};_C.prototype.xd=function(b){this.Yv.style.border="none"};
_C.x_a=-1;_C.l$=!1;_C.xbh=function(b){_C.l$=!1;document.body.removeEventListener("mouseup",_C.xbh)};
_C.prototype.xnr=function(b){if(b.button!=0)return;if(b.type=="mousedown"){_C.l$=!0;document.body.addEventListener("mouseup",_C.xbh,!1)}if(b.type=="mouseover"&&(!_C.l$||_C.x_a==this.OE.index))return;
b.stopPropagation();b.preventDefault();this.cS({V:M.RQ,Q:this.OE.index});_C.x_a=this.OE.index};_C.prototype.xnQ=function(b){this.cS({V:M.xSN,Q:this.OE.index})};
_C.prototype.xnf=function(b){this.cS({V:M._p,Q:this.OE.index})};_C.prototype.x_b=function(b){this.cS({V:M.OI,Q:this.OE.index})};
_C.prototype.x_B=function(b){if(b.detail==1)return;this.Yv.setAttribute("draggable","false");var X=new nJ.xH(this.rW,this.xY.bind(this))};
_C.prototype.xY=function(b){this.cS({V:M.dD,Q:this.OE.index,name:b})};_C.prototype.x_H=function(b){this.cS({V:M.xiL,Q:this.OE.index})};
_C.prototype.x_L=function(b){if(this.xbW(b,b.target,this.ZZ(b)))return;if(b.button!=2)return;var X=new Q("rclick",!0);
X.data={Q:this.OE.index,ZZ:this.ZZ(b),EQ:K.HW(b,document.body),xpi:b.currentTarget==this.xKN};this.X(X)};
_C.prototype.ZZ=function(b){var X=b.target,q=X.parentNode;return q==this.Br?2:q==this.Tr?1:q==this.Bp?0:q==this.cy?3:-1};
_C.prototype.x_O=function(b){var X=b.target,W=0;if(X==this.IW||X==this.Ua||X==this.UP||X==this.Uv||X.tagName&&X.tagName.toLowerCase()=="input")return;
var q=this.ZZ(b),N=this.parent.kM,J=this.OE.index,_=N.F[J];if(X==this.kS){this.cS({V:M.dd,Q:J,wS:[[0,0,0,0,0],[0,1,2,3,31]]});
return}if(b.button==0&&b.detail==2){if(X==this.rW)return;var p=new Q(K.E.T,!0),z=new Q(K.E.gy,!0);if(q==0&&(nY.get(_.add)||_.add.SoCo||_.add.GdFl||_.add.PtFl))p.data={V:K.a.WW,zE:nJ.OQ.cU};
else if(q!=0&&q!=-1)p.data={V:K.a.WW,zE:nJ.OQ.cU};else if(q==0&&_.add.SoLd)z.data={pn:"placedLayerEditContents",nv:{classID:"placedLayerEditContents"}};
else if(q==0&&_.add.TySh)p.data={V:K.a.Iq,B:c.Xe};else p.data={V:K.a.Ko,zE:"layerstyle",Q:J};this.X(z.data?z:p);
if(q==0&&_.add.TySh){var g=new Q(K.E.e,!0);g.B=c.Xe;g.data={V:"editCurr",np:J};this.X(g)}return}if(this.xbW(b,X,q))return;
if(b.button!=0)return;var o={V:M.VC,Q:J,Xz:q};this.cS(o);if(b.altKey){if(q==1||q==3){var g=new Q(K.E.e,!0);
g.B=c.o_;g.data={V:"mskView",A:W!=0?0:b.shiftKey?1:2};this.X(g)}else{this.cS({V:M.yJ,Q:J})}return}};
_C.prototype.xbW=function(b,X,q){if((b.ctrlKey||b.metaKey)&&(q==0||q==1||q==2)){var N=0;if(b.shiftKey)N++;
if(b.altKey)N+=2;var J=new Q(K.E.e,!0);J.B=c.ST;J.data={V:"fromlayer",DM:[this.OE.index,q,N]};this.X(J);
return!0}return!1};_C.prototype.cS=function(b){var X=new Q(K.E.e,!0);X.data=b;X.B=c.iz;this.X(X)};bA.tv=function(b,X,q,N,J,_,p){na.call(this);
this.xK$=X;this.UQ=q;this.index=_;this.U=K.m("div","styleitem");this.Yv=K.m("div","head");this.QU=K.m("div","eye gsicon");
this.rW=K.m("div","label");this.U.appendChild(this.Yv);this.Yv.appendChild(this.QU);if(p){this.Tr=p;
this.Yv.appendChild(this.Tr);this.Yv.setAttribute("style","height: "+(p.firstChild.height/K.u()+10)+"px")}this.rW.innerHTML=b;
this.U.setAttribute("style","margin-left: "+(24+N*16+J*22)+"px");this.Yv.appendChild(this.rW);this.QU.addEventListener("click",this.x_G.bind(this),!1);
var z=this.U;z.setAttribute("draggable","true");z.addEventListener("dragstart",this.lw.bind(this),!1);
if(!0){z.addEventListener("drop",this.FD.bind(this),!1);z.addEventListener("dragover",this.lV.bind(this),!1);
z.addEventListener("dragenter",_C.FL,!1);z.addEventListener("dragleave",this.lj.bind(this),!1)}this.U.addEventListener("click",this.TE.bind(this),!1)};
bA.tv.prototype=new na;bA.tv.prototype.lw=function(b){b.stopPropagation();b.dataTransfer.setData("Text",JSON.stringify({VS:this.xK$,UI:this.parent.OE.index,l_:this.index}))};
bA.tv.prototype.lj=function(b){_C.FL(b);this.xd()};bA.tv.prototype.FD=function(b){_C.FL(b);this.xd();
var X=b.dataTransfer.getData("Text");if(X=="")return;var X=JSON.parse(X);_C.xgH(b,X,this.parent,this.index+(_C.Lk(b,this.Yv)>.5?0:1))};
bA.tv.prototype.lV=function(b){_C.FL(b);var X=_C.Lk(b,this.Yv)>.5;this.xd();var q="border-"+(X?"bottom":"top");
this.Yv.style[q]="0.2em solid rgba(0,0,0,0.5)"};bA.tv.prototype.xd=function(b){this.Yv.style.border="none"};
bA.tv.prototype.HC=function(b){var X=15;if(1<K.u()&&K.u()<1.5)X=X/K.u();this.QU.setAttribute("style","background-size: "+X+"px "+X+"px;");
this.QU.style.opacity=b?1:.2};bA.tv.prototype.TE=function(b){if(b.target==this.QU)return;if(b.detail!=1&&this.UQ!=null){var X=new Q(K.E.T,!0);
if(this.UQ.indexOf("afw_")==0)X.data={V:K.a.Ko,zE:this.UQ,_h:{Q:this.parent.OE.index,index:this.index}};
else X.data={V:K.a.Ko,zE:this.UQ,Q:this.parent.OE.index,index:this.index};this.X(X)}};bA.tv.prototype.x_G=function(b){var X={fm:M._j,f:M._G,sm:M._r,s:M._w}[this.xK$];
this.parent.cS({V:X,Q:this.parent.OE.index,index:this.index})};function xj(){nJ.call(this,"Guide Guy",!1,null,nJ.OQ.xLg);
this.oa=null;this.mR=[];var b=K.m("div","form padded");this.Wt.appendChild(b);b.setAttribute("style","width:200px");
this.Wt.appendChild(b);var X=K.m("canvas"),q=X.getContext("2d");X.width=X.height=160;var N=[32,0,16,160,0,32,160,16,0,112,160,16],J="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),_=[0,0,0,0,0,0,0,0,0,0];
for(var p=0;p<10;p++){q.clearRect(0,0,160,160);q.setTransform(1,0,0,1,80,80);q.rotate((p&3)*Math.PI/2);
q.translate(-80,-80);q.fillStyle="rgba(0,0,0,0.3)";if(p<4){for(var z=0;z<12;z+=4){q.fillStyle=z==0?"#000000":"rgba(0,0,0,0.3)";
q.fillRect(N[z],N[z+1],N[z+2],N[z+3])}}else if(p<6){var g=8*6;q.fillRect(0,0,g,160);q.fillRect(8*7,0,g,160);
q.fillStyle="#000000";q.fillRect(8*14,0,g,160)}else if(p<8){q.fillRect(0,0,16,160);q.fillRect(160-16,0,16,160);
q.fillRect(32,0,160-64,160);q.fillStyle="#000000";q.fillRect(32,80-8,160-64,8*1)}else{q.fillRect(0,0,8*7,160);
q.fillRect(8*13,0,160,160);q.fillStyle="#000000";q.fillRect(8*7,80-8,8*6,8*1)}var W="<img src=\""+X.toDataURL()+"\" class=\"autoscale gsicon\" /> ",o=new xP(W,0,200,p==4||p==5?null:"px",null,null,null,4,J[p]);
o.parent=this;o.l(K.E.$,this.x_o,this);o.S(_[p]);o.f();this.mR.push(o);b.appendChild(o.U)}var y=["Add Guides","Clear Guides"];
this.aq=[];for(var p=0;p<y.length;p++){var D=new nl(y[p],!0,null,!0);this.aq.push(D);D.l("click",this.cd,this);
b.appendChild(D.U)}for(var p=0;p<6;p++){q.setTransform(1,0,0,1,80,80);q.rotate(Math.floor(p/3)*Math.PI/2);
q.translate(-80,-80);q.clearRect(0,0,160,160);q.fillStyle="rgba(0,0,0,0.3)";q.fillRect(0,0,160,160);
q.clearRect(16,16,128,128);q.fillStyle="#000000";var m=p%3;q.fillRect([0,9,18][m]*8,0,16,160);var W="<img src=\""+X.toDataURL()+"\" class=\"autoscale gsicon\" /> ",D=new nl(W,!1,null,!1);
this.aq.push(D);D.l("click",this.cd,this);b.appendChild(D.U)}}xj.prototype=new nJ("");xj.prototype.x_o=function(b){var X=this.mR,q=X.indexOf(b.target),N=Math.floor(q/2),J=q&1,_=[];
for(var p=0;p<4;p++)_.push(X[2*p+J].N());var z=-1;if(N==2&&_[2]!=0&&_[3]!=0&&_[4]!=0)z=4;if(N==3&&_[3]!=0&&_[2]!=0&&_[4]!=0)z=4;
if(N==4&&_[4]!=0&&_[2]!=0&&_[3]!=0)z=3;if(z!=-1)X[2*z+J].S(0)};xj.prototype.cd=function(b){var X=this.oa,q=this.aq.indexOf(b.target),N=[[],[]];
if(X==null)return;var J=X.p?X.p.rect:new R(0,0,X.n,X.z),_=J.n,p=J.z;if(q==0){var z=[[],[]];for(var g=0;
g<this.mR.length;g++)z[g&1].push(this.mR[g].N());N=[xj.xSY(z[0],J.x,J.x+_),xj.xSY(z[1],J.y,J.y+p)];c.Gk.Ex(N,X.LA)}else if(q==1){}else{q-=2;
var W=Math.floor(q/3),N=[[],[]];N[W].push([J.x,J.x+_/2,J.x+_,J.y,J.y+p/2,J.y+p][q]);c.Gk.Ex(N,X.LA)}var o=function(y,D){return y-D};
N[0].sort(o);N[1].sort(o);this.xKx(N)};xj.prototype.xIg=function(b){var X=this.xlk.indexOf(b.target)};
xj.prototype.xKx=function(b){var X=new Q(K.E.e,!0);X.B=c.KC;X.data={V:"gids",LZ:b};this.X(X)};xj.xSY=function(b,X,q){var N=[],J=b[2],_=b[3],p=b[4],z=0;
if(J==0)z++;if(_==0)z++;if(p==0)z++;if(z>1&&J==0&&_==0){if(b[0]!=0)N.push(X+b[0]);if(b[1]!=0)N.push(q-b[1]);
return N}var g=q-X-b[0]-b[1];if(J==0){if(p==0){J=Math.floor(g/_);p=(g-J*_)/(J-1)}else{J=1;while(_*J+p*(J-1)+_+p<=g)J++}}else if(J!=0&&_!=0){if(J*_>g)J=Math.floor(g/_);
p=(g-J*_)/(J-1)}N.push(X+b[0],q-b[1]);var _=(g-p*(J-1))/J;for(var W=1;W<J;W++){if(p==0)N.push(X+b[0]+W*_);
else N.push(X+b[0]+W*_+(W-1)*p,X+b[0]+W*_+W*p)}return N};xj.prototype.Fr=function(b){this.oa=b};function _B(){nJ.call(this,[9,2],!1,null,nJ.OQ.cU);
this.xSh=null;this.wi=null;this.Ka=null;this.xSu=-1}_B.prototype=new nJ("");_B.prototype.xi=function(){this.dv=K.m("div","padded");
this.dv.style.width="22em";this.Wt.appendChild(this.dv);var b=K.m("span","fitem");this.dv.appendChild(b);
this.DK=[new nl([0,3]),new nl([12,73]),new nl([12,91,0])];for(var X=0;X<this.DK.length;X++){var q=this.DK[X];
q.l("click",this.xKa,this);b.appendChild(q.U)}this.dv.appendChild(K.m("hr"));this.fn=new _B.hz;this.fn.parent=this;
this.Qr=new _B.xL;this.Qr.parent=this;this.kr=new _B.BN;this.kr.parent=this;this.xSo=[this.fn,this.Qr,this.kr];
this.dv.appendChild(this.fn.U)};_B.prototype.xKa=function(b){var X=this.DK.indexOf(b.currentTarget);
this.cX(X);this.xri(X==1?this.Qr.QC:-1)};_B.prototype.cX=function(b){for(var X=0;X<3;X++){this.DK[X].Gh();
var q=this.xSo[X].U;if(q.parentNode==this.dv&&X!=b)this.dv.removeChild(q);if(q.parentNode!=this.dv&&X==b)this.dv.appendChild(q)}this.DK[b].TU()};
_B.prototype.xri=function(b){var X=this.wi.k[0],q=this.wi.F[X],N=b+1;if(b==1&&q.Ga)return;var J=new Q(K.E.e,!0);
J.B=c.iz;if(b!=1&&q.Ga){J.data={V:M.VC,Q:X,Xz:2};this.X(J)}J.data={V:M.VC,Q:X,Xz:N};this.X(J)};_B.prototype.f=function(){nJ.prototype.f.call(this);
if(this.dv==null)return;this.Fr(this.wi);for(var b=0;b<3;b++){this.DK[b].f();this.xSo[b].f()}};_B.prototype.aY=function(){if(!K.OH(this.Wt))return;
if(this.dv==null){this.xi();this.TY(this.Ka,n_.LX);this.Fr(this.xSh);this.f()}};_B.prototype.Fr=function(b){this.xSh=b;
if(this.dv==null)return;this.fn.Fr(b);this.Qr.Fr(b);this.kr.Fr(b);if(b==null||b.k.length==0){K.Dv(this.Wt,"disabled");
this.wi=null;return}else K.YQ(this.Wt,"disabled");var X=b.k[0],q=b.F[X],N=b.Ku(),J=N[0],_=N[1];if(_.length!=0){var p=J[_[0]],z=p.add.vogk,g=!1;
if(z)for(var W=0;W<z.length;W++){var o=z[W].v,y=o.keyShapeInvalidated;if(y&&y.v||o.keyOriginType==null)continue;
g=!0;X=p.aP}}if(b!=this.wi||this.xSu!=X){this.wi=b;this.xSu=X;if(g)this.cX(2);else if(q.ZZ<1&&!q.Ga)this.cX(0);
else this.cX(1)}this.DK[1].Qh(this.Qr.QC!=-1);this.DK[2].Qh(g)};_B.prototype.TY=function(b,X){this.Ka=b;
if(this.fn)this.fn.TY(b,X)};_B.hz=function(){na.call(this);this.U=K.m("div","form");this.xSZ=new _L("Hello");
this.U.appendChild(this.xSZ.U);this.Ud=null;this.xrq=null;this.wi=null;this.xrf=-1;this.xry=null;this.nV=new bh(!0);
this.nV.parent=this;this.nV.l(K.E.$,this.xKG,this);this.bS=K.m("div","marged hiline");this.bS.appendChild(this.nV.U);
this.Qo=new _O("GrFl",!0);this.Qo.parent=this;this.Qo.l(K.E.$,this.xKo,this);this.CE=K.m("div","marged hiline");
var b="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");for(var X=0;X<b.length;X++){var q=this.Qo.Dd[b[X]].U;
this.CE.appendChild(q)}this.li=new _O("patternFill",!0);this.li.parent=this;this.li.l(K.E.$,this.xSA,this);
this.Ci=K.m("div","marged hiline");var b=["Ptrn","Scl","Algn","phase"];for(var X=0;X<b.length;X++){var q=this.li.Dd[b[X]].U;
this.Ci.appendChild(q)}this.Iu={};for(var N in nY.names){if(s[N]==null)continue;this.Iu[N]=new s[N];
this.Iu[N].l(K.E.$,this.xSn,this);this.Iu[N].parent=this}var J=this.xpL=K.m("div","marged hiline");this.kq=_B.Ww(["W","H","X","Y"],null,J,this.WH,this);
this.xB=new xU([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);this.xB.l(K.E.$,this.WH,this);J.appendChild(this.xB.U);
this.Qv=new bh(!1);this.Qv.parent=this;this.Qv.l(K.E.$,this.WH,this);J.appendChild(this.Qv.U)};_B.hz.prototype=new na;
_B.hz.prototype.f=function(){for(var b in this.Iu)this.Iu[b].f();this.Qo.f();this.li.f();this.xB.f();
for(var X=0;X<4;X++)this.kq[X].f()};_B.hz.prototype.WH=function(b){var X=_B.WP(this.kq),q=M.xxI(new R(X[2],X[3],X[0],X[1])),N=this.xB.N(),J={classID:"artboard",artboardRect:{t:"Objc",v:q},Clr:{t:"Objc",v:this.Qv.N()},artboardBackgroundType:{t:"long",v:N+1}},_=new Q(K.E.e,!0);
_.B=c.iz;_.data={V:M.OX,PG:J};this.X(_)};_B.hz.prototype.xKG=function(b){var X=this.wi,q=X.k[0];if(X.F[q].add.SoCo==null)return;
var N=JSON.parse(JSON.stringify(X.F[q].add.SoCo));N.Clr.v=this.nV.N();this.WE({Rk:1,G$:N})};_B.hz.prototype.xKo=function(b){var X=this.wi,q=X.k[0];
if(X.F[q].add.GdFl==null)return;this.WE({Rk:2,G$:this.Qo.N()})};_B.hz.prototype.xSA=function(b){this.WE({Rk:3,G$:this.li.N()})};
_B.hz.prototype.WE=function(b){this.xqh(c.iz,{V:M.dZ,WL:[this.wi.k[0]],dM:!0,A:b})};_B.hz.prototype.xSn=function(b){this.xqh(c.fp,{V:"edit_layer",A:this.xrq.N()})};
_B.hz.prototype.xqh=function(b,X){var q=new Q(K.E.e,!0);q.B=b;q.data=X;this.X(q)};_B.hz.prototype.Fr=function(b){var X=xA.get([0,3]),q=null;
this.wi=b;if(b&&b.F.length>0&&b.k.length!=0){var N=b.F[b.k[0]],J=nY.get(N.add);if(J!=null&&this.Iu[J]!=null){q=this.Iu[J].U;
this.xrq=this.Iu[J];this.Iu[J].S(N.add[J]);if(b.k[0]!=this.xrf){var _=b.US(b.k[0]-1);this.xry=x.Ew(_)}this.Iu[J].uh(this.xry);
X=xA.get(nY.names[J])}if(N.add.SoCo){q=this.bS;this.nV.S(N.add.SoCo.Clr.v);X=xA.get([6,48,0,0])}if(N.add.GdFl){q=this.CE;
this.Qo.update(b,N.add.GdFl);X=xA.get([6,48,0,1])}if(N.add.PtFl){q=this.Ci;this.li.update(b,N.add.PtFl);
X=xA.get([6,48,0,2])}if(N.add.artb){var p=N.add.artb,z=N.Cz();q=this.xpL;this.xB.S(p.artboardBackgroundType.v-1);
if(p.Clr)this.Qv.S(p.Clr.v);_B.ET(this.kq,[z.n,z.z,z.x,z.y]);X="Artboard"}this.xrf=b.k[0]}if(q!=this.Ud){if(this.Ud)this.U.removeChild(this.Ud);
if(q!=null)this.U.appendChild(q);this.Ud=q}this.xSZ.S(X)};_B.hz.prototype.TY=function(b,X){this.Qo.TY(b,X);
this.li.TY(b,X);for(var q in this.Iu)this.Iu[q].TY(b,X)};_B.xL=function(){na.call(this);this.U=K.m("div","form");
this.wi=null;this.QC=0;var b=K.m("span","fitem");this.U.appendChild(b);this.DK=[new nl([6,2]),new nl([6,3]),new nl([6,50])];
for(var X=0;X<this.DK.length;X++){var q=this.DK[X];q.l("click",this.xSq,this);b.appendChild(q.U)}this.jz=new nt([12,74],0,255);
this.jz.l(K.E.$,this.wr,this);this.U.appendChild(this.jz.U);this.DH=new nt([7,6],0,500,"px",2,!0);this.DH.l(K.E.$,this.wr,this);
this.U.appendChild(this.DH.U)};_B.xL.prototype=new na;_B.xL.prototype.wr=function(b){var X=this.jz.N(),q=this.DH.N(),N=new Q(K.E.e,!0);
N.B=c.iz;N.data={V:M.jM,OG:this.wi.k[0],Hn:{zc:this.QC,jz:X,DH:q}};this.X(N)};_B.xL.prototype.f=function(){for(var b=0;
b<this.DK.length;b++)this.DK[b].f();this.jz.f();this.DH.f()};_B.xL.prototype.Fr=function(b){this.wi=b;
this.XX()};_B.xL.prototype.xSq=function(b){this.XX(this.DK.indexOf(b.currentTarget));this.parent.xri(this.QC)};
_B.xL.prototype.XX=function(b){var X=this.wi,q=this.DK;for(var N=0;N<3;N++){var J=q[N];J.Gh();J.Sb()}if(X==null||X.F.length==0||X.k.length==0)return;
var _=-1,p=X.F[X.k[0]];if(p.ot()&&p._m(X).G!=null){q[2].Ic();_=2}if(p.add.vmsk){q[1].Ic();_=1}if(p.DL()){q[0].Ic();
_=0}if(b!=null)_=b;else if(p.Ga)_=1;else if(p.ZZ==3)_=2;else if(p.ZZ==1)_=0;this.QC=_;if(_==-1){this.jz.Sb();
this.DH.Sb();return}var z=p.xrN(_);this.jz.Ic();this.DH.Ic();this.jz.S(z.jz);this.DH.S(z.DH);q[_].TU()};
_B.BN=function(){na.call(this);this.U=K.m("div","form");this.kH=1;this.Ul=K.m("div");this.Xi=_B.Ww(["W","H","X","Y"],[12,51],this.Ul,this.xaK,this);
this.UW=K.m("div");var b=["\u250F","\u2513","\u2517","\u251B"];this.QF=_B.Ww(b,[12,91,2],this.UW,this.xaK,this)};
_B.BN.prototype=new na;_B.BN.prototype.f=function(){K.GP(this.Xi[0],this.Xi[1]);for(var b=2;b<5;b++){this.Xi[b].f()}this.QF[4].f()};
_B.Ww=function(b,X,q,N,J){var _=K.m("div","numlist");q.appendChild(_);var p=[];for(var z=0;z<4;z++){var g=new xP(b[z],0,0,null,1,!1,!0);
g.l(K.E.$,N,J);_.appendChild(g.U);p.push(g);if(z==1||z==3)K.Kc(_)}if(X){p[4]=new nG(X);p[4].S(!0);q.appendChild(p[4].U)}return p};
_B.ET=function(b,X){for(var q=0;q<4;q++)b[q].S(X[q])};_B.WP=function(b){var X=[];for(var q=0;q<4;q++)X[q]=b[q].N();
return X};_B.BN.prototype.xaK=function(b){var X=this.Xi.indexOf(b.currentTarget),q=this.QF.indexOf(b.currentTarget),N=[null,null,null,null],J=[null,null,null,null];
if(X!=-1){var _=_B.WP(this.Xi),p=this.Xi[4].N();_[0]=Math.max(1,_[0]);_[1]=Math.max(1,_[1]);if(p&&X==0)_[1]=_[0]/this.kH;
if(p&&X==1)_[0]=_[1]*this.kH;N[0]=_[2];N[1]=_[3];N[2]=N[0]+_[0];N[3]=N[1]+_[1]}if(q!=-1){var _=_B.WP(this.QF);
J[q]=Math.max(0,_[q]);if(this.QF[4].N())for(var z=0;z<4;z++)J[z]=J[q];var g=J[3];J[3]=J[2];J[2]=g}var W=new Q(K.E.e,!0);
W.B=c.iz;W.data={V:M.OJ,vW:N,xlV:J};this.X(W)};_B.BN.prototype.Fr=function(b){if(b==null)return;var X=this.Ul.parentNode!=null,q=this.UW.parentNode!=null,N=x.P_.IG(b),J=N[0],_=N[1];
if(J){if(!X)this.U.appendChild(this.Ul);this.kH=(J[2]-J[0])/(J[3]-J[1]);_B.ET(this.Xi,[J[2]-J[0],J[3]-J[1],J[0],J[1]])}else if(X)this.U.removeChild(this.Ul);
if(_){if(!q)this.U.appendChild(this.UW);var p=_[2];_[2]=_[3];_[3]=p;_B.ET(this.QF,_)}else if(q)this.U.removeChild(this.UW)};
function _v(b){nJ.call(this,b.name,!0);this.kM=b;this.pe=null;this.dt=!1;this.pD={x:0,y:0,je:!1};this.UY=!0;
this.Qd=document.createElement("canvas");this.Ql=this.Qd.getContext("2d");this.DO=document.createElement("canvas");
this.L=this.DO.getContext("2d");var X=16,q=x.K(16*16*4);x.kN(q,X,X,8,0,0);this.mr=x.scale.zv(q,X,X);
this.xpI=this.oL.bind(this);this.Qu=this.YF.bind(this);this.xBA=this.QB.bind(this);var N=this.Wt;K.mU(N,this.xpI);
K.YZ(N,this.Qu);N.addEventListener("wheel",this.rA.bind(this),!1);N.addEventListener("contextmenu",this.xSv.bind(this),!1);
this.mi=0;this.kE="";this.bt=4;K.FZ(N)}_v.prototype=new nJ;_v.prototype.xwG=function(){if(this.kM.jj())return window.confirm(xA.get([22,6,3])+" "+this.kM.name+". "+xA.get([22,6,4]));
return!0};_v.prototype.FX=function(b){b.preventDefault()};_v.prototype.oL=function(b){var X=b.button!=null&&b.button!=0?"rdown":"down";
this.dt=!0;var q=new Q("mouse",!0);q.action=X;this.cN(b,q);this.X(q);K.dW(this.Wt,this.Qu);K.YZ(window,this.Qu);
K.Lx(window,this.xBA)};_v.prototype.YF=function(b){var X=new Q("mouse",!0);X.action="move";this.cN(b,X);
this.X(X)};_v.prototype.QB=function(b){var X=b.button!=null&&b.button!=0?"rup":"up";this.dt=!1;var q=new Q("mouse",!0);
q.action=X;this.cN(b,q);this.X(q);K.dW(window,this.Qu);K.d$(window,this.xBA);K.YZ(this.Wt,this.Qu)};
_v.prototype.rA=function(b){this.FX(b);if(b.deltaX==0&&b.deltaY==0)return;var X=new Q("mouse",!0);X.action="scroll";
X.mu=b.ctrlKey;this.cN(b,X);this.X(X)};_v.prototype.xSv=function(b){b.stopPropagation();b.preventDefault()};
_v.prototype.cN=function(b,X){if(X.action!="up"){var q=K.u(),N=K.HW(b,this.Wt);this.pD=X.Ow={x:q*N.x,y:q*N.y,je:this.dt};
var J=K.HW(b,document.body);X.Ow.tz=J.x;X.Ow.dH=J.y}else this.pD=X.Ow={x:this.pD.x,y:this.pD.y,je:this.dt};
X.Ow.Et=1;if(b.pressure!=null&&b.pressure!=0)X.Ow.Et=b.pressure*2;if(b.deltaX!=null){var _=b.deltaMode==0?1:40;
X.UV=new Ue(b.deltaX*_,b.deltaY*_)}};_v.prototype.TY=function(b,X){this.pe=b};_v.prototype.Fr=function(b){this.aY();
this.Bd()};_v.prototype.Gq=function(b,X){if(b<=0||X<=0)return;this.w$=b;this.ai=X;var q=this.kM,N=K.u();
q.M.L.n=Math.floor(b*N);q.M.L.z=Math.floor(X*N);K.Ss(this.DO,b,X);K.Ss(this.Qd,b,X);K.Ss(G.yh(),b,X);
if(q.M.d==0)q.M.d=c.Hu.ER(q.n,q.z,b*N,X*N);this.UY=!0;this.Bd()};_v.prototype.aY=function(){var b=this.Wt.firstChild;
if(!G.ks&&b==G.yh()||G.ks&&b==this.DO)this.Wt.removeChild(b);this.Wt.appendChild(G.ks?G.yh():this.DO)};
_v.prototype.Bd=function(){if(G.ks!=this.bt){this.mi=0;this.kE="";this.UY=!0}this.bt=G.ks;if(this.pe==null)return;
if(G.ks)this.xSR();else this.up();var b=this.kM;this.mi=b.M.d;this.kE=JSON.stringify(b.M.Yk);this.UY=!1};
_v.prototype.xSR=function(){if(G.ks&&_v.xBM==null)_v.xBM=new _v.ud(!1);if(G.ks&&_v.xBj==null)_v.xBj=new _v.ud(!0);
var b=this.kM,z;if(b.ZU==null)return;var X=b.M,q=X.L.n,N=X.L.z,J=G.DI;this.L.clearRect(0,0,X.L.n,X.L.z);
var _=this.xPG(b);if(X.MK==null)X.MK=new G.Sm(X.L.n,X.L.z);if(_)X.MK.set(this.DO);else{G.ig(X.MK);G.HX(0)}var p=new R(0,0,b.n*X.d,b.z*X.d);
p.x=Math.round((q-b.n*X.d)/2+X.I.x);p.y=Math.round((N-b.z*X.d)/2+X.I.y);var g=[0,0,0,0],W=[];if(b.add.artd){g=_v.WZ(b);
var o=b.n,y=b.z;z=_v.xBj;for(var D=0;D<b.F.length;D++){var m=b.F[D],k=m.add.artb;if(k==null||!m.oF())continue;
var O=m.Cz();W.push(O.x/o,O.y/y,O.n/o,O.z/y)}if(W.length>32*4){W=W.slice(0,32*4)}while(W.length<32*4){W.push(0,0,0,0)}}else z=_v.xBM;
G.eG(q,N);G.HX(0);G.eG(q,N);z.gd();z.wD(X.MK.vN,b.ZU.vN,new Float32Array([p.x/q,p.y/N,p.n/q,p.z/N]),new Float32Array([8/q,8/N]),b.n,b.z,1/b.M.d,q,N,new Float32Array(W),new Float32Array(g),new Float32Array(x.sy.wH(x.sy.Si(X.Yk))));
J.drawArrays(J.TRIANGLES,0,6)};_v.WZ=function(b){var X=b.add.artd.canvasColor;if(X==null)return[0,0,0,0];
return _v.xST(X)};_v.xST=function(b){var X=x.Z.vx(b.v),q=[X.D/255,X.q/255,X.b/255,1];for(var N=0;N<4;
N++)q[N]=Math.min(1,q[N]);return q};_v.xSz=function(b){return"rgba("+b[0]*255+","+b[1]*255+","+b[2]*255+","+b[3]+")"};
_v.prototype.up=function(){var b=this.kM;if(b.buffer==null)return;var X=b.M,q=X.L.n,N=X.L.z;this.Ql.clearRect(0,0,X.L.n,X.L.z);
this.L.clearRect(0,0,X.L.n,X.L.z);if(b.add.artd==null){}else{this.L.fillStyle=_v.xSz(_v.WZ(b));this.L.fillRect(0,0,X.L.n,X.L.z)}var J=X.lx(),_=X.L.be(J);
this.L.save();this.L.translate(J.x,J.y);if(b.add.artd==null){this.L.fillStyle=this.mr;this.L.fillRect(0,0,J.n,J.z)}this.L.restore();
var p=b.n!=X.GW.n||b.z!=X.GW.z;if(p)X.GW.gM(0,0,b.n,b.z);var z=JSON.stringify(X.Yk);if(X.d<=1){if(X.d!=this.mi||z!=this.kE||b.Wm){if(X.d!=this.mi||X.H_==null||p)X.H_=this.L.createImageData(Math.max(1,J.n),Math.max(1,J.z));
if(X.d<1){var g=x.bH(b.buffer,new R(0,0,b.n,b.z),X.d,new Uint8Array(X.H_.data.buffer))}else x.vM(b.buffer,X.H_.data);
x.sy.SM(X.H_.data,X.H_.data,x.sy.Si(X.Yk))}this.Ql.putImageData(X.H_,J.x,J.y);this.L.drawImage(this.Qd,_.x,_.y,_.n,_.z,_.x,_.y,_.n,_.z)}else{var W=X.js(),o=new R(0,0,W.n*X.d,W.z*X.d);
o.x=W.x*X.d+J.x;o.y=W.y*X.d+J.y;if(X.d!=this.mi||this.UY){X.YY=x.K(W.c()*4);X.H_=this.L.createImageData(o.n,o.z)}x.set(X.YY,0);
x.iX(this.kM.buffer,new R(0,0,b.n,b.z),X.YY,W);x.scale.wN(X.YY,W.n,W.z,X.H_.data,o.n,o.z,X.d);x.sy.SM(X.H_.data,X.H_.data,x.sy.Si(X.Yk));
this.Ql.putImageData(X.H_,o.x,o.y);this.L.drawImage(this.Qd,0,0)}this.xPG(b)};_v.prototype.xPG=function(b){var X=b.M,q=X.Yk[0]+X.Yk[1]+X.Yk[2],N=!1,J=[];
for(var _=0;_<b.k.length;_++){var p=b.F[b.k[_]],z=p.ZZ;if(z!=1&&z!=3)continue;var g=z==1?p.DL():p._m(b).G;
if(g.rX)J.push(g)}for(var _=0;_<b.Ff.length;_++)if(b.Ff[_].rX)J.push(b.Ff[_]);for(var _=0;_<J.length;
_++){var g=J[_],W=Math.round(g.tY.b)<<16|Math.round(g.tY.q)<<8|Math.round(g.tY.D);this.xPf(g.channel,g.rect,X,J.length==1&&q==0?2:1,g.color,W);
N=!0}var o=this.pe;N=this.xSG(b,this.L,X)||N;if(b.p&&o.Jk&&o.ht.Up){this.xPf(b.p.channel,b.p.rect,X,0,0,0);
N=!0}return N};_v.prototype.xPf=function(b,X,q,N,J,_){var p=q.lx(),z,g,W;if(q.d<=1){z=X.clone();z.x=Math.round(z.x*q.d);
z.y=Math.round(z.y*q.d);z.n=Math.floor(z.n*q.d);z.z=Math.floor(z.z*q.d);g=b;if(q.d<1){if(q._o==null||q._o.length<X.c()>>>1){console.log("here");
q._o=x.K(X.c()>>>1)}g=q._o;var o=x.sw(b,X,q.d,g);z.n=o.rect.n;z.z=o.rect.z}if(q.xV==null||q.xV.length!=z.c()*4)q.xV=x.K(z.c()*4);
else x.Ws(q.xV,0);var y=q.L.clone();y.offset(-p.x,-p.y);W=z.be(y)}else{var D=q.js();z=new R(D.x*q.d,D.y*q.d,D.n*q.d,D.z*q.d);
if(q.xV==null||q.xV.length!=z.c()*4){q._o=x.K(z.c());q.xV=x.K(z.c()*4)}var m=x.K(D.c());x.set(m,J);x.rS(b,X,m,D);
x.scale.$C(m,D.n,D.z,q._o,z.n,z.z,q.d);x.Ws(q.xV,0);g=q._o}var k=G.ks?65535:16777215;_=_&k;if(N==0)x.p.xEs(g,q.xV,z,k,W);
else{var O=p.x,L=p.y,I=p.n,H=p.z;W=z.be(new R(0,0,I,H));if(q.d<=1){var Y=J<<16|J<<8|J;if(G.ks)Y=Y&16776960;
this.L.fillStyle=N==2?"#"+x.a_(Y):"rgba("+(_&255)+","+(_>>>8&255)+","+(_>>>16&255)+","+.5*(1-J/255)+")";
var n=O,w=n+W.x,t=w+W.n,j=n+I,E=L,h=E+W.y,u=h+W.z,Z=E+H;this.L.fillRect(O,E,I,h-E);this.L.fillRect(O,h,w-n,u-h);
this.L.fillRect(t,h,j-t,u-h);this.L.fillRect(O,u,I,Z-u)}x.p.xEZ(g,q.xV,z,k,W,N,_)}if(q.d<=1)this.Ql.clearRect(0,0,q.L.n,q.L.z);
if(z.c()!=0){var P=new ImageData(new Uint8ClampedArray(q.xV.buffer),z.n,z.z);this.Ql.putImageData(P,p.x+z.x,p.y+z.y);
this.L.drawImage(this.Qd,0,0)}};_v.prototype.xSG=function(b,X,q){var N=b.H.Jw||b.H.Rt||b.H.DW||b.H.tU.length!=0||b.H.vk.length!=0,J=this.pe,_=J.ht,p=q.lx(),z=new nQ(q.d,0,0,q.d,p.x+.5,p.y+.5),g=bM.FN[J.LU],W=Math.round(12*K.u());
if(b.add.artd){var o=_v.WZ(b)[0];o=o<.5?o+.5:o-.5;o=""+Math.round(o*255).toString(16);while(o.length<2)o="0"+o;
X.fillStyle="#"+o+o+o;X.font=W+"px sans-serif";for(var y=0;y<b.F.length;y++){var D=b.F[y];if(D.add.artb==null||!D.oF())continue;
var m=D.Cz(),k=new Ue(m.x,m.y);k=z.PK(k);X.fillText(D.getName(),Math.round(k.x),Math.round(k.y-6));N=!0}}X.fillStyle=G.ks?"rgba(0,0,255,1)":"rgba(0,0,0,0.4)";
X.strokeStyle=G.ks?"#0000ff":"#000000";if(J.Jk&&_.Dx){var O=b.Ku(),L=O[0],I=O[1];for(var H=0;H<I.length;
H++){var D=L[I[H]],Y=D.add.vmsk,n=Y.s;X.lineWidth=.5;var w=x.j.zn(n);this.L$(w,z,X);X.stroke();N=!0;
var t=Math.round(3*K.u()),j=n.length-3,E=X.lineWidth;X.lineWidth=1.2;for(var y=0;y<Y.YP.length;y++){var h=x.g.yt(n,Y.YP[y]);
if(h==null)continue;var u=p.x+h.x*q.d,Z=p.y+h.y*q.d;X.beginPath();var A=y==0;if(Y.Ux)A=!A;if(A){X.moveTo(u-t,Z-t);
X.lineTo(u+t,Z+t);X.moveTo(u-t,Z+t);X.lineTo(u+t,Z-t);X.stroke()}else{X.arc(u,Z,t*1,0,2*Math.PI);X.fill()}N=!0}X.lineWidth=E;
if(b.k.length!=1)continue;var P=-1;for(var y=0;y<n.length;y++){if(n[y].type>5)continue;if(n[y].type==0||n[y].type==3){if(n[y].vR!=-1)P++;
continue}if(Y.k.indexOf(P)!=-1){var u=p.x+n[y].P.x*q.d,Z=p.y+n[y].P.y*q.d;X.fillRect(Math.round(u-t+.5),Math.round(Z-t+.5),2*t-1,2*t-1)}if(Y.Ep.indexOf(y)!=-1){var T=[n[y].P];
X.beginPath();X.moveTo(p.x+n[y].jk.x*q.d,p.y+n[y].jk.y*q.d);X.lineTo(p.x+n[y].P.x*q.d,p.y+n[y].P.y*q.d);
X.lineTo(p.x+n[y].p_.x*q.d,p.y+n[y].p_.y*q.d);X.stroke();if(!n[y].P.Rj(n[y].jk))T.push(n[y].jk);if(!n[y].P.Rj(n[y].p_))T.push(n[y].p_);
for(var U=0;U<T.length;U++){var h=T[U],u=p.x+h.x*q.d,Z=p.y+h.y*q.d;if(U==0&&(n[y].type==2||n[y].type==5))X.fillRect(Math.round(u-1.2*t),Math.round(Z-1.2*t),Math.round(2.4*t),Math.round(2.4*t));
else{X.beginPath();X.arc(u,Z,t*1.2,0,2*Math.PI);X.fill()}}}N=!0}}}X.lineWidth=1;if(b.H.Jw){this.L$(b.H.Jw,z,X);
X.fill()}if(b.H.Rt){this.L$(b.H.Rt,z,X);X.stroke()}for(var r in b.H.zd)if(b.H.zd[r].Rt){this.L$(b.H.zd[r].Rt,z,X);
X.stroke()}X.beginPath();var t=4*K.u(),i=b.H.TF;for(var y=0;y<i.length;y+=2){N=!0;var u=p.x+i[y]*q.d,Z=p.y+i[y+1]*q.d;
X.rect(u-t+.5,Z-t+.5,2*t-1,2*t-1)}X.stroke();X.beginPath();var t=4*K.u(),i=b.H.xuU;for(var y=0;y<i.length;
y+=2){N=!0;var u=p.x+i[y]*q.d,Z=p.y+i[y+1]*q.d;X.moveTo(u+t-.5,Z);X.arc(u,Z,t-.5,0,2*Math.PI)}X.fill();
if(b.H.tU.length!=0){for(var y=0;y<b.H.tU.length;y++){var V=b.H.tU[y],F=V[1];X.putImageData(new ImageData(new Uint8ClampedArray(V[0].buffer),F.n,F.z),F.x,F.y)}}if(b.H.Ui){N=!0;
var B=b.H.Ui,$=B.ku,w={W:[],r:[]};for(var y=0;y<B.kW.length;y++)x.j.concat(w,x.j.fe(B.kW[y]));w.r=w.r.concat($);
for(var y=0;y<$.length;y+=4)w.W.push("M","L");X.strokeStyle=G.ks?"#dd3300":"#dd3333";this.L$(w,z,X);
X.stroke();var l=K.u();for(var y=0;y<$.length;y+=4){var u=$[y],Z=$[y+1],v=$[y+2],C=$[y+3],f=Math.sqrt((C-Z)*(C-Z)+(v-u)*(v-u));
f=x.hM.zP(f,b.Dg,J,Z==C?b.n:b.z);var nx=new Ue((u+v)/2,(Z+C)/2);nx=z.PK(nx);X.fillStyle=G.ks?"#dd3300":"#dd3333";
var nA=X.measureText(f),nU=nA.width;X.fillRect(nx.x-nU/2-2.5*l,nx.y-7.5*l,nU+5*l,15*l);X.fillStyle=G.ks?"#ffff00":"#ffffff";
X.fillText(f,nx.x-nU/2,nx.y+4*l)}}if(J.Jk){X.lineWidth=1;if(_.nH){var nn=x.hM.yS(_.df,b,_.dk),nH=nn;
if(_.dk==4)nH*=b.z/b.n;this._Z(b,p,X,nn,nH,"#808000",_.nJ);N=!0}if(_.fB&&b.M.d>7){this._Z(b,p,X,1,1,"rgba(128,128,0,0.5)",_.nJ);
N=!0}if(_.LA){X.beginPath();X.strokeStyle=G.ks?"#00ff00":"#00ffff";for(var y=0;y<b.LA[0].length;y++){var d=Math.round(b.M.lm(b.LA[0][y],0).x)+.5;
X.moveTo(d,0);X.lineTo(d,b.M.L.z)}for(var y=0;y<b.LA[1].length;y++){var np=Math.round(b.M.lm(0,b.LA[1][y]).y)+.5;
X.moveTo(0,np);X.lineTo(b.M.L.n,np)}X.closePath();X.stroke()}var a=b.lg;if(_.lg&&a.length!=0){var nb=X.font;
X.font=Math.round(W*.8)+"px sans-serif";var nK=[],nq=[];for(var y=0;y<a.length;y++){var nS=c.IV.pB(a,y);
nK.push(nS);if(b.HA.indexOf(y)!=-1)nq.push(nS)}nK.reverse();var nB=Date.now();nK=x.rect.yK([0,0,b.n,b.z],nK);
X.translate(.5,.5);for(var U=0;U<2;U++)for(var y=0;y<nK.length;y++){var nE=nK[y],P=nE[4],nh=P!=null?a[P]:null;
if(nh&&U==0||nh==null&&U==1)continue;var nv=b.M.lm(nE[0],nE[1]),nC=b.M.lm(nE[2],nE[3]),u=Math.round(nv.x),Z=Math.round(nv.y),v=Math.round(nC.x),C=Math.round(nC.y),nR=nh?"#008888":"#999999";
if(G.ks)nR=nR.slice(0,5)+"00";X.strokeStyle=X.fillStyle=nR;X.beginPath();X.moveTo(u,Z);X.lineTo(v,Z);
X.lineTo(v,C);X.lineTo(u,C);X.closePath();X.stroke();var nu=y+1,nA=X.measureText(nu),nU=nA.width;X.fillRect(u-.5,Z-.5,Math.round(nU+W/2),W);
X.fillStyle=G.ks?"#ffff00":"#ffffff";X.fillText(nu,u+W/4,Math.round(Z+W*.8)-.5)}for(var y=0;y<nq.length;
y++){var nE=nq[y],nv=b.M.lm(nE[0],nE[1]),nC=b.M.lm(nE[2],nE[3]),u=Math.round(nv.x),Z=Math.round(nv.y),v=Math.round(nC.x),C=Math.round(nC.y);
X.strokeStyle=X.fillStyle=G.ks?"#00aa00":"#00aaaa";X.beginPath();X.moveTo(u,Z);X.lineTo(v,Z);X.lineTo(v,C);
X.lineTo(u,C);X.closePath();X.stroke();var nF=[u,Z,v,Z,v,C,u,C];for(var nP=0;nP<nF.length;nP+=2){var d=nF[nP],np=nF[nP+1],ni=nF[nP+2&7],nw=nF[nP+3&7];
X.fillRect(d-2.5,np-2.5,4,4);X.fillRect(Math.round((d+ni)/2)-2.5,Math.round((np+nw)/2)-2.5,4,4)}}X.translate(-.5,-.5);
X.font=nb;N=!0}}X.strokeStyle=G.ks?"#ff0000":"#ff00ff";if(b.H.DW){this.L$(b.H.DW,z,X);X.stroke()}if(J.da){if(b.M.IS==null||b.M.IS.width!=b.M.L.n||b.M.hH.height!=b.M.L.z){b.M.IS=X.createImageData(b.M.L.n,x.hM.OT);
b.M.hH=X.createImageData(x.hM.OT,b.M.L.z)}var g=bM.FN[J.LU],q=b.M,nO=q.d*b.n/2,nT=q.d*b.z/2,nI=[1,b.Dg,b.Dg/2.54,b.Dg/25.4,b.n/100][_.Ms],gu=q.d,nN=q.I.clone();
q.d*=nI;q.I.x+=nO*nI-nO;q.I.y+=nT*nI-nT;x.hM.xBG(q,g["--text-color"],g["--bg-input"]);q.d=gu;q.I=nN;
var xn=_D.xrW(q.d,G.ks);if(G.ks){x.Ws(b.M.hH.data,0,4278255615);x.Ws(b.M.IS.data,0,4278255615)}X.putImageData(b.M.hH,0,0);
X.putImageData(b.M.IS,0,0);X.putImageData(xn,0,b.M.L.z-xn.height);X.fillStyle="#000000"}if(b.H.vk.length!=0){for(var y=0;
y<b.H.vk.length;y++){var V=b.H.vk[y],F=V[1];X.putImageData(new ImageData(new Uint8ClampedArray(V[0].buffer),F.n,F.z),F.x,F.y)}}return N||J.da||b.LA[0].length+b.LA[1].length>0};
_v.prototype._Z=function(b,X,q,N,J,_,p){while(N*b.M.d<4){N*=2;J*=2}var z=X.x,g=z+X.n,W=X.y,o=W+X.z;q.beginPath();
q.strokeStyle=_;for(var y=0;y<=b.n;y+=N){var D=Math.round(b.M.lm(y,0).x)+.5;q.moveTo(D,W);q.lineTo(D,o)}if(p==0){for(var m=0;
m<=b.z;m+=J){var k=Math.round(b.M.lm(0,m).y)+.5;q.moveTo(z,k);q.lineTo(g,k)}}else{J*=Math.sqrt(4/3);
var O=(g-z)*(J/(2*N)),L=J*Math.floor(b.n/J);for(var m=-L;m<=b.z+L;m+=J){var k=Math.round(b.M.lm(0,m).y)+.5,I=k-O,H=k+O;
this.xRc(q,z,W,g,o,k,I);this.xRc(q,z,W,g,o,k,H)}}q.closePath();q.stroke()};_v.prototype.xRc=function(b,X,q,N,J,_,p){var z=X,g=N,W=_,o=p,y=0,D=1,m=g-z,k=o-W,O,L,I;
for(var H=0;H<4;H++){if(H==0){O=-m;L=-(X-z)}if(H==1){O=m;L=N-z}if(H==2){O=-k;L=-(q-W)}if(H==3){O=k;L=J-W}I=L/O;
if(O==0&&L<0)return!1;if(O<0){if(I>D)return!1;else if(I>y)y=I}else if(O>0){if(I<y)return!1;else if(I<D)D=I}}var Y=z+y*m,n=W+y*k,w=z+D*m,t=W+D*k;
b.moveTo(Y,n);b.lineTo(w,t)};_v.prototype.L$=function(b,X,q){q.beginPath();var N=x.j.clone(b);x.j.w(N.r,X,N.r);
Typr.U.pathToContext({cmds:N.W,crds:N.r},q)};_v.ud=function(b){G.TR.call(this);this.xpo=b;var X="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform vec3 imgSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(b?"uniform vec4 bgClr;  uniform vec4 ars[32];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+G._B.e$+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = ctrn*texture2D(target, sCoord); "+(b?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<32; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=vec4(0.0,0.0,0.0,0.0); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),imgSizeZoom.xy, sCoord*imgSizeZoom.xy+vec2(0.0,-6.0*imgSizeZoom.z) , 10.0*imgSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = in01(sCoord) ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = in01(sCoord) ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b != 0.0) outc = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\tgl_FragColor = simpleBlend((1.0-src.b)*src.rgga,outc); \t\t\t\t\t\t\t}",q="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec2 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgCoord = (sCoord * srct.zw) / gsize ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.SF(X,q)};_v.ud.prototype=new G.TR;_v.ud.prototype.wD=function(b,X,q,N,J,_,p,z,g,W,o,y){this.iB("srct gsize source target imgSizeZoom cnvSize ars bgClr ctrn".split(" "));
var D=G.DI,m=this.Db;D.uniform4fv(m.srct,q);D.uniform2fv(m.gsize,N);D.uniform3f(m.imgSizeZoom,J,_,p);
D.uniform2f(m.cnvSize,z,g);D.uniformMatrix4fv(m.ctrn,!1,y);if(this.xpo){D.uniform4fv(m.ars,W);D.uniform4fv(m.bgClr,o)}D.uniform1i(m.source,0);
D.uniform1i(m.target,1);D.activeTexture(D.TEXTURE0);D.bindTexture(D.TEXTURE_2D,b);D.activeTexture(D.TEXTURE1);
D.bindTexture(D.TEXTURE_2D,X);D.activeTexture(D.TEXTURE0)};function pa(){nJ.call(this,[9,7],!1,null,nJ.OQ.xYi);
this.Wt.setAttribute("style","min-width:240px;");this.wi=null;this.QL=-1;this.xpc=[];this.HP=K.m("div","scrollable");
this.HP.style.height="160px";this.Wt.appendChild(this.HP);this.SI=K.m("div","lpfoot");this.Wt.appendChild(this.SI);
this.aq=[];var b=["reload","lrs/newlayer","lrs/bin"],X=[[5,10],[5,3],[5,4]];for(var q=0;q<b.length;q++){var N=new nl("<img src=\""+PIMG[b[q]]+"\" class=\"gsicon\" />",!1,X[q]);
N.l("click",this.xSk,this);this.SI.appendChild(N.U);this.aq.push(N)}}pa.prototype=new nJ("");pa.prototype.cS=function(b){var X=new Q(K.E.e,!0);
X.data=b;X.B=c.Jr;this.X(X)};pa.prototype.xSk=function(b){var X=this.aq.indexOf(b.currentTarget);if(X!=1)if(this.QL==-1)return;
this.cS({V:["updLC","addLC","delLC"][X],aP:this.QL});if(X==2)this.QL=-1};pa.prototype.f=function(){nJ.prototype.f.call(this);
for(var b=0;b<this.aq.length;b++)this.aq[b].f()};pa.prototype.Fr=function(b){if(b==null)K.Dv(this.Wt,"disabled");
else K.YQ(this.Wt,"disabled");this.wi=b;K.Jx(this.HP);if(b==null)return;var X=b.vO.lastAppliedComp?b.vO.lastAppliedComp.v:0,q=b.vO.list.v.slice(0);
q.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var N=0;N<q.length;
N++){var J=q[N].v,_=new pi(J.Nm.v,J.compID.v,J.capturedInfo.v,X,this.QL);_.l("activate",this.Bz,this);
_.parent=this;this.HP.appendChild(_.U);this.xpc.push(_)}};pa.prototype.Bz=function(b){this.QL=b.currentTarget.aP;
this.Fr(this.wi)};function pi(b,X,q,N,J){na.call(this);this.aP=X;this.U=K.m("div","head listitem"+(X==J?" selected":""));
var _=X==N,p=new nl("<b>"+(_?"\u2713":"\u2014")+"</b>");if(_)p.TU();this.U.appendChild(p.U);p.l("click",this.XW,this);
var z=this.UM=K.m("span");z.textContent=b;this.U.appendChild(z);this.aq=[];if(X!=0){this.U.addEventListener("mouseup",this.Bz.bind(this),!1);
this.xEB=K.m("span","headR");this.U.appendChild(this.xEB);var g=["lrs/eye","pos","lrs/fx"],W=["Visibility","Position","Appearance"];
for(var o=0;o<g.length;o++){var y=new nl("<img src=\""+PIMG[g[o]]+"\" class=\"autoscale gsicon\" />",!1,W[o]);
if((q>>o&1)==0)y.U.setAttribute("style","opacity:0.3");y.l("click",this.xru,this);this.xEB.appendChild(y.U);
this.aq.push(y)}}}pi.prototype=new na;pi.prototype.Bz=function(b){if(b.target!=this.UM&&b.target!=this.U)return;
if(b.detail==1)this.X(new Q("activate",!1));else{var X=new nJ.xH(this.UM,this.xY.bind(this))}};pi.prototype.xru=function(b){var X=this.aq.indexOf(b.currentTarget);
this.cS({V:"editLC",xid:X,aP:this.aP})};pi.prototype.xY=function(b){this.cS({V:"editLC",OU:b,aP:this.aP})};
pi.prototype.XW=function(b){this.cS({V:"setLC",aP:this.aP})};pi.prototype.cS=function(b){var X=new Q(K.E.e,!0);
X.data=b;X.B=c.Jr;this.X(X)};function bt(){nJ.call(this,[9,11],!1,null,nJ.OQ.xYY);var b=K.m("div","padded");
b.setAttribute("style","min-width:15em");this.Wt.appendChild(b);var X=K.m("div");b.appendChild(X);X.setAttribute("style","cursor:grab;");
this.wZ=K.m("canvas");this.wZ.width=100;X.appendChild(this.wZ);K.FZ(this.wZ);K.mU(this.wZ,this.BD.bind(this));
this.UT=new _R(null,0,c.Hu.mw.length-1);this.UT.l(K.E.$,this.xrt,this);b.appendChild(this.UT.U);this.xEk=this.xt.bind(this);
this.xwN=this.xG.bind(this);this.oa=null}bt.prototype=new nJ("");bt.prototype.Gq=function(b,X){this.Bd()};
bt.prototype.xrt=function(b){var X=this.UT.N(),q=this.oa,N=c.Hu.mw[c.Hu.mw.length-1-X],J=new Q(K.E.e,!0);
J.B=c.o_;J.data={V:"zoom",d:N};this.X(J)};bt.prototype.BD=function(b){if(this.oa==null)return;K.YZ(window,this.xEk);
K.Lx(window,this.xwN)};bt.prototype.xt=function(b){var X=K.HW(b,this.wZ),q=this.oa,N=this.wZ.width,J=this.wZ.height,_=(X.x*K.u()-N/2)/N,p=(X.y*K.u()-J/2)/J,z=K.u()*q.M.d,g=Math.round(-q.M.d*q.n*_),W=Math.round(-q.M.d*q.z*p);
c.zm.zx(q,g,W)};bt.prototype.xG=function(b){K.dW(window,this.xEk);K.d$(window,this.xwN)};bt.prototype.Fr=function(b){if(b==null&&this.oa!=null)this.wZ.width=100;
this.oa=b;this.Bd()};bt.prototype.Bd=function(){var b=this.oa,q=0;if(b==null||b.M.d==0)return;if(!K.OH(this.Wt))return;
this.UT.S(c.Hu.mw.length-1-c.Hu.Ed(b.M.d));var X=300*K.u(),N=[b.US(),new R(0,0,b.n,b.z)];x.lo(N);while(Math.max(N[q+1].n,N[q+1].z)>X){q+=2}var J=N[q],_=N[q+1],p=_.n,z=_.z,g=this.wZ;
g.width=p;g.height=z;K.IX(g,p,z);var W=g.getContext("2d"),o=W.createImageData(p,z);x.vM(J,o.data);W.putImageData(o,0,0);
var y=b.M.js(),D=p/b.n;W.scale(D,D);W.lineWidth=4/D;W.strokeStyle="#ff0000";W.strokeRect(y.x,y.y,y.n,y.z)};
bt.prototype.TY=function(b,X){};bt.prototype.aY=function(){this.Bd()};function pt(b){if(b==null){nJ.call(this);
return}var X=b.id;if(X==null)X="plg_"+b.name;nJ.call(this,b.name,!1,b.icon,X);var q=K.m("iframe","padded");
q.setAttribute("src",b.url);q.setAttribute("style","width:"+b.width+"px; height:"+b.height+"px");this.Wt.appendChild(q)}pt.prototype=new nJ("");
function pJ(){pt.call(this,{id:nJ.OQ.xLw,name:"Gallery",url:"plugins/gallery.html",width:400,height:400,icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAADxQTFRFAAAA////////////////////////////////////////////////////////////////////////////2EloEwAAABR0Uk5TAP8GD/MW0yBZ54Z4wEcvqbaVbqOHZj16AAACiklEQVR4nO2a2YKDIAwAixeeVdv//9fVrlWQgIAQHpp53LVmqomJlMeDIAiCIAjioGyrgkWnqNoSjl8jRN8cajA+VvgVwKBE+/4rhXoXWsz4jLWKQIUrUCkCqHdguQeKAG58xvQCuioNAW+vBdTsCMp8KRDx+688LwXixn+UJEACWAK86xvGmr7jSQT4eDzyRkkhRxGQRxtp/EAR6NiJDlcAGK2Oa4AgwIHGXux5gCAwqvGXTMQT4FB8xr6XIL6AkoH/fPMwvkAPC0xoAg0s0KAJwPH38/6AQPJbkDwJk5dh8gdR8kcxRjPKM+O/I7fjvF0KrapNDlEHEr6tI4wmg4gjWb6vY7xNBtGG0mw6Tjwbj+TdtI7l03ksvykgLSR1xkM13BM45fcLW+B5rnBwvTGeAFcb3eAskPkL5MBCXvHEE8jAZ7yzgb+AZiW14boPBBbQLmVX6qpWaVjo8hVQCkAwyOVDhyVXKm12egqUmknvQy89lF//f9QZ+Alk5pXs6TDIvguRhcbATwAsAIG9MeVHr9DUh5eAZs4U2BoTF69UAxr4CNj8lvNeM7GWMwWsUA8BQwEIFOOsJApQoR4CxgK44FyhPgKZ5k3Hjl4Zm5wF3nfiSxXqJ3BdABecR0dHgeFufGV0dBOwK4AL5N+AnATuFICANDq6CNwrAIHaU2CGT+fB4CXwChZfbI32AgEKQDB4OgtAb/k32FujrQA0g98z4E4C4ktoILbWaCkQrgAEg9xeIGABCHxao5VA0AIQWFujjUDgAhAYMxuB4AUgMFsIRCgAgfZaIPJ2nj2/tQJYkAAJkAAJkAAJKALJt3Qm39SafFtv8o3Nybd2p9/cnn57P0EQBEEQP8of0kskEgrfunYAAAAASUVORK5CYII="})}pJ.prototype=new pt;
function pA(){nJ.call(this,[9,12],!1,null,nJ.OQ.jD);this.Ka=null;this.Io=new _f(c.lZ);this.Io.parent=this;
var b=K.m("div","padded");b.setAttribute("style","width:20em");this.Wt.appendChild(b);b.appendChild(this.Io.Ni)}pA.prototype=new nJ("");
pA.prototype.aY=function(){this.Io.pz(this.Ka.Ut)};pA.prototype.TY=function(b,X){this.Ka=b;if(X==n_.LX||X==n_.jD)this.Io.pz(b.Ut)};
pA.prototype.Gq=function(b,X){this.Io.xEO(this.Ka.Df)};pA.prototype.f=function(){nJ.prototype.f.call(this);
this.Io.f()};function xS(){na.call(this);this.B=0;this.C_=null;this.U=K.m("div","toolconf");this.Io=null;
this.kw=null;this.body=new K.m("div","body")}xS.prototype=new na;xS.prototype.xrJ=function(b,X){this.B=b;
this.C_=X;if(c.fw[b]){var q=this.Io=new _f(b);this.U.appendChild(q.U);q.parent=this}else{this.kw=K.m("div");
this.U.appendChild(this.kw)}this.U.appendChild(this.body);this.f()};xS.prototype.xWj=function(b,X){};
xS.prototype.xAH=function(b){};xS.prototype.TY=function(b,X){if(X==n_.LX||X==n_.jD)if(this.Io)this.Io.pz(b.Ut)};
xS.prototype.Ek=function(b){};xS.prototype.f=function(){if(this.Io)this.Io.f();else this.kw.innerHTML=K.BC(this.C_,null,"toolicon");
this.gI()};xS.prototype.gI=function(){};function _P(b){xS.call(this);if(b==null)return;this.Ka=null;
this.mR={};for(var X=0;X<b.length;X++){var q=b[X],N=null;if(q=="brush"){N=new bX}if(q=="bmode"){N=new xU([12,19,0],nD.IH,!1,nD.Mo)}if(q=="bmode0"){N=new xU([12,19,0],nD.IH.slice(23),!1)}if(q=="emode"){N=new xU([12,36],[[9,3],[10,38]])}if(q=="opacity"){N=new xP([12,0],0,100,"%");
N.S(100)}if(q=="flow"){N=new xP([12,63],0,100,"%");N.S(100)}if(q=="smth"){N=new xP([19,3,0],0,100,"%");
N.S(0)}if(q=="samp"){N=new xU("Sampling",["Brush Center","Start of Stroke","Background Color"])}if(q=="wconf"){N=new SU;
N.S([40,!0,!0])}if(q=="strn"){N=new xP([12,64],1,100,"%");N.S(50)}if(q=="smode"){N=new xU([12,36],[[19,7,0],[19,7,1]]);
N.S(1)}if(q=="pdetail"){N=new nG([12,65]);N.TU()}if(q=="rng"){N=new xU([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
N.S(1)}if(q=="expo"){N=new xP([12,5],0,100,"%");N.S(50)}if(q=="algnd"){N=new nG([12,75]);N.S(!1)}if(q=="sfrom"){N=new xU([12,70],[[17,1],[17,3],[17,0]])}if(q=="qsmode"){N=new _t([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(q=="redge"){N=new nl([7,11],!1,null,!0)}if(q=="setop"){N=new KV}if(q=="patch"){N=new _t(null,[[12,70],[12,71]])}if(q=="prsr"){N=new be(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
N.S([!1,!0])}N.parent=this;this.body.appendChild(N.U);this.mR[q]=N;if(q=="brush")N.l(K.E.$,this.xxC,this);
else if(q=="redge")N.l("click",this.u_,this);else N.l(K.E.$,this.wU,this)}}_P.prototype=new xS;_P.prototype.xWj=function(b,X){b=b[1];
var q=this.mR;if(b.Md)q.bmode.S(nD.$s.indexOf(b.Md.v.BlnM));if(b.Opct)q.opacity.S(b.Opct.v);if(b.flow)q.flow.S(b.flow.v);
if(b.Brsh)q.brush.S(b,X.qz.Ho,X.qz.Oh);if(b.FrgC){var N=x.Z.vx(b.FrgC.v),J=new Q(K.E.T,!0);J.data={V:K.a.dX,Zy:n_.$f,qe:0,A:N.D<<16|N.q<<8|N.b};
this.X(J)}this.xxC();this.wU()};_P.prototype.xAH=function(){if(c.fw[this.B]==null)return null;var b=this.mR,X=JSON.parse(JSON.stringify(b.brush.N()));
X.classID=c.fw[this.B][1][0];if(b.bmode)X.Md={t:"enum",v:{BlnM:nD.$s[b.bmode.N()]}};if(b.opacity)X.Opct={t:"long",v:b.opacity.N()};
if(b.flow)X.flow={t:"long",v:b.flow.N()};var q=this.Ka.pp;q={D:q>>>16,q:q>>>8&255,b:q&255};X.FrgC={t:"Objc",v:x.Z.Yr(q)};
return["Brush Preset "+X.Brsh.v.Dmtr.v.val,X]};_P.prototype.u_=function(){var b=new Q(K.E.T,!0);b.data={V:K.a.Ko,zE:"redge"};
this.X(b)};_P.prototype.gI=function(){for(var b in this.mR)this.mR[b].f()};_P.prototype.Ek=function(b){if(b.xRX=="showBrushOpts"){this.mR.brush.xUd(b.EQ.x,b.EQ.y)}for(var X in b.dE){var q=b.dE[X];
if(X!="qsmode")q*=100;if(this.mR[X])this.mR[X].S(q)}};_P.prototype.TY=function(b,X){xS.prototype.TY.call(this,b,X);
this.Ka=b;var q=this.mR.brush;if(q==null)return;if(X==n_.LX||X==n_.lZ)q.pz(b.qz);if(X==n_.VT){q.S(b.qz.kY,b.qz.Ho,b.qz.Oh)}};
_P.prototype.xxC=function(){var b=new Q(K.E.T,!0);b.data={V:K.a.dX,Zy:n_.VT,Ty:this.mR.brush.N()};this.X(b)};
_P.prototype.wU=function(){var b=new Q(K.E.T,!0);b.data={V:K.a.K$,B:this.B};for(var X in this.mR){if(X=="brush"||X=="redge")continue;
var q=this.mR[X].N();if(["opacity","flow","smth","strn","expo"].indexOf(X)!=-1)b.data[X]=q/100;else if(X=="bmode")b.data.bmode=nD.YO[q];
else if(X=="bmode0")b.data.bmode=nD.YO[23+q];else b.data[X]=q}this.X(b)};function gQ(b){xS.call(this);
if(b)return;this.data={V:K.a.K$,dx:"front",Zt:0,XZ:[10,!0,!0],RD:{vd:0,x:1,y:1}};this.QJ=new KV;this.body.appendChild(this.QJ.U);
this.QJ.l(K.E.$,this.$A,this);this.fF=new xP([7,6],0,100," px");this.fF.parent=this;this.fF.S(0);this.body.appendChild(this.fF.U);
this.fF.l(K.E.$,this.$A,this);this.ka=new nl([7,11],!1,null,!0);this.body.appendChild(this.ka.U);this.ka.l("click",this.u_,this)}gQ.prototype=new xS;
gQ.prototype.Ek=function(b){if(b.dx!=null)this.QJ.S(b.dx);else{var X=gQ.QX;if(X==null){var q=_y.xip(!0);
X=gQ.QX=new Uo(q.items,q.gL)}X.f();X.parent=this;X.update(b.Hp,b.pe);var N=new Q(K.E.T,!0);N.data={V:K.a.Vj,SU:X,x:b.pT.tz+2,y:b.pT.dH+1};
this.X(N)}};gQ.prototype.gI=function(){this.fF.f();this.QJ.f();this.ka.f()};gQ.prototype.u_=function(){var b=new Q(K.E.T,!0);
b.data={V:K.a.Ko,zE:"redge"};this.X(b)};gQ.prototype.$A=function(){var b=new Q(K.E.T,!0);this.data.B=this.B;
this.data.dx=this.QJ.N();this.data.Zt=this.fF.N();b.data=this.data;this.X(b)};function pj(){_P.call(this,["brush","strn"])}pj.prototype=new _P;
function pD(){_P.call(this,"brush bmode opacity flow smth prsr".split(" "))}pD.prototype=new _P;function pG(){_P.call(this,["brush","bmode0","samp","wconf"])}pG.prototype=new _P;
function po(){_P.call(this,["brush"])}po.prototype=new _P;function pc(){_P.call(this,"brush bmode opacity flow smth prsr".split(" "))}pc.prototype=new _P;
function pf(){_P.call(this,["brush","rng","expo"])}pf.prototype=new _P;function pm(){_P.call(this,"brush bmode opacity flow algnd sfrom".split(" "))}pm.prototype=new _P;
function xV(b){xS.call(this);if(b==null)return;var X=K.m("span","fitem");this.body.appendChild(X);var q=[[17,0],[17,1],[11,12,0],[17,2]];
this.DK=[];for(var N=0;N<q.length;N++){var J=new nl(q[N],!1,null,!0);this.DK.push(J);J.l("click",this.xrz,this);
if(!b||N==1)X.appendChild(J.U)}this.RD=new KB;this.RD.l(K.E.$,this.xBn,this);if(!b)this.body.appendChild(this.RD.U);
this.lz=new gP;this.lz.l("click",this.Fj,this)}xV.prototype=new xS;xV.prototype.gI=function(){this.lz.f();
for(var b=0;b<this.DK.length;b++)this.DK[b].f();this.RD.f()};xV.prototype.Ek=function(b){var X=this.lz.U;
if(b.w_)this.body.appendChild(X);else if(this.body.contains(X))this.body.removeChild(X);if(b.RD)this.RD.S(b.RD)};
xV.prototype.Fj=function(b){var X={V:K.a.K$,B:this.B,Be:this.lz.N()?"commit":"cancel"},q=new Q(K.E.T,!0);
q.data=X;this.X(q)};xV.prototype.xrz=function(b){b.target.U.blur();var X={V:K.a.K$,B:this.B,Be:"cropby",xql:this.DK.indexOf(b.target)},q=new Q(K.E.T,!0);
q.data=X;this.X(q)};xV.prototype.xBn=function(b){var X={V:K.a.K$,B:this.B,Be:"config",uW:{VI:this.RD.N()}},q=new Q(K.E.T,!0);
q.data=X;this.X(q)};function pV(){xV.call(this,!1)}pV.prototype=new xV;function ps(){xV.call(this,!0)}ps.prototype=new xV;
function p$(){_P.call(this,["brush","rng","expo"])}p$.prototype=new _P;function py(){_P.call(this,"brush emode opacity flow smth prsr".split(" "))}py.prototype=new _P;
function pe(){_P.call(this,["brush","samp","wconf"])}pe.prototype=new _P;function pZ(){gQ.call(this);
this.RD=new KB;this.RD.l(K.E.$,this.uB,this);this.body.appendChild(this.RD.U)}pZ.prototype=new gQ(!0);
pZ.prototype.uB=function(b){this.data.RD=this.RD.N();this.$A()};pZ.prototype.gI=function(){gQ.prototype.gI.call(this);
this.RD.f()};function UA(){xS.call(this);this.UJ=new xU([12,20],["1x1","3x3","5x5","11x11","31x31"]);
this.UJ.l(K.E.$,this.wU,this);this.body.appendChild(this.UJ.U)}UA.prototype=new xS;UA.prototype.wU=function(b){var X=new Q(K.E.T,!0);
X.data={V:K.a.K$,B:this.B,kG:[1,3,5,11,31][this.UJ.N()]};this.X(X)};UA.prototype.gI=function(){this.UJ.f()};
function pw(){xS.call(this);this.Bh=new KS(!1);this.Bh.parent=this;this.Bh.l(K.E.$,this.wr,this);this.body.appendChild(this.Bh.U);
this.Bh.S(JSON.parse(UZ.RO.xPS).v);this.Uc=new xU(null,UZ.Z.names.slice(0,5));this.Uc.l(K.E.$,this.wr,this);
this.body.appendChild(this.Uc.U);this.Uy=new xU([12,19,0],nD.IH,null,nD.Mo);this.Uy.l(K.E.$,this.wr,this);
this.body.appendChild(this.Uy.U);this.Bc=new xP([12,0],0,100,"%");this.Bc.parent=this;this.Bc.l(K.E.$,this.wr,this);
this.body.appendChild(this.Bc.U);this.Bc.S(100);this.Ue=new nG([12,23,0]);this.Ue.l(K.E.$,this.wr,this);
this.body.appendChild(this.Ue.U);this.UZ=new nG("Dither");this.UZ.l(K.E.$,this.wr,this);this.body.appendChild(this.UZ.U)}pw.prototype=new xS;
pw.prototype.gI=function(){this.Uc.f();this.Uy.f();this.Bc.f();this.Ue.f();this.UZ.f()};pw.prototype.TY=function(b,X){xS.prototype.TY.call(this,b,X);
var q=X==n_.$f;this.Bh.vo(b.pp,b.HO);if(q||X==n_.FA||X==n_.LX)this.Bh.pz(b.xb)};pw.prototype.wr=function(){var b=new Q(K.E.T,!0);
b.data={V:K.a.K$,B:this.B};b.data.Zy={Z:this.Bh.N(),zh:UZ.Z.types[this.Uc.N()],Ux:this.Ue.zF(),xHU:this.UZ.zF(),xES:nD.YO[this.Uy.N()],Tn:this.Bc.N()/100};
this.X(b)};function Ug(){xS.call(this)}Ug.prototype=new xS;function Up(){_P.call(this,["brush","algnd","sfrom"])}Up.prototype=new _P;
function pv(){xS.call(this);this.hv=new gI;this.hv.parent=this;this.body.appendChild(this.hv.bh.U);this.body.appendChild(this.hv.bE.U);
this.body.appendChild(this.hv.bu.U);var b=K.m("span","fitem");this.body.appendChild(b);b.appendChild(this.hv.o$.U);
b.appendChild(this.hv.oe.U);b.appendChild(this.hv.oy.U);this.hX=new nl([11,9],!1,null,!0);this.hX.l("click",this.xBv,this);
this.body.appendChild(this.hX.U);this.lz=new gP;this.lz.l("click",this.Fj,this)}pv.prototype=new xS;
pv.prototype.gI=function(){this.lz.f();this.hv.f();this.hX.f()};pv.prototype.xBv=function(b){var X={V:K.a.K$,B:this.B,Be:"showwarp"},q=new Q(K.E.T,!0);
q.data=X;this.X(q)};pv.prototype.Ek=function(b){if(b.Be=="showactive")this.body.appendChild(this.lz.U);
if(b.Be=="hideactive")this.body.removeChild(this.lz.U)};pv.prototype.TY=function(b,X){xS.prototype.TY.call(this,b,X);
if(X!=n_.LX&&X!=n_.Fh&&X!=n_.Gn&&X!=n_.Uu)return;this.hv.vB(b)};pv.prototype.Fj=function(b){var X={V:K.a.K$,B:this.B,Be:this.lz.N()?"commit":"cancel"},q=new Q(K.E.T,!0);
q.data=X;this.X(q)};function Un(){gQ.call(this)}Un.prototype=new gQ(!0);function pF(){xS.call(this);
var b=[],q="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.Qm=new nG([12,85]);this.Qm.l(K.E.$,this.wU,this);b.push(this.Qm.U);this.QV=new nG([20,1]);this.QV.l(K.E.$,this.wU,this);
b.push(this.QV.U);this.Qs=new nG([12,83]);this.Qs.l(K.E.$,this.wU,this);b.push(this.Qs.U);var X=K.m("span","fitem");
b.push(X);this.xah=new xU("Scale for exported files",["1x","2x","3x","4x"],!0);X.appendChild(this.xah.U);
this.kP=new nl(q+" PNG",!1,null,!0);X.appendChild(this.kP.U);this.kP.l("click",this.uq,this);this.xPY=new nl(q+" SVG",!1,null,!0);
X.appendChild(this.xPY.U);this.xPY.l("click",this.uq,this);var N=K.m("span","fitem");b.push(N);var J=K.m("span","fitem");
b.push(J);this.aq=[];for(var _=0;_<8;_++){var p=_==3||_==7?[20,4,6]:[20,4,_<3?_:_-1],z=new nl("Hi",!1,p);
(_<4?N:J).appendChild(z.U);z.l("click",this.uq,this);this.aq.push(z)}for(var _=0;_<b.length;_++)this.body.appendChild(b[_]);
this.xPD=b}pF.prototype=new xS;pF.prototype.Ek=function(b){var X=b.Vg,q=b.xFV;this.Qm.S(X.Jz);this.QV.S(X.JD);
this.Qs.S(X.Ui);if(q){K.Jx(this.body);for(var N=0;N<q.length;N++)if(q[N]==1&&this.xPD[N])this.body.appendChild(this.xPD[N])}};
pF.prototype.uq=function(b){var X=this.aq.indexOf(b.target),q;if(X==-1){q=new Q(K.E.T,!0);q.data={V:K.a.K$,B:this.B,qe:b.target==this.kP?"getPNG":"getSVG",xvz:this.xah.N()+1}}else{q=new Q(K.E.e,!0);
q.B=c.KC;q.data={V:"algn",A:X}}this.X(q)};pF.prototype.wU=function(b){var X=new Q(K.E.T,!0);X.data={V:K.a.K$,B:this.B,qe:"prms",Jz:this.Qm.zF(),JD:this.QV.zF(),Ui:this.Qs.zF()};
this.X(X)};pF.prototype.gI=function(){this.Qm.f();this.QV.f();this.Qs.f();var b="h0 h1 h2 hG v0 v1 v2 vG".split(" ");
for(var X=0;X<8;X++){this.aq[X].vQ(K.BC("align/"+b[X],null,"autoscale"))}};function Ub(){gQ.call(this);
var b=this.HH=new SU;b.parent=this;b.l(K.E.$,this.xBz,this);this.body.appendChild(b.U)}Ub.prototype=new gQ(!0);
Ub.prototype.xBz=function(b){this.data.XZ=this.HH.N();this.$A()};Ub.prototype.gI=function(){gQ.prototype.gI.call(this);
this.HH.f()};function UK(){_P.call(this,["setop","patch"])}UK.prototype=new _P;function US(){_P.call(this,["bmode","opacity","wconf"])}US.prototype=new _P;
function Ur(){gQ.call(this)}Ur.prototype=new gQ(!0);function UB(){gQ.call(this)}UB.prototype=new gQ(!0);
function Uq(){gQ.call(this);this.RD=new KB;this.RD.l(K.E.$,this.uB,this);this.body.appendChild(this.RD.U)}Uq.prototype=new gQ(!0);
Uq.prototype.uB=function(b){this.data.RD=this.RD.N();this.$A()};Uq.prototype.gI=function(){gQ.prototype.gI.call(this);
this.RD.f()};function Ux(){xS.call(this);this.uy=[new pH("X",null,3),new pH("Y",null,3),new pH("W",null,3),new pH("H",null,3),new pH([12,15],null,4),new pH([12,80,0],null,4),new nl([15,7,6],!1,null,!0)];
for(var b=0;b<this.uy.length;b++){var X=this.uy[b];this.body.appendChild(X.U)}this.uy[6].l("click",this.xBX,this);
this.nn=0}Ux.prototype=new xS;Ux.prototype.xBX=function(b){if(this.nn==0){return}var X=new Q(K.E.e,!0);
X.B=c.dL;X.data={V:"rot",ds:[2,5],A:-this.nn};this.X(X)};Ux.prototype.Ek=function(b){var X=b.xFy,q=b.hh,N=q.x-X.x,J=q.y-X.y,_=this.uy;
this.nn=-Math.atan2(J,N);_[0].S(X.x);_[1].S(X.y);_[2].S(N);_[3].S(J);_[4].S((this.nn*180/Math.PI).toFixed(2));
_[5].S(Math.sqrt(N*N+J*J).toFixed(2))};Ux.prototype.gI=function(){var b=this.uy;for(var X=0;X<b.length;
X++)b[X].f();K.GP(b[2],b[3])};function UH(){_P.call(this,["brush","strn","pdetail"])}UH.prototype=new _P;
function UE(){_P.call(this,["brush"]);this.xMa=[];var b=[[7,12]];for(var X=0;X<b.length;X++){var q=new nl(b[X],!1,null,!0);
this.xMa.push(q);q.parent=this;this.body.appendChild(q.U);q.l("click",this.xB$,this)}}UE.prototype=new _P;
UE.prototype.xB$=function(b){var X=this.xMa.indexOf(b.currentTarget),q=new Q(K.E.gy,!0);q.data=c.Un.Hc("contentAware");
this.X(q)};function Uw(){_P.call(this,["brush","strn"])}Uw.prototype=new _P;function Ua(){_P.call(this,["brush","flow","smode"])}Ua.prototype=new _P;
function pQ(){xS.call(this);this.Kn=!1;var b=K.m("span","fitem");this.body.appendChild(b);this.Qe=new _t(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
b.appendChild(this.Qe.U);this.Qe.l(K.E.$,this.wU,this);this.nb=new nl([20,2]);this.body.appendChild(this.nb.U);
this.nb.l("click",this.xpG,this);this.ki=new nl([20,3]);this.body.appendChild(this.ki.U);this.ki.l("click",this.xpG,this)}pQ.prototype=new xS;
pQ.prototype.gI=function(){this.nb.f();this.ki.f()};pQ.prototype.wU=function(){var b={V:K.a.K$,B:this.B,JE:this.Qe.N()==0},X=new Q(K.E.T,!0);
X.data=b;this.X(X)};pQ.prototype.Ek=function(b){if(this.Kn!=b.Kn)this.Qe.S(1-this.Qe.N());this.Kn=b.Kn};
pQ.prototype.xpG=function(b){var X=new Q(K.E.e,!0);X.B=c.o_;X.data={V:"adapt",A:b.target==this.nb?"pixel":"fitscr"};
this.X(X)};function _W(b,X){xS.call(this);if(b==null)return;this.mR={};var q=[[12,76,0],[12,76,1]];if(X==null)q.push([12,76,2]);
for(var N=0;N<b.length;N++){var J=b[N],_=null;if(J=="tmode"){_=new xU(null,q);_.S(1)}if(J=="binop"){_=new xU(null,[[18,1],[18,2],[18,3],[18,4]]);
_.Sb()}if(J=="pshape")_=new xU(null,[[12,93,0],[12,93,1],"Arrow",[12,93,2]]);if(J=="shape")_=new xZ([12,76,1]);
if(J=="crad"){_=new xP([12,94,0],0,50,"px");_.S(0)}if(J=="cstr"){_=new KB}if(J=="irad"){_=new xP([12,94,1],0,100,"%");
_.S(40)}if(J=="length"){_=new xP([12,80,0],4,40);_.S(4)}if(J=="sides"){_=new xP([12,78],3,30);_.S(5)}if(J=="width"){_=new xP([12,41],1,100,"px");
_.S(5)}if(J=="tsiz"){_=new xP("Tip Size",100,500,"%");_.S(300)}if(J=="tolr"){_=new xP([12,24],0,100);
_.S(5)}if(J=="fstyle"){_=new _m([12,26])}if(J=="sstyle"){_=new Km}if(J=="psnap"){_=new nG([8,10])}_.parent=this;
this.body.appendChild(_.U);this.mR[J]=_;_.l(K.E.$,this.wU,this)}}_W.prototype=new xS;_W.prototype.Ek=function(b){var X=_W.QX;
if(X==null)X=_W.QX=new Uo([{name:"Make Selection"}],[{v:K.E.e,B:c.ST,R:{V:"makeselection"}}]);X.parent=this;
X.update(b.Hp,b.pe);var q=new Q(K.E.T,!0);q.data={V:K.a.Vj,SU:X,x:b.pT.tz+2,y:b.pT.dH+1};this.X(q)};
_W.prototype.xUu=function(b){return null};_W.prototype.x_t=function(){if(this.mR.pshape==null)return;
var b=this.xUu(this.mR.pshape.N());if(b==null)return;K.Jx(this.body);for(var X=0;X<b.length;X++){var q=b[X];
this.body.appendChild(this.mR[q].U)}};_W.prototype.gI=function(){for(var b in this.mR){this.mR[b].f()}};
_W.prototype.wU=function(b){var X=new Q(K.E.T,!0);if(b.target==this.mR.fstyle){X.data={V:K.a.dX,Zy:n_.Fd,A:this.mR.fstyle.N()};
this.X(X);return}if(b.target==this.mR.sstyle){X.data={V:K.a.dX,Zy:n_.UA,A:this.mR.sstyle.N()};this.X(X);
return}if(this.mR.tmode&&this.mR.binop){if(this.mR.tmode.N()==0)this.mR.binop.Ic();else this.mR.binop.Sb()}X.data={V:K.a.K$,B:this.B};
for(var q in this.mR)if(q!="sstyle")X.data[q]=this.mR[q].N();this.X(X);if(b.target==this.mR.pshape)this.x_t()};
_W.prototype.TY=function(b,X){xS.prototype.TY.call(this,b,X);var q=this.mR.fstyle,N=this.mR.sstyle;if(q)q.TY(b,X);
if(N)N.TY(b,X);if(X==n_.LX||X==n_.Dq)if(b.Pv.length!=0&&this.mR.shape){this.mR.shape.pz(b.Pv)}if(X==n_.LX||X==n_.Fd)if(q)q.S(null,b.Pq,b.xMP);
if(X==n_.LX||X==n_.UA)if(N)N.S(null,b.Pp,b.xMM)};function Ui(){_W.call(this,["tmode","fstyle","sstyle","binop"],!0)}Ui.prototype=new _W;
function UC(){_W.call(this,["tmode","fstyle","sstyle","binop","tolr"])}UC.prototype=new _W;function Uh(){_W.call(this,["fstyle","sstyle"]);
this.xur=null;this.xMi=null;this.xMF=null;this.Tv=new xU("Path",[[18,1],[18,2],[18,3],[18,4],[18,5]],!1,[4]);
this.tD=new nl("\u25BC");this.tD.TU();this.Tu=new nl("\u25B2");this.Tu.TU();this.kC=[this.Tv,this.tD,this.Tu];
for(var b=0;b<this.kC.length;b++){var X=this.kC[b];this.body.appendChild(X.U);X.parent=this;X.l(b==0?K.E.$:"click",this.Ij,this)}}Uh.prototype=new _W;
Uh.prototype.Ek=function(b){if(b.Be=="main"){var X=this.kC,q=b.zQ;if(q&&q.k.length==1){this.xMi=q.clone();
this.xMF=JSON.stringify(b.P_);var N=q.k[0],J=x.g.SG(q.s);this.Tv.Ic();if(N>0)this.tD.Ic();else this.tD.Sb();
if(N<J-1)this.Tu.Ic();else this.Tu.Sb();var _=x.g.wm(q.s,N),p=q.s[_];this.Tv.vQ("Path "+(N+1));this.Tv.S([3,0,1,2][p.vR])}else{for(var z=0;
z<X.length;z++)X[z].Sb()}}else _W.prototype.Ek.call(this,b)};Uh.prototype.gI=function(){_W.prototype.gI.call(this);
this.Tv.f()};Uh.prototype.Ij=function(b){if(b.target==this.Tv||b.target==this.tD||b.target==this.Tu){var X={},q=this.xMi,N=q.s,J=JSON.parse(this.xMF),_=q.k[0],p=x.g.wm(N,_),z=N[p];
if(b.target==this.Tv){var g=this.Tv.N();if(g<4)z.vR=[1,2,3,0][g];else{if(x.g.SG(N)<=1)return;q.s=x.g.rC(N);
q.k=q.s.length==2?[]:[0];q.Ep=[];J=[x.P_.$j()]}}else{var W=b.target==this.tD?-1:1,o=Math.min(_,_+W),y=Math.max(_,_+W),D=x.g.wm(N,o),m=x.g.wm(N,y);
if(D==-1||m==-1)return;var k=m+x.g.rR(N,y),O=J[o];J[o]=J[y];J[y]=O;var L=N.slice(0,D),I=N.slice(D,m),H=N.slice(m,k),Y=N.slice(k);
q.s=L.concat(H.concat(I.concat(Y)));q.k[0]+=W}X.zQ=q;X.P_=J;var n=new Q(K.E.T,!0);n.data={V:K.a.K$,B:this.B,DM:X};
this.X(n)}};function UR(){_W.call(this,["fstyle","sstyle","psnap"])}UR.prototype=new _W;function UF(){_W.call(this,"tmode fstyle sstyle binop cstr crad".split(" "))}UF.prototype=new _W;
function UQ(){_W.call(this,["tmode","fstyle","sstyle","binop","cstr"])}UQ.prototype=new _W;function Ud(){_W.call(this,"tmode fstyle sstyle binop pshape sides irad crad width tsiz length".split(" "));
this.xnU=[["sides","crad"],["sides","irad","crad"],["width","tsiz"],["length"]];this.x_t()}Ud.prototype=new _W;
Ud.prototype.xUu=function(b){return["tmode","fstyle","sstyle","binop","pshape"].concat(this.xnU[b])};
function Ul(){_W.call(this,["tmode","fstyle","sstyle","binop","width"])}Ul.prototype=new _W;function UW(){_W.call(this,"tmode fstyle sstyle binop cstr shape".split(" "))}UW.prototype=new _W;
function Uu(){gQ.call(this)}Uu.prototype=new gQ(!0);function UY(){_P.call(this,["brush","qsmode","redge"])}UY.prototype=new _P;
function UL(){xS.call(this)}UL.prototype=new xS;function UT(){xS.call(this);this.tD=new nl("\u25BC");
this.tD.TU();this.Tu=new nl("\u25B2");this.Tu.TU();var _a=[this.tD,this.Tu];for(var b=0;b<2;b++){var X=_a[b];
this.body.appendChild(X.U);X.l("click",this.Ij,this)}}UT.prototype=new xS;UT.prototype.Ij=function(b){var X=new Q(K.E.T,!0);
X.data={V:K.a.K$,B:this.B,qe:"reorder",dir:b.target==this.tD?-1:1};this.X(X)};function g$(b){xS.call(this);
if(window.Typr==null||b)return;this.$J=null;this.xix=K.m("span","");this.xiH=K.m("span","");var X=1;
this.hJ={Rl:new Uy(null,24),_f:new xP("X",0,0,"px",0,!1,!0,4),_k:new xP("Y",0,0,"px",0,!1,!0,4),jZ:new xP("W",0,0,["%","px"],0,!1,!0,4),Sp:new nl("\u2261",null,[12,51],null),gE:new xP("H",0,0,["%","px"],0,!1,!0,4),xnW:new xP("\u2221",0,0,"\xB0",X,!1,!0),xnu:new xP("\u25B1 X",-85,85,"\xB0",X,!1,!0),xnt:new xP("\u25B1 Y",-85,85,"\xB0",X,!1,!0),Hk:new xU(null,[[12,14,2],[12,14,3],"Bicubic Sharper"])};
this.hJ.Hk.S(1);for(var q in this.hJ){this.xix.appendChild(this.hJ[q].U);var N=this.hJ[q]==this.hJ.Sp?"click":K.E.$;
this.hJ[q].l(N,this.xqb,this)}this.HH=new gA(!0,!0,!0);this.HH.l(K.E.$,this.xqB,this);this.HH.parent=this;
var J=this.xiH,_=this.HH;J.appendChild(_.Yx.U);J.appendChild(_.KB.U);J.appendChild(_.Yd.U);J.appendChild(_.Yt.U);
J.appendChild(_.YG.U);this.hX=new nl([11,9]);this.hX.l("click",this.xqd,this);this.lz=new gP;this.lz.l("click",this.Fj,this)}g$.prototype=new xS;
g$.prototype.Ek=function(b){if(b.pT){var X=g$,q=X.QX;if(q==null)q=X.QX=new Uo(X.xbB(),X.xbR());q.f();
q.parent=this;q.update(b.Hp,b.pe);var N=new Q(K.E.T,!0);N.data={V:K.a.Vj,SU:q,x:b.pT.tz+2,y:b.pT.dH+1};
this.X(N);return}K.Jx(this.body);this.$J=b;if(b.hJ){var J=b.hJ.h,_=b.hJ.sy.clone(),p=Math.atan2(-_.b,_.i),z=new nQ;
z.rotate(-p);_.concat(z);var g=this.hJ;g.Rl.S(b.hJ.Oi);g._f.S(b.hJ.gv.x);g._k.S(b.hJ.gv.y);g.jZ.S(_.i*(g.jZ.WT()=="%"?100:J.n));
g.gE.S(_.Tm*(g.gE.WT()=="%"?100:J.z));g.xnW.S(-p*180/Math.PI);g.xnu.S(0*180/Math.PI);g.xnt.S(Math.atan(_.Yb)*180/Math.PI);
this.body.appendChild(this.xix);this.hX.Gh()}if(b.sN){this.HH.S(b.sN);this.body.appendChild(this.xiH);
this.hX.TU()}this.body.appendChild(this.lz.U);if(b.xQW)this.body.appendChild(this.hX.U)};g$.prototype.xqb=function(b){var X=this.hJ,q=this.$J.hJ.h;
if(b.target==X.Sp)X.Sp.S(!X.Sp.N());if(X.Sp.zF()){var N=X.gE,J=X.jZ,_=q.z,p=q.n;if(b.target==X.jZ){N=X.jZ;
J=X.gE;_=q.n;p=q.z}var z=N.N()/(N.WT()=="%"?100:_);z*=J.WT()=="%"?100:p;J.S(z)}var g=[];for(var W in X)if(X[W]!=X.Sp&&X[W]!=X.Rl){var z=X[W].N();
if((X[W]==X.jZ||X[W]==X.gE)&&z==0){z=.1;X[W].S(z)}if(X[W]==X.jZ&&X[W].WT()=="px")z/=q.n/100;if(X[W]==X.gE&&X[W].WT()=="px")z/=q.z/100;
g.push(z)}var o=new Ue(g[0],g[1]);if(b.target==X.Rl){this.Ly({Be:"ctyp",Oi:X.Rl.N()})}else if(b.target==X._f||b.target==X._k){this.Ly({Be:"cen",gv:o})}else{var y=this.$J.hJ.sy.clone(),D=y.clone(),m=Math.atan2(-y.b,y.i);
D.translate(-o.x,-o.y);D.rotate(-m);var k=new nQ(D.i,D.b,D.Yb,D.Tm,0,0);k.Kn();D.concat(k);D.concat(new nQ(g[2]/100,Math.tan(g[5]*Math.PI/180),Math.tan(g[6]*Math.PI/180),g[3]/100,0,0));
D.rotate(-g[4]*Math.PI/180);D.translate(o.x,o.y);this.$J.hJ.sy=D;this.Ly({Be:"trn",hJ:D,JP:this.hJ.Hk.N()})}};
g$.prototype.xqB=function(b){this.Ly({Be:"wrp",sN:this.HH.N()})};g$.prototype.xqd=function(b){this.Ly({Be:"switchWarp"})};
g$.prototype.Fj=function(b){this.Ly({Be:this.lz.N()?"commit":"cancel"})};g$.prototype.Ly=function(b){b.V=K.a.K$;
b.B=this.B;var X=new Q(K.E.T,!0);X.data=b;this.X(X)};g$.prototype.gI=function(){var b=this.hJ;for(var X in b)b[X].f();
K.GP(b.jZ,b.gE);this.lz.f();this.HH.f();this.hX.f()};g$.xbB=function(){return[{name:[5,9],no:"Shift+Alt+Ctrl + T",xy:!0},{name:[2,9]},{name:[11,9],O:function(b){if(b==null||b.k.length!=1)return{O:!1};
var X=b.F[b.k[0]];return{O:X.add.TySh==null&&!X.zu()}},xy:!0},{name:"90\xB0 \u21BB",O:function(b){return{hR:xA.get([2,5])+" 90\xB0 \u21BB"}}},{name:"90\xB0 \u21BA",O:function(b){return{hR:xA.get([2,5])+" 90\xB0 \u21BA"}}},{name:"180\xB0 ",O:function(b){return{hR:xA.get([2,5])+" 180\xB0"}}},{name:[2,6,[22,4,2]]},{name:[2,6,[22,4,3]]}]};
g$.xbR=function(){return[{v:K.E.e,B:c.dL,R:{V:"again"}},{v:K.E.T,R:{V:K.a.Iq,B:c.dL,Vg:{Ml:1}}},{v:K.E.T,R:{V:K.a.Iq,B:c.dL,Vg:{Ml:2}}},{v:K.E.e,B:c.dL,R:{V:"rot",ds:[2,5],A:-Math.PI/2}},{v:K.E.e,B:c.dL,R:{V:"rot",ds:[2,5],A:-3*Math.PI/2}},{v:K.E.e,B:c.dL,R:{V:"rot",ds:[2,5],A:Math.PI}},{v:K.E.e,B:c.dL,R:{V:"scl",ds:[2,6,[22,4,2]],A:new Ue(-1,1)}},{v:K.E.e,B:c.dL,R:{V:"scl",ds:[2,6,[22,4,3]],A:new Ue(1,-1)}}]};
function UJ(){g$.call(this)}UJ.prototype=new g$(!0);function Uz(){g$.call(this)}Uz.prototype=new g$(!0);
function _z(){na.call(this);this.U=K.m("div","cmanager");this.w$=0;this.ai=0;this.BM=[];this.kv={};this.kL=K.m("div","alertcont");
this.U.appendChild(this.kL);this.xiI=K.m("div","alertcont");this.U.appendChild(this.xiI);this.fd=K.m("div","alertcont");
this.xiX=0;this.fu=-1;this.xiD=null;this.Ub=null;var b=this.xuL=K.m("div","alertpanel");b.setAttribute("style","padding:0.7em 1em 0.1em 1em;");
this.fd.appendChild(b);var X=this.wP=K.m("input");X.setAttribute("type","text");X.setAttribute("style","background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");
X.addEventListener("input",this.xqJ.bind(this),!1);X.addEventListener("keydown",this.xqc.bind(this),!1);
b.appendChild(X);var q=this.xCK=K.m("div","contextpanel scrollable");q.setAttribute("style","text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");
q.addEventListener("click",this.xqf.bind(this),!1);b.appendChild(q);K.mU(document.body,this.xqe.bind(this))}_z.prototype=new na;
_z.prototype.uR=function(){if(K.OH(this.fd))this.U.removeChild(this.fd)};_z.prototype.xqT=function(b,X){var q=this.xiD=[];
for(var N=0;N<_y.data.length;N++){var J=_y.data[N],_=[xA.get(J.name)],p=[N];_z.xKf(J.items,_,p,q,b,X)}var z=xN.nz;
for(var N=0;N<z.length;N+=3){q.push([["Tools",xA.get(z[N])],[-1,z[N+2]]])}this.U.appendChild(this.fd);
var g=this.wP;g.focus();g.select();this.Bd()};_z.prototype.xqJ=function(b){this.fu=-1;this.Bd()};_z.prototype.Bd=function(){var b=this.wP.value.toLowerCase().trim().replace(/  +/g," "),X=this.xiD,q=[],N=[],J=b.split(" ");
if(b!="")for(var _=0;_<X.length;_++){var p=X[_][0],z=[],g=0;for(var W=0;W<p.length;W++)z[W]=-1;for(var o=0;
o<J.length;o++)for(var W=0;W<p.length;W++){var y=p[W].toLowerCase().indexOf(J[o]);if(y!=-1){z[W]=[y,y+J[o].length];
g++;break}}if(g==J.length){q.push(X[_]);N.push(z)}}var D=[],m=this.xCK;K.Jx(m);for(var _=0;_<q.length;
_++){var k=q[_][0],y=N[_],O="enab",I="";if(_==this.fu)O+=" active";var L=K.m("div",O);D.push(L);m.appendChild(L);
for(var W=0;W<k.length;W++){var H=y[W],Y=J[W],n=k[W];if(H!=-1)n=n.slice(0,H[0])+"<span style=\"color:black\">"+n.slice(H[0],H[1])+"</span>"+n.slice(H[1]);
I+=n;if(W<k.length-1)I+=" \uFE65 "}L.innerHTML=I}this.Ub=[q,D]};_z.prototype.xqc=function(b){var X=S.In,q=b.code;
if(X(q,S.pj))this.uR();var N=X(q,S.n_),J=X(q,S.nq),_=X(q,S.jV);if(N||J){this.fu=Math.max(0,Math.min(this.Ub[0].length-1,this.fu+(N?-1:1)));
this.Bd()}if(_&&this.fu!=-1)this.xSm(this.fu)};_z.xKf=function(b,X,q,N,J,_){for(var p=0;p<b.length;p++){var z=b[p],g=X.slice(0),W=q.slice(0),o=xA.get(z.name);
if(z.O){var y=z.O(J,_,p);if(y.hR)o=y.hR;if(y.O==!1)continue}g.push(o);W.push(p);if(z.sub)_z.xKf(z.sub,g,W,N,J,_);
else N.push([g,W])}};_z.prototype.xqf=function(b){var X=b.target;if(X.tagName.toLowerCase()=="span")X=X.parentNode;
var q=this.Ub[1].indexOf(X);if(q!=-1)this.xSm(q)};_z.prototype.xSm=function(b){var X=this.Ub[0][b][1];
if(X[0]==-1){var q=new Q(K.E.T,!0);q.data={V:K.a.Iq,B:X[1]};this.X(q)}else{var N=_y.data[X[0]].gL[X[1]];
for(var J=2;J<X.length;J++)N=N.sub[X[J]];var _=new Q(N.v,!0);_.B=N.B;_.data=N.R;this.X(_)}this.uR()};
_z.prototype.Gq=function(b,X){this.w$=b;this.ai=X;this.xCK.style["max-height"]=X-120+"px"};_z.prototype.xqm=function(b){var X=K.m("div","alertpanel");
X.textContent=xA.get(b);this.kL.appendChild(X);this.kv[JSON.stringify(b)]=X};_z.prototype.xq$=function(b){var X=this.kv[JSON.stringify(b)];
this.kL.removeChild(X);delete this.kv[JSON.stringify(b)]};_z.prototype.alert=function(b,X){var q=this.xiI;
for(var N=0;N<q.children.length;N++)if(q.children[N].textContent==b)return;var J=K.m("div","alertpanel tpanel");
J.textContent=b;J.setAttribute("style","opacity:0.5; transform:scale(0.9)\t");q.appendChild(J);if(X==null)X=1500;
var _=X,p=Math.max(Date.now()+_,this.xiX+_);setTimeout(function(){J.setAttribute("style","transform:scale(1); opacity:1;")},10);
setTimeout(function(){q.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")},p-Date.now()-30);
setTimeout(function(){q.removeChild(q.firstChild);q.setAttribute("style","transition: transform 0.7s;  margin-top: 1em;  transform: translateY(0em);")},p-Date.now());
this.xiX=p};_z.prototype.xqe=function(b){var X=this.BM;for(var q=X.length-1;q>=0;q--){var N=X[q],J=b.target;
while(J!=null){if(J==N.U){this.Bo(N);return}J=J.parentNode}}this.Bo();var _=b.target;while(_!=this.fd&&_!=document.body)_=_.parentNode;
if(_!=this.fd)this.uR()};_z.prototype.Bo=function(b){var X=this.BM;for(var q=0;q<X.length;q++){if(b&&b.xHC(X[q]))continue;
var N=X[q].U;N.style.height="auto";K.YQ(N,"scrollable");this.U.removeChild(N);X.splice(q,1);q--}};_z.prototype.xhx=function(b){this.Bo(b.SU);
var X=b.SU,q=X.U;if(this.BM.indexOf(X)!=-1)return;this.BM.push(X);this.U.appendChild(X.U);var N=this.w$,J=this.ai,_=b.x,p=b.y,z=this.U.getBoundingClientRect(),g=X instanceof Uo;
if(g||b.xPP){var W=X.CV(),o=X.xKt();if(g)W=Math.min(W,200);if(p+o<J){_=Math.min(_,N-W-5)}else{if(_+W<N){p=Math.min(p,J-o-5)}else if(o<p){p=p-o-2;
_=Math.min(_,N-W-5)}else{_=_-W;p=Math.min(p,J-o-5)}}if(b.xpY)p=Math.max(2,b.y-o-2);if(b.xnZ)p=b.y}p=Math.max(2,p);
var top=Math.round(p-z.y+this.U.offsetTop);q.style.position="absolute";q.style["z-index"]=10;q.style.left=Math.round(_)+"px";
q.style.top=top+"px";if(p+X.xKt()>J-3){q.style.height=J-3-p+"px";K.Dv(q,"scrollable")}};_z.prototype.xrj=function(b){var X=b.SU,q=this.BM.indexOf(X);
if(q==-1)return;this.BM.splice(q,1);var N=X.U;this.U.removeChild(X.U)};_z.prototype.Td=function(){var b=this.BM;
return b.length==0?null:b[b.length-1]};_z.prototype.xhU=function(){this.xrj({SU:this.Td()})};function UN(){na.call(this);
this.U=K.m("div","confbar")}UN.prototype=new na;UN.prototype.xhS=function(b){b.parent=this;K.Jx(this.U);
this.U.appendChild(b.U)};function _K(){na.call(this);this.Ka=null;this.By=K.m("input","");this.By.setAttribute("type","file");
this.By.setAttribute("multiple","");this.By.addEventListener("change",function(b){this.Yh(b.target.files,null,this.kt,null);
this.kt=null}.bind(this),!1);document.body.appendChild(this.By);this.By.setAttribute("style","display:none");
this.xCI=[];this.kI=!1;this.xCc={};this.kt=null}_K.prototype=new na;_K.xhr=function(b){try{navigator.clipboard.write([new ClipboardItem(Object.defineProperty({},b.type,{value:b,enumerable:!0}))])}catch(gi){console.error(gi,gi.message)}};
_K.uQ=function(b,X){try{navigator.clipboard.read().then(function(q){for(var N=0;N<q.length;N++){try{var J=q[N];
for(var _=0;_<J.types.length;_++){var p=J.types[_];if(p!="image/png")continue;J.getType(p).then(function(z){new Response(z).arrayBuffer().then(function(g){_K.Le({name:"image.png"},g,b,X)})})}}catch(gi){console.error(gi,gi.message)}}})}catch(gi){console.error(gi,gi.message)}};
_K.xhF=function(b){navigator.permissions.query({name:"clipboard-read"}).then(function(X){b(X.state)})};
_K.prototype.Yn=function(b){if(b==null)b=[23,5];var X=JSON.stringify(b),q=this.xCc;if(q[X]==null)q[X]=0;
if(q[X]==0){var N=new Q(K.E.T,!0);N.data={V:K.a.Ct,Wf:b};this.X(N)}q[X]++};_K.prototype.Y_=function(b){if(b==null)b=[23,5];
var X=JSON.stringify(b),q=this.xCc;if(q[X]==null)q[X]=0;q[X]--;if(q[X]==0){var N=new Q(K.E.T,!0);N.data={V:K.a.CJ,Wf:b};
this.X(N)}};_K.prototype.xhW=function(b,X){var q=this.By;if(X)q.setAttribute("accept",X);else q.removeAttribute("accept");
var N=document.createEvent("MouseEvents");N.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
q.dispatchEvent(N);this.kt=b};_K.prototype.B$=function(b){this.xCI.push(b);this.xBb()};_K.prototype.xBb=function(){var b=this.xCI;
if(b.length==0||this.kI)return;this.kI=!0;var X=b.shift();this.Yn();if(X.RW==null)X.RW={};var q=new XMLHttpRequest;
q.nK=X;var N=X.url;if(X.ym)N="mirror.php?url="+encodeURIComponent(N);q.open("GET",N);q.responseType="arraybuffer";
q.onload=this.xha.bind(this);q.send()};_K.prototype.Yh=function(b,X,q,N){for(var J=0;J<b.length;J++){this.Yn();
var _=b[J],p=new FileReader;p.nK=_;p.nK.Qz=q;p.nK.if=N;p.x_R=X;p.onload=this.xha.bind(this);p.onerror=function(z){this.Y_()}.bind(this);
p.readAsArrayBuffer(_)}this.By.value=null};_K.prototype.xhf=function(b){var X=b.ul.fZ,q=_K.co(b,X);_s.kF(function(){var N=new XMLHttpRequest,J="https://www.googleapis.com/upload/drive/v3/files/"+b.ul.file.id+"?uploadType=media"+"&"+_s._s();
N.open("PATCH",J,!0);N.addEventListener("load",function(_){var p=JSON.parse(_.target.response);alert(p.name+" updated")});
N.send(q);alert("Saving \""+b.ul.file.name+"\" to Google Drive ...")})};_K.prototype.xhm=function(b,X,q){var N=b.US(),J=X[0],_=_K.co(b,J,q);
if(window.parent!=window)window.parent.postMessage(_,"*")};_K.prototype.xhk=function(b,X){this.Yn("Saving ...");
this.Ka=X;setTimeout(_K.xHx.bind({lk:b,caller:this}),50)};_K.co=function(b,X,q){var N=X.split(":"),J=N[0],_=null;
if(N.length==2){if(J=="jpg"||J=="webp")_=[Math.round(100*parseFloat(N[1]))];if(J=="psd")_=[!0,!0]}var p=nr.kz(b,J.toUpperCase(),null,null,_,q);
return p};_K.xHx=function(){var b=this.lk,X=this.caller,q=b.RW.dA,N=q.formats,J,_;b.US();var p=Date.now();
if(q.version==1){var z=[],g=0,y=0;for(var W=0;W<N.length;W++){var o=_K.co(b,N[W],X.Ka);z.push(o);g+=o.byteLength}J=new Uint8Array(2e3+g);
var D="{ \"source\": "+JSON.stringify(b.Wy)+", \"versions\": [\n";for(var W=0;W<N.length;W++){var m=new Uint8Array(z[W]);
D+="\t{\"format\": \""+N[W].split(":")[0]+"\", \"start\": "+y+", \"size\": "+m.length+" }"+(W+1<N.length?", ":"")+"\n";
J.set(m,2e3+y);y+=z[W].byteLength}D+="] }";var k=e.MI(D,J,0);for(var W=k;W<2e3;W++)J[W]=32;_="application/octet-stream"}else{var O=new _e,L=0,I="",H=encodeURIComponent;
I="p="+H("{ \"source\": "+JSON.stringify(b.Wy)+", \"versions\": [");e.Ya(O,L,I);L+=I.length;for(var W=0;
W<N.length;W++){I=H(" {\"format\": \""+N[W].split(":")[0]+"\", \"data\": \"");e.Ya(O,L,I);L+=I.length;
var o=_K.co(b,N[W],X.Ka),Y=_K.xHS(o,o.byteLength),k=Y.length;O.Sd(L,k);for(var n=0;n<k;n++){O.Sd(L,3);
var w=Y[n];if(w==43){O.data[L]=37;O.data[L+1]=50;O.data[L+2]=66;L+=3}else if(w==47){O.data[L]=37;O.data[L+1]=50;
O.data[L+2]=70;L+=3}else if(w==61){O.data[L]=37;O.data[L+1]=51;O.data[L+2]=68;L+=3}else{O.data[L]=w;
L++}}I=H("\" }"+(W+1<N.length?", ":""));e.Ya(O,L,I);L+=I.length}I=H("] }");e.Ya(O,L,I);L+=I.length;J=O.data.slice(0,L);
_="application/x-www-form-urlencoded"}var t=new XMLHttpRequest;t.open("POST",q.url,!0);if(_)t.setRequestHeader("Content-Type",_);
t.addEventListener("load",_K.xHK.bind(this));t.send(new Blob([J.buffer]))};_K.xHK=function(b){this.caller.Y_("Saving ...");
var X=b.target.response;if(X.charAt(0)=="{"){X=JSON.parse(X);if(X.newSource)this.lk.Wy=X.newSource;if(X.message)alert(X.message,2e3);
if(X.script){var q=new Q(K.E.T,!0);q.data={V:K.a.eP,Ig:X.script};this.caller.X(q)}}else alert("Saved. Response: "+X,1500)};
_K.YR=function(b){var X="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",q=new Uint8Array(b),N=q.length,J=N%3,_=N-J,p=[],z=0,g=0,W=0;
for(var o=0;o<_;o+=3){z=q[o];g=q[o+1];W=q[o+2];p.push(X[z>>2]+X[(z&3)<<4|g>>4]+X[(g&15)<<2|W>>6]+X[W&63])}if(J==1){z=q[_];
p.push(X[z>>2]+X[(z&3)<<4]+"==")}if(J==2){z=q[_];g=q[_+1];p.push(X[z>>2]+X[(z&3)<<4|g>>4]+X[(g&15)<<2]+"=")}var y=p.join("");
return y};_K.xHS=function(b,X){var q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",N=new Uint8Array(64),g=0,W=0,o=0,D=0;
for(var J=0;J<64;J++)N[J]=q.charCodeAt(J);var _=new Uint8Array(b),p=X%3,z=X-p,y=new Uint8Array(Math.floor(X/3)*4+(p==0?0:4));
for(var J=0;J<z;J+=3){g=_[J];W=_[J+1];o=_[J+2];y[D]=N[g>>>2];y[D+1]=N[(g&3)<<4|W>>>4];y[D+2]=N[(W&15)<<2|o>>>6];
y[D+3]=N[o&63];D+=4}if(p==1){g=_[z];y[D]=N[g>>2];y[D+1]=N[(g&3)<<4];y[D+2]=61;y[D+3]=61}if(p==2){g=_[z];
W=_[z+1];y[D]=N[g>>2];y[D+1]=N[(g&3)<<4|W>>4];y[D+2]=N[(W&15)<<2];y[D+3]=61}return y};_K.prototype.xha=function(b){var X,q=b.target.nK;
if(b.target instanceof XMLHttpRequest)X=b.target.response;else X=b.target.result;_K.xEX(q,X,this,b.target.x_R);
this.Y_();if(b.target instanceof XMLHttpRequest){this.kI=!1;this.xBb()}};_K.xEX=function(b,X,q,N){if(window.location.href.indexOf("photopea.com")==-1)_K.Le(b,X,q,N);
else{try{_K.Le(b,X,q,N)}catch(gi){if(gi=="low_ram"){}else{var J="Error. Please, send your file to support@photopea.com and we will solve it.";
if(nr.xw(X)=="eps")J="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
window.xx$(J,1e4)}}}};_K.Le=function(b,X,q,N){var J;if(b.name)J=b.name.split(".")[0];else{if(b.url.substring(0,5)=="data:"||b.url.indexOf("googleapis")!=-1)J="image";
else J=b.url.substring(b.url.lastIndexOf("/")+1).split(".")[0];J=J.slice(0,50)}var _=b.name?b.name:b.url,p=new Uint8Array(X),z=nr.xw(X),g=window.ga;
if(g&&z!=null&&nr.aC(z))g("send","event","Formats",z);if(z==null)z=e.uT(p,0,4);if(_&&_.toLowerCase().endsWith(".raw")){var W=new Q(K.E.T,!0);
W.data={V:K.a.Ko,zE:"importraw",gK:X,zK:_.split("/").pop()};q.X(W);return}else if(z=="json"){var o="";
for(var y=0;y<p.length;y++)o+=String.fromCharCode(p[y]);o=decodeURIComponent(escape(o));alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(JSON.parse(o));return}if(z=="html"){var o=e.Re(p,0,p.length),D=new DOMParser,m=D.parseFromString(o,"text/html"),k=m.getElementsByTagName("meta");
for(var y=0;y<k.length;y++){var O=k[y],L=O.getAttribute("property"),I=O.getAttribute("content"),H=null;
if(L=="og:image")H=I;if(L==null&&I&&I.startsWith("0;url=/imgres?")){var Y=I.slice(14).split("&");for(var n=0;
n<Y.length;n++)if(Y[n].startsWith("imgurl"))H=decodeURIComponent(Y[n].slice(7))}if(H==null)continue;
var W=new Q(K.E.T,!0);W.data={V:K.a.Gx,Zy:{url:H,ym:!0,Qz:b.Qz}};q.X(W)}return}if(nr.aC(z)){var w,t=nr.aC(z);
if(b.Qz!=null&&"jpg png gif pdf svg psd".split(" ").indexOf(z)!=-1){var W=new Q(K.E.T,!0);W.data={V:K.a.GX,target:b.Qz,np:b.if,kM:X,zl:J};
q.X(W);return}if(t.ws){w=new nj(J+(z=="psd"?"":"-"+z)+".psd");t.vu(X,w,!0)}else{var j=t.vu(X);if(j[0].t33421||j[0].t50706){x.raw.normalize(j[0],X);
console.log(j[0]);var W=new Q(K.E.T,!0);W.data={V:K.a.Ko,zE:"rawpea",uC:j[0]};q.X(W);return}if(N){N(new Uint8Array(j[0].data),j[0]._z);
return}w=_K.qp(J,j)}w.RW=b.RW;w.Wy=b.url;w.uF=b.uF;w.ul=b.ul;if(w.ul)w.ul.fZ=z;if(w.F.length!=0){var W=new Q(K.E.T,!0);
W.data={V:b.Qz==null?K.a.QK:K.a.GX,target:b.Qz,np:b.if,kM:w};q.X(W)}return}var E=new Q(K.E.T,!0);E.data={V:K.a.CG,gK:X,TC:b.name};
var h=b instanceof File&&b.xvS!=!0,W=new Q(K.E.T,!0);W.data={V:K.a.dX,RW:"add",Zy:null,gR:null,xvP:b.xvS};
if(z=="zip"){var u=Date.now(),Z=UZIP.parse(X),A="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var P in Z){var T=!1;for(var y=0;y<A.length;y++)if(P.toLowerCase().endsWith("."+A[y]))T=!0;if(P.startsWith("__MACOSX/")||Z[P].length==0)T=!0;
if(T)continue;var U=P.split("/").pop();_K.xEX({name:U},Z[P].buffer,q,N)}}else if(z=="jsx"){var o=e.Re(new Uint8Array(X));
W.data={V:K.a.eP,Ig:o};q.X(W)}else if(z=="otf"){if(h)q.X(E);var r=Typr.parse(X);W.data.Zy=n_.Gn;for(var y=0;
y<r.length;y++){W.data.gR=r[y];q.X(W)}}else if(z=="asl"){if(h)q.X(E);var r=Kz.UU(X);W.data.Zy=n_.DS;
W.data.gR=r.mL;q.X(W);W.data.Zy=n_.wg;W.data.gR=r.lT;q.X(W)}else if(z=="tpl"){var r=KX.UU(X);W.data.Zy=n_.lZ;
W.data.gR={Ho:r.Ho,Oh:r.Oh,list:[]};q.X(W);W.data.Zy=n_.jD;W.data.gR=r.list;q.X(W)}else{var i="";for(var V in n_.Ro)if(n_.Ro[V][0]==z)i=V;
if(i!=""){if(h)q.X(E);W.data.gR=n_.Ro[i][2].UU(X,_);W.data.Zy=i;q.X(W)}else alert("Unknown file format: "+JSON.stringify(z))}};
_K.prototype.xHr=function(b){var X=new XMLHttpRequest;X.open("POST","https://api.imgur.com/3/image",!0);
X.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219");X.setRequestHeader("Content-type","application/x-www-form-urlencoded");
X.setRequestHeader("Accept","application/json");X.addEventListener("load",this.xHE);X.send("type=base64&image="+encodeURIComponent(_K.YR(b)));
alert("Saving to Imgur ...",4e3)};_K.prototype.xHE=function(b){var X=JSON.parse(b.target.response);if(X.success)window.open(X.data.link,"Imgur")};
_K.qp=function(b,X){var q=X[0].cn&&X[0].cn.startsWith("_a_"),N,J=new nj(b+".psd"),_=new R(0,0,1,1);if(q){N=J.rY();
N.add.lsct=_b.iS;N.fT(b);N.nB="pass";N.aA=24;N.HC(!0);J.F.push(J.lJ())}for(var p=0;p<X.length;p++){var z=X[p];
_=_.Tg(z._z);var g=J.rY();g.HC(p==0);g.fT(X.length==1?"Background":"Layer "+p);if(z.Dg)J.Dg=z.Dg;if(z.Te)J.Te=z.Te;
if(z.cn)g.fT(z.cn);g.rect=z._z.clone();g.buffer=new Uint8Array(z.data);x.Wp(g);J.F.push(g)}if(q)J.F.push(N);
J.k=[q?J.F.length-1:0];J.n=_.n;J.z=_.z;J.buffer=x.K(_.c()*4);J.Y();return J};_K.save=function(b,X){var q=new Uint8Array(b),N=document.createElement("a");
if(typeof N.download=="string"){var J=new Blob([q]),_=window.URL.createObjectURL(J);N.href=_;N.download=X;
document.body.appendChild(N);N.click();document.body.removeChild(N)}else{var p="data:application/octet-stream;base64,"+_K.YR(b);
window.open(p)}};function _e(){this.size=16;this.data=x.K(16)}_e.prototype.Sd=function(b,X){if(b+X<=this.size)return;
var q=this.size;while(b+X>this.size)this.size*=2;var N=x.K(this.size);for(var J=0;J<q;J++)N[J]=this.data[J];
this.data=N};function _E(b){na.call(this);this.cV=_E.cV++;this.nS=b;this.x_d=this.xHM.bind(this);this.xvI=this.xHz.bind(this);
this.x_l=this.qr.bind(this);this.x_W=this.xHD.bind(this);this.xRp=this.xHG.bind(this);this.x_u=this.xHo.bind(this);
this.d_=0;this.xRM=0;this.fc=0;this.U=K.m("div","panelblock");this.qb=K.m("div","block");this.nr=K.m("div","collapsed");
this.U.appendChild(this.qb);this.Ru=-1;this.dK=!0;this.Ba=K.m("div","panelhead");this.qb.appendChild(this.Ba);
this.Yl(this.Ba);this.kJ=new nl("\u2261");this.kJ.U.setAttribute("style","position:absolute; right:0;");
this.kJ.l("click",this.xHP,this);this.HP=K.m("div","");this.qb.appendChild(this.HP);this.pS=[];this.nh=null;
this.dq=null}_E.cV=0;_E.prototype=new na;_E.prototype.xHP=function(b){var X=this.pS[this.Ru].dc(),q=b.currentTarget.U.getBoundingClientRect();
X.f();X.parent=this;var N=new Q(K.E.T,!0);N.data={V:K.a.Vj,SU:X,x:q.left,y:q.top+q.height+2};this.X(N)};
_E.prototype.qU=function(b){var X=this.qb,q=this.Ba,N=this.HP;if(K.OH(q))X.removeChild(q);if(K.OH(N))X.removeChild(N);
if(b==0)X.appendChild(q);X.appendChild(N);this.fc=b};_E.FL=function(b){b.stopPropagation();b.preventDefault()};
_E.prototype.xHM=function(b){var X=b.dataTransfer.types;if(X[1]!=null&&X[1]!=this.cV+"")return;_E.FL(b);
var q=b.currentTarget;if(b.target==q)K.Dv(q,"highlight")};_E.prototype.xHz=function(b){_E.FL(b);var X=b.currentTarget;
if(b.target==X)K.YQ(X,"highlight")};_E.prototype.Yl=function(b){b.addEventListener("dragenter",this.x_d,!1);
b.addEventListener("dragleave",this.xvI,!1);b.addEventListener("dragover",_E.FL,!1);b.addEventListener("drop",this.x_l,!1);
b.addEventListener("dragstart",function(X){X.dataTransfer.setData("Text","--panel");X.dataTransfer.setData(this.cV+"","")}.bind(this),!1)};
_E.prototype.qr=function(b){this.xvI(b);var X=null,q=b.currentTarget,N=this.xax(q);if(q==this.HP&&this.Ru!=-1)X=this.Ru;
else if(q==this.Ba)X=null;else if(N!=-1)X=N;var J=b.dataTransfer.getData("Text");if(J==""||J.startsWith("http"))K.xbC(b,this,X);
else if(J=="--panel"){var _=K.HW(b,q),_a=this.pS,p=_a.slice(0),z=this.Ru,g=N==-1?_a.length:_.x<q.getBoundingClientRect().width/2?N:N+1;
if(z==g||z+1==g||q==this.HP)return;var W=z<g?g-1:g,o=_a[z];_a.splice(z,1);_a.splice(W,0,o);K.Jx(this.Ba);
for(var y=0;y<_a.length;y++)this.Ba.appendChild(_a[y].mF);this.wX(W);var D=[];for(var z=0;z<_a.length;
z++)D[z]=p.indexOf(_a[z]);var m=new Q("shuffleItems",!1);m.data={x_Y:D};this.X(m)}else if(X!=null&&this instanceof gk){var m=new Q(K.E.T,!0);
m.data={V:K.a.xxJ,x_I:X};this.X(m)}};_E.prototype.YW=function(){return null};_E.prototype.xwT=function(){if(this.YW()){this.dq=this.YW();
this.HP.appendChild(this.dq)}};_E.prototype.xHX=function(){if(this.dq){this.HP.removeChild(this.dq);
this.dq=null}};_E.prototype.xax=function(b){var X=this.pS;for(var q=0;q<X.length;q++)if(X[q].mF==b)return q;
return-1};_E.prototype.YJ=function(){for(var b=0;b<this.pS.length;b++)this.pS[b].Id.Gh()};_E.prototype.cA=function(){var b=new Ue(0,0);
for(var X=0;X<this.pS.length;X++){var q=this.pS[X].cA();b.x=Math.max(b.x,q.x);b.y=Math.max(b.y,q.y)}return b};
_E.prototype.qh=function(){return this.Ru};_E.prototype.ts=function(){if(this.dK)return;this.dK=!0;this.U.removeChild(this.nr);
this.U.appendChild(this.qb)};_E.prototype.collapse=function(){if(!this.dK)return;this.dK=!1;this.U.appendChild(this.nr);
this.U.removeChild(this.qb)};_E.prototype.xHN=function(){return 26+this.HP.getBoundingClientRect().height};
_E.prototype.Gq=function(b,X){this.Ba.setAttribute("style","max-width: "+b+"px");var q=0;if(this.fc==0){q=this.Ba.getBoundingClientRect().height;
q=Math.max(q,26)}if(this.Ru!=-1)this.pS[this.Ru].Gq(b,X-q);return X-q};_E.prototype.TY=function(b,X){this.pS[this.Ru].TY(b,X)};
_E.prototype.Fr=function(b,X){this.pS[this.Ru].Fr(b)};_E.prototype.qP=function(b){this.xHX();if(this.pS.indexOf(b)!=-1){this.wX(this.pS.indexOf(b));
return}b.parent=this;this.pS.push(b);this.Ba.appendChild(b.mF);b.mF.addEventListener("mouseover",this.x_W,!1);
this.Yl(b.mF);this.nr.appendChild(b.Id.U);b.Id.l("click",this.xPX,this);b.l("select",this.xaj,this);
b.l(K.E.eh,this.xPq,this);this.wX(this.pS.length-1)};_E.prototype.xHD=function(b){if(b.buttons==0)return;
var X=b.currentTarget,q=X,N=0;while((q=q.previousSibling)!=null)N++;this.xRM=N;X.addEventListener("mouseout",this.xRp,!1);
this.d_=setTimeout(this.x_u,700)};_E.prototype.xHG=function(b){var X=b.currentTarget,q=X,N=0;while((q=q.previousSibling)!=null)N++;
X.removeEventListener("mouseout",this.xRp);clearTimeout(this.d_)};_E.prototype.xHo=function(b){this.X(new Q(K.E.xKg,!1))};
_E.prototype.xHc=function(b){return this.xRM};_E.prototype.qC=function(b){var X=new Q(K.E.eh,!1);X.data={fH:b};
this.X(X);var q=this.pS[b];this.pS.splice(b,1);this.Ba.removeChild(q.mF);this.nr.removeChild(q.Id.U);
q.mF.setAttribute("class","");q.Id.removeEventListener("click",this.xPX,this);q.Id.Gh();q.removeEventListener("activate",this.xaj);
q.removeEventListener(K.E.eh,this.xPq);var N=this.Ru;if(b<N)N--;else if(b==N&&b==this.pS.length)N--;
this.wX(N);if(this.pS.length==0)this.xwT()};_E.prototype.xHf=function(){return this.pS.length};_E.prototype.de=function(){if(this.pS.length!=0)this.pS[this.Ru].de()};
_E.prototype.wX=function(b,X){if(X==null)X=!0;for(var q=0;q<this.pS.length;q++)this.pS[q].mF.setAttribute("class","");
if(this.nh)this.HP.removeChild(this.nh);this.nh=null;this.Ru=b;if(b==-1)return;var N=this.pS[this.Ru];
this.nh=N.Wt;this.HP.appendChild(N.Wt);N.mF.setAttribute("class","active");if(!this.dK){this.X(new Q("showFloat"));
this.pS[b].Id.TU()}if(X)this.X(new Q(K.E.$,!1));N.aY();var J=this.kJ.U;if(J.parentNode)this.Ba.removeChild(J);
if(N.dc())this.Ba.appendChild(J);var _=new Q(K.E.T,!0);_.data={V:K.a.SO};this.X(_)};_E.prototype.xaj=function(b){if(this.nS&&!this.nS.xAw())return;
var X=this.pS.indexOf(b.currentTarget);this.wX(X)};_E.prototype.xPq=function(b){if(this.nS&&!this.nS.xAw())return;
var X=this.pS.indexOf(b.currentTarget);this.qC(X)};_E.prototype.xPX=function(b){var X=this.pS.indexOf(b.currentTarget.parent);
if(this.pS[X].Id.zF())this.X(new Q("hideFloat"));else this.wX(X)};_E.prototype.xIp=function(b){this.X(b)};
function gk(b){_E.call(this,b);this.w$=0;this.ai=0;this.dh=null;this.dw=K.m("div");this.dw[K.eB("$y+[145/+AC7")](K.eB("$(0&\""),K.eB("(}{.%ZZXa<GmUE<PHMU$~ cny]tvt(;.r)+)X"));
K.Lx(this.Ba,this.xHs.bind(this));this.nE=0;this.xRt=this.xEU.bind(this);this.Yl(this.HP);this.HF=K.m("div","intro");
this.qF=["default;"];this.Zc=new K.GH(this.HP);var X=K.m("ul");X.setAttribute("style","margin:0;  padding:164px 0px 0 113px; font-size:1.8em;");
this.HF.appendChild(X);this.aq=[];var q=[[11,7],[1,6],"pea.psd","milk.sketch"],N=K.m("li");for(var J=0;
J<q.length;J++){if(J==2){var _=new nl("Demo: ");N.appendChild(_.U)}var p=q[J],z=new nl(p);z.l("click",this.xHe,this);
N.appendChild(z.U);this.aq.push(z);if(J==0||J==1||J==3||J==q.length-1){X.appendChild(N);N=K.m("li")}}var g=K.m("div");
g.setAttribute("style","margin:0;  padding:28px 25px 0 25px; font-size:1.1em");this.HF.appendChild(g);
this.xYE={};var W=["en"],o=navigator.languages;if(o)for(var J=0;J<o.length;J++){var y=o[J].split("-")[0].toLowerCase();
if(W.indexOf(y)==-1)W.push(y)}}gk.prototype=new _E;gk.prototype.xHs=function(b){if(b.target!=this.Ba)return;
var X=this.nE;this.nE=Date.now();if(Date.now()-X>300)return;var q=new Q(K.E.T,!0);q.data={V:K.a.Ko,zE:"newproject"};
this.X(q)};gk.prototype.xFL=function(b){var X=b.currentTarget,q;if(X.xFA!=null){var N=xA.VV(X.xFA);if(N!=-1)q={V:K.a.dX,Zy:n_.Ng,lang:N};
else q={V:K.a.WI,link:"https://www.photopea.com/translate?lang="+X.xFA}}else q={V:K.a.dX,Zy:n_.Uk,LU:X.xYa};
var J=new Q(K.E.T,!0);J.data=q;this.X(J)};gk.prototype.rO=function(b,X){if(X)this.qF.push(b);else{var q=this.qF.length-1;
if(this.qF[q]==b)return;this.qF[q]=b}this.WK()};gk.prototype.xHy=function(){this.qF.pop();this.WK()};
gk.prototype.WK=function(){var b=this.qF[this.qF.length-1];this.Zc.Fr(b,this.bn)};gk.prototype.xHe=function(b){var X=this.aq.indexOf(b.target),q=new Q(K.E.T,!0);
if(X==0)q.data={V:K.a.Ko,zE:"newproject"};if(X==1)q.data={V:K.a.Zw};if(X>1)q.data={V:K.a.Gx,Zy:{url:["images/pea.psd","images/milk.sketch"][X-2]}};
this.X(q)};gk.prototype.f=function(){for(var b=0;b<this.aq.length;b++)this.aq[b].f()};gk.prototype.Fr=function(b,X){for(var q=0;
q<X.length;q++){var N=X[q];this.pS[q].tk(N.name+(N.jj()?" *":""))}_E.prototype.Fr.call(this,b,X)};gk.prototype.xHZ=function(b){this.U.appendChild(this.dw);
var X=b[0],q=b[1],N=b[2];this.dh=X;this.dw[N](X);X[N](q);this.Gq(this.w$,this.ai)};gk.prototype.xEg=function(){if(this.dh){this.U.removeChild(this.dw);
this.dw.removeChild(this.dh);this.dh=null;this.Gq(this.w$,this.ai)}};gk.prototype.YW=function(){return this.HF};
gk.prototype.Gq=function(b,X){this.w$=b;this.ai=X;if(this.dh!=null)X-=100;X=_E.prototype.Gq.call(this,b,X);
this.bn="height:"+X+"px; width:"+b+"px; overflow:hidden; position:relative;";this.WK();var q=512,N=410,J=1,_="";
if(b<q||X<N){if(b/q<X/N)J=b/q;else J=X/N}_+="background-image:url("+PIMG.intro+"); background-size: "+q+"px "+N+"px;";
_+="position:relative; top:"+Math.round((X-N)/2)+"px;  left: "+Math.round((b-q)/2)+"px; width:"+q+"px; height:"+N+"px;";
if(J!=1)_+="transform: scale("+J+","+J+");";if(this.HF)this.HF.setAttribute("style",_)};gk.prototype.qP=function(b){_E.prototype.qP.call(this,b);
K.Lx(b.mF,this.xRt)};gk.prototype.qC=function(b){var X=this.pS[b];K.d$(X.mF,this.xRt);_E.prototype.qC.call(this,b)};
gk.prototype.xEU=function(b){var X=this.nE;this.nE=Date.now();if(Date.now()-X>300)return;var q=this.xax(b.currentTarget),N=this.pS[q].kM.name,J=new Q(K.E.T,!0),_={v:K.E.e,B:c.iz,R:{V:M._O}};
J.data={V:K.a.Ko,zE:"namewindow",Yg:N.slice(0,N.length-4),xwI:_};this.X(J)};function _g(){na.call(this);
bM.xnS(1);this.U=K.m("div","flexrow photopea");this.kO=K.m("div");this.U.appendChild(this.kO);this.pD={x:0,y:0,je:!1};
this.kh=!1;this.nF=!1;this.kD=null;this.xFX=0;this.xFf=0;this.fc=0;this.x_T=!1;if(K.Lm(27))K.TX=window;
else K.TX=this.U;setTimeout(function(){var Y=window.hideCap;if(Y)Y()},25e3);window.xx$=window.alert;
window.alert=function(Y,n){this.wE.alert(Y,n);console.log("Alert: "+Y)}.bind(this);window.onmessage=function(Y){if(Y.data instanceof ArrayBuffer){var n=nr.xw(Y.data),w=nr.aC(n);
_K.Le({url:"file"},Y.data,this);if(w==null)this.qd()}else if(Y.data instanceof Object||Y.data.startsWith("{")||Y.data.startsWith("amp-")||Y.data.startsWith("0=goog")||Y.data.startsWith("3PCoo")){}else{var t=new Q(K.E.T,!0);
t.data={V:K.a.eP,Ig:Y.data};this.X(t);this.qd()}}.bind(this);window.onbeforeunload=function(Y){for(var J=0;
J<this.Ti.length;J++)if(this.Ti[J].jj())return this.Ti[J].name}.bind(this);window.onblur=function(Y){var n=this.wE;
n.Bo()}.bind(this);var b=this,g="",W="";if(window.indexedDB&&(!go.la()||document.hasStorageAccess==null)){var X={Sd:window.indexedDB.open("pp",1)};
X.Sd.onupgradeneeded=function(Y){var n=Y.target.result,w=n.createObjectStore("rsrc",{keyPath:"k"})};
X.Sd.onsuccess=function(Y){var n=b.Sa.tI.Ge=Y.target.result,w=n.transaction(["rsrc"],"readwrite").objectStore("rsrc"),t=w.get("fs0");
t.onsuccess=function(Y){if(Y.target.result){var j=b.Sa.tI.rd=Y.target.result.fset;for(var E in j){if(!E.endsWith(".jsx"))_K.Le({url:E,xvS:!0},j[E],b)}}}}}var q=["rksyuzpxz8y|px|v@u\x80\x84}\x8A\x88\x88\x8EI\x7F\x8C\x8B"],N=K.TX[K.GA("YcVg^U]b",11)][K.GA("oaa_kj\\h",3)];
for(var J=0;J<q.length;J++){var _=K.QE(q[J],2);if(N.indexOf(_)!=-1){var p=K.TX[K.QE("hti|unx\x7F",4)][K.QE("esi\x7F",3)],z=K.Gd("M|H:15=3/iQ6EEKQ{\\PTbV/Y[`kjxx\"}vOz( %0b1=?HcMFZH zy#Wby9Sti'~uu3{}&428H-Cm7Ji{X[^w=Xbjhldc3kz{MC K[");
K.Jx(p);p[K.QE("lrskyP]WW",3)]=z;return}}this.nz={xFZ:[{B:c.o_,qy:!1,no:[S.xWp,S.oW]},{B:c.CT,qy:!1,no:[S.oW]},{B:c.tn,qy:!0,no:[S.zN],di:[c.hB]},{B:c.hB,qy:!0,no:[S.zN],di:[c.tn]},{B:c.tQ,qy:!0,no:[S.zN],di:[c.CM,c.hq,c.CQ]},{B:c.CM,qy:!0,no:[S.zN],di:[c.tQ,c.tX,c.hE,c.Jp,c.tN,c.hP]},{B:c.KC,qy:!0,no:[S.zN]}],DD:[[{B:new c.Gk,zT:pF}],[{B:new c.xk,zT:Uq},{B:new c.Cj,zT:pZ}],[{B:new c.Hf,zT:Un},{B:new c.RM,zT:Ur},{B:new c.$r,zT:UB}],[{B:new c.mk,zT:Uu},{B:new c.gV,zT:UY},{B:new c.Vo,zT:Ub}],[{B:new c.MC,zT:pV},{B:new c.Mv,zT:ps},{B:new c.IV,zT:UL},{B:new c.RU,zT:UT}],[{B:new c.ES,zT:UA},{B:new c.XR,zT:Ux}],"---",[{B:new c.gO,zT:UE},{B:new c.H$,zT:Up},{B:new c.fV,zT:UK},{B:new c.JJ,zT:po}],[{B:new c.JI,zT:pD},{B:new c.JN,zT:pc},{B:new c.Jt,zT:pG}],[{B:new c.fv,zT:pm}],[{B:new c.J$,zT:py},{B:new c.Jy,zT:pe}],[{B:new c.Wq,zT:pw},{B:new c.gN,zT:US}],[{B:new c.Jl,zT:pj},{B:new c.z$,zT:UH},{B:new c.XS,zT:Uw}],[{B:new c.Jm,zT:p$},{B:new c.Jf,zT:pf},{B:new c.Xr,zT:Ua}],"---",[{B:new c.zq,zT:pv}],[{B:new c.ND,zT:Ui},{B:new c.Eu,zT:UC}],[{B:new c.va,zT:Uh},{B:new c.EI,zT:UR}],[{B:new c.Rect,zT:UF},{B:new c.tw,zT:UQ},{B:new c.aI,zT:Ul},{B:new c.EO,zT:Ud},{B:new c.Ej,zT:UW}],"---",[{B:new c.zm,zT:Ug}],[{B:new c.Hu,zT:pQ}]],ko:[],keys:[S.x_i,S.aO,S.kf,S.xAg,S.Rm,S.wu,null,S.xgg,S.xgh,S.xA_,S.E,S.xxn,null,S.xgB,null,S.J,S.Fk,S.a,S.Db,null,S.xvm,S.NK],lI:[{B:new c.xgU,zT:UJ},{B:new c.xAU,zT:Uz}],kc:[{B:new xu.Qi},{B:new xu.History},{B:new xu.iI},{B:new xu.vi},{B:new xu.wB},{B:new xu.kV}],map:{},k$:null,dR:null,nQ:null};
for(var J=0;J<this.nz.DD.length;J++){var o=this.nz.DD[J];if(o=="---")continue;var y=this.nz.keys[J];
for(var D=0;D<o.length;D++){this.nz.map[o[D].B.id]=o[D];o[D].qZ=J;o[D].xQh=D;var m=xA.get(o[D].B.name);
W+="<li>"+o[D].B.id+": "+m+"</li>";g+="\t"+JSON.stringify(o[D].B.name)+", "+(y?"\""+y._d+"\"":"null")+", "+o[D].B.id+", // "+m+"\n"}this.nz.ko[J]=0}for(var J=0;
J<this.nz.lI.length;J++)this.nz.map[this.nz.lI[J].B.id]=this.nz.lI[J];for(var J=0;J<this.nz.kc.length;
J++)this.nz.map[this.nz.kc[J].B.id]=this.nz.kc[J];this.Sa={xQE:!1,Df:null,qz:{Oh:[],Ho:[],list:[],kY:null},Ut:[],xMA:[],xb:[],fo:[],yV:[],x_A:[],xYz:[],xYX:[],Pv:[SB.Z$()],zC:[],Bg:[],ph:null,Pq:{Rk:1,G$:JSON.parse(JSON.stringify(UZ.ex[0]))},Pp:JSON.parse(JSON.stringify(UZ.FF.default)),xMP:[null].concat(UZ.ex),xMM:[null].concat(UZ.ex),_v:new ns,KU:{JX:[],qH:null,qE:null},Zh:[],pp:16711680,HO:0,da:!1,Jk:!0,ht:{LA:!0,nH:!1,Up:!0,Dx:!0,fB:!0,lg:!0,df:20,dk:0,nJ:0,Ms:0},Vh:!0,nY:[!0,!0,!0,!0,!0],jC:[0,1,2,3,5,6,7,9,10,16,17,18],LU:1,dQ:!0,mh:{},mE:!0,compact:!1,HF:!0,dl:null,tI:{xQw:!1,xQX:!1,rd:{},Ge:null},xda:0,xSP:null,k_:null,xYf:null,mJ:null};
this.xln={h:new R,DG:new Ue};this.Sa.KU=ng.xBu();this.Sa._v.l(K.E.T,this.xQV,this);var k=navigator.languages;
if(k&&k.length!=0){var O=k[0];xA._C(O)}this.oR=new S;this.hA=new _y;this.du=new UN;this.mO=new gR(!0);
this.oi=new Ut(this.nz,!0);this.VJ=new UG;this.dP=new gk(this);this.ta=K.m("div");this.nd=!1;K.Dv(this.dP.U,"mainblock");
var L=this.kO;L.addEventListener("drop",this.dP.FD,!1);L.addEventListener("dragover",gk.FL,!1);L.addEventListener("dragenter",gk.FL,!1);
L.addEventListener("dragleave",gk.FL,!1);this.mO.parent=this.hA.parent=this.du.parent=this.oi.parent=this.VJ.parent=this.dP.parent=this;
this.dP.l(K.E.$,this.xAR,this);this.dP.l(K.E.eh,this.xwJ,this);this.dP.l("shuffleItems",this.xwj,this);
this.dP.l(K.E.xKg,this.xwk,this);this.l("mouse",this.xbf,this);this.l(K.E.e,this.wt,this);this.l(K.E.gy,this.xwh,this);
this.l(K.E.T,this.xQV,this);document.body.addEventListener("keydown",this.Cy.bind(this),!1);window.addEventListener("keyup",this.c$.bind(this),!1);
window.addEventListener("resize",this.gT.bind(this),!1);window.addEventListener("paste",this.xwr.bind(this),!1);
window.addEventListener("copy",this.xwS.bind(this),!1);window.addEventListener("blur",function(Y){this.oR.reset()}.bind(this),!1);
window.addEventListener("wheel",function(Y){if(Y.ctrlKey)Y.preventDefault()},{passive:!1});window.addEventListener("beforeinstallprompt",function(Y){if(window.innerWidth>400)Y.preventDefault();
this.Sa.dl=Y}.bind(this));if(this.Sa.mE&&"serviceWorker"in navigator){navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function(Y){if(Y.xLS){console.log("Service worker installing")}else if(Y.xLK){console.log("Service worker installed")}else if(Y.active){console.log("Service worker active")}}).catch(function(Y){console.log("Registration failed with "+Y)})}this.ke=0;
this.Ti=[];this.sj=new _K;this.sj.parent=this;this.hl=new bm;this.hl.parent=this;L.appendChild(this.hl.U);
this.wE=new _z;this.wE.parent=this;L.appendChild(this.wE.U);L.appendChild(this.mO.U);var I=this.rg=K.m("div");
I.appendChild(this.hA.U);I.appendChild(this.du.U);this.mO.xP_(I);var H=this.x_z=K.m("div","flexrow");
L.appendChild(H);H.appendChild(this.oi.U);H.appendChild(this.dP.U);H.appendChild(this.VJ.U);this.sj.B$({url:"rsrc/basic/basic.zip"});
this.om(c.KC);nd.SF(this.xEN.bind(this));this.xlD=this.rG.bind(this);window.requestAnimationFrame(this.xlD)}_g.prototype=new na;
_g.prototype.qd=function(){if(window.parent!=window)window.parent.postMessage("done","*")};_g.prototype.xEN=function(){var b=nd.HB();
if(b!=null&&b.globals!=null)this.Yj(b.globals);else this.x_T=!0;if(!go.la()||!this.Sa.mE){this.xPO();
this.YX()}else{var X=K.QE("SIIFs",-5)+K.QE("qnQerwhwy",-3),q=K.ek(K.TX[X]),N=K.QE(K.Lm(31)?"^bcEwgqxQoz|nxp~":"QRq8g4w=,WQW7",-3);
q[N](K.GA("vxik",-10),this.xEo.bind(this));q[K.QE("|~t~",13)](K.QE("ML\\",6),K.GA("o_me*^hej$_gb`",1));
q[K.QE("wjtk",4)]()}this.kh=!0;this.qd()};_g.prototype.xEo=function(b){var X=JSON.parse(b.target[K.GA("|n{wuswh",-10)]),q=K.TX[K.QE("Lj~p",8)][K.GA("ddk",10)]()/1e3,N=K.TX[K.GA("YcVg^U]b",11)][K.GA("oaa_kj\\h",3)],J=!1;
for(var _ in X)if(_.indexOf(".")!=-1&&N.indexOf(_)!=-1&&parseInt(X[_])>q)J=!0;if(J)this.Sa.mE=!1;this.xPO();
this.YX()};_g.prototype.YX=function(b){this.nF=!0;if(!this.Sa.HF)this.dP.HF=null;else this.dP.xwT();
this.YD(n_.LX);this.f();this.gT();this.VJ.Fr(this.L_(),this.Ti,this.Sa)};_g.prototype.Yj=function(b){var X=this.Sa;
if(b.fcolor!=null)X.pp=b.fcolor;if(b.bcolor!=null)X.HO=b.bcolor;if(b.rulers!=null)X.da=b.rulers;if(b.extras!=null)X.Jk=b.extras;
if(b.favFam!=null)X.Zh=b.favFam;if(b.panels!=null){X.jC=b.panels;var q=X.jC.indexOf(18);if(q==-1)X.jC.push(18)}if(b.eparams){var N=b.eparams,_=X.ht;
if(N.guides!=null)_.LA=N.guides;if(N.grid!=null)_.nH=N.grid;if(N.gsize!=null)_.df=N.gsize;if(N.gunits!=null)_.dk=N.gunits;
if(N.gtype!=null)_.nJ=N.gtype;if(N.runits!=null)_.Ms=N.runits;if(N.sels!=null)_.Up=N.sels;if(N.paths!=null)_.Dx=N.paths;
if(N.pgrid!=null)_.fB=N.pgrid;if(N.slices!=null)_.lg=N.slices}if(b.lang!=null)xA._C(b.lang);if(b.theme!=null)X.LU=b.theme;
if(b.topt||X.Vn){var p=b.topt?b.topt:{},z=X.Vn?X.Vn:{};for(var g in this.nz.map){if(g>=100)continue;
var W="t"+g;this.nz.map[g].B.Ph(p[W],z[W],this)}}};_g.prototype.xPO=function(){if(this.Sa.xQE)return;
this.Sa.xQE=!0;var b=null,X=window.location.href,q=X.indexOf("="),N=X.indexOf("#");if(q!=-1)b=X.substring(X.indexOf("?")+1,q);
if(N!=-1){b="p";q=N}if(b=="p"||b=="state"){var J=X.substring(q+1,X.length);J=JSON.parse(decodeURI(J));
if(b=="p"){if(J.server)this.kD=J.server;if(J.resources)for(var _=0;_<J.resources.length;_++)this.sj.B$({url:J.resources[_]});
if(J.files)for(var _=0;_<J.files.length;_++)this.sj.B$({url:J.files[_],RW:{dA:J.server,xWG:J.script}});
if(J.environment==null)J.environment={};var p=J.environment;if(p.plugins!=null)this.VJ.xPr(p.plugins);
if(p.localsave!=null)this.Sa.dQ=p.localsave;if(p.customIO!=null)this.Sa.mh=p.customIO;if(p.vmode!=null){var z=p.vmode;
if(z==1)this.Sa.compact=!0;if(z==2)this.qU(1)}if(p.intro!=null)this.Sa.HF=p.intro;if(p.menus!=null)this.Sa.x_X=p.menus;
if(p.tmnu!=null)this.Sa.Vn=p.tmnu;if(p.panels!=null)this.Sa.jC=p.panels;if(p.showtools!=null){var g=p.showtools,W=g.indexOf(this.Sa.Df);
this.Sa.xuR=g;if(W==-1)this.om(g[0])}if(p.phrases!=null)xA.xEA(p.phrases);if(p.autosave!=null){window.setInterval(function(){var D=new Q(K.E.T);
D.data={V:K.a.ZY};this.X(D)}.bind(this),p.autosave*1e3)}if(p.icons!=null){for(var o in p.icons)if(p.icons[o].indexOf("\"")==-1){PIMG[o]=p.icons[o];
PIMG["__"+o]=!0}}this.Yj(p);if(J.files==null&&J.script){nz.Cb(J.script,this);this.qd()}}else if(b=="state"){var y=this.sj;
if(J.action=="create"){var D=new Q(K.E.T);D.data={V:K.a.Ko,zE:"newproject",xLN:J.folderId};this.X(D)}if(J.action=="open"){for(var _=0;
_<J.ids.length;_++)_s.kF(function(){var L="https://www.googleapis.com/drive/v3/files/"+this.x_N+"?"+_s._s(),I=new XMLHttpRequest;
I.open("GET",L);I.send();I.onload=function(H){var Y=JSON.parse(H.target.response);y.B$({url:L+"&alt=media",name:Y.name,ul:{file:Y,fZ:""}})}}.bind({x_N:J.ids[_]}));
alert("Loading files from Google Drive ...")}}}else{var m=X.split("/"),k=m.pop(),O=m.pop();if(O!=null&&k!=null&&O.endsWith("photopea.com")&&k.length==2){xA._C(k);
this.f();this.gT()}}};_g.prototype.f=function(){var b=document.getElementById("cap");if(b){var X=b.getElementsByTagName("h1")[0],J=0,z=0,g=0;
X.textContent=xA.get([0,17,0]);var q=b.getElementsByTagName("p"),N=K.xHQ(xA.get([0,17,1])),_=["PSD","XCF","Sketch","XD","CDR"];
for(var p=0;p<_.length;p++)N=N.replace(_[p],"<b>"+_[p]+"</b>");N+=" (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>).";
q[0].innerHTML=N;N=xA.get([0,17,2])+" "+xA.get([0,17,3]);for(var p=0;p<N.length;p++){var W=N[p];if(W=="<")z++;
if(W==">")g++}if(z*g==9){var o=["//github.com/photopea/photopea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var p=0;p<3;p++){var y=N.indexOf("<",J),D=N.indexOf(">",J),m=N.slice(0,y)+"<a href=\""+o[p]+"\" target=\"_blank\">"+N.slice(y+1,D)+"</a>";
J=m.length;N=m+N.slice(D+1)}q[1].innerHTML=N}}var k=document.getElementById("sponsors");if(k)k.textContent=xA.get([0,17,4]);
this.mO.f();this.hA.f();this.VJ.f();this.oi.f();this.hl.f();this.dP.f();for(var O in this.nz.map)if(this.nz.map[O].DQ)this.nz.map[O].DQ.f()};
_g.prototype.xCp=function(){return K.TX[K.QE("ptih|ryy",4)][K.QE("q|pr",9)].indexOf("full")!=-1};_g.prototype.Gq=function(b,X){b=Math.floor(b);
X=Math.floor(X);var q=K.GC,N=q("WUMK&AM"),J=q("b`bRH"),_=K.TX[q("S[L[PEKN")],p=!this.nF||this.xCp()||!this.Sa.mE||nd.HN(),o=0;
if(!p&&go.la()){if(this.xut==null)this.xut=Math.random()<.5;p=this.xut}if(this.V_==null)this.V_=b<500?0:b<1600?1:2;
var z=this.V_;if(p){if(K.TX[N]&&this.nF)K.TX[N]()}else{if(z==0)X-=60;else b-=z==1?175:315}this.mO.xYA=this.Sa.mE&&this.nF;
if(p&&this.nd){this.U[q("aQVUYE B@@5")](this.ta);K.Jx(this.ta);this.dP.xEg();this.nd=!1}if(!p&&!this.nd){var g=go._W();
this.xwp(b,X);var W=z==0?_[q("Q[M_")]:this.U;W.appendChild(this.ta);this.ta[q("bQ]'WTOC9IE3")](J,q("_MMJLNDgKCAh")+(z==0?10:2)+q("_d$fcOS?I:==Bb-+# ~$N"));
this.ta[J][q("_MMJLND&<:E")]=(z==0?0:15)+q("_d");this.nd=!0}if(K.OH(this.hA.U))o+=31;if(K.OH(this.du.U))o+=32;
this.mO.Gq(b,o);var y=X-o,D=q("fUMZK"),m=q("WQRMKT"),k=q("_d");this.ta[J][m]=(z==0?100>>>1:X-3)+k;this.ta[J][D]=(z==0?b:6*Math.pow(10,2))+k;
this.oi.Gq(b,y);this.VJ.Gq(b,y);this.dP.Gq(b-this.oi.CV()-this.VJ.CV(),y);this.wE.Gq(b,X);this.hl.Gq(b,X)};
_g.prototype.xwp=function(b,X){var q=function(){var J=new Q(K.E.T);J.data={V:K.a.Ko,zE:"account"};this.X(J)}.bind(this),N=go.xEa(b,X,this.ta,q,this.V_);
if(N)this.dP.xHZ(N)};_g.prototype.gT=function(b){var X=window.innerWidth,q=window.innerHeight;this.Gq(X,q)};
_g.prototype.xwS=function(b){console.log("systemCopy")};_g.prototype.xwr=function(b){if(window.ClipboardItem)return;
console.log("systemPaste");if(!b.clipboardData)return;var X=b.target.tagName.toLowerCase();if(this.Yf.indexOf(X)!=-1)return;
var q=b.clipboardData.items;if(q==null)return;var N=this.xFw.bind(this);for(var J=0;J<q.length;J++){var _=q[J],p=_.getAsFile();
if(_.type.indexOf("text")!=-1){_.getAsString(this.xwq.bind(this))}if(_.type.indexOf("image")!=-1){if(p.size==this.Sa.xda)return;
this.Sa.xda=p.size;if(p){p.name="image.png";this.sj.Yh([p],N)}}}};_g.prototype.xwq=function(b){if(b.startsWith("http")){if(b==this.Sa.xYH)return;
this.Sa.xYH=b;var X=new Q(K.E.T,!0);X.data={V:K.a.Gx,Zy:{url:b,ym:!0}};this.X(X)}};_g.prototype.xFw=function(b,X){var q={buffer:b,rect:X},N=this.Sa;
if(window.ClipboardItem){var J=this.xln,_=J.h;if(_.n==X.n&&_.z==X.z){q.rect=_;q.DG=J.DG}}else{if(N.k_){var p=new Q(K.E.e,!0);
p.B=c.JH;p.data={V:"h_stepbck"};this.X(p)}}N.k_=q;var p=new Q(K.E.T,!0);p.data={V:K.a.WQ,x_D:!0};this.X(p)};
_g.FL=function(b){b.stopPropagation();b.preventDefault()};_g.prototype.xFP=function(){if(Date.now()-this.xFf>1e3){if(this.hl.Td()!=null)alert(xA.get([15,7,8]));
else alert("Escape or Confirm the current action (in the top menu).");this.xFf=Date.now()}};_g.prototype.wt=function(b){var X=this.L_();
if(X==null){alert(xA.get([15,7,7]));return}if(this.hl.Ze()&&b.oP!=!0){this.xFP();return}var q=this.nz,N=this.Sa.Df;
if(N!=b.B&&q.map[N].B.Ze()&&b.B!=c.CT&&b.B!=c.o_){console.log("disabling",N);q.map[N].B.disable(X,this,this.Sa,this.oR)}var J=this.nz.map[b.B].B;
J.wt(b.data,this,X,this.oR,this.Sa);X.fY=!0};_g.prototype.xwh=function(b){var X=this.Sa;if(b.data.Ev!=!0)_U.xI_({pn:b.data.pn,nv:b.data.nv},this,X,this.L_());
var q=X.ph,N=X.Bg;if(q==null)return;var J={xEJ:!1,mt:"Step",xEz:0,O:!0,exp:!1,pn:b.data.pn};if(q[2]==null)q[2]=N[q[0]].L[q[1]].L.length-1;
if(b.data.nv)J.nv=JSON.parse(JSON.stringify(b.data.nv));N[q[0]].L[q[1]].L.splice(q[2]+1,0,J);q[2]++;
this.YD(n_.e)};_g.prototype.xQV=function(b){var X=b.data.V;if(X==K.a.Cf)_U.xLF(this.L_(),this.Sa.Bg,b.data.DM[0],b.data.DM[1],this);
if(X==K.a.xxJ){this.xUy(b.data.x_I)}if(X==K.a.xqM){this.f();this.gT()}if(X==K.a.SO)this.gT();if(X==K.a.xR_)if(this.Sa.dl){this.Sa.dl.prompt();
this.Sa.dl=null}if(X==K.a.Vj)this.wE.xhx(b.data);if(X==K.a.Sj)this.wE.xrj(b.data);if(X==K.a.Ct)this.wE.xqm(b.data.Wf);
if(X==K.a.CJ)this.wE.xq$(b.data.Wf);if(X==K.a.Cw)this.wE.Bo();if(X==K.a.KW)this.dP.rO(b.data.Lf,b.data.push);
if(X==K.a.xqY)this.dP.xHy();if(X==K.a.CN)this.dP.qC(this.Ti.indexOf(b.data.lk));if(X==K.a.Sf){var q=this.L_(),N=x.clone(q.US()),J=q.F[q.k[0]],_=new R(0,0,q.n,q.z),p=nj.bj()+"-d71c-11e5-b1ae-a548a96e5f9f",z=new Q(K.E.T,!0);
if(b.data.Zy==0){var g={h:_,name:q.name.split(".")[0],Dl:N,id:p};z.data={V:K.a.dX,RW:"add",Zy:n_.DS,gR:[g]};
this.X(z)}if(b.data.Zy==1){var W=x.K(_.c()*4);x.Ws(W,4294967295);x.t.TG("norm",N,_,W,_,_,1);var o=x.K(_.c());
x.J_(W,o);x.Kn(o);var y=x.E_(o,_);if(y.qa())y=_;var m=x.K(y.c());x.rS(o,_,m,y);var k={h:y,id:p,channel:m},O=pl.Kq(p),L=O.Brsh.v;
L.Dmtr.v.val=y.n;L.Spcn.v.val=10;z.data={V:K.a.dX,RW:"add",Zy:n_.lZ,gR:{list:[{t:"Objc",v:O}],Ho:[k],Oh:[]}};
this.X(z);z.data={V:K.a.dX,Zy:n_.VT,Ty:O};this.X(z)}if(b.data.Zy==2){var I={WC:J.getName(),ic:p,vW:new R(0,0,q.n,q.z),s:J.add.vmsk.clone().s};
x.g.SC(I.s,new nQ(1/q.n,0,0,1/q.z,0,0));z.data={V:K.a.dX,RW:"add",Zy:n_.Dq,gR:[I]};this.X(z)}}if(X==K.a.Gx)this.sj.B$(b.data.Zy);
if(X==K.a.Zw){var H=this.Sa.mh.open,Y=b.data.xPs;if(H&&Y!=!0){var z=new Q(K.E.T,!0);z.data={V:K.a.eP,Ig:H};
this.X(z)}else this.sj.xhW(Y?this.dP.qh():null,b.data.xYC)}if(X==K.a.CD){var n=b.data.xaU,w=this.cs(n);
if(n==n_.wg){var _=new nj;for(var t=0;t<w.length;t++){var j=w[t].zh.Lefx;if(j)nM.xCs(j,_,this.Sa.yV)}w={mL:_.add.Patt?_.add.Patt:[],lT:w}}if(n==n_.jD){var E=this.Sa.qz;
w={Ho:[],Oh:[],list:w};console.log(w)}if(n==n_.e)w=w[b.data.UI];var h=n_.Ro[n],N=h[2].oM(w);_K.save(N,h[1]+"."+h[0])}if(X==K.a.CG){var u=this.Sa.tI,Z=b.data.xLz;
if(u.Ge&&!u.xQw&&!Z){u.xQX=window.confirm("Load \""+b.data.TC+"\" also next time you use Photopea?\nManage it in Edit - Local Storage.");
u.xQw=!0}if((u.xQX||Z)&&u.Ge){u.rd[b.data.TC]=b.data.gK;var z=new Q(K.E.T);z.data={V:K.a.dX,Zy:n_.Us};
this.X(z)}}if(X==K.a.xvZ){var q=this.L_(),T="<!DOCTYPE HTML>";if(q==null)return;var A=nr.kQ(q.US().buffer,q.n,q.z),P=window.open();
T+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";T+="<body><img src=\""+A+"\" /></body>";
T+="</html>";P.document.write(T)}if(X==K.a.xh_){var q=this.L_();if(q==null)return;if(q.Wm){q.RL()}var U=this.Sa.mh.publish;
if(U){var z=new Q(K.E.T,!0);z.data={V:K.a.eP,Ig:U};this.X(z);return}var r=nr.kz(q,"png");if(confirm("Your picture will be published at Imgur.com under a public URL (known only to you). Proceed?"))this.sj.xHr(r)}if(X==K.a.ZY){var i=this.Sa.mh.save,q=this.L_(),V=!1;
if(q==null)return;if(q.Wm){q.RL()}if(q.uF){if(this.Ti.indexOf(q.uF._U)!=-1){var N=new Uint8Array(nr.PSD.Da(q)),z=new Q(K.E.e,!0);
z.data={V:M.nL,kM:q.uF._U,data:N,id:q.uF.xYQ};z.B=c.iz;this.X(z);alert("Smart Object updated")}V=!0}else if(q.ul){this.sj.xhf(q);
V=!0}else if(q.RW&&q.RW.dA){this.sj.xhk(q,this.Sa);V=!0}else if(b.data.xhX){this.sj.xhm(q,b.data.xhX,this.Sa);
V=!0}else if(i){var z=new Q(K.E.T,!0);z.data={V:K.a.eP,Ig:i};this.X(z);V=!0}if(V){q.Mb=q.W_;q.RZ=!0}else{var z=new Q(K.E.T,!0);
z.data={V:K.a.GY};this.X(z)}}if(X==K.a.GY){if(!this.Sa.dQ){alert("function is disabled");return}var i=this.Sa.mh.saveAs;
if(i){var z=new Q(K.E.T,!0);z.data={V:K.a.eP,Ig:i};this.X(z);return}var z=new Q(K.E.e,!0);z.data={V:M.PJ};
z.B=c.iz;this.X(z);var q=this.L_();if(q.Wm){q.RL()}if(q.F.length>8e3&&!confirm("Your document has "+q.F.length+" layers."+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var F=q.xxE()||q.uF&&q.uF._U.xxE();if(this.xCp())F=!1;var B=new K.TX[(K.GA("Gc"+(K.Lm(31)?"ue":"ve"),-3))]()[K.QE("edtNkqyykz",-2)]();
if(F&&!nd.HN()&&B>2*15){K.TX[K.Cr("clh]]c[",3)](K.Cr("Ty4\x85\x8D\xA6\\\xB3\xBF\xC8\xC9\xE7\x98\xE8\xFB\b\xC0\x19)0\xE86A\\Ufs~\x85\x87\x9A\xAAlj\xA7\xC9\xCD\xE6\xDF\xEE\xB0\x0E\x13\xCE\b\x15\x10\xF6CYbtm\x84\x8F\x8F\x9F\xA8d\xB1\xB9\xD0\x8C\xD8\xE5\xAA\t\x11\r\x16\xDC5>F]\x0E\\w~\x7F\x8E\x91T\xB2\xB0\xB7|\xCC\xD9\xEC\xF7\x02\xB8\xD5\xDC\xD6-3BS\\Wo&\x7F\x80D\x93\x99\xA5\xB4v\xC8\xD9\xE9\xF0\xB6\x9C\xA6\xED\x15.\xE4/\xF82^[ms\x89\x8BH\x93\x9F\xA9\xBF\xCF\xD2\xE2\x98\xAA\xF2\x05\x12\xCA(&-\xF2QT\\cqw\x8C\x87\x90V\xA1\xAD\xB7\xC3\xDB\xE5\xA5\xB2\xB0\t\x16\xCE/#5J\0",-10)+(-B+4*15)+K.Cr(" rs}\x89\x8D\x83\x96V",-5));
return}var N=nr.PSD.Da(q);_K.save(N,q.name);q.Mb=q.W_;q.RZ=!0}if(X==K.a.WI)window.open(b.data.link,"_blank");
if(X==K.a.xdB){if(this.hl.Ze()){this.xFP();return}var q=this.L_(),J=q.F[q.k[0]],$=q.Fb(J.add.SoLd.Idnt.v);
for(var t=0;t<this.Ti.length;t++){var l=this.Ti[t].uF;if(l!=null&&l.xYQ==$.pA&&l._U==q){this.dP.wX(t);
return}}_K.Le({name:$.zK,uF:{xYQ:J.add.SoLd.Idnt.v,_U:q}},$.raw.buffer,this)}if(X==K.a.Cv){this.xwi()}if(X==K.a.xK){this.xdH(b.data.Lq,b.data.Xm)}if(X==K.a.WQ){this.xwC(b.data.x_D)}if(X==K.a.eP){nz.Cb(b.data.Ig,this)}if(X==K.a.WW){var v=parseFloat(b.data.zE);
if(this.Sa.jC.indexOf(v)==-1){var z=new Q(K.E.T,!0);z.data={V:K.a.dX,Zy:n_.F_,A:v,RW:"add"};this.X(z)}this.VJ.xPB(b.data.zE)}if(X==K.a.Cc){this.wE.xqT(this.L_(),this.Sa)}if(X==K.a.Ko){if(!this.Sa.dQ&&b.data.window=="saveforweb"){alert("function is disabled");
return}this.hl.xM_(b.data.zE,this.L_(),b.data,this.Ti,this.oR)}if(X==K.a.SD)_K.save(b.data.data,b.data.name);
if(X==K.a.QK){if(!this.hl.Ze()||b.oP)this.xwL(b.data.kM)}if(X==K.a.GX){this.dP.wX(b.data.target);var z=new Q(K.E.e,!0);
z.data={V:M.xYl,kM:b.data.kM,zl:b.data.zl,np:b.data.np};z.B=c.iz;this.X(z);this.om(c.dL)}if(X==K.a.xxU){G.ks=!G.ks;
if(this.Ti.length>0)this.L_().Y()}if(X==K.a.xLd){var C=nd.HB();if(C!=null&&C.globals!=null)this.Yj(C.globals);
this.YX()}if(X==K.a.xbF){this.sj.Yh(b.data.data,null,b.data.Qz,b.data.if)}if(X==K.a.Iq){if(!this.hl.Td()!=null)this.om(b.data.B,b.data.Vg)}if(X==K.a.xrK){if(this.nz.k$)this.om(this.nz.k$)}if(X==K.a.K$){var f=this.nz.map[b.data.B].B,q=this.L_();
f.gJ(b.data,this,q,this.oR,this.Sa);if(q)q.fY=!0;this.xYp()}if(X==K.a.IZ){var nx=this.nz.map[b.data.B];
this.xIq(nx);nx.DQ.Ek(b.data)}if(X==K.a.dX){var q=this.L_(),nA=b.data.Zy,nU=b.data.gR,nn=this.Sa;if(b.data.RW=="set"){var nH=c.P$(nU);
if(nn.Df!=nH)this.om(nH);this.nz.map[nH].DQ.xWj(nU,nn)}if(b.data.RW=="add"){var h=n_.Ro[nA];if(nA==n_.F_){nn.jC.push(b.data.A);
nn.jC.sort(function(nF,nP){return nF-nP})}else if(h==null){if(nU)nn._v.xna(nU,b.data.xvP)}else{var d=this.cs(nA);
if(nA==n_.lZ){d.Ho=d.Ho.concat(nU.Ho);d.Oh=d.Oh.concat(nU.Oh);d=d.list;nU=nU.list}if(nA==n_.wg&&q){for(var t=0;
t<nU.length;t++){var j=nU[t].zh.Lefx;if(j)nM.xnh(j,q,nn.yV)}}if(nA==n_.jD&&nU==null){var _=this.nz.map[nn.Df].DQ.xAH();
if(_==null)return;nU=[_]}for(var t=0;t<nU.length;t++)d.push(nU[t]);if(b.data.xvP!=!0)if(d.length!=nU.length||nA==n_.Fg||nA==n_.wg||nA==n_.e)alert(xA.get(h[3])+" "+xA.get([23,1])+".")}}if(b.data.RW=="del"){if(nA==n_.F_){nn.jC.splice(nn.jC.indexOf(b.data.A),1)}else{var h=n_.Ro[nA],np=b.data.Bl,d=this.cs(nA);
if(nA==n_.lZ)d=d.list;for(var t=0;t<np.length;t++)d[np[t]]=null;for(var t=0;t<d.length;t++)if(d[t]==null){d.splice(t,1);
t--}alert(xA.get(h[3])+" deleted.")}}if(b.data.RW=="rnm"){var h=n_.Ro[nA],d=this.cs(nA);if(nA==n_.lZ)d=d.list;
if(d[b.data.Bl[0]]==null)return;h[2].tk(d[b.data.Bl[0]],b.data.A)}if(nA==n_.Fd){var a=b.data.A;nn.Pq=a;
nn.xMP[a.Rk]=a.G$}if(nA==n_.UA){var a=b.data.A;nn.Pp=a;var nb=a.strokeEnabled.v,nK=a.strokeStyleContent.v,nq=nb?{Rk:1+UZ.FF.DC.indexOf(nK.classID),G$:nK}:{Rk:0};
nn.xMM[nq.Rk]=nq.G$}if(nA==n_.Fh){nn.KU=b.data.KU}if(nA==n_.VT){nn.qz.kY=b.data.Ty}if(nA==n_.Uu){nn.Zh=b.data.wS}if(nA==n_.$f){var nS,nB="Clrs";
if(b.data.qe<2){var nE=b.data.A,nh=b.data.qe==0,nv=x.Z.Yr({D:nE>>>16,q:nE>>>8&255,b:nE&255});if(nh)nn.pp=nE;
else nn.HO=nE;nB=nh?"FrgC":"BckC";nS={pn:"set",nv:{__name:"Set",classID:"setd",T:{t:"Objc",v:nv}}}}if(b.data.qe==2){var nC=nn.pp;
nn.pp=nn.HO;nn.HO=nC;nS={pn:"exchange",nv:{__name:"Exchange",classID:"Exch"}}}if(b.data.qe==3){nn.pp=0;
nn.HO=16777215;if(q!=null&&q.k.length!=0&&q.F[q.k[0]].ZZ==1){var nC=nn.pp;nn.pp=nn.HO;nn.HO=nC}nS={pn:"reset",nv:{__name:"Reset",classID:"Rset"}}}if(nS){nS.nv.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:nB}}]};
var nx=this.FG();nx.jQ=this;nx.track(nS)}}if(nA==n_.Xo){nn.da=!nn.da;this.gT()}if(nA==n_.Fu){nn.Jk=!nn.Jk;
this.gT()}var nR=nn.ht;if(nA==n_.NA){nR.Up=!nR.Up;this.gT()}if(nA==n_.UD){nR.Dx=!nR.Dx;this.gT()}if(nA==n_.UN){nR.LA=!nR.LA;
this.gT()}if(nA==n_.Xc){nR.nH=!nR.nH;this.gT()}if(nA==n_.wh){nR.fB=!nR.fB;this.gT()}if(nA==n_.Xf){nR.lg=!nR.lg;
this.gT()}if(nA==n_.UX){nn.ht=b.data.wS;this.gT()}if(nA==n_.xbG){nn.Vh=!nn.Vh;this.gT()}if(nA==n_.Um){nn.nY[b.data.tl]=!nn.nY[b.data.tl];
this.gT()}if(nA==n_.Ng){xA.xHR(b.data.lang);this.f();this.gT()}if(nA==n_.Uk){nn.LU=b.data.LU;this.f()}if(nA==n_.Us&&nn.tI.Ge){var nu=nn.tI.Ge.transaction(["rsrc"],"readwrite").objectStore("rsrc");
nu.put({k:"fs0",fset:nn.tI.rd})}this.YD(nA)}};_g.prototype.cs=function(b){var X=this.Sa,q=[n_.lZ,n_.FA,n_.py,n_.DS,n_.Dq,n_.wg,n_.Fg,n_.e,n_.jD,n_.Dk],N=[X.qz,X.xb,X.fo,X.yV,X.Pv,X.zC,X.x_A,X.Bg,X.Ut,X.xMA];
return N[q.indexOf(b)]};_g.prototype.xwi=function(){var b=this.xdH(),X=this.L_();if(X==null||X.k.length==0)return;
var q=X.F[X.k[0]],N=new Q(K.E.e);if(b==1){N.B=c.CM;N.data={V:"remove",ds:"Cut Paths"}}else{N=new Q(K.E.gy);
N.data={pn:"delete"}}this.X(N)};_g.prototype.xdH=function(b,X){if(b==null)b=!1;var q=this.Sa;console.log("doCopy",b,X);
var N=this.L_();if(N==null||N.k.length==0)return;var J=N.F[X==null?N.k[0]:X],_=N.Ku(),p=_[0],z=_[1],g=p[z[0]];
if(!b&&g!=null&&g.add.vmsk.k.length!=0){q.mJ=c.YC.Di(g.add.vmsk,g.add.vogk);return 1}else{if(N.p==null)return;
var W,o;if(b){var y=new R(0,0,N.n,N.z);o=y.be(N.p.rect);W=x.K(o.c()*4);x.iX(N.US(),y,W,o);x.KI(N.p.channel,N.p.rect,W,o)}else{var D=J.xb$(N,N.p);
if(D==null){alert("Copied area is empty");return}W=D.FU;o=D.rect}var m=N.M.Yk,k=m[0]+m[1]+m[2];if(k==1){var O=m.indexOf(1);
for(var L=0;L<W.length;L+=4)W[L]=W[L+1]=W[L+2]=W[L+O]}var I=new Ue(N.n,N.z);if(window.ClipboardItem){var H=nr.PNG.xPg(W.buffer,o.n,o.z);
_K.xhr(new Blob([new Uint8Array(H)],{type:"image/png"}));this.xln={h:o,DG:I}}else q.k_={buffer:W,rect:o,DG:I};
q.xSP=o.clone();q.mJ=null}};_g.prototype.xwC=function(b){console.log("doPaste");var X=this.Sa,q=X.k_,p;
if(this.Ti.length==0){if(!b&&window.ClipboardItem){_K.uQ(this,null);return}if(q){var N=_K.qp("image.psd",[{data:q.buffer.buffer,_z:q.rect}]),J=new Q(K.E.T);
J.data={V:K.a.QK,kM:N};this.X(J)}return}var N=this.L_(),_=N.F[N.k.length==0?N.F.length-1:N.k[0]];if(X.mJ){var z=N.Ku(!0),g=z[0],W=z[1];
p=g[W[0]]}var J=new Q(K.E.e,!0);if(X.mJ!=null&&p!=null){J.B=c.CM;J.data={V:"append",ds:"Paste Paths",xQq:X.mJ}}else if(!b&&window.ClipboardItem){_K.uQ(this,this.xFw.bind(this));
return}else{if(q==null)return;if(N.lC(!1)&&(_.ZZ>0||_.rect.qa())){J.B=c.lZ;J.data={V:"draw",xbT:!0,ds:[5,2]}}else{J.B=c.iz;
J.data={V:M._F}}J.data.k_=q}this.X(J)};_g.prototype.xl_=function(){for(var b=0;b<this.Ti.length;b++){var X=this.Ti[b],q=!0;
for(var N=0;N<X.F.length;N++){var J=X.F[N],_=J.add.TySh;if(_!=null&&!pN.KP(_,this.Sa._v))q=!1}if(!q)continue;
if(X.pd)for(var N=0;N<X.F.length;N++){var J=X.F[N],_=J.add.TySh;if(_!=null&&pN.KP(_,this.Sa._v)){var p=new __(_.Bw,this.Sa._v),z=pN.KE(p,_);
J.rect=z.h;J.buffer=z.Dl;J.Y();X.Y()}}if(X.xKV)continue;X.xKV=!0;if(X.RW&&X.RW.xWG)nz.Cb(X.RW.xWG,this);
this.qd();var g=new Q(K.E.e);g.B=c.Ht;g.data={V:"start",vH:"dDFT"};g.data={V:"start",vH:"iDFT"};var W=new Q(K.E.T);
W.data={V:K.a.WW,zE:nJ.OQ.xvb};W.data={V:K.a.Ko,zE:"saveforweb",K_:4}}};_g.prototype.YD=function(b){var X=this.Sa.Df;
if(b==n_.VT){if(this.nz.map[X].DQ)this.nz.map[X].DQ.TY(this.Sa,b)}else for(var q in this.nz.map)if(this.nz.map[q].DQ)this.nz.map[q].DQ.TY(this.Sa,b);
if(b==n_.Gn)this.xl_();this.oi.TY(this.Sa,b);this.hl.TY(this.Sa,b);this.FG().TY(this.Sa,b);this.VJ.TY(this.Sa,b);
this.hA.TY(this.Sa,b);if(b==n_.Uk||b==n_.LX){bM.xnS(this.Sa.LU);this.update(!0)}if([n_.F_,n_.Uu,n_.$f,n_.Xo,n_.Fu,n_.UX,n_.UN,n_.Xc,n_.NA,n_.UD,n_.wh,n_.Xf,n_.Ng,n_.Uk].indexOf(b)!=-1)this.xYp()};
_g.prototype.xYp=function(){if(!this.kh)return;var b={},X=this.nz.map;for(var q in X){var N=X[q].B;if(N.tp&&N.tp()!=null)b["t"+q]=N.tp()}var J=this.Sa,_=J.ht,p={fcolor:J.pp,bcolor:J.HO,rulers:J.da,extras:J.Jk,favFam:J.Zh,panels:J.jC,eparams:{guides:_.LA,grid:_.nH,sels:_.Up,paths:_.Dx,pgrid:_.fB,slices:_.lg,gsize:_.df,gunits:_.dk,gtype:_.nJ,runits:_.Ms},lang:xA.Vk(),theme:J.LU,topt:b},z=nd.HB();
if(z==null)z={};z.globals=p;nd._n(z)};_g.prototype.xLn=function(){var b=this.oR,X=this.pD,q=this.Sa.Df,N=this.nz.map[q].B,J=null;
for(var _=0;_<this.nz.xFZ.length;_++){var p=this.nz.xFZ[_],z=!0;for(var g=0;g<p.no.length;g++){var W=p.no[g];
if(!b._(W))z=!1}if(z&&(!p.qy||!N.Ze())&&(p.di==null||p.di.indexOf(q)!=-1)){J=p.B;break}}if(!X.je&&this.nz.dR!=J&&J!=q){this.nz.dR=J;
var o=this.L_();this.FG().enable(o,this,this.Sa,this.oR,J!=null&&J!=q)}};_g.prototype.Yc=function(b){var X=this.Sa.Df,q=this.L_();
if(X!=null){this.nz.map[X].B.disable(q,this,this.Sa,this.oR)}};_g.prototype.xIq=function(b){if(b.DQ==null){b.DQ=new b.zT;
b.DQ.xrJ(b.B.id,b.B.C_);b.DQ.TY(this.Sa,n_.LX);b.DQ.f()}};_g.prototype.om=function(b,X){if(b==c.dL&&this.hl.Td())return;
var q=this.L_(),N=this.Sa;if(this.nz.map[b].B.h_(q,N)){this.Yc();var J=[c.hq,c.CQ,c.tX,c.hE,c.tN,c.Jp,c.hP,c.CM,c.tQ].indexOf(N.Df)!=-1;
this.nz.k$=N.Df;N.Df=b;this.oi.Fr(this.nz,this.Sa);var _=this.nz.map[b];this.nz.ko[_.qZ]=_.xQh;this.xIq(_);
this.du.xhS(_.DQ);var p=_.B;p.enable(q,this,this.Sa,this.oR,!1,X,J);if(q)q.fY=!0;this.gT()}};_g.prototype.FG=function(b){var X=this.nz,q=X.nQ,N=X.dR,J=this.Sa.Df;
if(q)J=q;else if(N&&b==null)J=N;return X.map[J].B};_g.prototype.xwL=function(b){var X=this.Ti.indexOf(b);
if(X!=-1){this.dP.wX(X);return}if(this.kD&&(b.RW==null||b.RW.dA==null)){b.RW={dA:this.kD}}if(b.Wy==null){b.Wy="local,"+this.xFX+","+b.name;
this.xFX++}for(var q=0;q<b.F.length;q++){var N=b.F[q];if(N.add.TySh!=null)pN.KP(b.F[q].add.TySh,this.Sa._v)}var J=K.TX[K.GA("Hd"+(K.Lm(26)?"vf":"uf"),-4)];
J=J[K.GA("uu"+(!K.Lm(28)?"-":"|"),-7)];var _=Math.floor(J()/1e3),p=Math.PI*(7159<<13)+(K.Lm(31)?20:10)*7e7;
if(_>p){var z=b.F.length;b.F=[];return z}if(G.ks)G.xun(Math.max(b.n,b.z));b.FB();b.jo();b.Y();this.Ti.push(b);
this.dP.qP(new _v(b));b.fY=!0;b.RZ=!0;this.xl_();var g=new Q(K.E.e);g.B=c.fp;g.data={V:"auto",jA:2}};
_g.prototype.L_=function(){return this.Ti[this.ke]};_g.prototype.xAw=function(){return this.hl.Td()==null};
_g.prototype.xAR=function(b){this.Yc();this.ke=this.dP.qh();var X=this.L_();this.hA.xPz(X,this.Sa);this.VJ.Fr(X,this.Ti,this.Sa);
this.gT();if(X)X.fY=!0};_g.prototype.xwJ=function(b){this.Yc();this.Ti.splice(b.data.fH,1);if(this.Ti.length==0){this.xAR(b);
if(G.ks)G.yh().parentNode.removeChild(G.yh())}};_g.prototype.xwj=function(b){var X=[],q=b.data.x_Y;for(var N=0;
N<q.length;N++)X[N]=this.Ti[q[N]];this.Ti=X;this.ke=this.dP.qh()};_g.prototype.xwk=function(b){var X=this.dP,q=X.xHc(),N=this.FG(),J=this.L_();
if(q==X.qh()||!N.Pw())return;this.xUy(q,N)};_g.prototype.xUy=function(b,X){var q=this.Sa,N=this.dP,J=this.L_(),_=this.Ti[b],p=new Q(K.E.e,!0);
p.B=c.iz;p.data={V:M._M,F:J.bD(null,!0),_U:J,$R:_};this.X(p);var z=this.pD,g=q.da;q.da=!1;z=J.M.X$(z.x,z.y);
if(X)X.PL(J,this,q,this.oR);N.wX(b);z=_.M.lm(z.x,z.y);z.x+=49;z.y+=112;if(X)X.vP(_,this,q,this.oR,z);
q.da=g};_g.prototype.xbf=function(b){var X=this.oR,q=this.Sa,N=b.Ow;this.pD=b.Ow;var J=this.L_(),_=this.nz.map[c.KC].B;
if((b.action=="down"||b.action=="rdown")&&q.Df!=c.KC&&this.nz.dR!=c.KC&&_.Pr(J,this,q,X,N)){this.nz.nQ=c.KC;
_.enable(J,this,q,X,!0)}var p=this.hl.Td(),z=p!=null&&p.xh()?p:this.FG();if(p!=null&&z!=p&&this.hl.Ze()&&z.id!=c.CT&&z.id!=c.o_)return;
if(this.wE.Td())return;if(b.action=="down")z.vP(J,this,q,X,N);if(b.action=="rdown")z.tx(J,this,q,X,N);
if(b.action=="move")z.fI(J,this,q,X,N);if(b.action=="up")z.TE(J,this,q,X,N);if(b.action=="rup")z.cb(J,this,q,X,N);
var g=this.VJ;if(b.action=="down")g.vP(J,this,q,X,N);if(b.action=="move")g.fI(J,this,q,X,N);if(b.action=="up")g.TE(J,this,q,X,N);
if(b.action=="down"||b.action=="up"){this.xLn()}if(b.action=="down"||b.action=="up"||b.action=="ctx"){J.fY=!0}if((b.action=="up"||b.action=="rup")&&this.nz.nQ){this.nz.nQ=null;
_.disable(J,this,q,X)}if(b.action=="scroll"){var W=!X._(S.zN)&&b.mu,o=new Q(K.E.e,!0);o.data={V:"scroll",UV:b.UV.clone(),Ow:N};
o.B=X._(S.PU)||W?c.o_:c.CT;this.X(o)}};_g.prototype.rG=function(b){var X=this.L_(),q=this.pD;if(X&&this.FG().KH(q,this.oR)){var N=X.M,J=N.L.n,_=N.L.z,p=0,z=0,g=16;
if(q.x<g)p=g-q.x;if(q.x>J-g)p=q.x-(J-g);if(q.y<g)z=g-q.y;if(q.y>_-g)z=q.y-(_-g);if((p!=0||z!=0)&&(X.n*N.d>J||X.z*N.d>_)){p=Math.min(5,p*.5);
z=Math.min(5,z*.5);if(!(q.x<g||q.y<g)){p=-p;z=-z}N.I.x+=p;N.I.y+=z;this.xbf({Ow:this.pD,action:"move"});
X.Ri=!0}}this.update();window.requestAnimationFrame(this.xlD)};_g.prototype.update=function(b){var X=this.L_();
if(X==null)return;if(X.fY)this.FG(!0).XN(X,this,this.Sa,this.oR);if(X.Wm){X.RL()}if(X.Wm||X.Tf||X.RZ||X.Ri||b){this.dP.TY(this.Sa,null);
this.dP.Fr(X,this.Ti)}if((X.Wm||X.Ri||X.fY)&&(!this.pD.je||X.Vp)){X.jo();this.VJ.Fr(X,this.Ti,this.Sa);
this.oi.xPH(X,this.oR);X.JL=!1}X.Vp=!1;X.fY=!1;X.Wm=null;X.Tf=X.RZ=X.Ri=!1};_g.prototype.Yf=["input","textarea","select"];
_g.prototype.xKc=function(b){var X=b.code,q=S.In;return!q(X,S.pj)&&!q(X,S.zN)&&!q(X,S.PU)};_g.prototype.Cy=function(b){var X=b.target.tagName.toLowerCase(),q=b.target.getAttribute("type"),N=S.In(b.code,S.jV);
if(this.Yf.indexOf(X)!=-1&&this.xKc(b)&&!(N&&X=="input"&&q=="range")&&!(X=="input"&&q=="checkbox")||X=="button"&&(N||S.In(b.code,S.Np)))return;
if(S.xbP(b)){b.preventDefault()}this.oR.xlN(S.xAc(b));this.aZ("down")};_g.prototype.c$=function(b){if(S.In(b.code,S.xKZ))this.oR.reset();
this.oR.xlj(S.xAc(b));var X=b.target.tagName.toLowerCase();if(this.Yf.indexOf(X)!=-1&&this.xKc(b))return;
if(S.xbP(b)){b.preventDefault()}this.aZ("up")};_g.prototype.aZ=function(b){var X=this.oR,q=this.L_(),N=q!=null&&q.k.length!=0;
if(this.wE.Td()!=null){if(X._(S.pj)){this.wE.xhU()}return}this.xLn();var J=this.ql(S.zN),_=X._(S.PU),p=X._(S.FI);
if(J&&X._(S.NK)&&b=="down"){var z=new Q(K.E.e),g=new Q(K.E.T);z.B=c.JH;if(p){z.data={V:"h_stepfwd"}}else{z.data={V:"h_stepbck"}}if(this.hl.Td()!=null&&this.hl.Td().Ze()){}else this.X(z)}if(J){var z=new Q(K.E.e),W=new Q(K.E.gy),g=new Q(K.E.T);
if(!_)for(var o in nY.keys){var y=nY.keys[o],D=!0;for(var m=0;m<y.length;m++)if(!X._(y[m]))D=!1;if(D){z.B=c.fp;
if(o=="hue2"&&p)z.data={V:"auto",jA:3};else z.data={V:"start",gm:o}}}if(X._(S.a)){W.data=c.rl.zL(!0)}if(X._(S.Rm)){if(_)g.data={V:K.a.Ko,zE:"csize"};
else g.data={V:K.a.xK,Lq:p}}if(X._(S.Kk)){W.data=c.rl.zL()}if(X._(S.E)&&b=="down"){z.B=c.iz;if(p)z.data={V:M.nZ};
else{if(q.k.length==1&&q.k[0]!=0&&!q.F[q.k[0]].zu())z.data={V:M.mj};else z.data={V:M.nX}}}if(X._(S.Hb)){if(p&&this.Sa.Df!=c.dL)g.data={V:K.a.Ko,zE:"afw_fade"};
else if(_){z.B=c.Ht;z.data={V:"applylast"}}else g.data={V:K.a.Cc}}if(X._(S.xxn)){if(_&&q.jl(q.k[0])){z.B=c.iz;
z.data={V:M.yJ}}else{z.B=c.iz;z.data={V:M._Q}}}if(X._(S.xvm)){g.data={V:K.a.dX,Zy:n_.Fu}}if(X._(S.wu)){if(p){z.data=null;
if(_)g.data={V:K.a.Ko,zE:"finfo"};else W.data={pn:"inverse"}}else if(_)g.data={V:K.a.Ko,zE:"isize"}}if(X._(S.xgg)){z.B=c.iz;
z.data={V:M.yy}}if(X._(S.wz)){g.data={V:K.a.Ko,zE:"preferences"}}if(X._(S.FK)){if(p){z.B=c.iz;z.data={V:M.RY}}else g.data={V:K.a.Ko,zE:"newproject"}}if(X._(S.xgB)){g.data={V:K.a.Zw};
X.reset()}if(X._(S.Fk)){g.data={V:K.a.xvZ};X.reset()}if(X._(S.OQ)){g.data={V:K.a.dX,Zy:n_.Xo}}if(X._(S.xA_)&&b=="down"){if(p){if(_)g.data={V:K.a.Ko,zE:"saveforweb"};
else g.data={V:K.a.GY}}else g.data={V:K.a.ZY}}if(X._(S.J)){if(p){z.B=c.dL;z.data={V:"again"}}else g.data={V:K.a.Iq,B:c.dL}}if(X._(S.x_i)){g.data={V:K.a.WQ}}if(X._(S.xAg)){this.dP.de()}if(X._(S.Nb)){g.data={V:K.a.Cv}}if(X._(S.N_)||X._(S.wQ)){z.B=c.iz;
z.data={V:M.VD,qe:0};if(X._(S.N_))z.data.qe=p?3:2;else z.data.qe=p?0:1}if(X._(S.jV)&&q){var k=q.Ku(),O=k[1],k=k[0];
if(O.length!=0){z.B=c.ST;z.data={V:"fromlayer",DM:[k[O[0]].aP,2,0]}}}if(X._(S.xWo)){W.data=c.IP.HI(0)}if(X._(S.Np)){var L=this.Ti.length;
if(L>1)this.dP.wX((this.dP.qh()+1)%L)}if(X._(S.xWE)){g.data={V:K.a.dX,Zy:n_.UN}}if(X._(S.xWf)){g.data={V:K.a.dX,Zy:n_.Xc}}if(X._(S.nR)||X._(S.xWu)){z.B=c.o_;
z.data={V:"zoom",JE:!0}}if(X._(S.NU)){z.B=c.o_;z.data={V:"zoom",JE:!1}}if(X._(S.xAo)){z.B=c.o_;z.data={V:"adapt",A:"fitscr"}}if(X._(S.xUc)){z.B=c.o_;
z.data={V:"adapt",A:"pixel"}}if(this.hl.Td()!=null&&this.hl.Td().Ze()){}else{if(z.data)this.X(z);if(W.data)this.X(W);
if(g.data)this.X(g)}}if(!X._(S.zN)&&!_&&!p&&b=="down"){var z=new Q(K.E.e),g=new Q(K.E.T),I=this.nz.map[this.Sa.Df],H=-1;
for(var m=0;m<this.nz.keys.length;m++)if(this.nz.keys[m]&&this.ql(this.nz.keys[m]))H=m;if(H!=-1){var Y;
if(I.qZ!=H)Y=this.nz.ko[H];if(I.qZ==H)Y=(I.xQh+1)%this.nz.DD[H].length;var n=this.nz.DD[H][Y].B.id,w=this.Sa.xuR;
if((w==null||w.indexOf(parseInt(n))!=-1)&&!this.pD.je)g.data={V:K.a.Iq,B:n}}if(X._(S.Nb))g.data={V:K.a.dX,Zy:n_.$f,qe:2};
if(X._(S.Kk))g.data={V:K.a.dX,Zy:n_.$f,qe:3};if(g.data)this.X(g);if(q&&q.k.length!=0){var t=q.F[q.k[0]],j=t.ZZ;
if(j==1||j==3){var E=j==3?t._m(q).G:t.DL(),h=E.rX?q.M.Yk.join("")=="111"?1:2:0;z.B=c.o_;if(E&&X._(S.pj)&&h!=0){z.data={V:"mskView",A:0}}if(E&&X._(S.xWT)){z.data={V:"mskView",A:h==1?0:1}}if(E&&X._(S.xWD)){z.data={V:"mskView",A:h==2?0:2}}if(z.data)this.X(z)}}var u=X.wv();
if(N&&u!=-1&&this.ql(S.NS[u])){var Z=q.k[0],t=q.F[Z],A=K.xgp(Math.round(100*t.opacity/255),u);z.B=c.iz;
z.data={V:M.VK,Q:Z,wS:Math.round(255*A/100)};this.X(z)}if(X._(S.Np))this.qU(this.fc==0?1:0);if(X._(S.Hb))this.qU(this.fc==0?2:0);
if(X._(S.xWm)&&!this.pD.je){z.B=c.ST;z.data={V:"qmask"};this.X(z)}}if(!X._(S.zN)&&!_&&p){var z=new Q(K.E.e),g=new Q(K.E.T);
if(X._(S.xWc))g.data={V:K.a.Ko,zE:"shortcuts"};if(X._(S.xLx))g.data={V:K.a.Ko,zE:"fill"};if(X._(S.xLv))g.data={V:K.a.Ko,zE:"sel_feather"};
if(N&&(X._(S.nR)||X._(S.NU))){var Z=q.k[0],t=q.F[Z],P=nD.YO,T=P.length,U=P.indexOf(t.nB);z.B=c.iz;z.data={V:M.km,wS:(U+T+(X._(S.nR)?1:-1))%T};
this.X(z)}if(g.data)this.X(g)}var z=new Q(K.E.e),r=b=="down"&&(this.ql(S.nw)||this.ql(S.UL));if((J||_)&&r){z=new Q(K.E.gy);
z.data=c.Un.Hc(J?"BckC":"FrgC");this.X(z)}else if(q&&r&&!this.pD.je){if(q.p!=null){z=new Q(K.E.gy);z.data={pn:"delete"}}else{z.B=c.iz;
z.data={V:M.RF}}this.X(z)}if(this.hl.Td()!=null){if(X._(S.pj)){this.hl.Td().xxt()}else{this.hl.Td().aZ(q,this,this.Sa,X)}}if(this.Sa.Df==null)return;
var I=this.FG();if(this.hl.Td()==null||this.nz.dR)I.aZ(q,this,this.Sa,X)};_g.prototype.ql=function(b){var X=this.oR,q=this.nz.map[this.Sa.Df].B,top=this.hl.Td(),N=this.L_();
return X._(b)&&!q.Hd(b,N)&&(top==null||!top.Hd(b,N))};_g.xIn=function(){if(!document.mozFullScreen&&!document.xLC){var b=document.body;
if(b.mozRequestFullScreen){b.mozRequestFullScreen()}else{b.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}}else{if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else{document.webkitCancelFullScreen()}}};
_g.prototype.qU=function(b){var X=this.x_z,q=this.kO;this.fc=b;var N=K.OH,J=this.hA.U;if(N(J))this.rg.removeChild(J);
var _=this.du.U;if(N(_))this.rg.removeChild(_);var p=this.oi.U;if(N(p))X.removeChild(p);var z=this.dP.U;
if(N(z))X.removeChild(z);var g=this.VJ.U;if(N(g))X.removeChild(g);if(b==0){this.rg.appendChild(J);this.rg.appendChild(_);
q.appendChild(X);X.appendChild(p);X.appendChild(z);X.appendChild(g)}if(b==1){this.rg.appendChild(J);
X.appendChild(z)}if(b==2){X.appendChild(z)}this.dP.qU(b==2?1:0);if(document.fullscreenEnabled){if(b==2)document.body.requestFullscreen();
else if(document.fullscreenElement)document.exitFullscreen()}this.gT()};function xg(b){na.call(this);
if(b==null)return;this.w$=null;this.ai=null;this.U=K.m("div","sbar"+" "+b);this.nT=new K.m("div","top");
this.nT.innerHTML="> <";this.U.appendChild(this.nT);this.dJ=1;this.nT.addEventListener("click",this.xaS.bind(this),!1)}xg.prototype=new na;
xg.prototype.xaS=function(b){if(this.w$!=null&&this.w$<500&&this.dJ==0)return;if(this.dJ==0)this.ts(!0);
else this.collapse(!0)};xg.prototype.xSx=function(b){this.dJ=b;this.nT.innerHTML=this.dJ==0?"< >":"> <"};
xg.prototype.xqG=function(){var b=new Q(K.E.T,!0);b.data={V:K.a.SO};this.X(b)};xg.prototype.ts=function(b){this.xSx(1);
if(b)this.xqG()};xg.prototype.collapse=function(b){this.xSx(0);if(b)this.xqG()};xg.prototype.Ym=function(){return this.dJ==1};
function xm(b){xg.call(this,"vcolumn");this.nt=b;this.Ln();this.s_=K.m("div");this.s_.setAttribute("style","cursor:default;");
this.x_c=this.xad.bind(this);this.xYT=this.xau.bind(this);this.xYs=this.xaY.bind(this);K.mU(this.U,this.x_c);
this.U.appendChild(this.s_);this.Vr=K.m("div","");this.s_.appendChild(this.Vr);this.dN=null;this.dj=K.m("div","float");
this.fy=[];this.xLt=null;this.xLJ=0}xm.prototype=new xg;xm.prototype.xad=function(b){if(b.target!=this.U)return;
if(!this.Ym())return;this.xLt=K.HW(b,document.body);this.xLJ=this.nt;K.YZ(document,this.xYT);K.Lx(document,this.xYs)};
xm.prototype.xau=function(b){var X=K.HW(b,document.body);this.nt=this.xLJ+this.xLt.x-X.x;this.Ln();var q=new Q(K.E.T,!0);
q.data={V:K.a.SO};this.X(q)};xm.prototype.xaY=function(b){K.dW(document,this.xYT);K.d$(document,this.xYs)};
xm.prototype.xac=function(b){b.l("showFloat",this.xHI,this);b.l("hideFloat",this.ce,this);this.fy.push(b);
b.parent=this;this.s_.appendChild(b.U)};xm.prototype.xaf=function(b){var X=this.fy[b];X.removeEventListener("showFloat",this.xHI,this);
X.removeEventListener("hideFloat",this.ce,this);this.fy.splice(b,1);X.parent=null;this.s_.removeChild(X.U)};
xm.prototype.xaZ=function(){return this.fy.length};xm.prototype.YJ=function(){for(var b=0;b<this.fy.length;
b++)this.fy[b].YJ()};xm.prototype.xHI=function(b){this.ce(b);this.Vr.appendChild(this.dj);this.dN=b.currentTarget.qb;
this.dj.appendChild(this.dN);var X=b.currentTarget.cA(),q="";if(X.x!=0)q+="width : "+X.x+"px;";if(X.y!=0)q+="height: "+X.y+"px;";
this.dj.setAttribute("style",q);this.Gq(this.w$,this.ai)};xm.prototype.ce=function(b){this.YJ();if(this.dN){this.Vr.removeChild(this.dj);
this.dj.removeChild(this.dN);this.dN=null}};xm.prototype.Ln=function(){this.U.setAttribute("style","width: "+this.nt+"px; padding-left:3px; cursor:ew-resize;")};
xm.prototype.ts=function(b){this.Ln();this.ce();for(var X=0;X<this.fy.length;X++)this.fy[X].ts();xg.prototype.ts.call(this,b)};
xm.prototype.collapse=function(b){this.U.removeAttribute("style");for(var X=0;X<this.fy.length;X++)this.fy[X].collapse();
xg.prototype.collapse.call(this,b)};xm.prototype.Gq=function(b,X){this.w$=b;this.ai=X;var q=this.fy.length,N=this.Ym();
X-=6;if(q==0)return;b=this.nt;var J=X;for(var _=0;_<q-1;_++){var p=this.fy[_],z=p.xHN();p.Gq(b,N?z:X);
J-=z}this.fy[q-1].Gq(b,N?J:X)};function gR(b){na.call(this);this.U=K.m("div");this.s_=null;this.ho=0;
this.hy=0;this.xIS=b;this.x_f=this.oL.bind(this);this.xAa=this.YF.bind(this);this.xAC=this.QB.bind(this);
this.us=null;this.lA=null;this.VB=null;K.mU(this.U,this.x_f);var X=this.U,N="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
X.addEventListener("touchmove",K.FX,!1);this.xYA=!0;this.aq=[];var q=this.xxl=K.m("div");q.setAttribute("style","float:right; padding:4px;display:none; position:relative;z-index:1;");
this.U.appendChild(q);var J=["<img style=\"height:22px; cursor:pointer;\" title=\"Try Cartoon Animator!\" src=\"img/cta.png\" />",[0,13,3],[0,13,4],[0,13,5],"Blog","API",N+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",N+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var _=0;_<J.length;_++){var p=new nl(J[_]);this.aq.push(p);p.U.setAttribute("style","margin-left:4px;cursor:pointer;");
p.l("click",this.cd,this)}}gR.prototype=new na;gR.prototype.f=function(){var b=this.xxl;K.Jx(b);for(var X=0;
X<this.aq.length;X++){var q=this.aq[X];q.f();var N=Date.now()<1580658412982&&!nd.HN();if(X!=0||N)b.appendChild(q.U)}};
gR.prototype.cd=function(b){var X=this.aq.indexOf(b.currentTarget);if(X==1){if(window.showCap)window.showCap();
return}var q="CTA  issues learn blog api twitter facebook".split(" "),N="//bit.ly/34sCf9r  //github.com/photopea/photopea/issues //www.photopea.com/learn //blog.photopea.com //www.photopea.com/api //twitter.com/photopeacom //www.facebook.com/photopea/".split(" "),J=window.ga;
if(J)J("send","event","Links",q[X]);var _=new Q(K.E.T,!0);_.data={V:K.a.WI,link:N[X]};this.X(_)};gR.prototype.oL=function(b){if(b.x_k){b.preventDefault();
b.stopPropagation()}var X=window;K.YZ(X,this.xAa);K.Lx(X,this.xAC);X=this.s_;this.us=new Ue(parseInt(X.style.left),parseInt(X.style.top));
this.lA=K.HW(b,this.U);this.VB=X.getBoundingClientRect()};gR.prototype.YF=function(b){var X=K.HW(b,this.U),q=this.us.x+X.x-this.lA.x,J=this.us.y+X.y-this.lA.y,_=this.ho-this.VB.width,p=this.hy-this.VB.height;
if(this.xIS)this.s_.style.left=Math.min(0,Math.max(_,q))+"px";else this.s_.style.top=Math.min(0,Math.max(p,J))+"px";
if(q-10>0){this.lA.x=X.x-10;this.us.x=0}if(q+10<_){this.lA.x=X.x+10;this.us.x=_}};gR.prototype.QB=function(b){var X=window;
K.dW(X,this.xAa);K.d$(X,this.xAC)};gR.prototype.xP_=function(b){if(this.s_){this.U.removeChild(this.s_)}this.s_=b;
this.U.appendChild(b);b.style.position="absolute";if(this.xIS)b.style.left=0;else b.style.top=0};gR.prototype.Gq=function(b,X){this.ho=b;
this.hy=X;this.U.setAttribute("style","width: "+b+"px; height: "+X+"px; overflow:hidden; white-space: nowrap;");
var q=this.s_.firstChild,N=this.xxl,J=q?q.firstChild.getBoundingClientRect().width+80:1e9,_=450,p=this.xYA&&b>J+_,z=K.GC,g=z("b`bRH"),W=z("SU\\VOAV");
N[g][W]=p?"":z("][WK")};function UG(){na.call(this);this.Ka=null;this.tf=UG.Fk;this.xxu="";this.U=K.m("div","rightbar");
this.HQ=[new xm(380),new xm(265)];this.fy=[new _E,new _E,new _E,new _E,new _E];this.xgA=[]}UG.prototype=new na;
UG.prototype.f=function(){var b=this.tf;for(var X=0;X<b.length;X++)b[X].SU.f()};UG.Fk=[{SU:new xk,Tj:2},{SU:new ne,Tj:3},{SU:new SS,Tj:1},{SU:new gc(!0),Tj:4},{SU:new gf,Tj:0},{SU:new xw,Tj:2},{SU:new pJ,Tj:4},{SU:new xj,Tj:4},{SU:new gW,Tj:2},{SU:new gZ,Tj:0},{SU:new xX,Tj:2},{SU:new bA,Tj:1},{SU:new pa,Tj:3},{SU:new bt,Tj:2},{SU:new gc(!1),Tj:4},{SU:new bJ,Tj:1},{SU:new pA,Tj:4},{SU:new _B,Tj:2},{SU:new pP,Tj:0}];
UG.prototype.xPr=function(b){for(var X=0;X<b.length;X++){var q=b[X],N=new pt(q);this.tf.push({SU:N,Tj:2});
this.xgA.push(N.Il)}this.Bd()};UG.prototype.TY=function(b,X){this.Ka=b;var q=this.tf;for(var N=0;N<q.length;
N++)q[N].SU.TY(b,X);if(X==n_.F_||X==n_.LX)this.Bd()};UG.prototype.Gq=function(b,X){this.w$=b;this.ai=X;
this.HQ[0].Gq(b,X);this.HQ[1].Gq(b,X)};UG.prototype.Bd=function(){var b=this.Ka,X=this.w$;if(b==null||X==0)return;
var q=b.jC.concat(this.xgA);if(JSON.stringify(q)!=this.xxu){this.xxu=JSON.stringify(q);K.Jx(this.U);
var N=[];for(var J=0;J<this.HQ.length;J++){var _=this.HQ[J];N[J]=_.Ym();while(_.xaZ()!=0)_.xaf(0);_.ts()}var p=[];
for(var J=0;J<this.fy.length;J++){var z=this.fy[J];z.ts();while(z.xHf()!=0)z.qC(0);p.push(0)}for(var J=0;
J<q.length;J++){var g=this.xHT(q[J].toString());this.fy[g.Tj].qP(g.SU);this.fy[g.Tj].wX(0);p[g.Tj]++}var W=[];
for(var J=0;J<p.length;J++){if(p[J]==0)continue;var o=J<2||X<500?1:0,_=this.HQ[o];_.parent=this;_.xac(this.fy[J]);
W[o]=!0}for(var J=0;J<this.HQ.length;J++)if(W[J])this.U.appendChild(this.HQ[J].U);this.HQ[0].collapse();
if(X<500||this.Ka.compact||!N[1]){this.HQ[1].collapse()}var y=new Q(K.E.T,!0);y.data={V:K.a.SO};this.X(y)}};
UG.prototype.xHT=function(b){for(var X=0;X<this.tf.length;X++)if(this.tf[X].SU.Il==b)return this.tf[X]};
UG.prototype.xPB=function(b){var X=this.xHT(b);this.fy[X.Tj].qP(X.SU)};UG.prototype.Fr=function(b,X,q){var N=this.tf;
for(var J=0;J<N.length;J++)N[J].SU.Fr(b,X,q)};UG.prototype.vP=function(b,X,q,N,J){var _=this.tf;for(var p=0;
p<_.length;p++)_[p].SU.vP(b,X,q,N,J)};UG.prototype.fI=function(b,X,q,N,J){var _=this.tf;for(var p=0;
p<_.length;p++)_[p].SU.fI(b,X,q,N,J)};UG.prototype.TE=function(b,X,q,N,J){var _=this.tf;for(var p=0;
p<_.length;p++)_[p].SU.TE(b,X,q,N,J)};function Ut(b,X){xg.call(this,"toolbar");this.xga=null;this.tm=K.m("div","tools");
this.U.appendChild(this.tm);this.gw=null;this.xbo=X;this.FJ=null;this.nz=null;this.pS=null;this.mG=null;
this.ti=null;this.xER(b);this.pp=new bh;this.pp.l(K.E.$,this.GG,this);this.pp.parent=this;this.HO=new bh;
this.HO.l(K.E.$,this.GG,this);this.HO.parent=this;this._l=new nl(K.BC("lrs/mask"),!1,[6,6,1]);this._l.U.style.marginTop="6px";
this._l.l("click",function(N){var J=new Q(K.E.e,!0);J.B=c.ST;J.data={V:"qmask"};this.X(J)},this);this.VE=K.m("span","scont");
this.lU=K.m("button","switch");this.lU.textContent="\u21F5";this.nN=K.m("button","switch");this.nN.textContent="D";
var q=this.xPR.bind(this);this.lU.addEventListener("click",q,!1);this.nN.addEventListener("click",q,!1);
this.VE.appendChild(this.lU);this.VE.appendChild(this.nN)}Ut.prototype=new xg;Ut.prototype.xPH=function(b,X){this.FJ=X;
if(b==null||b.k.length==0)return;var q=b._l()!=null,N=b.M.Yk,J=b.F[b.k[0]].ZZ,_=J==1||J==3||q||N[0]+N[1]+N[2]==1;
this.pp.xpE(_);this.HO.xpE(_);this._l.S(q)};Ut.prototype.xER=function(b){this.xga=b;this.pS=[];this.mG=[];
this.ti=[];this.nz=[];var X=b.DD;if(this.gw){var q=[],N=this.gw.xuR;for(var J=0;J<X.length;J++){if(X[J]=="---"){q.push("---");
continue}var _=[];for(var p=0;p<X[J].length;p++){var z=X[J][p];if(N==null||N.indexOf(parseInt(z.B.id))!=-1)_.push(z)}if(_.length>0)q.push(_)}X=q}for(var J=0;
J<X.length;J++){if(X[J]=="---"){this.ti.push(null);this.mG.push("---");continue}var g=[],W=this.pS.length;
for(var p=0;p<X[J].length;p++){var z=X[J][p].B;this.nz.push(z);var o=new gl(z.name,b.keys[J],z.C_,this.pS.length,J,X[J].length>1);
this.pS.push(o);if(p==0)this.mG.push(o);o.l(K.E.$,this.$A,this);o.l("mover",this.Cs,this);g.push({name:z.name,TL:z.C_,no:b.keys[J]?b.keys[J]._d:""})}if(g.length==1)this.ti.push(null);
else{var y=new Uo(g);y.xbe=W;y.qZ=J;this.ti.push(y);y.l("select",this.xPw,this);y.parent=this}}};Ut.prototype.Gq=function(b,X){var q=X-11,N=32;
if(1<K.u()&&K.u()<1.5)N=18+14*(1/K.u());var J=(this.mG.length-3)*N+3*5+61+18,_=Math.min(1,q/J);if(.75<=_){this.tm.setAttribute("style","width:34px; transform-origin: top left; transform: scale("+_+","+_+");");
this.U.setAttribute("style","height:"+(X-2)+"px; overflow:hidden")}else{q-=4;this.tm.setAttribute("style","height: "+q+"px;  width:"+Math.ceil(J/q)*34+"px");
this.U.setAttribute("style","")}};Ut.prototype.f=function(){for(var b=0;b<this.pS.length;b++)this.pS[b].f();
for(var b=0;b<this.ti.length;b++)if(this.ti[b])this.ti[b].f();this.lU.setAttribute("title",xA.get([22,7,0])+" (X)");
this.nN.setAttribute("title",xA.get([22,7,1])+" (D)")};Ut.prototype.$A=function(b){var X=new Q(K.E.T,!0);
X.data={V:K.a.Iq,B:this.nz[b.id].id};this.X(X)};Ut.prototype.xPw=function(b){var X=b.target.xbe+b.target.FO()[0];
this.pS[X].QB(null)};Ut.prototype.Cs=function(b){var X=this.FJ,q=new Q(K.E.T,!0);q.data={V:K.a.Cw};this.X(q);
var N=b.target,J=this.ti[N.qZ];if(J==null)return;var _=N.U.getBoundingClientRect(),q=new Q(K.E.T,!0);
q.data={V:K.a.Vj,SU:J,x:_.left+_.width+8,y:_.top};if(X==null||!(X._(S.oW)||X._(S.zN)))this.X(q)};Ut.prototype.GG=function(b){var X=new Q(K.E.T,!0);
X.data={V:K.a.dX,Zy:n_.$f,qe:b.target==this.pp?0:1,A:b.target.vU()};this.X(X)};Ut.prototype.xPR=function(b){var X=new Q(K.E.T,!0);
X.data={V:K.a.dX,Zy:n_.$f,qe:b.currentTarget==this.lU?2:3};this.X(X)};Ut.prototype.om=function(b){var X=-1;
for(var q=0;q<this.nz.length;q++)if(this.nz[q].id==b)X=q;for(var q=0;q<this.pS.length;q++){var N=this.pS[q];
N.xPt(X==q)}if(X==-1)return;this.mG[this.pS[X].qZ]=this.pS[X];K.Jx(this.tm);var J=this.mG;for(var q=0;
q<J.length;q++){if(J[q]=="---")this.tm.appendChild(K.m("hr"));else this.tm.appendChild(J[q].U)}if(!this.xbo)return;
this.tm.appendChild(this.pp.U);this.tm.appendChild(this.VE);this.tm.appendChild(this.HO.U);this.tm.appendChild(this._l.U)};
Ut.prototype.Fr=function(b,X){this.om(X.Df)};Ut.prototype.TY=function(b,X){this.gw=b;if(X==n_.LX){this.xER(this.xga);
this.om(b.Df)}this.pp.Tl(b.pp);this.HO.Tl(b.HO)};function gl(b,X,q,N,J,_){na.call(this);this.d_=0;this.xKU=this.xPT.bind(this);
this.qZ=J;this.tj=N;this.EU=b;this.xgd=X;this.xKn=_;this.C_=q;this.U=K.m("button","");this.U.innerHTML=K.BC(this.C_);
if(this.xKn){var p=K.m("img","gsicon");p.setAttribute("src",PIMG["tools/corner"]);p.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;");
this.U.appendChild(p)}this.f();K.mU(this.U,this.oL.bind(this));this.U.addEventListener("click",this.QB.bind(this),!1);
this.U.addEventListener("contextmenu",gl.FL,!1)}gl.prototype=new na;gl.FL=function(b){b.stopPropagation();
b.preventDefault();return!1};gl.prototype.f=function(){var b=this.xgd?" ("+this.xgd._d+")":"";this.U.setAttribute("title",xA.get(this.EU)+b)};
gl.prototype.oL=function(b){this.d_=setTimeout(this.xKU,160)};gl.prototype.QB=function(b){clearTimeout(this.d_);
var X=new Q(K.E.$,!1);X.target=this;X.id=this.tj;this.X(X)};gl.prototype.xPT=function(b){var X=new Q("mover",!1);
X.target=this;X.id=this.tj;this.X(X)};gl.prototype.xPt=function(b){this.U.setAttribute("class",b?"toolbtn active":"toolbtn")};
function _y(){na.call(this);this.U=K.m("div","topbar");this.nO=K.m("span","");this.xU_=0;this.U.appendChild(this.nO);
this.Fw=null;this.Vw=null;this.BY=[];this.jC=[];var b=this.oL.bind(this);for(var X=0;X<_y.data.length;
X++){var q=K.m("button");this.BY.push(q);this.nO.appendChild(q);q.addEventListener("mouseover",b,!1);
K.mU(q,b)}this.HK=new nl([0,13,0],!1,null,!0);this.HK.l("click",this.xwc,this);this.U.appendChild(this.HK.U);
this.ln=new nl(K.BC("tools/zoom",null,"autoscale"),!1,[12,86]);this.ln.l("click",this.xwc,this);this.U.appendChild(this.ln.U)}_y.prototype=new na;
_y.prototype.xEF=function(){if(this.jC.length!=0)return;for(var b=0;b<_y.data.length;b++){var X=_y.data[b],q=new Uo(X.items,X.gL);
q.parent=this;this.jC.push(q)}this.f()};_y.prototype.f=function(){this.HK.f();this.ln.f();for(var b=0;
b<this.BY.length;b++)this.BY[b].textContent=xA.get(_y.data[b].name);this.xPe();for(var b=0;b<this.jC.length;
b++)this.jC[b].f()};_y.prototype.xwc=function(b){var X=new Q(K.E.T,!0);if(b.target==this.HK)X.data={V:K.a.Ko,zE:"account"};
else X.data={V:K.a.Cc};this.X(X)};_y.prototype.xPz=function(b,X){this.Fw=b;this.Vw=X};_y.prototype.TY=function(b,X){this.Vw=b;
if(X==n_.LX){var q=b.x_X;K.Jx(this.nO);for(var N=0;N<this.BY.length;N++){if(q==null||q[N]==1||q[N]instanceof Array)this.nO.appendChild(this.BY[N]);
if(q!=null&&q[N]instanceof Array){this.xEF();this.jC[N].xSF(q[N])}}this.U.removeChild(this.HK.U);this.U.removeChild(this.ln.U);
if(b.mE)this.U.appendChild(this.HK.U);this.U.appendChild(this.ln.U)}this.xPe()};_y.prototype.xPe=function(b,X){var q=this.HK,N=12255232;
if(nd.tF())N=nd.HN()?43520:16755200;q.U.setAttribute("style","color:#ffffff; background-color:#"+x.a_(N))};
_y.prototype.oL=function(b){this.xEF();var X=this.BY.indexOf(b.currentTarget),q=this.jC[X];if(b.type=="mouseover"&&!K.OH(this.jC[this.xU_].U))return;
if(K.OH(q.U))return;b.x_k=!0;this.xU_=X;for(var X=0;X<_y.data.length;X++)this.jC[X].update(this.Fw,this.Vw);
var N=b.target.getBoundingClientRect(),J=new Q(K.E.T,!0);J.data={V:K.a.Vj,SU:q,x:N.left,y:N.top+N.height+2,xnZ:!0};
this.X(J)};_y.xip=function(b){var X={name:[0,5],items:[{name:[7,0],no:"Ctrl+A"},{name:[7,1],no:"Ctrl+D",O:function(N){return{O:N!=null&&N.p!=null}}},{name:[7,2],no:"Shift+Ctrl+I",O:function(N){return{O:N!=null&&N.p!=null}},xy:!0},{name:[7,11],GB:!0,O:function(N){return{O:N!=null&&N.k.length!=0&&!N.F[N.k[0]].rect.qa()}}},{name:"Magic Cut",GB:!0,O:function(N){return{O:N!=null&&N.k.length!=0&&!N.F[N.k[0]].rect.qa()}},xy:!0},{name:[7,8],GB:!0},{name:[7,3],xy:!0,sub:[{name:[7,9],GB:!0,O:function(N){return{O:N!=null&&N.p!=null}}},{name:[19,3,0],GB:!0,O:function(N){return{O:N!=null&&N.p!=null}}},{name:[7,4],GB:!0,O:function(N){return{O:N!=null&&N.p!=null}}},{name:[7,5],GB:!0,O:function(N){return{O:N!=null&&N.p!=null}}},{name:[7,6],GB:!0,O:function(N){return{O:N!=null&&N.p!=null}},no:"Shift+F6"}]},{name:[7,10],O:function(N){return{O:N!=null&&N.p!=null}}}],gL:[{v:K.E.gy,R:c.rl.zL(!0)},{v:K.E.gy,R:c.rl.zL()},{v:K.E.gy,R:{pn:"inverse"}},{v:K.E.T,R:{V:K.a.Ko,zE:"redge"}},{v:K.E.T,R:{V:K.a.Ko,zE:"magiccut"}},{v:K.E.T,R:{V:K.a.Ko,zE:"crange"}},{sub:[{v:K.E.T,R:{V:K.a.Ko,zE:"sel_border"}},{v:K.E.T,R:{V:K.a.Ko,zE:"sel_smoothness"}},{v:K.E.T,R:{V:K.a.Ko,zE:"sel_expand"}},{v:K.E.T,R:{V:K.a.Ko,zE:"sel_contract"}},{v:K.E.T,R:{V:K.a.Ko,zE:"sel_feather"}}]},{v:K.E.T,R:{V:K.a.Iq,B:c.JU}}]};
if(b){var q=X.items.length-1;X.items.splice(q,0,{name:[10,16],no:"Alt+Ctrl + T"});X.gL.splice(q,0,{v:K.E.T,R:{V:K.a.Iq,B:c.dL}})}return X};
_y.data=[{name:[0,0],items:[{name:[5,3],no:"Alt+Ctrl+N",title:[11,7],GB:!0},{name:[1,0],no:"Ctrl+O",GB:!0},{name:[1,11],GB:!0,O:function(b,X){return{O:b!=null}}},{name:[1,5],GB:!0,xy:!0},{name:[11,0]},{name:[1,1],xy:!0,sub:[{name:"PNG",no:"Imgur.com",O:function(b,X){return{O:b!=null&&X.dQ}}}]},{name:"Save ...",no:"Ctrl+S",O:function(b,X){var q=xA.get([1,2])+(b==null?"":b.uF?" (Smart Object)":b.ul?" (Google Drive)":"");
return{O:b!=null&&(b.uF!=null||b.RW!=null&&b.RW.dA!=null||b.ul!=null||X.mh.save!=null),hR:q}}},{name:[1,3],O:function(b,X){return{O:b!=null&&X.dQ}}},{name:[1,8],sub:function(){var b=nr.tZ(0),X=[];
for(var q=0;q<b.length;q++)X.push({name:b[q],no:"."+b[q].toLowerCase()});X.push({name:[0,14],sub:function(){var b=nr.tZ(1),X=[];
for(var q=0;q<b.length;q++)X.push({name:b[q],no:"."+b[q].toLowerCase()});return X}()});return X}()},{name:[1,9],GB:!0,O:function(b,X){return{O:b!=null}},xy:!0},{name:"File Info",GB:!0,O:function(b,X){return{O:b!=null}},xy:!0,no:"Alt+Shift+Ctrl+I"},{name:[1,10]}],gL:[{v:K.E.T,R:{V:K.a.Ko,zE:"newproject"}},{v:K.E.T,R:{V:K.a.Zw}},{v:K.E.T,R:{V:K.a.Zw,xPs:!0}},{v:K.E.T,R:{V:K.a.Ko,zE:"open_from_url"}},{v:K.E.T,R:{V:K.a.Ko,zE:"camera"}},{sub:[{v:K.E.T,R:{V:K.a.xh_}}]},{v:K.E.T,R:{V:K.a.ZY}},{v:K.E.T,R:{V:K.a.GY}},{sub:function(){var b=nr.tZ(0),X=[];
for(var q=0;q<b.length;q++)X.push({v:K.E.T,R:{V:K.a.Ko,zE:"saveforweb",K_:q}});X.push({sub:function(){var N=nr.tZ(0).length,b=nr.tZ(1),X=[];
for(var q=0;q<b.length;q++)X.push({v:K.E.T,R:{V:K.a.Ko,zE:"saveforweb",K_:N+q}});return X}()});return X}()},{v:K.E.T,R:{V:K.a.Ko,zE:"eassets"}},{v:K.E.T,R:{V:K.a.Ko,zE:"finfo"}},{v:K.E.T,R:{V:K.a.Ko,zE:"script"}}]},{name:[0,1],items:[{name:[2,8]},{name:[2,0],no:"Shift+Ctrl + Z"},{name:[2,1],no:"Ctrl + Z",xy:!0},{name:[2,11],no:"Shift+Ctrl + F",xy:!0,GB:!0,O:function(b,X){return{O:_X.xaL(b)&&X.Df!=c.dL}}},{name:[5,0],no:"Ctrl + X"},{name:[5,1],no:"Ctrl + C"},{name:[5,7],no:"Shift + Ctrl + C"},{name:[5,2],no:"Ctrl + V",O:function(b,X){return{O:window.ClipboardItem||X.k_!=null||X.mJ!=null||X.xYH!=null}}},{name:[2,2],O:function(b){return{O:b!=null&&b.p!=null}},no:"Delete",xy:!0},{name:[2,3],O:function(b){return{O:b!=null}},GB:!0,no:"Shift + F5"},{name:[14,9],O:function(b){return{O:b!=null}},GB:!0,xy:!0},{name:[10,16],no:"Alt+Ctrl + T"},{name:[2,4],sub:g$.xbB()},{name:[2,10],xy:!0},{name:[12,87],sub:[{name:[12,62],O:function(b){return{O:b!=null}}},{name:[9,3],O:function(b){return{O:b!=null}}},{name:[10,31],O:function(b){return{O:b!=null&&b.k.length!=0&&b.F[b.k[0]].add.vmsk!=null}}}]},{name:[12,79],GB:!0,no:"Ctrl + K"},{name:[1,13],GB:!0}],gL:[{v:K.E.e,B:c.JH,R:{V:"h_undoredo"}},{v:K.E.e,B:c.JH,R:{V:"h_stepfwd"}},{v:K.E.e,B:c.JH,R:{V:"h_stepbck"}},{v:K.E.T,R:{V:K.a.Ko,zE:"afw_fade"}},{v:K.E.T,R:{V:K.a.Cv}},{v:K.E.T,R:{V:K.a.xK}},{v:K.E.T,R:{V:K.a.xK,Lq:!0}},{v:K.E.T,R:{V:K.a.WQ}},{v:K.E.gy,R:{pn:"delete"}},{v:K.E.T,R:{V:K.a.Ko,zE:"fill"}},{v:K.E.T,R:{V:K.a.Ko,zE:"stroke"}},{v:K.E.T,R:{V:K.a.Iq,B:c.dL}},{sub:g$.xbR()},{v:K.E.e,B:c.iz,R:{V:M.xUN}},{sub:[{v:K.E.T,R:{V:K.a.Sf,Zy:0}},{v:K.E.T,R:{V:K.a.Sf,Zy:1}},{v:K.E.T,R:{V:K.a.Sf,Zy:2}}]},{v:K.E.T,R:{V:K.a.Ko,zE:"preferences"}},{v:K.E.T,R:{V:K.a.Ko,zE:"locstor"}}]},{name:[0,2],items:[{name:[3],sub:function(){var b=[];
for(var X in nY.names){b.push({name:nY.names[X],GB:s[X]!=null,no:S.xlf(nY.keys[X]),xy:nY.xxL.indexOf(X)!=-1});
if(X=="selc")b.push({name:[19,7,0],no:"Ctrl+Shift + U"})}return b}()},{name:[4,16,0],O:function(b){return{O:b!=null&&b.lC(!1)}}},{name:[4,16,1],O:function(b){return{O:b!=null&&b.lC(!1)}}},{name:[4,16,2],O:function(b){return{O:b!=null&&b.lC(!1)}},xy:!0},{name:[11,11],O:function(b){return{O:b!=null&&b.lC(!1)}},xy:!0},{name:[11,3],GB:!0,no:"Alt+Ctrl+C"},{name:[11,10],GB:!0,no:"Alt+Ctrl+I"},{name:[2,4],sub:[{name:"90\xB0 \u21BB",O:function(b){return{hR:xA.get([2,5])+" 90\xB0 \u21BB"}}},{name:"90\xB0 \u21BA",O:function(b){return{hR:xA.get([2,5])+" 90\xB0 \u21BA"}}},{name:"180\xB0 ",O:function(b){return{hR:xA.get([2,5])+" 180\xB0"}}},{name:[2,6,[22,4,2]]},{name:[2,6,[22,4,3]]}]},{name:[11,12,1],O:function(b){return{O:b!=null&&b.p!=null}}},{name:[11,12,0],O:function(b){return{O:b!=null}},no:"Ctrl + ."},{name:[11,12,2],O:function(b){return{O:b!=null}}}],gL:[{sub:function(){var b=[];
for(var X in nY.names){b.push({v:K.E.e,B:c.fp,R:{V:"start",gm:X}});if(X=="selc")b.push({v:K.E.gy,R:{pn:"desaturate"}})}return b}()},{v:K.E.gy,R:{pn:"levels",nv:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{v:K.E.gy,R:{pn:"levels",nv:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{v:K.E.gy,R:{pn:"levels",nv:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{v:K.E.T,R:{V:K.a.Ko,zE:"vbitmap"}},{v:K.E.T,R:{V:K.a.Ko,zE:"csize"}},{v:K.E.T,R:{V:K.a.Ko,zE:"isize"}},{sub:[{v:K.E.gy,R:c.C.vY(!0,90)},{v:K.E.gy,R:c.C.vY(!0,-90)},{v:K.E.gy,R:c.C.vY(!0,-180)},{v:K.E.gy,R:c.C.vY(!1,"Hrzn")},{v:K.E.gy,R:c.C.vY(!1,"Vrtc")}]},{v:K.E.e,B:c.CH,R:{V:"cropbysel",xvR:0}},{v:K.E.gy,R:c.IP.HI(0)},{v:K.E.gy,R:{pn:"revealAll",nv:{classID:"RvlA"}}}]},{name:[0,3],items:[{name:[5,3],sub:[{name:[0,3]},{name:[0,4]},{name:[6,49],no:"Ctrl + J"}]},{name:[6,0],no:"Ctrl + J"},{name:[11,4],O:function(b){return{O:b!=null}}},{name:[5,4],xy:!0},{name:[11,6],xy:!0,O:function(b){return{O:b!=null&&b.k.length!=0}},sub:_Z.xFQ(!0)},{name:[6,48,1],sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],xy:!0,sub:_Z.xpb()},{name:[6,2],sub:[{name:[6,4],O:function(b){return{O:b!=null&&b.k.length!=0&&b.F[b.k[0]].DL()==null}}},{name:[6,5,0],O:function(b){return{O:b!=null&&b.k.length!=0&&b.F[b.k[0]].DL()==null}}},{name:[6,5,1],O:function(b){return{O:b!=null&&b.k.length!=0&&b.F[b.k[0]].DL()==null&&b.p!=null}}},{name:[6,5,2],O:function(b){return{O:b!=null&&b.k.length!=0&&b.F[b.k[0]].DL()==null&&b.p!=null}}},{name:[6,5,3],O:function(b){return{O:b!=null&&b.k.length!=0&&b.F[b.k[0]].DL()==null}},xy:!0},{name:[5,4],O:function(b){return{O:b!=null&&b.k.length!=0&&b.F[b.k[0]].DL()!=null}}},{name:[5,8],O:function(b){return{O:b!=null&&b.k.length!=0&&b.F[b.k[0]].DL()!=null&&b.lC(!1,!0)}}},{name:"Enable/Disable",O:function(b){return{hR:xA.get([5,5])+"/"+xA.get([5,6]),O:b!=null&&b.k.length!=0&&b.F[b.k[0]].DL()!=null}}}]},{name:[6,3],sub:[{name:[6,4],O:function(b){return{O:b!=null&&b.k.length!=0&&b.F[b.k[0]].add.vmsk==null}}},{name:[6,5,0],O:function(b){return{O:b!=null&&b.k.length!=0&&b.F[b.k[0]].add.vmsk==null}}},{name:[5,4],O:function(b){return{O:b!=null&&b.k.length!=0&&b.F[b.k[0]].add.vmsk!=null}}},{name:"Enable/Disable",O:function(b){return{hR:xA.get([5,5])+"/"+xA.get([5,6]),O:b!=null&&b.k.length!=0&&b.F[b.k[0]].add.vmsk!=null}}}]},{name:[6,6,0],no:"Alt+Ctrl+G",xy:!0,O:function(b){return{QZ:b!=null&&b.k.length!=0&&b.F[b.k[0]].Hg,O:b!=null&&b.jl(b.k[0])}}},{name:"Smart Object",xy:!0,sub:[{name:[6,7]},{name:[1,0],O:function(b){return{O:b!=null&&b.k.length!=0&&b.F[b.k[0]].add.SoLd!=null}}}]},{name:[6,8],O:function(b){if(b==null||b.k.length==0)return{O:!1};
var X=b.F[b.k[0]];if(X.add.TySh||X.add.SoLd||X.add.SoCo||X.add.GdFl||X.add.PtFl)return{O:!0};return{O:!1}}},{name:[6,34],xy:!0,O:function(b){if(b==null||b.k.length==0)return{O:!1};
var X=b.F[b.k[0]];return{O:X.add.lmfx!=null&&!X.zu()}}},{name:[6,9],xy:!0,no:"Ctrl+G"},{name:[6,55],xy:!0,sub:[{name:[6,56,0],no:"Shift+Ctrl+]"},{name:[6,56,1],no:"Ctrl+]"},{name:[6,56,2],no:"Ctrl+["},{name:[6,56,3],no:"Shift+Ctrl+["}]},{name:"Animation",sub:[{name:[18,5]}]},{name:[6,10],O:function(b){return{O:b!=null&&b.k.length==1&&b.k[0]!=0&&!b.F[b.k[0]].zu()}},no:"Ctrl+E"},{name:[6,12,0],O:function(b){return{O:b!=null&&b.k.length!=0&&(b.k.length>1||b.F[b.k[0]].zu())}}},{name:[6,12,1]}],gL:[{sub:[{v:K.E.e,B:c.iz,R:{V:M.RY}},{v:K.E.e,B:c.iz,R:{V:M.Oy}},{v:K.E.e,B:c.iz,R:{V:M.yy}}]},{v:K.E.e,B:c.iz,R:{V:M.CX}},{v:K.E.T,R:{V:K.a.Ko,zE:"duplinto"}},{v:K.E.e,B:c.iz,R:{V:M.RF}},{sub:_Z.xAL(!0)},{sub:[{v:K.E.e,B:c.tX,R:{V:"newfill",VS:0}},{v:K.E.gy,R:c.od.Hc(1)},{v:K.E.gy,R:c.od.Hc(2)}]},{sub:_Z.xbH()},{sub:[{v:K.E.e,B:c.iz,R:{V:M._a,Ml:"RvlA"}},{v:K.E.e,B:c.iz,R:{V:M._a,Ml:"HdAl"}},{v:K.E.e,B:c.iz,R:{V:M._a,Ml:"RvlS"}},{v:K.E.e,B:c.iz,R:{V:M._a,Ml:"HdSl"}},{v:K.E.e,B:c.iz,R:{V:M._a,Ml:"Trns"}},{v:K.E.e,B:c.iz,R:{V:M.dg}},{v:K.E.e,B:c.iz,R:{V:M.Pu}},{v:K.E.e,B:c.iz,R:{V:M.mZ}}]},{sub:[{v:K.E.e,B:c.iz,R:{V:M.kb,xF_:!1}},{v:K.E.e,B:c.iz,R:{V:M.kb,xF_:!0}},{v:K.E.e,B:c.iz,R:{V:M.dp}},{v:K.E.e,B:c.iz,R:{V:M.Qy}}]},{v:K.E.e,B:c.iz,R:{V:M.yJ}},{sub:[{v:K.E.gy,R:{pn:"newPlacedLayer"}},{v:K.E.gy,R:{pn:"placedLayerEditContents",nv:{classID:"placedLayerEditContents"}}}]},{v:K.E.gy,R:{pn:"rasterizeLayer",nv:{classID:"rasterizeLayer",null:_U.YN("Lyr",!0)}}},{v:K.E.e,B:c.iz,R:{V:M.PQ}},{v:K.E.e,B:c.iz,R:{V:M._Q}},{sub:[{v:K.E.e,B:c.iz,R:{V:M.VD,qe:0}},{v:K.E.e,B:c.iz,R:{V:M.VD,qe:1}},{v:K.E.e,B:c.iz,R:{V:M.VD,qe:2}},{v:K.E.e,B:c.iz,R:{V:M.VD,qe:3}}]},{sub:[{v:K.E.e,B:c.iz,R:{V:M.xUk}}]},{v:K.E.e,B:c.iz,R:{V:M.mj}},{v:K.E.e,B:c.iz,R:{V:M.nX}},{v:K.E.gy,R:{pn:"flattenImage"}}]},_y.xip(!1),function(){var b={name:[0,6],items:[{name:[24,18,4],no:"Alt + Ctrl + F",xy:!0}],gL:[{v:K.E.e,B:c.Ht,R:{V:"applylast"}}]};
for(var X=0;X<nm.fN.length;X++){var q=nm.fN[X];if(q.G$!=null){b.items.push({name:nm.names[q.G$],GB:!0,xy:q.xy});
b.gL.push({v:K.E.e,B:c.Ht,R:{V:"start",vH:q.G$}});continue}var N={name:q.Qf,sub:[]};b.items.push(N);
var J={sub:[]};b.gL.push(J);for(var _=0;_<q.lP.length;_++){var p={name:nm.names[q.lP[_]],GB:nm.Z$(q.lP[_])!=null};
N.sub.push(p);var z={v:K.E.e,B:c.Ht,R:{V:"start",vH:q.lP[_]}};J.sub.push(z)}}return b}(),{name:[0,7],items:[{name:[8,0],no:"Ctrl + +"},{name:[8,1],no:"Ctrl + -"},{name:[20,3],no:"Ctrl + 0"},{name:[20,2],no:"Ctrl + 1",xy:!0},{name:"Extras",no:"Ctrl + H",O:function(b,X){return{QZ:X.Jk}}},{name:[8,12],xy:!0,sub:[{name:[17,2],O:function(b,X){return{O:X.Jk,QZ:X.ht.Up}}},{name:[8,9],O:function(b,X){return{O:X.Jk,QZ:X.ht.Dx}}},{name:[8,2],O:function(b,X){return{O:X.Jk,QZ:X.ht.LA}},no:"Ctrl + ;"},{name:[8,4],O:function(b,X){return{O:X.Jk,QZ:X.ht.nH}},no:"Ctrl + '"},{name:[8,8],O:function(b,X){return{O:X.Jk,QZ:X.ht.fB}}},{name:[8,11,0],O:function(b,X){return{O:X.Jk,QZ:X.ht.lg}}}]},{name:[8,3],O:function(b,X){return{QZ:X.da}},no:"Ctrl + R",xy:!0},{name:[8,5],O:function(b,X){return{QZ:X.Vh}}},{name:[8,6],xy:!0,sub:[{name:[8,2],O:function(b,X){return{QZ:X.nY[0]}}},{name:[8,4],O:function(b,X){return{QZ:X.nY[1]}}},{name:[8,11,0],O:function(b,X){return{QZ:X.nY[3]}}},{name:[8,7],O:function(b,X){return{QZ:X.nY[4]}}}]},{name:[11,15,0],O:function(b,X){return{O:b!=null}}},{name:[11,14],O:function(b,X){return{O:b!=null}},GB:!0},{name:[11,15,1],O:function(b,X){return{O:b!=null&&b.k.length!=0}}}],gL:[{v:K.E.e,B:c.o_,R:{V:"zoom",JE:!0}},{v:K.E.e,B:c.o_,R:{V:"zoom",JE:!1}},{v:K.E.e,B:c.o_,R:{V:"adapt",A:"fitscr"}},{v:K.E.e,B:c.o_,R:{V:"adapt",A:"pixel"}},{v:K.E.T,R:{V:K.a.dX,Zy:n_.Fu}},{sub:[{v:K.E.T,R:{V:K.a.dX,Zy:n_.NA}},{v:K.E.T,R:{V:K.a.dX,Zy:n_.UD}},{v:K.E.T,R:{V:K.a.dX,Zy:n_.UN}},{v:K.E.T,R:{V:K.a.dX,Zy:n_.Xc}},{v:K.E.T,R:{V:K.a.dX,Zy:n_.wh}},{v:K.E.T,R:{V:K.a.dX,Zy:n_.Xf}}]},{v:K.E.T,R:{V:K.a.dX,Zy:n_.Xo}},{v:K.E.T,R:{V:K.a.dX,Zy:n_.xbG}},{sub:[{v:K.E.T,R:{V:K.a.dX,Zy:n_.Um,tl:0}},{v:K.E.T,R:{V:K.a.dX,Zy:n_.Um,tl:1}},{v:K.E.T,R:{V:K.a.dX,Zy:n_.Um,tl:3}},{v:K.E.T,R:{V:K.a.dX,Zy:n_.Um,tl:4}}]},{v:K.E.e,B:c.KC,R:{V:"gids",LZ:[[],[]]}},{v:K.E.T,R:{V:K.a.Ko,zE:"addguides"}},{v:K.E.e,B:c.KC,R:{V:"gidsFromLayer"}}]},function(){var b={name:[0,8],items:[],gL:[]};
for(var X=0;X<UG.Fk.length;X++){var q=UG.Fk[X];b.items.push({name:q.SU.name});b.gL.push({v:K.E.T,R:{V:K.a.WW,zE:q.SU.Il}})}return b}(),function(){var b={name:[0,14],items:[],gL:[]},X={name:[0,9],sub:[]};
b.items.push(X);var q={sub:[]};b.gL.push(q);var N=xA.xhZ();for(var J=0;J<N.length;J++){var _=N[J],p=_.code,z=xA.VV(p);
X.sub.push({name:_.name,no:p,O:function(g,W){return{QZ:this.no==xA.Vk()}}});q.sub.push({v:K.E.T,R:{V:K.a.dX,Zy:n_.Ng,lang:z}})}X.sub.push({name:[0,12]});
q.sub.push({v:K.E.T,R:{V:K.a.WI,link:"https://www.photopea.com/translate/"}});var X={name:[0,15],sub:[]};
b.items.push(X);var q={sub:[]};b.gL.push(q);for(var J=0;J<bM.FN.length;J++){X.sub.push({name:bM.FN[J].name,O:function(g,W){return{QZ:this.name==bM.FN[W.LU].name}}});
q.sub.push({v:K.E.T,R:{V:K.a.dX,Zy:n_.Uk,LU:J}})}b.items.push({name:"Install Photopea",O:function(g,W){return{O:W.dl!=null}}});
b.gL.push({v:K.E.T,R:{V:K.a.xR_}});b.items.push({name:[11,13]});b.gL.push({v:K.E.T,R:{V:K.a.Ko,zE:"shortcuts"}});
b.items.push({name:[0,16],O:function(g){return{QZ:G.ks,O:G.eD}}});b.gL.push({v:K.E.T,R:{V:K.a.xxU}});
return b}()];function bm(){na.call(this);this.U=K.m("div","");this.ho=0;this.hy=0;this.Ka=null;this.Tj=K.m("div","");
this.Tj.setAttribute("style","width:200em; height:100em; position:absolute;");this.TB=[];this.ax=[]}bm.prototype=new na;
bm.prototype.xi=function(){this.ax=[new _G,new pM,new KO,new gz,new KZ,new pp,new gm,new ge,new Kw,new Uf,new Sb,new xN,new UM,new xt,new KW,new _Z,new KT,new gv,new gF,new gM,new xf,new pC,new xs,new KG,new Ke,new Uc,new gS(0),new gS(1),new Ki,new xi,new gB,new Ku("border",[7,9],"px"),new Ku("smoothness",[19,3,0],"px"),new Ku("expand",[7,4],"px"),new Ku("contract",[7,5],"px"),new Ku("feather",[7,6],"px"),new gV("namewindow",[12,48])];
for(var b in s)this.ax.push(new _X(b));for(var X=0;X<this.ax.length;X++){var q=this.ax[X];q.l(K.E.eh,this.Lw,this);
q.parent=this}};bm.prototype.Gq=function(b,X){this.ho=b;this.hy=X;for(var q=0;q<this.ax.length;q++)this.xFa(this.ax[q])};
bm.prototype.f=function(){for(var b=0;b<this.ax.length;b++)this.ax[b].f()};bm.prototype.Td=function(){return this.TB.length==0?null:this.TB[this.TB.length-1]};
bm.prototype.Ze=function(){for(var b=0;b<this.TB.length;b++)if(this.TB[b].Ze())return!0;return!1};bm.prototype.xM_=function(b,X,q,N,J){if(this.ax.length==0){this.xi();
this.Gq(this.ho,this.hy);this.f();if(this.Ka)this.TY(this.Ka,n_.LX)}var _=null;if(typeof b=="object"){_=b;
if(!_.VM(K.E.eh,this.Lw))_.l(K.E.eh,this.Lw,this);_.parent=this}else for(var p=0;p<this.ax.length;p++)if(this.ax[p].id==b)_=this.ax[p];
if(this.Ze()&&_.Ze()){alert("Finish the current action first");return}if(!_.GV(X))return;if(this.TB.indexOf(_)!=-1){if(b=="colorpicker")_.Fr(X,q,N,J);
return}this.xFa(_);var z=this.TB.length-1;if(z>=0)K.Dv(this.TB[z].U,"wdisabled");this.U.appendChild(_.U);
this.TB.push(_);_.Fr(X,q,N,J)};bm.prototype.xFa=function(b){var X=this.ho,q=this.hy,N=b.on(X,q);b.U.style.left=N.x+"px";
b.U.style.top=this.U.offsetTop+N.y+"px";b.Gq(this.ho-N.x*2,this.hy-N.y*2-34)};bm.prototype.TY=function(b,X){this.Ka=b;
for(var q=0;q<this.ax.length;q++)this.ax[q].TY(b,X)};bm.prototype.Lw=function(b){var X=this.TB.pop();
this.U.removeChild(X.U);var q=this.TB.length-1;if(q>=0)K.YQ(this.TB[q].U,"wdisabled");if(this.Tj.parentNode==this.U)this.U.removeChild(this.Tj)};
window.onload=function(){var b=new _g;document.body.appendChild(b.U)}}())